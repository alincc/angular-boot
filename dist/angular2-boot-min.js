!function(){function e(){!function(e){function t(e,t){var n;if(e instanceof Error){var n=new Error(e.message,e.fileName,e.lineNumber);P?(n.message=e.message+"\n	"+t,n.stack=e.stack):(n.message=e.message,n.stack=e.stack+"\n	"+t)}else n=e+"\n	"+t;return n}function n(e,n,r){try{new Function(e).call(r)}catch(a){throw t(a,"Evaluating "+n)}}function r(){}function a(t){this._loader={loaderObj:this,loads:[],modules:{},importPromises:{},moduleRecords:{}},M(this,"global",{get:function(){return e}})}function o(){a.call(this),this.paths={}}function s(e,t){var n,r="",a=0;for(var o in e){var s=o.split("*");if(s.length>2)throw new TypeError("Only one wildcard in a path is permitted");if(1==s.length){if(t==o){r=o;break}}else{var i=s[0].length;i>=a&&t.substr(0,s[0].length)==s[0]&&t.substr(t.length-s[1].length)==s[1]&&(a=i,r=o,n=t.substr(s[0].length,t.length-s[1].length-s[0].length))}}var l=e[r]||t;return"string"==typeof n&&(l=l.replace("*",n)),l}function i(){}function l(){o.call(this),N.call(this)}function u(){}function d(e,t){l.prototype[e]=t(l.prototype[e]||function(){})}function c(e){N=e(N||function(){})}function f(e){for(var t=[],n=[],r=0,a=e.length;a>r;r++){var o=O.call(t,e[r]);-1===o?(t.push(e[r]),n.push([r])):n[o].push(r)}return{names:t,indices:n}}function m(e){var t={};if("object"==typeof e||"function"==typeof e)if(q){var n;for(var r in e)(n=Object.getOwnPropertyDescriptor(e,r))&&M(t,r,n)}else{var a=e&&e.hasOwnProperty;for(var r in e)(!a||e.hasOwnProperty(r))&&(t[r]=e[r])}return t["default"]=e,M(t,"__useDefault",{value:!0}),t}function p(e,t,n){for(var r in t)n&&r in e||(e[r]=t[r]);return e}function h(e,t,n){for(var r in t){var a=t[r];r in e?a instanceof Array&&e[r]instanceof Array?e[r]=[].concat(n?a:e[r]).concat(n?e[r]:a):"object"==typeof a&&"object"==typeof e[r]?e[r]=p(p({},e[r]),a,n):n||(e[r]=a):e[r]=a}}function g(e){this.warnings&&"undefined"!=typeof console&&console.warn}function v(e,t){for(var n=e.split(".");n.length;)t=t[n.shift()];return t}function y(){if(B[this.baseURL])return B[this.baseURL];"/"!=this.baseURL[this.baseURL.length-1]&&(this.baseURL+="/");var e=new L(this.baseURL,z);return this.baseURL=e.href,B[this.baseURL]=e}function b(){return{name:null,deps:null,declare:null,execute:null,executingRequire:!1,declarative:!1,normalizedDeps:null,groupIndex:null,evaluated:!1,module:null,esModule:null,esmExports:!1}}function w(e){var t,n,r,r="~"==e[0],a=e.lastIndexOf("|");return-1!=a?(t=e.substr(a+1),n=e.substr(r,a-r)||"@system-env"):(t=null,n=e.substr(r)),{module:n,prop:t,negate:r}}function x(e){return(e.negate?"~":"")+e.module+(e.prop?"|"+e.prop:"")}function S(e,t,n){return this["import"](e.module,t).then(function(t){return e.prop?t=v(e.prop,t):"object"==typeof t&&t+""=="Module"&&(t=t["default"]),e.negate?!t:t})}function E(e,t){var n=e.match(X);if(!n)return Promise.resolve(e);var r=w(n[0].substr(2,n[0].length-3));return this.builder?this.normalize(r.module,t).then(function(t){return r.module=t,e.replace(X,"#{"+x(r)+"}")}):S.call(this,r,t,!1).then(function(n){if("string"!=typeof n)throw new TypeError("The condition value for "+e+" doesn't resolve to a string.");if(-1!=n.indexOf("/"))throw new TypeError("Unabled to interpolate conditional "+e+(t?" in "+t:"")+"\n	The condition value "+n+' cannot contain a "/" separator.');return e.replace(X,n)})}function k(e,t){var n=e.lastIndexOf("#?");if(-1==n)return Promise.resolve(e);var r=w(e.substr(n+2));return this.builder?this.normalize(r.module,t).then(function(t){return r.module=t,e.substr(0,n)+"#?"+x(r)}):S.call(this,r,t,!0).then(function(t){return t?e.substr(0,n):"@empty"})}function _(e,t){for(var n in e.loadedBundles_)if(-1!=O.call(e.bundles[n],t))return Promise.resolve(n);for(var n in e.bundles)if(-1!=O.call(e.bundles[n],t))return e.normalize(n).then(function(t){return e.bundles[t]=e.bundles[n],e.loadedBundles_[t]=!0,t});return Promise.resolve()}var R="undefined"==typeof window&&"undefined"!=typeof self&&"undefined"!=typeof importScripts,P="undefined"!=typeof window&&"undefined"!=typeof document,j="undefined"!=typeof process&&!!process.platform.match(/^win/);e.console||(e.console={assert:function(){}});var M,O=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1};!function(){try{Object.defineProperty({},"a",{})&&(M=Object.defineProperty)}catch(e){M=function(e,t,n){try{e[t]=n.value||n.get.call(e)}catch(r){}}}}();var z;if("undefined"!=typeof document&&document.getElementsByTagName){if(z=document.baseURI,!z){var T=document.getElementsByTagName("base");z=T[0]&&T[0].href||window.location.href}z=z.split("#")[0].split("?")[0],z=z.substr(0,z.lastIndexOf("/")+1)}else if("undefined"!=typeof process&&process.cwd)z="file://"+(j?"/":"")+process.cwd()+"/",j&&(z=z.replace(/\\/g,"/"));else{if("undefined"==typeof location)throw new TypeError("No environment baseURI");z=e.location.href}var L=e.URLPolyfill||e.URL;M(r.prototype,"toString",{value:function(){return"Module"}}),function(){function o(e){return{status:"loading",name:e,linkSets:[],dependencies:[],metadata:{}}}function s(e,t,n){return new Promise(c({step:n.address?"fetch":"locate",loader:e,moduleName:t,moduleMetadata:n&&n.metadata||{},moduleSource:n.source,moduleAddress:n.address}))}function i(e,t,n,r){return new Promise(function(a,o){a(e.loaderObj.normalize(t,n,r))}).then(function(t){var n;if(e.modules[t])return n=o(t),n.status="linked",n.module=e.modules[t],n;for(var r=0,a=e.loads.length;a>r;r++)if(n=e.loads[r],n.name==t)return n;return n=o(t),e.loads.push(n),l(e,n),n})}function l(e,t){u(e,t,Promise.resolve().then(function(){return e.loaderObj.locate({name:t.name,metadata:t.metadata})}))}function u(e,t,n){d(e,t,n.then(function(n){return"loading"==t.status?(t.address=n,e.loaderObj.fetch({name:t.name,metadata:t.metadata,address:n})):void 0}))}function d(t,r,a){a.then(function(a){return"loading"==r.status?Promise.resolve(t.loaderObj.translate({name:r.name,metadata:r.metadata,address:r.address,source:a})).then(function(e){return r.source=e,t.loaderObj.instantiate({name:r.name,metadata:r.metadata,address:r.address,source:e})}).then(function(a){if(void 0===a)return r.address=r.address||"<Anonymous Module "+ ++k+">",r.isDeclarative=!0,E.call(t.loaderObj,r).then(function(t){var a=e.System,o=a.register;a.register=function(e,t,n){"string"!=typeof e&&(n=t,t=e),r.declare=n,r.depsList=t},n(t,r.address,{}),a.register=o});if("object"!=typeof a)throw TypeError("Invalid instantiate return value");r.depsList=a.deps||[],r.execute=a.execute,r.isDeclarative=!1}).then(function(){r.dependencies=[];for(var e=r.depsList,n=[],a=0,o=e.length;o>a;a++)(function(e,a){n.push(i(t,e,r.name,r.address).then(function(t){if(r.dependencies[a]={key:e,value:t.name},"linked"!=t.status)for(var n=r.linkSets.concat([]),o=0,s=n.length;s>o;o++)m(n[o],t)}))})(e[a],a);return Promise.all(n)}).then(function(){r.status="loaded";for(var e=r.linkSets.concat([]),t=0,n=e.length;n>t;t++)h(e[t],r)}):void 0})["catch"](function(e){r.status="failed",r.exception=e;for(var t=r.linkSets.concat([]),n=0,a=t.length;a>n;n++)g(t[n],r,e)})}function c(e){return function(t,n){var r=e.loader,a=e.moduleName,s=e.step;if(r.modules[a])throw new TypeError('"'+a+'" already exists in the module table');for(var i,c=0,m=r.loads.length;m>c;c++)if(r.loads[c].name==a&&(i=r.loads[c],"translate"!=s||i.source||(i.address=e.moduleAddress,d(r,i,Promise.resolve(e.moduleSource))),i.linkSets.length))return i.linkSets[0].done.then(function(){t(i)});var p=i||o(a);p.metadata=e.moduleMetadata;var h=f(r,p);r.loads.push(p),t(h.done),"locate"==s?l(r,p):"fetch"==s?u(r,p,Promise.resolve(e.moduleAddress)):(p.address=e.moduleAddress,d(r,p,Promise.resolve(e.moduleSource)))}}function f(e,t){var n={loader:e,loads:[],startingLoad:t,loadingCount:0};return n.done=new Promise(function(e,t){n.resolve=e,n.reject=t}),m(n,t),n}function m(e,t){if("failed"!=t.status){for(var n=0,r=e.loads.length;r>n;n++)if(e.loads[n]==t)return;e.loads.push(t),t.linkSets.push(e),"loaded"!=t.status&&e.loadingCount++;for(var a=e.loader,n=0,r=t.dependencies.length;r>n;n++)if(t.dependencies[n]){var o=t.dependencies[n].value;if(!a.modules[o])for(var s=0,i=a.loads.length;i>s;s++)if(a.loads[s].name==o){m(e,a.loads[s]);break}}}}function p(e){var t=!1;try{w(e,function(n,r){g(e,n,r),t=!0})}catch(n){g(e,null,n),t=!0}return t}function h(e,t){if(e.loadingCount--,!(e.loadingCount>0)){var n=e.startingLoad;if(e.loader.loaderObj.execute===!1){for(var r=[].concat(e.loads),a=0,o=r.length;o>a;a++){var t=r[a];t.module=t.isDeclarative?{name:t.name,module:_({}),evaluated:!0}:{module:_({})},t.status="linked",v(e.loader,t)}return e.resolve(n)}var s=p(e);s||e.resolve(n)}}function g(e,n,r){var a=e.loader;e:if(n)if(e.loads[0].name==n.name)r=t(r,"Error loading "+n.name);else{for(var o=0;o<e.loads.length;o++)for(var s=e.loads[o],i=0;i<s.dependencies.length;i++){var l=s.dependencies[i];if(l.value==n.name){r=t(r,"Error loading "+n.name+' as "'+l.key+'" from '+s.name);break e}}r=t(r,"Error loading "+n.name+" from "+e.loads[0].name)}else r=t(r,"Error linking "+e.loads[0].name);for(var u=e.loads.concat([]),o=0,d=u.length;d>o;o++){var n=u[o];a.loaderObj.failed=a.loaderObj.failed||[],-1==O.call(a.loaderObj.failed,n)&&a.loaderObj.failed.push(n);var c=O.call(n.linkSets,e);if(n.linkSets.splice(c,1),0==n.linkSets.length){var f=O.call(e.loader.loads,n);-1!=f&&e.loader.loads.splice(f,1)}}e.reject(r)}function v(e,t){if(e.loaderObj.trace){e.loaderObj.loads||(e.loaderObj.loads={});var n={};t.dependencies.forEach(function(e){n[e.key]=e.value}),e.loaderObj.loads[t.name]={name:t.name,deps:t.dependencies.map(function(e){return e.key}),depMap:n,address:t.address,metadata:t.metadata,source:t.source,kind:t.isDeclarative?"declarative":"dynamic"}}t.name&&(e.modules[t.name]=t.module);var r=O.call(e.loads,t);-1!=r&&e.loads.splice(r,1);for(var a=0,o=t.linkSets.length;o>a;a++)r=O.call(t.linkSets[a].loads,t),-1!=r&&t.linkSets[a].loads.splice(r,1);t.linkSets.splice(0,t.linkSets.length)}function y(e,t,n){try{var a=t.execute()}catch(o){return void n(t,o)}return a&&a instanceof r?a:void n(t,new TypeError("Execution must define a Module instance"))}function b(e,t,n){var r=e._loader.importPromises;return r[t]=n.then(function(e){return r[t]=void 0,e},function(e){throw r[t]=void 0,e})}function w(e,t){var n=e.loader;if(e.loads.length)for(var r=e.loads.concat([]),a=0;a<r.length;a++){var o=r[a],s=y(e,o,t);if(!s)return;o.module={name:o.name,module:s},o.status="linked",v(n,o)}}function x(e,t){return t.module.module}function S(){}function E(){throw new TypeError("ES6 transpilation is only provided in the dev module loader build.")}var k=0;a.prototype={constructor:a,define:function(e,t,n){if(this._loader.importPromises[e])throw new TypeError("Module is already loading.");return b(this,e,new Promise(c({step:"translate",loader:this._loader,moduleName:e,moduleMetadata:n&&n.metadata||{},moduleSource:t,moduleAddress:n&&n.address})))},"delete":function(e){var t=this._loader;return delete t.importPromises[e],delete t.moduleRecords[e],t.modules[e]?delete t.modules[e]:!1},get:function(e){return this._loader.modules[e]?(S(this._loader.modules[e],[],this),this._loader.modules[e].module):void 0},has:function(e){return!!this._loader.modules[e]},"import":function(e,t,n){"object"==typeof t&&(t=t.name);var r=this;return Promise.resolve(r.normalize(e,t)).then(function(e){var t=r._loader;return t.modules[e]?(S(t.modules[e],[],t._loader),t.modules[e].module):t.importPromises[e]||b(r,e,s(t,e,{}).then(function(n){return delete t.importPromises[e],x(t,n)}))})},load:function(e,t){var n=this._loader;return n.modules[e]?(S(n.modules[e],[],n),Promise.resolve(n.modules[e].module)):n.importPromises[e]||b(this,e,s(n,e,{}).then(function(t){return delete n.importPromises[e],x(n,t)}))},module:function(e,t){var n=o();n.address=t&&t.address;var r=f(this._loader,n),a=Promise.resolve(e),s=this._loader,i=r.done.then(function(){return x(s,n)});return d(s,n,a),i},newModule:function(e){if("object"!=typeof e)throw new TypeError("Expected object");var t=new r,n=[];if(Object.getOwnPropertyNames&&null!=e)n=Object.getOwnPropertyNames(e);else for(var a in e)n.push(a);for(var o=0;o<n.length;o++)(function(n){M(t,n,{configurable:!1,enumerable:!0,get:function(){return e[n]}})})(n[o]);return t},set:function(e,t){if(!(t instanceof r))throw new TypeError("Loader.set("+e+", module) must be a module");this._loader.modules[e]={module:t}},normalize:function(e,t,n){return e},locate:function(e){return e.name},fetch:function(e){},translate:function(e){return e.source},instantiate:function(e){}};var _=a.prototype.newModule}();var F;i.prototype=a.prototype,o.prototype=new i;var I;if("undefined"!=typeof XMLHttpRequest)I=function(e,t,n,r){function a(){n(s.responseText)}function o(){r(new Error("XHR error"+(s.status?" ("+s.status+(s.statusText?" "+s.statusText:"")+")":"")+" loading "+e))}var s=new XMLHttpRequest,i=!0,l=!1;if(!("withCredentials"in s)){var u=/^(\w+:)?\/\/([^\/]+)/.exec(e);u&&(i=u[2]===window.location.host,u[1]&&(i&=u[1]===window.location.protocol))}i||"undefined"==typeof XDomainRequest||(s=new XDomainRequest,s.onload=a,s.onerror=o,s.ontimeout=o,s.onprogress=function(){},s.timeout=0,l=!0),s.onreadystatechange=function(){4===s.readyState&&(200===s.status||0==s.status&&s.responseText?a():o())},s.open("GET",e,!0),s.setRequestHeader&&(s.setRequestHeader("Accept","application/x-es-module, */*"),t&&("string"==typeof t&&s.setRequestHeader("Authorization",t),s.withCredentials=!0)),l?setTimeout(function(){s.send()},0):s.send(null)};else{if("undefined"==typeof require)throw new TypeError("No environment fetch API available.");var A;I=function(e,t,n,r){if("file:///"!=e.substr(0,8))throw new Error('Unable to fetch "'+e+'". Only file URLs of the form file:/// allowed running in Node.');return A=A||require("fs"),e=j?e.replace(/\//g,"\\").substr(8):e.substr(7),A.readFile(e,function(e,t){if(e)return r(e);var a=t+"";"\ufeff"===a[0]&&(a=a.substr(1)),n(a)})}}o.prototype.fetch=function(e){return new Promise(function(t,n){I(e.address,void 0,t,n)})};var C=function(){function t(t){var r=this;return Promise.resolve(e["typescript"==r.transpiler?"ts":r.transpiler]||(r.pluginLoader||r)["import"](r.transpiler)).then(function(e){e.__useDefault&&(e=e["default"]);var a;return a=e.Compiler?n:e.createLanguageService?s:o,"(function(__moduleName){"+a.call(r,t,e)+'\n})("'+t.name+'");\n//# sourceURL='+t.address+"!transpiled"})}function n(e,t){var n=this.traceurOptions||{};n.modules="instantiate",n.script=!1,void 0===n.sourceMaps&&(n.sourceMaps="inline"),n.filename=e.address,n.inputSourceMap=e.metadata.sourceMap,n.moduleName=!1;var a=new t.Compiler(n);return r(e.source,a,n.filename)}function r(e,t,n){try{return t.compile(e,n)}catch(r){throw r[0]}}function o(e,t){var n=this.babelOptions||{};return n.modules="system",void 0===n.sourceMap&&(n.sourceMap="inline"),n.inputSourceMap=e.metadata.sourceMap,n.filename=e.address,n.code=!0,n.ast=!1,t.transform(e.source,n).code}function s(e,t){var n=this.typescriptOptions||{};return n.target=n.target||t.ScriptTarget.ES5,void 0===n.sourceMap&&(n.sourceMap=!0),n.sourceMap&&(n.inlineSourceMap=!0),n.module=t.ModuleKind.System,t.transpile(e.source,n,e.address)}return a.prototype.transpiler="traceur",t}();u.prototype=o.prototype,l.prototype=new u,l.prototype.constructor=l;var N,q=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(D){q=!1}var U,J=["main","format","defaultExtension","modules","map","basePath","depCache"];!function(){function n(t,n){0==l++&&(s=e.System),e.System=t,i=n}function r(){0==--l&&(e.System=s),i=void 0}function a(e){var t=e.source.lastIndexOf("\n"),n="esm"==e.metadata.format||"register"==e.metadata.format||e.metadata.bundle;return(n?"(function(System) {":"")+e.source+(n?"\n})(System);":"")+("\n//# sourceURL="!=e.source.substr(t,15)?"\n//# sourceURL="+e.address+(e.metadata.sourceMap?"!transpiled":""):"")+(e.metadata.sourceMap&&u&&"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(e.metadata.sourceMap)))||"")}function o(o){if(o.metadata.integrity)throw new TypeError("Subresource integrity checking is not supported in Web Workers or Chrome Extensions.");try{n(this,o),new Function(a(o)).call(e),r()}catch(s){throw r(),t(s,"Evaluating "+o.address)}}var s,i,l=0;d("pushRegister_",function(){return function(e){return i?(this.reduceRegister_(i,e),!0):!1}});var u="undefined"!=typeof btoa;if("undefined"!=typeof document&&document.getElementsByTagName){var c,f=document.getElementsByTagName("script");$__curScript=f[f.length-1],U=function(e){if(!this.globalEvaluationScope)return o.call(this,e);c||(c=document.head||document.body||document.documentElement);var s=document.createElement("script");s.text=a(e);var i,l=window.onerror;if(window.onerror=function(n){i=t(n,"Evaluating "+e.address)},n(this,e),e.metadata.integrity&&s.setAttribute("integrity",e.metadata.integrity),e.metadata.nonce&&s.setAttribute("nonce",e.metadata.nonce),c.appendChild(s),c.removeChild(s),r(),window.onerror=l,i)throw i}}else if("undefined"!=typeof require){var m="vm",p=require(m);U=function(e){if(!this.globalEvaluationScope)return o.call(this,e);if(e.metadata.integrity)throw new TypeError("Subresource integrity checking is unavailable in Node.");try{n(this,e),p.runInThisContext(a(e)),r()}catch(s){throw r(),t(s.toString(),"Evaluating "+e.address)}}}else U=o}(),c(function(e){return function(){e.call(this),this.map={}}}),d("normalize",function(){return function(e,t){if("."!=e.substr(0,1)&&"/"!=e.substr(0,1)&&!e.match($)){var n,r=0;for(var a in this.map)if(e.substr(0,a.length)==a&&(e.length==a.length||"/"==e[a.length])){var o=a.split("/").length;if(r>=o)continue;n=a,r=o}n&&(e=this.map[n]+e.substr(n.length))}return e}});var $=/^[^\/]+:\/\//,B={},H=new L(z);c(function(e){return function(){e.call(this),this.baseURL=z.substr(0,z.lastIndexOf("/")+1),this.warnings=!1,this.defaultJSExtensions=!1,this.globalEvaluationScope=!0,this.pluginFirst=!1,(R||P&&window.chrome&&window.chrome.extension||P&&navigator.userAgent.match(/^Node\.js/))&&(this.globalEvaluationScope=!1),this.set("@empty",this.newModule({}))}}),d("normalize",function(e){return function(t,n){return t=e.apply(this,arguments),"."==t[0]||"/"==t[0]?n?new L(t,n.replace(/#/g,"%05")).href.replace(/%05/g,"#"):new L(t,H).href:t}});var Z="undefined"!=typeof XMLHttpRequest;d("locate",function(e){return function(t){return Promise.resolve(e.call(this,t)).then(function(e){return Z?e.replace(/#/g,"%23"):e})}}),d("fetch",function(){return function(e){return new Promise(function(t,n){I(e.address,e.metadata.authorization,t,n)})}}),d("import",function(e){return function(t,n,r){return n&&n.name&&g.call(this,"System.import(name, { name: parentName }) is deprecated for System.import(name, parentName), while importing "+t+" from "+n.name),e.call(this,t,n,r).then(function(e){return e.__useDefault?e["default"]:e})}}),l.prototype.config=function(e){function t(e){for(var t in e)return!0}if("warnings"in e&&(this.warnings=e.warnings),e.baseURL){if(t(this.packages)||t(this.meta)||t(this.depCache)||t(this.bundles)||t(this.packageConfigPaths))throw new TypeError("baseURL should only be configured once and must be configured first.");this.baseURL=e.baseURL,y.call(this)}if(e.defaultJSExtensions&&(this.defaultJSExtensions=e.defaultJSExtensions,g.call(this,"The defaultJSExtensions configuration option is deprecated, use packages configuration instead.")),e.pluginFirst&&(this.pluginFirst=e.pluginFirst),e.paths)for(var n in e.paths)this.paths[n]=e.paths[n];if(e.map){var r="";for(var n in e.map){var a=e.map[n];if("string"!=typeof a){r+=(r.length?", ":"")+'"'+n+'"';var o=this.normalizeSync(n);this.defaultJSExtensions&&".js"!=n.substr(n.length-3,3)&&(o=o.substr(0,o.length-3));var s="";for(var i in this.packages)o.substr(0,i.length)==i&&(!o[i.length]||"/"==o[i.length])&&s.split("/").length<i.split("/").length&&(s=i);s&&this.packages[s].main&&(o=o.substr(0,o.length-this.packages[s].main.length-1));var i=this.packages[o]=this.packages[o]||{};i.map=a}else this.map[n]=a}r&&g.call(this,"The map configuration for "+r+' uses object submaps, which is deprecated in global map.\nUpdate this to use package contextual map with configs like System.config({ packages: { "'+n+'": { map: {...} } } }).')}if(e.packageConfigPaths){for(var l=[],u=0;u<e.packageConfigPaths.length;u++){var d=e.packageConfigPaths[u],c=Math.max(d.lastIndexOf("*")+1,d.lastIndexOf("/")),o=this.normalizeSync(d.substr(0,c)+"/");this.defaultJSExtensions&&".js"!=d.substr(d.length-3,3)&&(o=o.substr(0,o.length-3)),l[u]=o.substr(0,o.length-1)+d.substr(c)}this.packageConfigPaths=l}if(e.packages)for(var n in e.packages){if(n.match(/^([^\/]+:)?\/\/$/))throw new TypeError('"'+n+'" is not a valid package name.');var f=this.normalizeSync(n+("/"!=n[n.length-1]?"/":""));f=f.substr(0,f.length-1),!this.packages[f]&&this.defaultJSExtensions&&".js"!=n.substr(n.length-3,3)&&(f=f.substr(0,f.length-3)),this.packages[f]=this.packages[f]||{},e.packages[n].meta&&(g.call(this,"Package "+n+" is configured with meta, which is deprecated as it has been renamed to modules."),e.packages[n].modules=e.packages[n].meta,delete e.packages[n].meta);for(var m in e.packages[n])-1==O.call(J,m)&&g.call(this,'"'+m+'" is not a valid package configuration option in package '+n);h(this.packages[f],e.packages[n])}if(e.bundles)for(var n in e.bundles){for(var p=[],u=0;u<e.bundles[n].length;u++)p.push(this.normalizeSync(e.bundles[n][u]));this.bundles[n]=p}for(var v in e){var a=e[v],b=!1;if("baseURL"!=v&&"map"!=v&&"packages"!=v&&"bundles"!=v&&"paths"!=v&&"warnings"!=v&&"packageConfigPaths"!=v)if("object"!=typeof a||a instanceof Array)this[v]=a;else{this[v]=this[v]||{},("meta"==v||"depCache"==v)&&(b=!0);for(var n in a)"meta"==v&&"*"==n[0]?this[v][n]=a[n]:b?this[v][this.normalizeSync(n)]=a[n]:this[v][n]=a[n]}}},d("normalize",function(e){return function(t,n){var r=e.apply(this,arguments);return this.has(r)?r:r.match($)?(this.defaultJSExtensions&&".js"!=r.substr(r.length-3,3)&&(r+=".js"),r):(r=s(this.paths,r)||r,this.defaultJSExtensions&&".js"!=r.substr(r.length-3,3)&&(r+=".js"),"."==r[0]||"/"==r[0]?new L(r,H).href:new L(r,y.call(this)).href)}}),function(){function e(e){var t,n,r=0;for(var a in this.packages)e.substr(0,a.length)!==a||e.length!==a.length&&"/"!==e[a.length]||(n=a.split("/").length,n>r&&(t=a,r=n));return t}function t(e,t){var n,r=0;for(var a in e)if(t.substr(0,a.length)==a&&(t.length==a.length||"/"==t[a.length])){var o=a.split("/").length;if(r>=o)continue;n=a,r=o}return n}function n(e){var t=e.basePath&&"."!=e.basePath?e.basePath:"";return t&&("./"==t.substr(0,2)&&(t=t.substr(2)),"/"!=t[t.length-1]&&(t+="/")),t}function r(e,t,n,r,o,s,i){var l=!(!i&&-1==o.indexOf("#?")&&!o.match(X));!l&&n.modules&&f(n.modules,t,o,function(e,t,n){(0==n||e.lastIndexOf("*")!=e.length-1)&&(l=!0)});var u=t+"/"+r+o+(l?"":a(n,o));return s?u:k.call(e,u,t+"/").then(function(n){return E.call(e,n,t+"/")})}function a(e,t){if("/"!=t[t.length-1]&&e.defaultExtension!==!1){var n="."+(e.defaultExtension||"js");if(t.substr(t.length-n.length)!=n)return n}return""}function o(e,o,s,i,l){function u(e){return"."==e?o:"./"==e.substr(0,2)?r(d,o,s,c,e.substr(2),i,l):(i?d.normalizeSync:d.normalize).call(d,e)}var d=this,c=n(s);if(o===e&&s.main&&(e+="/"+("./"==s.main.substr(0,2)?s.main.substr(2):s.main)),e.length==o.length+1&&"/"==e[o.length])return e;if(e.length==o.length)return e+(d.defaultJSExtensions&&".js"!=e.substr(e.length-3,3)?".js":"");if(s.map)var f="."+e.substr(o.length),m=t(s.map,f)||!l&&t(s.map,f+=a(s,f.substr(2))),p=s.map[m];return"string"==typeof p?u(p+f.substr(m.length)):i||!p?r(d,o,s,c,e.substr(o.length+1),i,l):d.builder?o+"#:"+m.substr(2):d["import"](s.map["@env"]||"@system-env",o).then(function(e){for(var t in p){var n="~"==t[0],r=v(n?t.substr(1):t,e);if(!n&&r||n&&!r)return p[t]+f.substr(m.length)}}).then(function(t){return t?u(t):r(d,o,s,c,e.substr(o.length+1),i,l)})}function s(r,a){return function(s,l,d){function c(t,n,r){n=n||e.call(b,t);var r=r||n&&b.packages[n];return r?o.call(b,t,n,r,a,d):t+(v?".js":"")}if(d=d===!0,l)var f=e.call(this,l)||this.defaultJSExtensions&&".js"==l.substr(l.length-3,3)&&e.call(this,l.substr(0,l.length-3));if(f){var p=n(this.packages[f]);if(p&&l.substr(f.length+1,p.length)==p&&(l=f+l.substr(f.length+p.length)),"."!==s[0]){var h=this.packages[f].map;if(h){var g=t(h,s);g&&(s=h[g]+s.substr(g.length),"."===s[0]&&(l=f+"/"))}}}var v=this.defaultJSExtensions&&".js"!=s.substr(s.length-3,3),y=r.call(this,s,l);v&&".js"!=y.substr(y.length-3,3)&&(v=!1),v&&(y=y.substr(0,y.length-3)),f&&"."==s[0]&&y==f+"/"&&(y=f);var b=this;if(a)return c(y);var w=e.call(this,y),x=w&&this.packages[w];if(x&&x.configured)return c(y,w,x);var S=i(b,y);return S.pkgName?Promise.resolve(_(b,y)).then(function(e){if(e||m[S.pkgName]){var t=m[S.pkgName]=m[S.pkgName]||{bundles:[],promise:Promise.resolve()};return e&&-1==O.call(t.bundles,e)&&(t.bundles.push(e),t.promise=Promise.all([t.promise,b.load(e)])),t.promise}}).then(function(){return c(y,S.pkgName)}).then(function(e){return e in b.defined?e:u(b,S).then(function(){return c(y)})}):c(y,w,x)}}function i(e,t){for(var n,r=[],a=0;a<e.packageConfigPaths.length;a++){var o=e.packageConfigPaths[a],s=Math.max(o.lastIndexOf("*")+1,o.lastIndexOf("/")),i=t.match(p[o]||(p[o]=new RegExp("^("+o.substr(0,s).replace(/\*/g,"[^\\/]+")+")(/|$)")));!i||n&&n!=i[1]||(n=i[1],r.push(n+o.substr(s)))}return{pkgName:n,configPaths:r}}function u(e,t){var n=e.packages[t.pkgName];return n&&n.configured?Promise.resolve():y[t.pkgName]||(y[t.pkgName]=Promise.resolve().then(function(){for(var r=[],a=0;a<t.configPaths.length;a++)(function(a){r.push(e.fetch({name:a,address:a,metadata:{}}).then(function(e){try{return JSON.parse(e)}catch(t){throw new Error("Invalid JSON in package configuration file "+a)}}).then(function(r){r.systemjs&&(r=r.systemjs),r.meta&&(r.modules=r.meta,g.call(e,"Package config file "+a+" is configured with meta, which is deprecated as it has been renamed to modules."));for(var o in r)-1==O.call(J,o)&&delete r[o];if(r.main instanceof Array&&(r.main=r.main[0]),n&&h(r,n),r.depCache)for(var s in r.depCache)if("./"!=s.substr(0,2)){var i=e.normalizeSync(s);e.depCache[i]=(e.depCache[i]||[]).concat(r.depCache[s])}n=e.packages[t.pkgName]=r}))})(t.configPaths[a]);return Promise.all(r)}))}function f(e,t,n,r){var a;for(var o in e){var s="./"==o.substr(0,2)?"./":"";s&&(o=o.substr(2)),a=o.indexOf("*"),-1!==a&&o.substr(0,a)==n.substr(0,a)&&o.substr(a+1)==n.substr(n.length-o.length+a+1)&&r(o,e[s+o],o.split("/").length)}var i=e[n]||e["./"+n];i&&r(i,i,0)}c(function(e){return function(){e.call(this),this.packages={},this.packageConfigPaths={}}});var m={},p={},y={};l.prototype.normalizeSync=l.prototype.normalize,d("normalizeSync",function(e){return s(e,!0)}),d("normalize",function(e){return s(e,!1)}),d("locate",function(t){return function(r){var a=this;return Promise.resolve(t.call(this,r)).then(function(t){var o=e.call(a,r.name);if(o){var s=a.packages[o],i=n(s),l=r.name.substr(o.length+i.length+1);if(s.format&&(r.metadata.format=r.metadata.format||s.format),s.depCache)for(var u in s.depCache)if(u=="./"+l)for(var d=s.depCache[u],c=0;c<d.length;c++)a["import"](d[c],o+"/");var m={};if(s.modules){var p=0;f(s.modules,o,l,function(e,t,n){n>p&&(p=n),h(m,t,n&&p>n)}),m.alias&&"./"==m.alias.substr(0,2)&&(m.alias=o+m.alias.substr(1)),m.loader&&"./"==m.loader.substr(0,2)&&(m.loader=o+m.loader.substr(1)),h(r.metadata,m)}}return t})}})}(),function(){function t(){if(o&&"interactive"===o.script.readyState)return o.load;for(var e=0;e<l.length;e++)if("interactive"==l[e].script.readyState)return o=l[e],o.load}function n(e,t){return new Promise(function(e,n){t.metadata.integrity&&n(new Error("Subresource integrity checking is not supported in web workers.")),s=t;try{importScripts(t.address)}catch(r){s=null,n(r)}s=null,t.metadata.entry||n(new Error(t.address+" did not call System.register or AMD define")),e("")})}if("undefined"!=typeof document)var r=document.getElementsByTagName("head")[0];var a,o,s=null,i=r&&function(){var e=document.createElement("script"),t="undefined"!=typeof opera&&"[object Opera]"===opera.toString();return e.attachEvent&&!(e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0)&&!t}(),l=[],u=0,c=[];d("pushRegister_",function(e){return function(n){return e.call(this,n)?!1:(s?this.reduceRegister_(s,n):i?this.reduceRegister_(t(),n):u?c.push(n):this.reduceRegister_(null,n),!0)}}),d("fetch",function(t){return function(s){var d=this;return s.metadata.scriptLoad&&(P||R)?R?n(d,s):new Promise(function(t,n){function f(e){if(!h.readyState||"loaded"==h.readyState||"complete"==h.readyState){if(u--,s.metadata.entry||c.length){if(!i){for(var r=0;r<c.length;r++)d.reduceRegister_(s,c[r]);c=[]}}else d.reduceRegister_(s);p(),s.metadata.entry||s.metadata.bundle||n(new Error(s.name+" did not call System.register or AMD define")),t("")}}function m(e){p(),n(new Error("Unable to load script "+s.address))}function p(){if(e.System=a,h.detachEvent){h.detachEvent("onreadystatechange",f);for(var t=0;t<l.length;t++)l[t].script==h&&(o&&o.script==h&&(o=null),l.splice(t,1))}else h.removeEventListener("load",f,!1),h.removeEventListener("error",m,!1);r.removeChild(h)}var h=document.createElement("script");h.async=!0,s.metadata.integrity&&h.setAttribute("integrity",s.metadata.integrity),i?(h.attachEvent("onreadystatechange",f),l.push({script:h,load:s})):(h.addEventListener("load",f,!1),h.addEventListener("error",m,!1)),u++,a=e.System,h.src=s.address,r.appendChild(h)}):t.call(this,s)}})}(),function(){function t(e,n,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==O.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var a=0,o=e.normalizedDeps.length;o>a;a++){var s=e.normalizedDeps[a],i=n.defined[s];if(i&&!i.evaluated){var l=e.groupIndex+(i.declarative!=e.declarative);if(null===i.groupIndex||i.groupIndex<l){if(null!==i.groupIndex&&(r[i.groupIndex].splice(O.call(r[i.groupIndex],i),1),0==r[i.groupIndex].length))throw new Error("Mixed dependency cycle detected");i.groupIndex=l}t(i,n,r)}}}}function n(e,n){var r=n.defined[e];if(!r.module){r.groupIndex=0;var a=[];t(r,n,a);for(var s=!!r.declarative==a.length%2,l=a.length-1;l>=0;l--){for(var u=a[l],d=0;d<u.length;d++){var c=u[d];s?o(c,n):i(c,n)}s=!s}}}function r(){}function a(e,t){return t[e]||(t[e]={name:e,dependencies:[],exports:new r,importers:[]})}function o(t,n){if(!t.module){var r=n._loader.moduleRecords,s=t.module=a(t.name,r),i=t.module.exports,l=t.declare.call(e,function(e,t){if(s.locked=!0,"object"==typeof e)for(var n in e)i[n]=e[n];else i[e]=t;for(var r=0,a=s.importers.length;a>r;r++){var o=s.importers[r];if(!o.locked){var l=O.call(o.dependencies,s);o.setters[l](i)}}return s.locked=!1,t});if(s.setters=l.setters,s.execute=l.execute,!s.setters||!s.execute)throw new TypeError("Invalid System.register form for "+t.name);for(var u=0,d=t.normalizedDeps.length;d>u;u++){var c,f=t.normalizedDeps[u],m=n.defined[f],p=r[f];p?c=p.exports:m&&!m.declarative?c=m.esModule:m?(o(m,n),p=m.module,c=p.exports):c=n.get(f),p&&p.importers?(p.importers.push(s),s.dependencies.push(p)):s.dependencies.push(null);for(var h=t.originalIndices[u],g=0,v=h.length;v>g;++g){var y=h[g];s.setters[y]&&s.setters[y](c)}}}}function s(e,t){var n,r=t.defined[e];if(r)r.declarative?u(e,[],t):r.evaluated||i(r,t),n=r.module.exports;else if(n=t.get(e),!n)throw new Error("Unable to load dependency "+e+".");return(!r||r.declarative)&&n&&n.__useDefault?n["default"]:n}function i(t,n){if(!t.module){var r={},a=t.module={exports:r,id:t.name};if(!t.executingRequire)for(var o=0,l=t.normalizedDeps.length;l>o;o++){var u=t.normalizedDeps[o],d=n.defined[u];d&&i(d,n)}t.evaluated=!0;var c=t.execute.call(e,function(e){for(var r=0,a=t.deps.length;a>r;r++)if(t.deps[r]==e)return s(t.normalizedDeps[r],n);throw new Error("Module "+e+" not declared as a dependency.")},r,a);c&&(a.exports=c),r=a.exports,r&&r.__esModule?t.esModule=r:t.esmExports&&r!==e?t.esModule=m(r):t.esModule={"default":r}}}function u(t,n,r){var a=r.defined[t];if(a&&!a.evaluated&&a.declarative){n.push(t);for(var o=0,s=a.normalizedDeps.length;s>o;o++){var i=a.normalizedDeps[o];
-1==O.call(n,i)&&(r.defined[i]?u(i,n,r):r.get(i))}a.evaluated||(a.evaluated=!0,a.module.execute.call(e))}}function p(e){var t=e.match(h);return t&&"System.register"==e.substr(t[0].length,15)}l.prototype.register=function(e,t,n){if("string"!=typeof e&&(n=t,t=e,e=null),"boolean"==typeof n)return this.registerDynamic.apply(this,arguments);var r=b();r.name=e&&(this.normalizeSync||this.normalize).call(this,e),r.declarative=!0,r.deps=t,r.declare=n,this.pushRegister_({amd:!1,entry:r})},l.prototype.registerDynamic=function(e,t,n,r){"string"!=typeof e&&(r=n,n=t,t=e,e=null);var a=b();a.name=e&&(this.normalizeSync||this.normalize).call(this,e),a.deps=t,a.execute=r,a.executingRequire=n,this.pushRegister_({amd:!1,entry:a})},d("reduceRegister_",function(){return function(e,t){if(t){var n=t.entry,r=e&&e.metadata;if(n.name&&(n.name in this.defined||(this.defined[n.name]=n),r&&(r.bundle=!0)),!n.name||e&&n.name==e.name){if(!r)throw new TypeError("Unexpected anonymous System.register call.");if(r.entry)throw"register"==r.format?new Error("Multiple anonymous System.register calls in module "+e.name+". If loading a bundle, ensure all the System.register calls are named."):new Error("Module "+e.name+" interpreted as "+r.format+" module format, but called System.register.");r.format||(r.format="register"),r.entry=n}}}}),c(function(e){return function(){e.call(this),this.defined={},this._loader.moduleRecords={}}}),M(r,"toString",{value:function(){return"Module"}}),d("delete",function(e){return function(t){return delete this._loader.moduleRecords[t],delete this.defined[t],e.call(this,t)}});var h=/^\s*(\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;d("fetch",function(e){return function(t){return this.defined[t.name]?(t.metadata.format="defined",""):("register"!=t.metadata.format||t.metadata.authorization||t.metadata.scriptLoad===!1||(t.metadata.scriptLoad=!0),t.metadata.deps=t.metadata.deps||[],e.call(this,t))}}),d("translate",function(e){return function(t){return t.metadata.deps=t.metadata.deps||[],Promise.resolve(e.call(this,t)).then(function(e){return("register"==t.metadata.format||!t.metadata.format&&p(t.source))&&(t.metadata.format="register"),e})}}),d("instantiate",function(e){return function(e){var t,r=this;if(r.defined[e.name])t=r.defined[e.name],t.deps=t.deps.concat(e.metadata.deps);else if(e.metadata.entry)t=e.metadata.entry,t.deps=t.deps.concat(e.metadata.deps);else if(!(r.builder&&e.metadata.bundle||"register"!=e.metadata.format&&"esm"!=e.metadata.format&&"es6"!=e.metadata.format)){if("undefined"!=typeof U&&U.call(r,e),!e.metadata.entry&&!e.metadata.bundle)throw new Error(e.name+" detected as "+e.metadata.format+" but didn't execute.");t=e.metadata.entry,t&&e.metadata.deps&&(t.deps=t.deps.concat(e.metadata.deps))}t||(t=b(),t.deps=e.metadata.deps,t.execute=function(){}),r.defined[e.name]=t;var a=f(t.deps);t.deps=a.names,t.originalIndices=a.indices,t.name=e.name,t.esmExports=e.metadata.esmExports!==!1;for(var o=[],s=0,i=t.deps.length;i>s;s++)o.push(Promise.resolve(r.normalize(t.deps[s],e.name)));return Promise.all(o).then(function(a){return t.normalizedDeps=a,{deps:t.deps,execute:function(){return n(e.name,r),u(e.name,[],r),r.defined[e.name]=void 0,r.newModule(t.declarative?t.module.exports:t.esModule)}}})}})}(),function(){var t=/(^\s*|[}\);\n]\s*)(import\s+(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s+from\s+['"]|\{)|export\s+\*\s+from\s+["']|export\s+(\{|default|function|class|var|const|let|async\s+function))/,n=/\$traceurRuntime\s*\./,r=/babelHelpers\s*\./;d("translate",function(a){return function(o){var s=this;return a.call(s,o).then(function(a){if("esm"==o.metadata.format||"es6"==o.metadata.format||!o.metadata.format&&a.match(t)){if("es6"==o.metadata.format&&g.call(s,"Module "+o.name+' has metadata setting its format to "es6", which is deprecated.\nThis should be updated to "esm".'),o.metadata.format="esm",s.transpiler===!1)throw new TypeError("Unable to dynamically transpile ES module as System.transpiler set to false.");return s.loadedTranspiler_=s.loadedTranspiler_||!1,s.pluginLoader&&(s.pluginLoader.loadedTranspiler_=s.loadedTranspiler_||!1),s.builder&&(o.metadata.originalSource=o.source),C.call(s,o).then(function(e){return o.metadata.sourceMap=void 0,e})}if(s.loadedTranspiler_===!1&&o.name==s.normalizeSync(s.transpiler)&&(g.call(s,"Note that internal transpilation via System.transpiler has been deprecated for transpiler plugins."),a.length>100&&(o.metadata.format=o.metadata.format||"global","traceur"===s.transpiler&&(o.metadata.exports="traceur"),"typescript"===s.transpiler&&(o.metadata.exports="ts")),s.loadedTranspiler_=!0),s.loadedTranspilerRuntime_===!1&&(o.name==s.normalizeSync("traceur-runtime")||o.name==s.normalizeSync("babel/external-helpers*"))&&(a.length>100&&(o.metadata.format=o.metadata.format||"global"),s.loadedTranspilerRuntime_=!0),("register"==o.metadata.format||o.metadata.bundle)&&s.loadedTranspilerRuntime_!==!0){if(!e.$traceurRuntime&&o.source.match(n))return s.loadedTranspilerRuntime_=s.loadedTranspilerRuntime_||!1,s["import"]("traceur-runtime").then(function(){return a});if(!e.babelHelpers&&o.source.match(r))return s.loadedTranspilerRuntime_=s.loadedTranspilerRuntime_||!1,s["import"]("babel/external-helpers").then(function(){return a})}return a})}})}();var W="undefined"!=typeof self?"self":"global";d("reduceRegister_",function(t){return function(n,r){if(r)return t.call(this,n,r);n.metadata.format="global";var a=n.metadata.entry=b(),o=v(n.metadata.exports,e);a.execute=function(){return o}}}),d("fetch",function(e){return function(t){return t.metadata.exports&&!t.metadata.format&&(t.metadata.format="global"),"global"!=t.metadata.format||t.metadata.authorization||!t.metadata.exports||t.metadata.globals||t.metadata.deps&&0!=t.metadata.deps.length||t.metadata.scriptLoad===!1||(t.metadata.scriptLoad=!0),e.call(this,t)}}),d("instantiate",function(e){return function(t){var n=this;if(t.metadata.format||(t.metadata.format="global"),t.metadata.globals&&t.metadata.globals instanceof Array){for(var r={},a=0;a<t.metadata.globals.length;a++)r[t.metadata.globals[a]]=t.metadata.globals[a];t.metadata.globals=r}if("global"==t.metadata.format&&!t.metadata.registered){var o=b();t.metadata.entry=o,o.deps=[];for(var s in t.metadata.globals)o.deps.push(t.metadata.globals[s]);o.execute=function(e,r,a){var o;if(t.metadata.globals){o={};for(var s in t.metadata.globals)o[s]=e(t.metadata.globals[s])}var i=t.metadata.exports;i&&(t.source+="\n"+W+'["'+i+'"] = '+i+";");var l=n.get("@@global-helpers").prepareGlobal(a.id,i,o);return U.call(n,t),l()}}return e.call(this,t)}}),c(function(t){return function(){function n(t){if(Object.keys)Object.keys(e).forEach(t);else for(var n in e)s.call(e,n)&&t(n)}function r(t){n(function(n){if(-1==O.call(i,n)){try{var r=e[n]}catch(a){i.push(n)}t(n,r)}})}var a=this;t.call(a);var o,s=Object.prototype.hasOwnProperty,i=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB"];a.set("@@global-helpers",a.newModule({prepareGlobal:function(t,n,a){var s=e.define;e.define=void 0,e.exports=void 0,e.module&&e.module.exports&&(e.module=void 0);var i;if(a){i={};for(var l in a)i[l]=e[l],e[l]=a[l]}return n||(o={},r(function(e,t){o[e]=t})),function(){var t;if(n)t=v(n,e);else{var a,l,u={};r(function(e,t){o[e]!==t&&"undefined"!=typeof t&&(u[e]=t,"undefined"!=typeof a?l||a===t||(l=!0):a=t)}),t=l?u:a}if(i)for(var d in i)e[d]=i[d];return e.define=s,t}}}))}}),function(){function t(e){function t(e,t,n){for(var r=0;r<e.length;r++)if(e[r][0]<t.index&&e[r][1]>t.index+(n?0:t[0].length))return!0;return!1}r.lastIndex=a.lastIndex=o.lastIndex=0;var n,s=[],i=[],l=[];if(e.length/e.split("\n").length<200){for(;n=o.exec(e);)i.push([n.index,n.index+n[0].length]);for(;n=a.exec(e);)t(i,n,!0)||l.push([n.index,n.index+n[0].length])}for(;n=r.exec(e);)t(i,n)||t(l,n)||s.push(n[1].substr(1,n[1].length-2));return s}var n=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.]|module\.)exports\s*(\[['"]|\.)|(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])module\.exports\s*[=,]/,r=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g,a=/(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,o=/(?:"[^"\\\n\r]*(?:\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(?:\\.[^'\\\n\r]*)*')/g;if("undefined"!=typeof window&&"undefined"!=typeof document&&window.location)var s=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&(l.prototype._nodeRequire=require);var i=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","process","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"];d("normalize",function(e){return function(t,n){if("@node/"==t.substr(0,6)&&-1!=i.indexOf(t.substr(6))){if(!this._nodeRequire)throw new TypeError("Can only load node core modules in Node.");this.set(t,this.newModule(m(this._nodeRequire(t.substr(6)))))}return e.apply(this,arguments)}}),d("instantiate",function(a){return function(o){var i=this;if(o.metadata.format||(n.lastIndex=0,r.lastIndex=0,(r.exec(o.source)||n.exec(o.source))&&(o.metadata.format="cjs")),"cjs"==o.metadata.format){var l=o.metadata.deps,u=t(o.source);for(var d in o.metadata.globals)u.push(o.metadata.globals[d]);var c=b();o.metadata.entry=c,c.deps=u,c.executingRequire=!0,c.execute=function(t,n,r){for(var a=0;a<l.length;a++)t(l[a]);var u=o.address||"",d=u.split("/");d.pop(),d=d.join("/"),"file:///"==u.substr(0,8)?(u=u.substr(7),d=d.substr(7),j&&(u=u.substr(1),d=d.substr(1))):s&&u.substr(0,s.length)===s&&(u=u.substr(s.length),d=d.substr(s.length));var c=e.define;e.define=void 0,e.__cjsWrapper={exports:n,args:[t,n,r,u,d,e,e]};var f="";if(o.metadata.globals)for(var m in o.metadata.globals)f+="var "+m+' = require("'+o.metadata.globals[m]+'");';o.source="(function(require, exports, module, __filename, __dirname, global, GLOBAL) {"+f+o.source+"\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);",U.call(i,o),e.__cjsWrapper=void 0,e.define=c}}return a.call(i,o)}})}(),c(function(t){return function(){function n(e,t){e=e.replace(i,"");var n=e.match(c),r=(n[1].split(",")[t]||"require").replace(f,""),a=m[r]||(m[r]=new RegExp(l+r+u,"g"));a.lastIndex=0;for(var o,s=[];o=a.exec(e);)s.push(o[2]||o[3]);return s}function r(e,t,n,a){if("object"==typeof e&&!(e instanceof Array))return r.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof t&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var o=s.get(s.normalizeSync(e,a));if(!o)throw new Error('Module not already loaded loading "'+e+'" from "'+a+'".');return o.__useDefault?o["default"]:o}throw new TypeError("Invalid require")}for(var i=[],l=0;l<e.length;l++)i.push(s["import"](e[l],a));Promise.all(i).then(function(e){t&&t.apply(null,e)},n)}function a(t,a,o){function i(t,n,i){function c(e,n,a){return"string"==typeof e&&"function"!=typeof n?t(e):r.call(s,e,n,a,i.id)}for(var f=[],m=0;m<a.length;m++)f.push(t(a[m]));i.uri=i.id,i.config=function(){},-1!=d&&f.splice(d,0,i),-1!=u&&f.splice(u,0,n),-1!=l&&(c.toUrl=function(e){var t=s.defaultJSExtensions&&".js"!=e.substr(e.length-3,3),n=s.normalizeSync(e,i.id);return t&&".js"==n.substr(n.length-3,3)&&(n=n.substr(0,n.length-3)),n},f.splice(l,0,c));var p=e.require;e.require=r;var h=o.apply(-1==u?e:n,f);return e.require=p,"undefined"==typeof h&&i&&(h=i.exports),"undefined"!=typeof h?h:void 0}"string"!=typeof t&&(o=a,a=t,t=null),a instanceof Array||(o=a,a=["require","exports","module"].splice(0,o.length)),"function"!=typeof o&&(o=function(e){return function(){return e}}(o)),void 0===a[a.length-1]&&a.pop();var l,u,d;-1!=(l=O.call(a,"require"))&&(a.splice(l,1),t||(a=a.concat(n(o.toString(),l)))),-1!=(u=O.call(a,"exports"))&&a.splice(u,1),-1!=(d=O.call(a,"module"))&&a.splice(d,1);var c=b();c.name=t&&(s.normalizeSync||s.normalize).call(s,t),c.deps=a,c.execute=i,s.pushRegister_({amd:!0,entry:c})}function o(){var t=e.module,n=e.exports,r=e.define;return e.module=void 0,e.exports=void 0,e.define=a,function(){e.define=r,e.module=t,e.exports=n}}var s=this;t.call(this);var i=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,l="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",u="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",c=/\(([^\)]*)\)/,f=/^\s+|\s+$/g,m={};a.amd={},d("reduceRegister_",function(e){return function(t,n){if(!n||!n.amd)return e.call(this,t,n);var r=t&&t.metadata,a=n.entry;if(r&&(r.format="amd"),a.name)r&&(r.entry||r.bundle?r.entry=void 0:r.entry=a,r.bundle=!0),a.name in this.defined||(this.defined[a.name]=a);else{if(!r)throw new TypeError("Unexpected anonymous AMD define.");if(r.entry)throw new TypeError("Multiple defines for anonymous module "+t.name);r.entry=a}}}),s.set("@@amd-helpers",s.newModule({createDefine:o,require:r,define:a})),s.amdDefine=a,s.amdRequire=r}}),function(){var e=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/;d("fetch",function(e){return function(t){return"amd"!==t.metadata.format||t.metadata.authorization||t.metadata.scriptLoad===!1||(t.metadata.scriptLoad=!0),t.metadata.scriptLoad&&P&&this.get("@@amd-helpers").createDefine(),e.call(this,t)}}),d("instantiate",function(t){return function(n){var r=this;if("amd"==n.metadata.format||!n.metadata.format&&n.source.match(e))if(n.metadata.format="amd",r.builder||r.execute===!1)n.metadata.execute=function(){return n.metadata.builderExecute.apply(this,arguments)};else{var a=this.get("@@amd-helpers").createDefine();try{U.call(r,n)}finally{a()}if(!n.metadata.entry&&!n.metadata.bundle)throw new TypeError("AMD module "+n.name+" did not define")}return t.call(r,n)}})}(),function(){function e(e,t,n,r,a){function o(e,t){return c&&".js"==e.substr(e.length-3,3)&&(e=e.substr(0,e.length-3)),s.pluginFirst?t+"!"+e:e+"!"+t}var s=this;if(n){var i;s.pluginFirst?-1!=(i=n.lastIndexOf("!"))&&(n=n.substr(i+1)):-1!=(i=n.indexOf("!"))&&(n=n.substr(0,i))}var l=t.lastIndexOf("!");if(-1!=l){var u,d;s.pluginFirst?(u=t.substr(l+1),d=t.substr(0,l)):(u=t.substr(0,l),d=t.substr(l+1)||u.substr(u.lastIndexOf(".")+1));var c=s.defaultJSExtensions&&".js"!=u.substr(u.length-3,3);return a?(u=s.normalizeSync(u,n),d=s.normalizeSync(d,n),o(u,d)):Promise.all([s.normalize(u,n,!0),s.normalize(d,n,!0)]).then(function(e){return o(e[0],e[1])})}return e.call(s,t,n,r)}d("normalize",function(t){return function(n,r,a){return e.call(this,t,n,r,a,!1)}}),d("normalizeSync",function(t){return function(n,r,a){return e.call(this,t,n,r,a,!0)}}),d("locate",function(e){return function(t){var n,r=this,a=t.name;return r.pluginFirst?-1!=(n=a.indexOf("!"))&&(t.metadata.loader=a.substr(0,n),t.name=a.substr(n+1)):-1!=(n=a.lastIndexOf("!"))&&(t.metadata.loader=a.substr(n+1),t.name=a.substr(0,n)),e.call(r,t).then(function(e){var n=t.metadata.loader;if(!n)return e;if(r.defined&&r.defined[a])return e;var o=r.pluginLoader||r;return o["import"](n).then(function(n){return t.metadata.loaderModule=n,t.address=e,n.locate?n.locate.call(r,t):e})})}}),d("fetch",function(e){return function(t){var n=this;return t.metadata.loaderModule&&t.metadata.loaderModule.fetch?(t.metadata.scriptLoad=!1,t.metadata.loaderModule.fetch.call(n,t,function(t){return e.call(n,t)})):e.call(n,t)}}),d("translate",function(e){return function(t){var n=this;return t.metadata.loaderModule&&t.metadata.loaderModule.translate?Promise.resolve(t.metadata.loaderModule.translate.call(n,t)).then(function(r){return"string"==typeof r&&(t.source=r),e.call(n,t)}):e.call(n,t)}}),d("instantiate",function(e){return function(t){var n=this,r=t.metadata.sourceMap;if(r&&"object"==typeof r){var a=t.name.split("!")[0];r.file=a+"!transpiled",r.sources&&1!=r.sources.length||(r.sources=[a]),t.metadata.sourceMap=JSON.stringify(r)}return t.metadata.loaderModule&&t.metadata.loaderModule.instantiate?Promise.resolve(t.metadata.loaderModule.instantiate.call(n,t)).then(function(r){return t.metadata.entry=b(),t.metadata.entry.execute=function(){return r},t.metadata.entry.deps=t.metadata.deps,t.metadata.format="defined",e.call(n,t)}):e.call(n,t)}})}();var X=/#\{[^\}]+\}/;c(function(e){return function(){e.call(this),this.set("@system-env",this.newModule({browser:P,node:!!this._nodeRequire}))}}),d("normalize",function(e){return function(t,n,r){var a=this;return k.call(a,t,n).then(function(t){return e.call(a,t,n,r)}).then(function(e){return E.call(a,e,n)})}}),function(){d("fetch",function(e){return function(t){var n=t.metadata.alias,r=t.metadata.deps||[];return n?(t.metadata.format="defined",this.defined[t.name]={declarative:!0,deps:r.concat([n]),declare:function(e){return{setters:[function(t){for(var n in t)e(n,t[n])}],execute:function(){}}}},""):e.call(this,t)}})}(),function(){function e(e,t,n){for(var r,a=t.split(".");a.length>1;)r=a.shift(),e=e[r]=e[r]||{};r=a.shift(),r in e||(e[r]=n)}c(function(e){return function(){this.meta={},e.call(this)}}),d("locate",function(e){return function(t){var n,r=this.meta,a=t.name,o=0;for(var s in r)if(n=s.indexOf("*"),-1!==n&&s.substr(0,n)===a.substr(0,n)&&s.substr(n+1)===a.substr(a.length-s.length+n+1)){var i=s.split("/").length;i>o&&(o=i),h(t.metadata,r[s],o!=i)}return r[a]&&h(t.metadata,r[a]),e.call(this,t)}});var t=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/,n=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;d("translate",function(r){return function(a){var o=a.source.match(t);if(o)for(var s=o[0].match(n),i=0;i<s.length;i++){var l=s[i],u=l.length,d=l.substr(0,1);if(";"==l.substr(u-1,1)&&u--,'"'==d||"'"==d){var c=l.substr(1,l.length-3),f=c.substr(0,c.indexOf(" "));if(f){var m=c.substr(f.length+1,c.length-f.length-1);"[]"==f.substr(f.length-2,2)?(f=f.substr(0,f.length-2),a.metadata[f]=a.metadata[f]||[],a.metadata[f].push(m)):a.metadata[f]instanceof Array?(g.call(this,"Module "+a.name+' contains deprecated "deps '+m+'" meta syntax.\nThis should be updated to "deps[] '+m+'" for pushing to array meta.'),a.metadata[f].push(m)):e(a.metadata,f,m)}else a.metadata[c]=!0}}return r.call(this,a)}})}(),function(){c(function(e){return function(){e.call(this),this.bundles={},this.loadedBundles_={}}}),d("locate",function(e){return function(t){var n=this;return(t.name in n.loadedBundles_||t.name in n.bundles)&&(t.metadata.bundle=!0),t.name in n.defined?e.call(this,t):_(n,t.name).then(function(e){return e?n.load(e):void 0}).then(function(){return e.call(n,t)})}})}(),function(){c(function(e){return function(){e.call(this),this.depCache={}}}),d("locate",function(e){return function(t){var n=this,r=n.depCache[t.name];if(r)for(var a=0;a<r.length;a++)n["import"](r[a]);return e.call(n,t)}})}(),F=new l,F.version="0.19.6 Standard","object"==typeof exports&&(module.exports=a),e.Reflect=e.Reflect||{},e.Reflect.Loader=e.Reflect.Loader||a,e.Reflect.global=e.Reflect.global||e,e.LoaderPolyfill=a,F||(F=new o,F.constructor=o),"object"==typeof exports&&(module.exports=F),e.System=F}("undefined"!=typeof self?self:global)}try{var t="undefined"!=typeof URLPolyfill||"test:"==new URL("test:///").protocol}catch(n){}if("undefined"!=typeof Promise&&t)e();else if("undefined"!=typeof document){var r=document.getElementsByTagName("script");$__curScript=r[r.length-1];var a=$__curScript.src,o=a.substr(0,a.lastIndexOf("/")+1);window.systemJSBootstrap=e,document.write('<script type="text/javascript" src="'+o+'system-polyfills.js"></script>')}else if("undefined"!=typeof importScripts){var o="";try{throw new Error("_")}catch(n){n.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(e,t){o=t.replace(/\/[^\/]*$/,"/")})}importScripts(o+"system-polyfills.js"),e()}else e()}();!function(t){!function(t){function e(t,n){if("string"!=typeof t)throw new TypeError("URL must be a string");var o=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!o)throw new RangeError;var r=o[1]||"",i=o[2]||"",u=o[3]||"",c=o[4]||"",s=o[5]||"",f=o[6]||"",a=o[7]||"",h=o[8]||"",p=o[9]||"";if(void 0!==n){var l=n instanceof e?n:new e(n),d=""===r&&""===c&&""===i;d&&""===a&&""===h&&(h=l.search),d&&"/"!==a.charAt(0)&&(a=""!==a?(""===l.host&&""===l.username||""!==l.pathname?"":"/")+l.pathname.slice(0,l.pathname.lastIndexOf("/")+1)+a:l.pathname);var y=[];a.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?y.pop():y.push(t)}),a=y.join("").replace(/^\//,"/"===a.charAt(0)?"/":""),d&&(f=l.port,s=l.hostname,c=l.host,u=l.password,i=l.username),""===r&&(r=l.protocol)}"file:"==r&&(a=a.replace(/\\/g,"/")),this.origin=r+(""!==r||""!==c?"//":"")+c,this.href=r+(""!==r||""!==c?"//":"")+(""!==i?i+(""!==u?":"+u:"")+"@":"")+c+a+h+p,this.protocol=r,this.username=i,this.password=u,this.host=c,this.hostname=s,this.port=f,this.pathname=a,this.search=h,this.hash=p}t.URLPolyfill=e}("undefined"!=typeof self?self:global),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof t&&t.amd?t(e):"undefined"!=typeof window?window.Promise=e():"undefined"!=typeof global?global.Promise=e():"undefined"!=typeof self&&(self.Promise=e())}(function(){var t;return function e(t,n,o){function r(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return r(n?n:e)},f,f.exports,e,t,n,o)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(t,e,n){var o=t("../lib/decorators/unhandledRejection"),r=o(t("../lib/Promise"));e.exports="undefined"!=typeof global?global.Promise=r:"undefined"!=typeof self?self.Promise=r:r},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":4}],2:[function(e,n,o){!function(t){"use strict";t(function(t){var e=t("./makePromise"),n=t("./Scheduler"),o=t("./env").asap;return e({scheduler:new n(o)})})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{"./Scheduler":3,"./env":5,"./makePromise":7}],3:[function(e,n,o){!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}],4:[function(e,n,o){!function(t){"use strict";t(function(t){function e(t){throw t}function n(){}var o=t("../env").setTimer,r=t("../format");return function(t){function i(t){t.handled||(l.push(t),a("Potentially unhandled rejection ["+t.id+"] "+r.formatError(t.value)))}function u(t){var e=l.indexOf(t);e>=0&&(l.splice(e,1),h("Handled previous rejection ["+t.id+"] "+r.formatObject(t.value)))}function c(t,e){p.push(t,e),null===d&&(d=o(s,0))}function s(){for(d=null;p.length>0;)p.shift()(p.shift())}var f,a=n,h=n;"undefined"!=typeof console&&(f=console,a="undefined"!=typeof f.error?function(t){f.error(t)}:function(t){f.log(t)},h="undefined"!=typeof f.info?function(t){f.info(t)}:function(t){f.log(t)}),t.onPotentiallyUnhandledRejection=function(t){c(i,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){c(u,t)},t.onFatalRejection=function(t){c(e,t.value)};var p=[],l=[],d=null;return t}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{"../env":5,"../format":6}],5:[function(e,n,o){!function(t){"use strict";t(function(t){function e(){return"undefined"!=typeof process&&null!==process&&"function"==typeof process.nextTick}function n(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function o(t){function e(){var t=n;n=void 0,t()}var n,o=document.createTextNode(""),r=new t(e);r.observe(o,{characterData:!0});var i=0;return function(t){n=t,o.data=i^=1}}var r,i="undefined"!=typeof setTimeout&&setTimeout,u=function(t,e){return setTimeout(t,e)},c=function(t){return clearTimeout(t)},s=function(t){return i(t,0)};if(e())s=function(t){return process.nextTick(t)};else if(r=n())s=o(r);else if(!i){var f=t,a=f("vertx");u=function(t,e){return a.setTimer(e,t)},c=a.cancelTimer,s=a.runOnLoop||a.runOnContext}return{setTimer:u,clearTimer:c,asap:s}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t(e)})},{}],6:[function(e,n,o){!function(t){"use strict";t(function(){function t(t){var n="object"==typeof t&&null!==t&&t.stack?t.stack:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(n){return e}}return{formatError:t,formatObject:e,tryStringify:n}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}],7:[function(e,n,o){!function(t){"use strict";t(function(){return function(t){function e(t,e){this._handler=t===j?e:n(t)}function n(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}function o(t){r.notify(t)}var r=new b;try{t(e,n,o)}catch(i){n(i)}return r}function o(t){return k(t)?t:new e(j,new x(v(t)))}function r(t){return new e(j,new x(new q(t)))}function i(){return Z}function u(){return new e(j,new b)}function c(t,e){var n=new b(t.receiver,t.join().context);return new e(j,n)}function s(t){return a(z,null,t)}function f(t,e){return a(J,t,e)}function a(t,n,o){function r(e,r,u){u.resolved||h(o,i,e,t(n,r,e),u)}function i(t,e,n){a[t]=e,0===--f&&n.become(new R(a))}for(var u,c="function"==typeof n?r:i,s=new b,f=o.length>>>0,a=new Array(f),p=0;p<o.length&&!s.resolved;++p)u=o[p],void 0!==u||p in o?h(o,c,p,u,s):--f;return 0===f&&s.become(new R(a)),new e(j,s)}function h(t,e,n,o,r){if(U(o)){var i=m(o),u=i.state();0===u?i.fold(e,n,void 0,r):u>0?e(n,i.value,r):(r.become(i),p(t,n+1,i))}else e(n,o,r)}function p(t,e,n){for(var o=e;o<t.length;++o)l(v(t[o]),n)}function l(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):0>n&&t._unreport()}}function d(t){return"object"!=typeof t||null===t?r(new TypeError("non-iterable passed to race()")):0===t.length?i():1===t.length?o(t[0]):y(t)}function y(t){var n,o,r,i=new b;for(n=0;n<t.length;++n)if(o=t[n],void 0!==o||n in t){if(r=v(o),0!==r.state()){i.become(r),p(t,n+1,r);break}r.visit(i,i.resolve,i.reject)}return new e(j,i)}function v(t){return k(t)?t._handler.join():U(t)?w(t):new R(t)}function m(t){return k(t)?t._handler.join():w(t)}function w(t){try{var e=t.then;return"function"==typeof e?new g(e,t):new R(t)}catch(n){return new q(n)}}function j(){}function _(){}function b(t,n){e.createContext(this,n),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function x(t){this.handler=t}function g(t,e){b.call(this),K.enqueue(new L(t,e,this))}function R(t){e.createContext(this),this.value=t}function q(t){e.createContext(this),this.id=++X,this.value=t,this.handled=!1,this.reported=!1,this._report()}function P(t,e){this.rejection=t,this.context=e}function C(t){this.rejection=t}function T(){return new q(new TypeError("Promise cycle"))}function O(t,e){this.continuation=t,this.handler=e}function E(t,e){this.handler=e,this.value=t}function L(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function Q(t,e,n,o,r){try{t.call(e,n,o,r)}catch(i){o(i)}}function S(t,e,n,o){this.f=t,this.z=e,this.c=n,this.to=o,this.resolver=V,this.receiver=this}function k(t){return t instanceof e}function U(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function H(t,n,o,r){return"function"!=typeof t?r.become(n):(e.enterContext(n),M(t,n.value,o,r),void e.exitContext())}function N(t,n,o,r,i){return"function"!=typeof t?i.become(o):(e.enterContext(o),$(t,n,o.value,r,i),void e.exitContext())}function A(t,n,o,r,i){return"function"!=typeof t?i.notify(n):(e.enterContext(o),F(t,n,r,i),void e.exitContext())}function J(t,e,n){try{return t(e,n)}catch(o){return r(o)}}function M(t,e,n,o){try{o.become(v(t.call(n,e)))}catch(r){o.become(new q(r))}}function $(t,e,n,o,r){try{t.call(o,e,n,r)}catch(i){r.become(new q(i))}}function F(t,e,n,o){try{o.notify(t.call(n,e))}catch(r){o.notify(r)}}function W(t,e){e.prototype=G(t.prototype),e.prototype.constructor=e}function z(t,e){return e}function B(){}function I(){return"undefined"!=typeof process&&null!==process&&"function"==typeof process.emit?function(t,e){return"unhandledRejection"===t?process.emit(t,e.value,e):process.emit(t,e)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,n){var o=!1;try{var r=new n("unhandledRejection");o=r instanceof n}catch(i){}return o?function(t,o){var r=new n(t,{detail:{reason:o.value,key:o},bubbles:!1,cancelable:!0});return!e.dispatchEvent(r)}:t}(B,self,CustomEvent):B}var K=t.scheduler,D=I(),G=Object.create||function(t){function e(){}return e.prototype=t,new e};e.resolve=o,e.reject=r,e.never=i,e._defer=u,e._handler=v,e.prototype.then=function(t,e,n){var o=this._handler,r=o.join().state();if("function"!=typeof t&&r>0||"function"!=typeof e&&0>r)return new this.constructor(j,o);var i=this._beget(),u=i._handler;return o.chain(u,o.receiver,t,e,n),i},e.prototype["catch"]=function(t){return this.then(void 0,t)},e.prototype._beget=function(){return c(this._handler,this.constructor)},e.all=s,e.race=d,e._traverse=f,e._visitRemaining=p,j.prototype.when=j.prototype.become=j.prototype.notify=j.prototype.fail=j.prototype._unreport=j.prototype._report=B,j.prototype._state=0,j.prototype.state=function(){return this._state},j.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},j.prototype.chain=function(t,e,n,o,r){this.when({resolver:t,receiver:e,fulfilled:n,rejected:o,progress:r})},j.prototype.visit=function(t,e,n,o){this.chain(V,t,e,n,o)},j.prototype.fold=function(t,e,n,o){this.when(new S(t,e,n,o))},W(j,_),_.prototype.become=function(t){t.fail()};var V=new _;W(j,b),b.prototype._state=0,b.prototype.resolve=function(t){this.become(v(t))},b.prototype.reject=function(t){this.resolved||this.become(new q(t))},b.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=T();return t},b.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},b.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&K.enqueue(this),void 0!==this.context&&t._report(this.context))},b.prototype.when=function(t){this.resolved?K.enqueue(new O(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},b.prototype.notify=function(t){this.resolved||K.enqueue(new E(t,this))},b.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},b.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},b.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},W(j,x),x.prototype.when=function(t){K.enqueue(new O(t,this))},x.prototype._report=function(t){this.join()._report(t)},x.prototype._unreport=function(){this.join()._unreport()},W(b,g),W(j,R),R.prototype._state=1,R.prototype.fold=function(t,e,n,o){N(t,e,this,n,o)},R.prototype.when=function(t){H(t.fulfilled,this,t.receiver,t.resolver);
};var X=0;W(j,q),q.prototype._state=-1,q.prototype.fold=function(t,e,n,o){o.become(this)},q.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),H(t.rejected,this,t.receiver,t.resolver)},q.prototype._report=function(t){K.afterQueue(new P(this,t))},q.prototype._unreport=function(){this.handled||(this.handled=!0,K.afterQueue(new C(this)))},q.prototype.fail=function(t){this.reported=!0,D("unhandledRejection",this),e.onFatalRejection(this,void 0===t?this.context:t)},P.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,D("unhandledRejection",this.rejection)||e.onPotentiallyUnhandledRejection(this.rejection,this.context))},C.prototype.run=function(){this.rejection.reported&&(D("rejectionHandled",this.rejection)||e.onPotentiallyUnhandledRejectionHandled(this.rejection))},e.createContext=e.enterContext=e.exitContext=e.onPotentiallyUnhandledRejection=e.onPotentiallyUnhandledRejectionHandled=e.onFatalRejection=B;var Y=new j,Z=new e(j,Y);return O.prototype.run=function(){this.handler.join().when(this.continuation)},E.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)e=t[n],A(e.progress,this.value,this.handler,e.receiver,e.resolver)},L.prototype.run=function(){function t(t){o.resolve(t)}function e(t){o.reject(t)}function n(t){o.notify(t)}var o=this.resolver;Q(this._then,this.thenable,t,e,n)},S.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},S.prototype.rejected=function(t){this.to.reject(t)},S.prototype.progress=function(t){this.to.notify(t)},e}})}("function"==typeof t&&t.amd?t:function(t){n.exports=t()})},{}]},{},[1])(1)}),"undefined"!=typeof systemJSBootstrap&&systemJSBootstrap()}();!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";var e=n(1),r=n(2),o=n(6),i=n(10);o.Zone.prototype.scheduleMicrotask?console.warn("Zone-microtasks already exported on window the object!"):(e.addMicrotaskSupport(o.Zone),t.Zone=o.Zone,t.zone=new t.Zone,t.Promise=r.Promise,i.apply())}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(t){c._asap(this.bind(t))}function o(t){return t.prototype.scheduleMicrotask=r,t}var i,a="undefined"!=typeof Promise&&-1!==Promise.toString().indexOf("[native code]"),u=t.navigator&&t.navigator.userAgent.toLowerCase().indexOf("firefox")>-1;a&&!u&&(i=Promise.resolve());var c=n(2).Promise;i&&c._setScheduler(function(t){i.then(t)}),c._setAsap(function(e,n){t.zone.scheduleMicrotask(function(){e(n)})}),e.addMicrotaskSupport=o}).call(e,function(){return this}())},function(t,e,n){var r;(function(t,o){(function(){"use strict";function i(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return"function"==typeof t}function u(t){return"object"==typeof t&&null!==t}function c(t){K=t}function s(t){V=t}function f(){return function(){process.nextTick(y)}}function p(){return function(){U(y)}}function l(){var t=0,e=new Q(y),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function h(){var t=new MessageChannel;return t.port1.onmessage=y,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(y,1)}}function y(){for(var t=0;B>t;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}B=0}function v(){try{var t=n(4);return U=t.runOnLoop||t.runOnContext,p()}catch(e){return d()}}function m(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return at.error=e,at}}function k(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function _(t,e,n){V(function(t){var r=!1,o=k(n,e,function(n){r||(r=!0,e!==n?P(t,n):j(t,n))},function(e){r||(r=!0,M(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,M(t,o))},t)}function E(t,e){e._state===ot?j(t,e._result):e._state===it?M(t,e._result):S(e,void 0,function(e){P(t,e)},function(e){M(t,e)})}function T(t,e){if(e.constructor===t.constructor)E(t,e);else{var n=w(e);n===at?M(t,at.error):void 0===n?j(t,e):a(n)?_(t,e,n):j(t,e)}}function P(t,e){t===e?M(t,g()):i(e)?T(t,e):j(t,e)}function O(t){t._onerror&&t._onerror(t._result),A(t)}function j(t,e){t._state===rt&&(t._result=e,t._state=ot,0!==t._subscribers.length&&V(A,t))}function M(t,e){t._state===rt&&(t._state=it,t._result=e,V(O,t))}function S(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+ot]=n,o[i+it]=r,0===i&&t._state&&V(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?F(n,r,o,i):o(i);t._subscribers.length=0}}function z(){this.error=null}function x(t,e){try{return t(e)}catch(n){return ut.error=n,ut}}function F(t,e,n,r){var o,i,u,c,s=a(n);if(s){if(o=x(n,r),o===ut?(c=!0,i=o.error,o=null):u=!0,e===o)return void M(e,b())}else o=r,u=!0;e._state!==rt||(s&&u?P(e,o):c?M(e,i):t===ot?j(e,o):t===it&&M(e,o))}function L(t,e){try{e(function(e){P(t,e)},function(e){M(t,e)})}catch(n){M(t,n)}}function C(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(m),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?j(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&j(n.promise,n._result))):M(n.promise,n._validationError())}function R(t){return new ct(this,t).promise}function q(t){function e(t){P(o,t)}function n(t){M(o,t)}var r=this,o=new r(m);if(!G(t))return M(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,a=0;o._state===rt&&i>a;a++)S(r.resolve(t[a]),void 0,e,n);return o}function W(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(m);return P(n,t),n}function Z(t){var e=this,n=new e(m);return M(n,t),n}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function $(t){this._id=ht++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==t&&(a(t)||I(),this instanceof $||D(),L(this,t))}function H(){var e;if("undefined"!=typeof t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;(!r||"[object Promise]"!==Object.prototype.toString.call(r.resolve())||r.cast)&&(e.Promise=dt)}var N;N=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U,K,X,G=N,B=0,V=({}.toString,function(t,e){nt[B]=t,nt[B+1]=e,B+=2,2===B&&(K?K(y):X())}),Y="undefined"!=typeof window?window:void 0,J=Y||{},Q=J.MutationObserver||J.WebKitMutationObserver,tt="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3);X=tt?f():Q?l():et?h():void 0===Y?v():d();var rt=void 0,ot=1,it=2,at=new z,ut=new z;C.prototype._validateInput=function(t){return G(t)},C.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},C.prototype._init=function(){this._result=new Array(this.length)};var ct=C;C.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===rt&&e>o;o++)t._eachEntry(r[o],o)},C.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;u(t)?t.constructor===r&&t._state!==rt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},C.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===rt&&(r._remaining--,t===it?M(o,n):r._result[e]=n),0===r._remaining&&j(o,r._result)},C.prototype._willSettleAt=function(t,e){var n=this;S(t,void 0,function(t){n._settledAt(ot,e,t)},function(t){n._settledAt(it,e,t)})};var st=R,ft=q,pt=W,lt=Z,ht=0,dt=$;$.all=st,$.race=ft,$.resolve=pt,$.reject=lt,$._setScheduler=c,$._setAsap=s,$._asap=V,$.prototype={constructor:$,then:function(t,e){var n=this,r=n._state;if(r===ot&&!t||r===it&&!e)return this;var o=new this.constructor(m),i=n._result;if(r){var a=arguments[r-1];V(function(){F(r,o,a,i)})}else S(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var yt=H,vt={Promise:dt,polyfill:yt};n(5).amd?(r=function(){return vt}.call(e,n,e,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),yt()}).call(this)}).call(e,function(){return this}(),n(3)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){(function(t){function r(t,e){a.hasOwnProperty(t)||(a[t]=!0,console.warn("DEPRECATION WARNING: '"+t+"' is no longer supported and will be removed in next major release. "+e))}var o=n(7),i=n(8),a={},u=function(){function e(t,n){this.parent=null,this.onError=null;var r=arguments.length?Object.create(t):this;return r.parent=t||null,Object.keys(n||{}).forEach(function(e){var o=e.substr(1);"$"===e[0]?r[o]=n[e](t[o]||function(){}):"+"===e[0]?t[o]?r[o]=function(){var r=t[o].apply(this,arguments);return n[e].apply(this,arguments),r}:r[o]=n[e]:"-"===e[0]?t[o]?r[o]=function(){return n[e].apply(this,arguments),t[o].apply(this,arguments)}:r[o]=n[e]:r[e]="object"==typeof n[e]?JSON.parse(JSON.stringify(n[e])):n[e]}),r.$id=e.nextId++,r}return e.prototype.fork=function(t){return this.onZoneCreated(),new e(this,t)},e.prototype.bind=function(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);e||this.enqueueTask(t);var n=this.isRootZone()?this:this.fork();return function(){return n.run(t,this,arguments)}},e.prototype.bindOnce=function(t){r("bindOnce","There is no replacement.");var e=this;return this.bind(function(){var n=t.apply(this,arguments);return e.dequeueTask(t),n})},e.prototype.isRootZone=function(){return null===this.parent},e.prototype.run=function(e,n,r){r=r||[];var o=t.zone;t.zone=this;try{return this.beforeTask(),e.apply(n,r)}catch(i){if(!this.onError)throw i;this.onError(i)}finally{this.afterTask(),t.zone=o}},e.prototype.beforeTask=function(){},e.prototype.onZoneCreated=function(){},e.prototype.afterTask=function(){},e.prototype.enqueueTask=function(t){r("enqueueTask","Use addTask/addRepeatingTask/addMicroTask")},e.prototype.dequeueTask=function(t){r("dequeueTask","Use removeTask/removeRepeatingTask/removeMicroTask")},e.prototype.addTask=function(t){this.enqueueTask(t)},e.prototype.removeTask=function(t){this.dequeueTask(t)},e.prototype.addRepeatingTask=function(t){this.enqueueTask(t)},e.prototype.removeRepeatingTask=function(t){this.dequeueTask(t)},e.prototype.addMicrotask=function(t){this.enqueueTask(t)},e.prototype.removeMicrotask=function(t){this.dequeueTask(t)},e.prototype.addEventListener=function(){return this[o.common.addEventListener].apply(this,arguments)},e.prototype.removeEventListener=function(){return this[o.common.removeEventListener].apply(this,arguments)},e.nextId=1,e.bindPromiseFn=i.bindPromiseFn,e}();e.Zone=u}).call(e,function(){return this}())},function(t,e){function n(t){return"_zone$"+t}e.create=n,e.common={addEventListener:n("addEventListener"),removeEventListener:n("removeEventListener")}},function(t,e,n){(function(r){function o(t,n){var o=r,i=t.every(function(t){return o=o[t]});i&&n.forEach(function(t){var n=o[t];n&&(o[t]=e.bindPromiseFn(n))})}function i(t){var e=t.then;t.then=function(){var n=u.bindArguments(arguments),r=e.apply(t,n);return i(r)};var n=t["catch"];return t["catch"]=function(){var e=u.bindArguments(arguments),r=n.apply(t,e);return i(r)},t}function a(){if(r.Promise){u.patchPrototype(Promise.prototype,["then","catch"]);var t=[[[],["fetch"]],[["Response","prototype"],["arrayBuffer","blob","json","text"]]];t.forEach(function(t){o(t[0],t[1])})}}var u=n(9);r.Promise?e.bindPromiseFn=function(t){return function(){var e=t.apply(this,arguments);return e instanceof Promise?e:new Promise(function(t,n){e.then(t,n)})}}:e.bindPromiseFn=function(t){return function(){return i(t.apply(this,arguments))}},e.apply=a,t.exports={apply:a,bindPromiseFn:e.bindPromiseFn}}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e){for(var n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=t.zone.bind(e[n]));return e}function o(t,e){e.forEach(function(e){var n=t[e];n&&(t[e]=function(){return n.apply(this,r(arguments))})})}function i(){return"undefined"==typeof document}function a(t,e){var n=Object.getOwnPropertyDescriptor(t,e)||{enumerable:!0,configurable:!0};delete n.writable,delete n.value;var r=e.substr(2),o="_"+e;n.set=function(t){this[o]&&this.removeEventListener(r,this[o]),"function"==typeof t?(this[o]=t,this.addEventListener(r,t,!1)):this[o]=null},n.get=function(){return this[o]},Object.defineProperty(t,e,n)}function u(t,e){(e||function(){var e=[];for(var n in t)e.push(n);return e}().filter(function(t){return"on"===t.substr(0,2)})).forEach(function(e){a(t,e)})}function c(e){e[f.common.addEventListener]=e.addEventListener,e.addEventListener=function(e,n,r){if(n&&"[object FunctionWrapper]"!==n.toString()){var o,i=e+(r?"$capturing":"$bubbling");o=n.handleEvent?function(t){return function(){t.handleEvent.apply(t,arguments)}}(n):n,n[p]=o,n[l]=n[l]||{},n[l][i]=n[l][i]||t.zone.bind(o),arguments[1]=n[l][i]}var a=this||t;return t.zone.addEventListener.apply(a,arguments)},e[f.common.removeEventListener]=e.removeEventListener,e.removeEventListener=function(e,n,r){var o=e+(r?"$capturing":"$bubbling");if(n&&n[l]&&n[l][o]){var i=n[l];arguments[1]=i[o],delete i[o],t.zone.dequeueTask(n[p])}var a=this||t,u=t.zone.removeEventListener.apply(a,arguments);return u}}function s(e){var n=t[e];if(n){t[e]=function(){var t=r(arguments);switch(t.length){case 0:this[h]=new n;break;case 1:this[h]=new n(t[0]);break;case 2:this[h]=new n(t[0],t[1]);break;case 3:this[h]=new n(t[0],t[1],t[2]);break;case 4:this[h]=new n(t[0],t[1],t[2],t[3]);break;default:throw new Error("what are you even doing?")}};var o,i=new n;for(o in i)!function(n){"function"==typeof i[n]?t[e].prototype[n]=function(){return this[h][n].apply(this[h],arguments)}:Object.defineProperty(t[e].prototype,n,{set:function(e){"function"==typeof e?this[h][n]=t.zone.bind(e):this[h][n]=e},get:function(){return this[h][n]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(t[e][o]=n[o])}}var f=n(7);e.bindArguments=r,e.patchPrototype=o,e.isWebWorker=i,e.patchProperty=a,e.patchProperties=u;var p=f.create("originalFn"),l=f.create("boundFns");e.patchEventTargetMethods=c;var h=f.create("originalInstance");e.patchClass=s}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(){o.patchSetClearFunction(t,t.Zone,[["setTimeout","clearTimeout",!1,!1],["setInterval","clearInterval",!0,!1],["setImmediate","clearImmediate",!1,!1],["requestAnimationFrame","cancelAnimationFrame",!1,!0],["mozRequestAnimationFrame","mozCancelAnimationFrame",!1,!0],["webkitRequestAnimationFrame","webkitCancelAnimationFrame",!1,!0]]),o.patchFunction(t,["alert","prompt"]),s.apply(),f.apply(),i.apply(),a.patchClass("MutationObserver"),a.patchClass("WebKitMutationObserver"),u.apply(),c.apply(),p.apply(),l.apply()}var o=n(11),i=n(8),a=n(13),u=n(14),c=n(15),s=n(16),f=n(17),p=n(19),l=n(20);e.apply=r}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e,n,r){function o(r,o,a,u){var c=e[r],s=e[o],f={};if(c){var p=i.createEvent("Zone#"+r+"(uint32 zone, uint32 id, uint32 delay)"),l=i.createEvent("Zone#"+o+"(uint32 zone, uint32 id)"),h=i.createScope("Zone#cb:"+r+"(uint32 zone, uint32 id, uint32 delay)");e[r]=function(){return t.zone[r].apply(t.zone,arguments)},e[o]=function(){return t.zone[o].apply(t.zone,arguments)},n.prototype[r]=function(t,n){var r=t;"function"!=typeof r&&c.apply(e,arguments);var o=this,s=null;return arguments[0]=function(){var t=o.isRootZone()||u?o:o.fork(),e=this,c=arguments;return i.leaveScope(h(t.$id,s,n),t.run(function(){return a||(delete f[s],t.removeTask(r)),r.apply(e,c)}))},a?o.addRepeatingTask(r):o.addTask(r),s=c.apply(e,arguments),f[s]=r,p(o.$id,s,n),s},n.prototype[r+"Unpatched"]=function(){return c.apply(e,arguments)},n.prototype[o]=function(t){if(l(this.$id,t),f.hasOwnProperty(t)){var n=f[t];delete f[t],a?this.removeRepeatingTask(n):this.removeTask(n)}return s.apply(e,arguments)},n.prototype[o+"Unpatched"]=function(){return s.apply(e,arguments)}}}r.forEach(function(t){o.apply(null,t)})}function o(e,n){n.forEach(function(n){var r=e[n];t.zone[n]=function(){return r.apply(e,arguments)},e[n]=function(){return t.zone[n].apply(this,arguments)}})}var i=n(12);e.patchSetClearFunction=r,e.patchFunction=o}).call(e,function(){return this}())},function(t,e){(function(t){function n(){}var r=null,o=null,i=function(){var e=t.wtf;return e&&(r=e.trace)?(o=r.events,!0):!1}();e.enabled=i,e.createScope=i?function(t,e){return o.createScope(t,e)}:function(t,e){return n},e.createEvent=i?function(t,e){return o.createInstance(t,e)}:function(t,e){return n},e.leaveScope=i?function(t,e){return r.leaveScope(t,e),e}:function(t,e){return e},e.beginTimeRange=i?function(t,e){return r.beginTimeRange(t,e)}:function(t,e){return null},e.endTimeRange=i?function(t){r.endTimeRange(t)}:function(t){}}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e){var n=t[e];if(n){t[e]=function(e){this[i]=new n(t.zone.bind(e,!0)),this[a]=t.zone};var r=new n(function(){});t[e].prototype.disconnect=function(){var t=this[i].disconnect.apply(this[i],arguments);return this[u]&&(this[a].dequeueTask(),this[u]=!1),t},t[e].prototype.observe=function(){return this[u]||(this[a].enqueueTask(),this[u]=!0),this[i].observe.apply(this[i],arguments)};var o;for(o in r)!function(n){"undefined"==typeof t[e].prototype&&("function"==typeof r[n]?t[e].prototype[n]=function(){return this[i][n].apply(this[i],arguments)}:Object.defineProperty(t[e].prototype,n,{set:function(e){"function"==typeof e?this[i][n]=t.zone.bind(e):this[i][n]=e},get:function(){return this[i][n]}}))}(o)}}var o=n(7),i=o.create("originalInstance"),a=o.create("creationZone"),u=o.create("isActive");e.patchClass=r}).call(e,function(){return this}())},function(t,e,n){function r(){Object.defineProperty=function(t,e,n){if(i(t,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+t);return"prototype"!==e&&(n=a(t,e,n)),c(t,e,n)},Object.defineProperties=function(t,e){return Object.keys(e).forEach(function(n){Object.defineProperty(t,n,e[n])}),t},Object.create=function(t,e){return"object"==typeof e&&Object.keys(e).forEach(function(n){e[n]=a(t,n,e[n])}),f(t,e)},Object.getOwnPropertyDescriptor=function(t,e){var n=s(t,e);return i(t,e)&&(n.configurable=!1),n}}function o(t,e,n){return n=a(t,e,n),c(t,e,n)}function i(t,e){return t&&t[p]&&t[p][e]}function a(t,e,n){return n.configurable=!0,n.configurable||(t[p]||c(t,p,{writable:!0,value:{}}),t[p][e]=!0),n}var u=n(7),c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,f=Object.create,p=u.create("unconfigurables");e.apply=r,e._redefineProperty=o},function(t,e,n){(function(t){function r(){if(!i.isWebWorker()&&"registerElement"in t.document){var e=document.registerElement,n=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(r,i){return i&&i.prototype&&n.forEach(function(e){if(i.prototype.hasOwnProperty(e)){var n=Object.getOwnPropertyDescriptor(i.prototype,e);n&&n.value?(n.value=t.zone.bind(n.value),o._redefineProperty(i.prototype,e,n)):i.prototype[e]=t.zone.bind(i.prototype[e])}else i.prototype[e]&&(i.prototype[e]=t.zone.bind(i.prototype[e]))}),e.apply(document,[r,i])}}}var o=n(14),i=n(9);e.apply=r}).call(e,function(){return this}())},function(t,e,n){(function(t){"use strict";function r(){if(t.EventTarget)o.patchEventTargetMethods(t.EventTarget.prototype);else{var e=["ApplicationCache","EventSource","FileReader","InputMethodContext","MediaController","MessagePort","Node","Performance","SVGElementInstance","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebKitNamedFlow","Worker","WorkerGlobalScope","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];e.forEach(function(e){var n=t[e]&&t[e].prototype;n&&n.addEventListener&&o.patchEventTargetMethods(n)}),"undefined"!=typeof window&&o.patchEventTargetMethods(window)}}var o=n(9);e.apply=r}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(){if(!u.isWebWorker()){var t="undefined"!=typeof WebSocket;if(o()){var e=s.map(function(t){return"on"+t});u.patchProperties(HTMLElement.prototype,e),u.patchProperties(XMLHttpRequest.prototype),t&&u.patchProperties(WebSocket.prototype)}else i(),u.patchClass("XMLHttpRequest"),t&&a.apply()}}function o(){if(!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var t=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(t&&!t.configurable)return!1}Object.defineProperty(HTMLElement.prototype,"onclick",{get:function(){return!0}});var e=document.createElement("div"),n=!!e.onclick;return Object.defineProperty(HTMLElement.prototype,"onclick",{}),n}function i(){s.forEach(function(e){var n="on"+e;document.addEventListener(e,function(e){for(var r,o=e.target;o;)o[n]&&!o[n][f]&&(r=t.zone.bind(o[n]),r[f]=o[n],o[n]=r),o=o.parentElement},!0)})}var a=n(18),u=n(9),c=n(7),s="copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart message mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror".split(" ");e.apply=r;var f=c.create("unbound")}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(){var e=t.WebSocket;t.EventTarget||o.patchEventTargetMethods(e.prototype),t.WebSocket=function(t,n){var r,i=arguments.length>1?new e(t,n):new e(t),a=Object.getOwnPropertyDescriptor(i,"onmessage");return a&&a.configurable===!1?(r=Object.create(i),["addEventListener","removeEventListener","send","close"].forEach(function(t){r[t]=function(){return i[t].apply(i,arguments)}})):r=i,o.patchProperties(r,["onclose","onerror","onmessage","onopen"]),r}}var o=n(9);e.apply=r}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(){t.navigator&&t.navigator.geolocation&&o.patchPrototype(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}var o=n(9);e.apply=r}).call(e,function(){return this}())},function(t,e,n){function r(){o.patchClass("FileReader")}var o=n(9);e.apply=r}]),function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){var e=n(1);if(!t.Zone)throw new Error("zone.js should be installed before loading the long stack trace zone");t.Zone.longStackTraceZone=e.longStackTraceZone}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";function n(t){this._e=t}function r(){return new n(new Error)}function o(){try{throw new Error}catch(t){return new n(t)}}n.prototype.get=function(){return t.zone.stackFramesFilter&&this._e.stack?this._e.stack.split("\n").filter(t.zone.stackFramesFilter).join("\n"):this._e.stack};var i=r(),a=i&&i._e.stack?r:o;e.longStackTraceZone={getLongStacktrace:function(t){var e=[],n=this;t&&(n.stackFramesFilter&&t.stack?e.push(t.stack.split("\n").filter(n.stackFramesFilter).join("\n")):e.push(t.stack));for(var r=Date.now();n&&n.constructedAtException;)e.push("--- "+new Date(n.constructedAtTime).toString()+" - "+(r-n.constructedAtTime)+"ms ago",n.constructedAtException.get()),n=n.parent;return e.join("\n")},stackFramesFilter:function(t){return!/zone(-microtask)?(\.min)?\.js/.test(t)},onError:function(t){var e=this.reporter||console.log.bind(console);e(t.toString()),e(this.getLongStacktrace(t))},$fork:function(t){return function(){var e=t.apply(this,arguments);return e.constructedAtException=a(),e.constructedAtTime=Date.now(),e}}}}).call(e,function(){return this}())}]);var Reflect;!function(t){function e(t,e,n,r){if(_(r)){if(_(n)){if(!E(t))throw new TypeError;if(!P(e))throw new TypeError;return p(t,e)}if(!E(t))throw new TypeError;if(!T(e))throw new TypeError;return n=j(n),h(t,e,n)}if(!E(t))throw new TypeError;if(!T(e))throw new TypeError;if(_(n))throw new TypeError;if(!T(r))throw new TypeError;return n=j(n),l(t,e,n,r)}function n(t,e){function n(n,r){if(_(r)){if(!P(n))throw new TypeError;b(t,e,n,void 0)}else{if(!T(n))throw new TypeError;r=j(r),b(t,e,n,r)}}return n}function r(t,e,n,r){if(!T(n))throw new TypeError;return _(r)||(r=j(r)),b(t,e,n,r)}function o(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=j(n)),y(t,e,n)}function i(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=j(n)),v(t,e,n)}function a(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=j(n)),m(t,e,n)}function u(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=j(n)),g(t,e,n)}function c(t,e){if(!T(t))throw new TypeError;return _(e)||(e=j(e)),w(t,e)}function s(t,e){if(!T(t))throw new TypeError;return _(e)||(e=j(e)),k(t,e)}function f(t,e,n){if(!T(e))throw new TypeError;_(n)||(n=j(n));var r=d(e,n,!1);if(_(r))return!1;if(!r["delete"](t))return!1;if(r.size>0)return!0;var o=R.get(e);return o["delete"](n),o.size>0?!0:(R["delete"](e),!0)}function p(t,e){for(var n=t.length-1;n>=0;--n){var r=t[n],o=r(e);if(!_(o)){if(!P(o))throw new TypeError;e=o}}return e}function l(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=t[o],a=i(e,n,r);if(!_(a)){if(!T(a))throw new TypeError;r=a}}return r}function h(t,e,n){for(var r=t.length-1;r>=0;--r){var o=t[r];o(e,n)}}function d(t,e,n){var r=R.get(t);if(!r){if(!n)return;r=new F,R.set(t,r)}var o=r.get(e);if(!o){if(!n)return;o=new F,r.set(e,o)}return o}function y(t,e,n){var r=v(t,e,n);if(r)return!0;var o=M(e);return null!==o?y(t,o,n):!1}function v(t,e,n){var r=d(e,n,!1);return void 0===r?!1:Boolean(r.has(t))}function m(t,e,n){var r=v(t,e,n);if(r)return g(t,e,n);var o=M(e);return null!==o?m(t,o,n):void 0}function g(t,e,n){var r=d(e,n,!1);if(void 0!==r)return r.get(t)}function b(t,e,n,r){var o=d(n,r,!0);o.set(t,e)}function w(t,e){var n=k(t,e),r=M(t);if(null===r)return n;var o=w(r,e);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new L,a=[],u=0;u<n.length;u++){var c=n[u],s=i.has(c);s||(i.add(c),a.push(c))}for(var f=0;f<o.length;f++){var c=o[f],s=i.has(c);s||(i.add(c),a.push(c))}return a}function k(t,e){var n=d(t,e,!1),r=[];return n&&n.forEach(function(t,e){return r.push(e)}),r}function _(t){return void 0===t}function E(t){return Array.isArray(t)}function T(t){return"object"==typeof t?null!==t:"function"==typeof t}function P(t){return"function"==typeof t}function O(t){return"symbol"==typeof t}function j(t){return O(t)?t:String(t)}function M(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===x)return e;if(e!==x)return e;var n=t.prototype,r=Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o?e:o===t?e:o}function S(){function t(){this._keys=[],this._values=[],this._cache=e}var e={};return t.prototype={get size(){return this._keys.length},has:function(t){return t===this._cache?!0:this._find(t)>=0?(this._cache=t,!0):!1},get:function(t){var e=this._find(t);return e>=0?(this._cache=t,this._values[e]):void 0},set:function(t,e){return this["delete"](t),this._keys.push(t),this._values.push(e),this._cache=t,this},"delete":function(t){var n=this._find(t);return n>=0?(this._keys.splice(n,1),this._values.splice(n,1),this._cache=e,!0):!1},clear:function(){this._keys.length=0,this._values.length=0,this._cache=e},forEach:function(t,e){for(var n=this.size,r=0;n>r;++r){var o=this._keys[r],i=this._values[r];this._cache=o,t.call(this,i,o,this)}},_find:function(t){for(var e=this._keys,n=e.length,r=0;n>r;++r)if(e[r]===t)return r;return-1}},t}function A(){function t(){this._map=new F}return t.prototype={get size(){return this._map.length},has:function(t){return this._map.has(t)},add:function(t){return this._map.set(t,t),this},"delete":function(t){return this._map["delete"](t)},clear:function(){this._map.clear()},forEach:function(t,e){this._map.forEach(t,e)}},t}function z(){function t(){this._key=o()}function e(t,e){for(var n=0;e>n;++n)t[n]=255*Math.random()|0}function n(t){if(c){var n=c.randomBytes(t);return n}if("function"==typeof Uint8Array){var n=new Uint8Array(t);return"undefined"!=typeof crypto?crypto.getRandomValues(n):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(n):e(n,t),n}var n=new Array(t);return e(n,t),n}function r(){var t=n(a);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",r=0;a>r;++r){var o=t[r];(4===r||6===r||8===r)&&(e+="-"),16>o&&(e+="0"),e+=o.toString(16).toLowerCase()}return e}function o(){var t;do t="@@WeakMap@@"+r();while(s.call(f,t));return f[t]=!0,t}function i(t,e){if(!s.call(t,p)){if(!e)return;Object.defineProperty(t,p,{value:Object.create(null)})}return t[p]}var a=16,u="undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process),c=u&&require("crypto"),s=Object.prototype.hasOwnProperty,f={},p=o();return t.prototype={has:function(t){var e=i(t,!1);return e?this._key in e:!1},get:function(t){var e=i(t,!1);return e?e[this._key]:void 0},set:function(t,e){var n=i(t,!0);return n[this._key]=e,this},"delete":function(t){var e=i(t,!1);return e&&this._key in e?delete e[this._key]:!1},clear:function(){this._key=o()}},t}var x=Object.getPrototypeOf(Function),F="function"==typeof Map?Map:S(),L="function"==typeof Set?Set:A(),C="function"==typeof WeakMap?WeakMap:z(),R=new C;t.decorate=e,t.metadata=n,t.defineMetadata=r,t.hasMetadata=o,t.hasOwnMetadata=i,t.getMetadata=a,t.getOwnMetadata=u,t.getMetadataKeys=c,t.getOwnMetadataKeys=s,t.deleteMetadata=f,function(e){if("undefined"!=typeof e.Reflect){if(e.Reflect!==t)for(var n in t)e.Reflect[n]=t[n]}else e.Reflect=t}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof global?global:Function("return this;")())}(Reflect||(Reflect={}));"format register";System.register("rxjs/util/noop",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function noop(){}exports.noop=noop;global.define=__define;return module.exports});System.register("rxjs/util/throwError",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function throwError(e){throw e}exports.throwError=throwError;global.define=__define;return module.exports});System.register("rxjs/util/tryOrOnError",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function tryOrOnError(target){function tryCatcher(){try{tryCatcher.target.apply(this,arguments)}catch(e){this.error(e)}}tryCatcher.target=target;return tryCatcher}exports.tryOrOnError=tryOrOnError;global.define=__define;return module.exports});System.register("rxjs/Subscription",["rxjs/util/noop"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var noop_1=require("rxjs/util/noop");var Subscription=function(){function Subscription(_unsubscribe){this.isUnsubscribed=false;if(_unsubscribe){this._unsubscribe=_unsubscribe;
}}Subscription.prototype._unsubscribe=function(){noop_1.noop()};Subscription.prototype.unsubscribe=function(){if(this.isUnsubscribed){return}this.isUnsubscribed=true;var unsubscribe=this._unsubscribe;var subscriptions=this._subscriptions;this._subscriptions=void 0;if(unsubscribe){unsubscribe.call(this)}if(subscriptions!=null){var index=-1;var len=subscriptions.length;while(++index<len){subscriptions[index].unsubscribe()}}};Subscription.prototype.add=function(subscription){if(!subscription||subscription===this||subscription===Subscription.EMPTY){return}var sub=subscription;switch(typeof subscription){case"function":sub=new Subscription(subscription);case"object":if(sub.isUnsubscribed||typeof sub.unsubscribe!=="function"){break}else if(this.isUnsubscribed){sub.unsubscribe()}else{var subscriptions=this._subscriptions||(this._subscriptions=[]);subscriptions.push(sub)}break;default:throw new Error("Unrecognized subscription "+subscription+" added to Subscription.")}};Subscription.prototype.remove=function(subscription){if(subscription==null||subscription===this||subscription===Subscription.EMPTY){return}var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);if(subscriptionIndex!==-1){subscriptions.splice(subscriptionIndex,1)}}};Subscription.EMPTY=function(empty){empty.isUnsubscribed=true;return empty}(new Subscription);return Subscription}();exports.Subscription=Subscription;global.define=__define;return module.exports});System.register("rxjs/util/root",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var objectTypes={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var freeGlobal=objectTypes[typeof global]&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)){exports.root=freeGlobal}global.define=__define;return module.exports});System.register("rxjs/subject/SubjectSubscription",["rxjs/Subscription","rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscription_1=require("rxjs/Subscription");var Subscriber_1=require("rxjs/Subscriber");var SubjectSubscription=function(_super){__extends(SubjectSubscription,_super);function SubjectSubscription(subject,observer){_super.call(this);this.subject=subject;this.observer=observer;this.isUnsubscribed=false}SubjectSubscription.prototype.unsubscribe=function(){if(this.isUnsubscribed){return}this.isUnsubscribed=true;var subject=this.subject;var observers=subject.observers;this.subject=void 0;if(!observers||observers.length===0||subject.isUnsubscribed){return}if(this.observer instanceof Subscriber_1.Subscriber){this.observer.unsubscribe()}var subscriberIndex=observers.indexOf(this.observer);if(subscriberIndex!==-1){observers.splice(subscriberIndex,1)}};return SubjectSubscription}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription;global.define=__define;return module.exports});System.register("rxjs/util/errorObject",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;exports.errorObject={e:{}};global.define=__define;return module.exports});System.register("rxjs/observable/throw",["rxjs/Observable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var ErrorObservable=function(_super){__extends(ErrorObservable,_super);function ErrorObservable(error,scheduler){_super.call(this);this.error=error;this.scheduler=scheduler}ErrorObservable.create=function(error,scheduler){return new ErrorObservable(error,scheduler)};ErrorObservable.dispatch=function(_a){var error=_a.error,subscriber=_a.subscriber;subscriber.error(error)};ErrorObservable.prototype._subscribe=function(subscriber){var error=this.error;var scheduler=this.scheduler;if(scheduler){subscriber.add(scheduler.schedule(ErrorObservable.dispatch,0,{error:error,subscriber:subscriber}))}else{subscriber.error(error)}};return ErrorObservable}(Observable_1.Observable);exports.ErrorObservable=ErrorObservable;global.define=__define;return module.exports});System.register("rxjs/observable/empty",["rxjs/Observable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var EmptyObservable=function(_super){__extends(EmptyObservable,_super);function EmptyObservable(scheduler){_super.call(this);this.scheduler=scheduler}EmptyObservable.create=function(scheduler){return new EmptyObservable(scheduler)};EmptyObservable.dispatch=function(_a){var subscriber=_a.subscriber;subscriber.complete()};EmptyObservable.prototype._subscribe=function(subscriber){var scheduler=this.scheduler;if(scheduler){subscriber.add(scheduler.schedule(EmptyObservable.dispatch,0,{subscriber:subscriber}))}else{subscriber.complete()}};return EmptyObservable}(Observable_1.Observable);exports.EmptyObservable=EmptyObservable;global.define=__define;return module.exports});System.register("rxjs/util/isScheduler",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function isScheduler(value){return value&&typeof value.schedule==="function"}exports.isScheduler=isScheduler;global.define=__define;return module.exports});System.register("rxjs/OuterSubscriber",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var OuterSubscriber=function(_super){__extends(OuterSubscriber,_super);function OuterSubscriber(){_super.apply(this,arguments)}OuterSubscriber.prototype.notifyComplete=function(inner){this.destination.complete()};OuterSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.destination.next(innerValue)};OuterSubscriber.prototype.notifyError=function(error,inner){this.destination.error(error)};return OuterSubscriber}(Subscriber_1.Subscriber);exports.OuterSubscriber=OuterSubscriber;global.define=__define;return module.exports});System.register("rxjs/InnerSubscriber",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var InnerSubscriber=function(_super){__extends(InnerSubscriber,_super);function InnerSubscriber(parent,outerValue,outerIndex){_super.call(this);this.parent=parent;this.outerValue=outerValue;this.outerIndex=outerIndex;this.index=0}InnerSubscriber.prototype._next=function(value){var index=this.index++;this.parent.notifyNext(this.outerValue,value,this.outerIndex,index)};InnerSubscriber.prototype._error=function(error){this.parent.notifyError(error,this)};InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this)};return InnerSubscriber}(Subscriber_1.Subscriber);exports.InnerSubscriber=InnerSubscriber;global.define=__define;return module.exports});System.register("rxjs/util/isArray",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;exports.isArray=Array.isArray||function(x){return x&&typeof x.length==="number"};global.define=__define;return module.exports});System.register("rxjs/scheduler/QueueAction",["rxjs/Subscription"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscription_1=require("rxjs/Subscription");var QueueAction=function(_super){__extends(QueueAction,_super);function QueueAction(scheduler,work){_super.call(this);this.scheduler=scheduler;this.work=work}QueueAction.prototype.schedule=function(state){if(this.isUnsubscribed){return this}this.state=state;var scheduler=this.scheduler;scheduler.actions.push(this);scheduler.flush();return this};QueueAction.prototype.execute=function(){if(this.isUnsubscribed){throw new Error("How did did we execute a canceled Action?")}this.work(this.state)};QueueAction.prototype.unsubscribe=function(){var scheduler=this.scheduler;var actions=scheduler.actions;var index=actions.indexOf(this);this.work=void 0;this.state=void 0;this.scheduler=void 0;if(index!==-1){actions.splice(index,1)}_super.prototype.unsubscribe.call(this)};return QueueAction}(Subscription_1.Subscription);exports.QueueAction=QueueAction;global.define=__define;return module.exports});System.register("rxjs/scheduler/FutureAction",["rxjs/scheduler/QueueAction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var QueueAction_1=require("rxjs/scheduler/QueueAction");var FutureAction=function(_super){__extends(FutureAction,_super);function FutureAction(scheduler,work){_super.call(this,scheduler,work);this.scheduler=scheduler;this.work=work}FutureAction.prototype.schedule=function(state,delay){var _this=this;if(delay===void 0){delay=0}if(this.isUnsubscribed){return this}this.delay=delay;this.state=state;var id=this.id;if(id!=null){this.id=undefined;clearTimeout(id)}var scheduler=this.scheduler;this.id=setTimeout(function(){_this.id=void 0;scheduler.actions.push(_this);scheduler.flush()},this.delay);return this};FutureAction.prototype.unsubscribe=function(){var id=this.id;if(id!=null){this.id=void 0;clearTimeout(id)}_super.prototype.unsubscribe.call(this)};return FutureAction}(QueueAction_1.QueueAction);exports.FutureAction=FutureAction;global.define=__define;return module.exports});System.register("rxjs/operator/mergeAll-support",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");var MergeAllOperator=function(){function MergeAllOperator(concurrent){this.concurrent=concurrent}MergeAllOperator.prototype.call=function(observer){return new MergeAllSubscriber(observer,this.concurrent)};return MergeAllOperator}();exports.MergeAllOperator=MergeAllOperator;var MergeAllSubscriber=function(_super){__extends(MergeAllSubscriber,_super);function MergeAllSubscriber(destination,concurrent){_super.call(this,destination);this.concurrent=concurrent;this.hasCompleted=false;this.buffer=[];this.active=0}MergeAllSubscriber.prototype._next=function(observable){if(this.active<this.concurrent){if(observable._isScalar){this.destination.next(observable.value)}else{this.active++;this.add(subscribeToResult_1.subscribeToResult(this,observable))}}else{this.buffer.push(observable)}};MergeAllSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete()}};MergeAllSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift())}else if(this.active===0&&this.hasCompleted){this.destination.complete()}};return MergeAllSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeAllSubscriber=MergeAllSubscriber;global.define=__define;return module.exports});System.register("rxjs/operator/merge-static",["rxjs/observable/fromArray","rxjs/operator/mergeAll-support","rxjs/scheduler/queue","rxjs/util/isScheduler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var fromArray_1=require("rxjs/observable/fromArray");var mergeAll_support_1=require("rxjs/operator/mergeAll-support");var queue_1=require("rxjs/scheduler/queue");var isScheduler_1=require("rxjs/util/isScheduler");function merge(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}var concurrent=Number.POSITIVE_INFINITY;var scheduler=queue_1.queue;var last=observables[observables.length-1];if(isScheduler_1.isScheduler(last)){scheduler=observables.pop();if(observables.length>1&&typeof observables[observables.length-1]==="number"){concurrent=observables.pop()}}else if(typeof last==="number"){concurrent=observables.pop()}if(observables.length===1){return observables[0]}return new fromArray_1.ArrayObservable(observables,scheduler).lift(new mergeAll_support_1.MergeAllOperator(concurrent))}exports.merge=merge;global.define=__define;return module.exports});System.register("rxjs/subject/AsyncSubject",["rxjs/Subject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subject_1=require("rxjs/Subject");var AsyncSubject=function(_super){__extends(AsyncSubject,_super);function AsyncSubject(){_super.call(this);this._value=void 0;this._hasNext=false;this._isScalar=false}AsyncSubject.prototype._subscribe=function(subscriber){if(this.completeSignal&&this._hasNext){subscriber.next(this._value)}return _super.prototype._subscribe.call(this,subscriber)};AsyncSubject.prototype._next=function(value){this._value=value;this._hasNext=true};AsyncSubject.prototype._complete=function(){var index=-1;var observers=this.observers;var len=observers.length;this.observers=void 0;this.isUnsubscribed=true;if(this._hasNext){while(++index<len){var o=observers[index];o.next(this._value);o.complete()}}else{while(++index<len){observers[index].complete()}}this.isUnsubscribed=false};return AsyncSubject}(Subject_1.Subject);exports.AsyncSubject=AsyncSubject;global.define=__define;return module.exports});System.register("rxjs/observable/defer",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var DeferObservable=function(_super){__extends(DeferObservable,_super);function DeferObservable(observableFactory){_super.call(this);this.observableFactory=observableFactory}DeferObservable.create=function(observableFactory){return new DeferObservable(observableFactory)};DeferObservable.prototype._subscribe=function(subscriber){var result=tryCatch_1.tryCatch(this.observableFactory)();if(result===errorObject_1.errorObject){subscriber.error(errorObject_1.errorObject.e)}else{result.subscribe(subscriber)}};return DeferObservable}(Observable_1.Observable);exports.DeferObservable=DeferObservable;global.define=__define;return module.exports});System.register("rxjs/add/observable/empty",["rxjs/Observable","rxjs/observable/empty"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var empty_1=require("rxjs/observable/empty");Observable_1.Observable.empty=empty_1.EmptyObservable.create;global.define=__define;return module.exports});System.register("rxjs/observable/fromPromise",["rxjs/Observable","rxjs/Subscription","rxjs/scheduler/queue"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var Subscription_1=require("rxjs/Subscription");var queue_1=require("rxjs/scheduler/queue");var PromiseObservable=function(_super){__extends(PromiseObservable,_super);function PromiseObservable(promise,scheduler){if(scheduler===void 0){scheduler=queue_1.queue}_super.call(this);this.promise=promise;this.scheduler=scheduler;this._isScalar=false}PromiseObservable.create=function(promise,scheduler){if(scheduler===void 0){scheduler=queue_1.queue}return new PromiseObservable(promise,scheduler)};PromiseObservable.prototype._subscribe=function(subscriber){var _this=this;var scheduler=this.scheduler;var promise=this.promise;if(scheduler===queue_1.queue){if(this._isScalar){subscriber.next(this.value);subscriber.complete()}else{promise.then(function(value){_this._isScalar=true;_this.value=value;subscriber.next(value);subscriber.complete()},function(err){return subscriber.error(err)}).then(null,function(err){setTimeout(function(){throw err})})}}else{var subscription=new Subscription_1.Subscription;if(this._isScalar){var value=this.value;subscription.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))}else{promise.then(function(value){_this._isScalar=true;_this.value=value;subscription.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))},function(err){return subscription.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}))}).then(null,function(err){scheduler.schedule(function(){throw err})})}return subscription}};return PromiseObservable}(Observable_1.Observable);exports.PromiseObservable=PromiseObservable;function dispatchNext(_a){var value=_a.value,subscriber=_a.subscriber;subscriber.next(value);subscriber.complete()}function dispatchError(_a){var err=_a.err,subscriber=_a.subscriber;subscriber.error(err)}global.define=__define;return module.exports});System.register("rxjs/util/isPromise",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function isPromise(value){return value&&typeof value.subscribe!=="function"&&typeof value.then==="function"}exports.isPromise=isPromise;global.define=__define;return module.exports});System.register("rxjs/observable/IteratorObservable",["rxjs/Observable","rxjs/util/root","rxjs/util/SymbolShim","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var root_1=require("rxjs/util/root");var SymbolShim_1=require("rxjs/util/SymbolShim");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var IteratorObservable=function(_super){__extends(IteratorObservable,_super);function IteratorObservable(iterator,project,thisArg,scheduler){_super.call(this);this.project=project;this.thisArg=thisArg;this.scheduler=scheduler;if(iterator==null){throw new Error("iterator cannot be null.")}if(project&&typeof project!=="function"){throw new Error("When provided, `project` must be a function.")}this.iterator=getIterator(iterator)}IteratorObservable.create=function(iterator,project,thisArg,scheduler){return new IteratorObservable(iterator,project,thisArg,scheduler)};IteratorObservable.dispatch=function(state){var index=state.index,hasError=state.hasError,thisArg=state.thisArg,project=state.project,iterator=state.iterator,subscriber=state.subscriber;if(hasError){subscriber.error(state.error);return}var result=iterator.next();if(result.done){subscriber.complete();return}if(project){result=tryCatch_1.tryCatch(project).call(thisArg,result.value,index);if(result===errorObject_1.errorObject){state.error=errorObject_1.errorObject.e;state.hasError=true}else{subscriber.next(result);state.index=index+1}}else{subscriber.next(result.value);state.index=index+1}if(subscriber.isUnsubscribed){return}this.schedule(state)};IteratorObservable.prototype._subscribe=function(subscriber){var index=0;var _a=this,iterator=_a.iterator,project=_a.project,thisArg=_a.thisArg,scheduler=_a.scheduler;if(scheduler){subscriber.add(scheduler.schedule(IteratorObservable.dispatch,0,{index:index,thisArg:thisArg,project:project,iterator:iterator,subscriber:subscriber}))}else{do{var result=iterator.next();if(result.done){subscriber.complete();break}else if(project){result=tryCatch_1.tryCatch(project).call(thisArg,result.value,index++);if(result===errorObject_1.errorObject){subscriber.error(errorObject_1.errorObject.e);break}subscriber.next(result)}else{subscriber.next(result.value)}if(subscriber.isUnsubscribed){break}}while(true)}};return IteratorObservable}(Observable_1.Observable);exports.IteratorObservable=IteratorObservable;var StringIterator=function(){function StringIterator(str,idx,len){if(idx===void 0){idx=0}if(len===void 0){len=str.length}this.str=str;this.idx=idx;this.len=len}StringIterator.prototype[SymbolShim_1.SymbolShim.iterator]=function(){return this};StringIterator.prototype.next=function(){return this.idx<this.len?{done:false,value:this.str.charAt(this.idx++)}:{done:true,value:undefined}};return StringIterator}();var ArrayIterator=function(){function ArrayIterator(arr,idx,len){if(idx===void 0){idx=0}if(len===void 0){len=toLength(arr)}this.arr=arr;this.idx=idx;this.len=len}ArrayIterator.prototype[SymbolShim_1.SymbolShim.iterator]=function(){return this};ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:false,value:this.arr[this.idx++]}:{done:true,value:undefined}};return ArrayIterator}();function getIterator(obj){var i=obj[SymbolShim_1.SymbolShim.iterator];if(!i&&typeof obj==="string"){return new StringIterator(obj)}if(!i&&obj.length!==undefined){return new ArrayIterator(obj)}if(!i){throw new TypeError("Object is not iterable")}return obj[SymbolShim_1.SymbolShim.iterator]()}var maxSafeInteger=Math.pow(2,53)-1;function toLength(o){var len=+o.length;if(isNaN(len)){return 0}if(len===0||!numberIsFinite(len)){return len}len=sign(len)*Math.floor(Math.abs(len));if(len<=0){return 0}if(len>maxSafeInteger){return maxSafeInteger}return len}function numberIsFinite(value){return typeof value==="number"&&root_1.root.isFinite(value)}function sign(value){var valueAsNumber=+value;if(valueAsNumber===0){return valueAsNumber}if(isNaN(valueAsNumber)){return valueAsNumber}return valueAsNumber<0?-1:1}global.define=__define;return module.exports});System.register("rxjs/Notification",["rxjs/Observable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var Notification=function(){function Notification(kind,value,exception){this.kind=kind;this.value=value;this.exception=exception;this.hasValue=kind==="N"}Notification.prototype.observe=function(observer){switch(this.kind){case"N":return observer.next(this.value);case"E":return observer.error(this.exception);case"C":return observer.complete()}};Notification.prototype.do=function(next,error,complete){var kind=this.kind;switch(kind){case"N":return next(this.value);case"E":return error(this.exception);case"C":return complete()}};Notification.prototype.accept=function(nextOrObserver,error,complete){if(nextOrObserver&&typeof nextOrObserver.next==="function"){return this.observe(nextOrObserver)}else{return this.do(nextOrObserver,error,complete)}};Notification.prototype.toObservable=function(){var kind=this.kind;switch(kind){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable.throw(this.exception);case"C":return Observable_1.Observable.empty()}};Notification.createNext=function(value){if(typeof value!=="undefined"){return new Notification("N",value)}return this.undefinedValueNotification};Notification.createError=function(err){return new Notification("E",undefined,err)};Notification.createComplete=function(){return this.completeNotification};Notification.completeNotification=new Notification("C");Notification.undefinedValueNotification=new Notification("N",undefined);return Notification}();exports.Notification=Notification;global.define=__define;return module.exports});System.register("rxjs/add/observable/fromArray",["rxjs/Observable","rxjs/observable/fromArray"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var fromArray_1=require("rxjs/observable/fromArray");Observable_1.Observable.fromArray=fromArray_1.ArrayObservable.create;Observable_1.Observable.of=fromArray_1.ArrayObservable.of;global.define=__define;return module.exports});System.register("rxjs/observable/fromEvent",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/Subscription"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var Subscription_1=require("rxjs/Subscription");var FromEventObservable=function(_super){__extends(FromEventObservable,_super);function FromEventObservable(sourceObj,eventName,selector){_super.call(this);this.sourceObj=sourceObj;this.eventName=eventName;this.selector=selector}FromEventObservable.create=function(sourceObj,eventName,selector){return new FromEventObservable(sourceObj,eventName,selector)};FromEventObservable.setupSubscription=function(sourceObj,eventName,handler,subscriber){var unsubscribe;var tag=sourceObj.toString();if(tag==="[object NodeList]"||tag==="[object HTMLCollection]"){for(var i=0,len=sourceObj.length;i<len;i++){FromEventObservable.setupSubscription(sourceObj[i],eventName,handler,subscriber)}}else if(typeof sourceObj.addEventListener==="function"&&typeof sourceObj.removeEventListener==="function"){sourceObj.addEventListener(eventName,handler);unsubscribe=function(){return sourceObj.removeEventListener(eventName,handler)}}else if(typeof sourceObj.on==="function"&&typeof sourceObj.off==="function"){sourceObj.on(eventName,handler);unsubscribe=function(){return sourceObj.off(eventName,handler)}}else if(typeof sourceObj.addListener==="function"&&typeof sourceObj.removeListener==="function"){sourceObj.addListener(eventName,handler);unsubscribe=function(){return sourceObj.removeListener(eventName,handler)}}subscriber.add(new Subscription_1.Subscription(unsubscribe))};FromEventObservable.prototype._subscribe=function(subscriber){var sourceObj=this.sourceObj;var eventName=this.eventName;var selector=this.selector;var handler=selector?function(e){var result=tryCatch_1.tryCatch(selector)(e);if(result===errorObject_1.errorObject){subscriber.error(result.e)}else{subscriber.next(result)}}:function(e){return subscriber.next(e)};FromEventObservable.setupSubscription(sourceObj,eventName,handler,subscriber)};return FromEventObservable}(Observable_1.Observable);exports.FromEventObservable=FromEventObservable;global.define=__define;return module.exports});System.register("rxjs/observable/fromEventPattern",["rxjs/Observable","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var Subscription_1=require("rxjs/Subscription");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var FromEventPatternObservable=function(_super){__extends(FromEventPatternObservable,_super);function FromEventPatternObservable(addHandler,removeHandler,selector){_super.call(this);this.addHandler=addHandler;this.removeHandler=removeHandler;this.selector=selector}FromEventPatternObservable.create=function(addHandler,removeHandler,selector){return new FromEventPatternObservable(addHandler,removeHandler,selector)};FromEventPatternObservable.prototype._subscribe=function(subscriber){var addHandler=this.addHandler;var removeHandler=this.removeHandler;var selector=this.selector;var handler=selector?function(e){var result=tryCatch_1.tryCatch(selector).apply(null,arguments);if(result===errorObject_1.errorObject){subscriber.error(result.e)}else{subscriber.next(result)}}:function(e){subscriber.next(e)};var result=tryCatch_1.tryCatch(addHandler)(handler);if(result===errorObject_1.errorObject){subscriber.error(result.e)}subscriber.add(new Subscription_1.Subscription(function(){removeHandler(handler)}))};return FromEventPatternObservable}(Observable_1.Observable);exports.FromEventPatternObservable=FromEventPatternObservable;global.define=__define;return module.exports});System.register("rxjs/add/observable/fromPromise",["rxjs/Observable","rxjs/observable/fromPromise"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var fromPromise_1=require("rxjs/observable/fromPromise");Observable_1.Observable.fromPromise=fromPromise_1.PromiseObservable.create;global.define=__define;return module.exports});System.register("rxjs/util/isNumeric",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var is_array=Array.isArray;function isNumeric(val){return!is_array(val)&&val-parseFloat(val)+1>=0}exports.isNumeric=isNumeric;global.define=__define;return module.exports});System.register("rxjs/util/Immediate",["rxjs/util/root"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var root_1=require("rxjs/util/root");var ImmediateDefinition=function(){function ImmediateDefinition(root){this.root=root;if(root.setImmediate){this.setImmediate=root.setImmediate;this.clearImmediate=root.clearImmediate}else{this.nextHandle=1;this.tasksByHandle={};
this.currentlyRunningATask=false;if(this.canUseProcessNextTick()){this.setImmediate=this.createProcessNextTickSetImmediate()}else if(this.canUsePostMessage()){this.setImmediate=this.createPostMessageSetImmediate()}else if(this.canUseMessageChannel()){this.setImmediate=this.createMessageChannelSetImmediate()}else if(this.canUseReadyStateChange()){this.setImmediate=this.createReadyStateChangeSetImmediate()}else{this.setImmediate=this.createSetTimeoutSetImmediate()}var ci=function clearImmediate(handle){delete clearImmediate.instance.tasksByHandle[handle]};ci.instance=this;this.clearImmediate=ci}}ImmediateDefinition.prototype.identify=function(o){return this.root.Object.prototype.toString.call(o)};ImmediateDefinition.prototype.canUseProcessNextTick=function(){return this.identify(this.root.process)==="[object process]"};ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)};ImmediateDefinition.prototype.canUseReadyStateChange=function(){var document=this.root.document;return Boolean(document&&"onreadystatechange"in document.createElement("script"))};ImmediateDefinition.prototype.canUsePostMessage=function(){var root=this.root;if(root.postMessage&&!root.importScripts){var postMessageIsAsynchronous=true;var oldOnMessage=root.onmessage;root.onmessage=function(){postMessageIsAsynchronous=false};root.postMessage("","*");root.onmessage=oldOnMessage;return postMessageIsAsynchronous}return false};ImmediateDefinition.prototype.partiallyApplied=function(handler){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var fn=function result(){var _a=result,handler=_a.handler,args=_a.args;if(typeof handler==="function"){handler.apply(undefined,args)}else{new Function(""+handler)()}};fn.handler=handler;fn.args=args;return fn};ImmediateDefinition.prototype.addFromSetImmediateArguments=function(args){this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(undefined,args);return this.nextHandle++};ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance;var handle=instance.addFromSetImmediateArguments(arguments);instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent,handle));return handle};fn.instance=this;return fn};ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var root=this.root;var messagePrefix="setImmediate$"+root.Math.random()+"$";var onGlobalMessage=function globalMessageHandler(event){var instance=globalMessageHandler.instance;if(event.source===root&&typeof event.data==="string"&&event.data.indexOf(messagePrefix)===0){instance.runIfPresent(+event.data.slice(messagePrefix.length))}};onGlobalMessage.instance=this;root.addEventListener("message",onGlobalMessage,false);var fn=function setImmediate(){var _a=setImmediate,messagePrefix=_a.messagePrefix,instance=_a.instance;var handle=instance.addFromSetImmediateArguments(arguments);instance.root.postMessage(messagePrefix+handle,"*");return handle};fn.instance=this;fn.messagePrefix=messagePrefix;return fn};ImmediateDefinition.prototype.runIfPresent=function(handle){if(this.currentlyRunningATask){this.root.setTimeout(this.partiallyApplied(this.runIfPresent,handle),0)}else{var task=this.tasksByHandle[handle];if(task){this.currentlyRunningATask=true;try{task()}finally{this.clearImmediate(handle);this.currentlyRunningATask=false}}}};ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var _this=this;var channel=new this.root.MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;_this.runIfPresent(handle)};var fn=function setImmediate(){var _a=setImmediate,channel=_a.channel,instance=_a.instance;var handle=instance.addFromSetImmediateArguments(arguments);channel.port2.postMessage(handle);return handle};fn.channel=channel;fn.instance=this;return fn};ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance;var root=instance.root;var doc=root.document;var html=doc.documentElement;var handle=instance.addFromSetImmediateArguments(arguments);var script=doc.createElement("script");script.onreadystatechange=function(){instance.runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};html.appendChild(script);return handle};fn.instance=this;return fn};ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance;var handle=instance.addFromSetImmediateArguments(arguments);instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent,handle),0);return handle};fn.instance=this;return fn};return ImmediateDefinition}();exports.ImmediateDefinition=ImmediateDefinition;exports.Immediate=new ImmediateDefinition(root_1.root);global.define=__define;return module.exports});System.register("rxjs/observable/never",["rxjs/Observable","rxjs/util/noop"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var noop_1=require("rxjs/util/noop");var InfiniteObservable=function(_super){__extends(InfiniteObservable,_super);function InfiniteObservable(){_super.call(this)}InfiniteObservable.create=function(){return new InfiniteObservable};InfiniteObservable.prototype._subscribe=function(subscriber){noop_1.noop()};return InfiniteObservable}(Observable_1.Observable);exports.InfiniteObservable=InfiniteObservable;global.define=__define;return module.exports});System.register("rxjs/observable/range",["rxjs/Observable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var RangeObservable=function(_super){__extends(RangeObservable,_super);function RangeObservable(start,end,scheduler){_super.call(this);this.start=start;this.end=end;this.scheduler=scheduler}RangeObservable.create=function(start,end,scheduler){if(start===void 0){start=0}if(end===void 0){end=0}return new RangeObservable(start,end,scheduler)};RangeObservable.dispatch=function(state){var start=state.start,index=state.index,end=state.end,subscriber=state.subscriber;if(index>=end){subscriber.complete();return}subscriber.next(start);if(subscriber.isUnsubscribed){return}state.index=index+1;state.start=start+1;this.schedule(state)};RangeObservable.prototype._subscribe=function(subscriber){var index=0;var start=this.start;var end=this.end;var scheduler=this.scheduler;if(scheduler){subscriber.add(scheduler.schedule(RangeObservable.dispatch,0,{index:index,end:end,start:start,subscriber:subscriber}))}else{do{if(index++>=end){subscriber.complete();break}subscriber.next(start++);if(subscriber.isUnsubscribed){break}}while(true)}};return RangeObservable}(Observable_1.Observable);exports.RangeObservable=RangeObservable;global.define=__define;return module.exports});System.register("rxjs/add/observable/throw",["rxjs/Observable","rxjs/observable/throw"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var throw_1=require("rxjs/observable/throw");Observable_1.Observable.throw=throw_1.ErrorObservable.create;global.define=__define;return module.exports});System.register("rxjs/util/isDate",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function isDate(value){return value instanceof Date&&!isNaN(+value)}exports.isDate=isDate;global.define=__define;return module.exports});System.register("rxjs/operator/zip-support",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult","rxjs/util/SymbolShim"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");var SymbolShim_1=require("rxjs/util/SymbolShim");var isArray=Array.isArray;var ZipOperator=function(){function ZipOperator(project){this.project=project}ZipOperator.prototype.call=function(subscriber){return new ZipSubscriber(subscriber,this.project)};return ZipOperator}();exports.ZipOperator=ZipOperator;var ZipSubscriber=function(_super){__extends(ZipSubscriber,_super);function ZipSubscriber(destination,project,values){if(values===void 0){values=Object.create(null)}_super.call(this,destination);this.index=0;this.iterators=[];this.active=0;this.project=typeof project==="function"?project:null;this.values=values}ZipSubscriber.prototype._next=function(value){var iterators=this.iterators;var index=this.index++;if(isArray(value)){iterators.push(new StaticArrayIterator(value))}else if(typeof value[SymbolShim_1.SymbolShim.iterator]==="function"){iterators.push(new StaticIterator(value[SymbolShim_1.SymbolShim.iterator]()))}else{iterators.push(new ZipBufferIterator(this.destination,this,value,index))}};ZipSubscriber.prototype._complete=function(){var iterators=this.iterators;var len=iterators.length;this.active=len;for(var i=0;i<len;i++){var iterator=iterators[i];if(iterator.stillUnsubscribed){iterator.subscribe(iterator,i)}else{this.active--}}};ZipSubscriber.prototype.notifyInactive=function(){this.active--;if(this.active===0){this.destination.complete()}};ZipSubscriber.prototype.checkIterators=function(){var iterators=this.iterators;var len=iterators.length;var destination=this.destination;for(var i=0;i<len;i++){var iterator=iterators[i];if(typeof iterator.hasValue==="function"&&!iterator.hasValue()){return}}var shouldComplete=false;var args=[];for(var i=0;i<len;i++){var iterator=iterators[i];var result=iterator.next();if(iterator.hasCompleted()){shouldComplete=true}if(result.done){destination.complete();return}args.push(result.value)}var project=this.project;if(project){var result=tryCatch_1.tryCatch(project).apply(this,args);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{destination.next(result)}}else{destination.next(args)}if(shouldComplete){destination.complete()}};return ZipSubscriber}(Subscriber_1.Subscriber);exports.ZipSubscriber=ZipSubscriber;var StaticIterator=function(){function StaticIterator(iterator){this.iterator=iterator;this.nextResult=iterator.next()}StaticIterator.prototype.hasValue=function(){return true};StaticIterator.prototype.next=function(){var result=this.nextResult;this.nextResult=this.iterator.next();return result};StaticIterator.prototype.hasCompleted=function(){var nextResult=this.nextResult;return nextResult&&nextResult.done};return StaticIterator}();var StaticArrayIterator=function(){function StaticArrayIterator(array){this.array=array;this.index=0;this.length=0;this.length=array.length}StaticArrayIterator.prototype[SymbolShim_1.SymbolShim.iterator]=function(){return this};StaticArrayIterator.prototype.next=function(value){var i=this.index++;var array=this.array;return i<this.length?{value:array[i],done:false}:{done:true}};StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index};StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index};return StaticArrayIterator}();var ZipBufferIterator=function(_super){__extends(ZipBufferIterator,_super);function ZipBufferIterator(destination,parent,observable,index){_super.call(this,destination);this.parent=parent;this.observable=observable;this.index=index;this.stillUnsubscribed=true;this.buffer=[];this.isComplete=false}ZipBufferIterator.prototype[SymbolShim_1.SymbolShim.iterator]=function(){return this};ZipBufferIterator.prototype.next=function(){var buffer=this.buffer;if(buffer.length===0&&this.isComplete){return{done:true}}else{return{value:buffer.shift(),done:false}}};ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0};ZipBufferIterator.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete};ZipBufferIterator.prototype.notifyComplete=function(){if(this.buffer.length>0){this.isComplete=true;this.parent.notifyInactive()}else{this.destination.complete()}};ZipBufferIterator.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.buffer.push(innerValue);this.parent.checkIterators()};ZipBufferIterator.prototype.subscribe=function(value,index){this.add(subscribeToResult_1.subscribeToResult(this,this.observable,this,index))};return ZipBufferIterator}(OuterSubscriber_1.OuterSubscriber);global.define=__define;return module.exports});System.register("rxjs/operator/buffer",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function buffer(closingNotifier){return this.lift(new BufferOperator(closingNotifier))}exports.buffer=buffer;var BufferOperator=function(){function BufferOperator(closingNotifier){this.closingNotifier=closingNotifier}BufferOperator.prototype.call=function(subscriber){return new BufferSubscriber(subscriber,this.closingNotifier)};return BufferOperator}();var BufferSubscriber=function(_super){__extends(BufferSubscriber,_super);function BufferSubscriber(destination,closingNotifier){_super.call(this,destination);this.buffer=[];this.notifierSubscriber=null;this.notifierSubscriber=new BufferClosingNotifierSubscriber(this);this.add(closingNotifier._subscribe(this.notifierSubscriber))}BufferSubscriber.prototype._next=function(value){this.buffer.push(value)};BufferSubscriber.prototype._error=function(err){this.destination.error(err)};BufferSubscriber.prototype._complete=function(){this.destination.complete()};BufferSubscriber.prototype.flushBuffer=function(){var buffer=this.buffer;this.buffer=[];this.destination.next(buffer);if(this.isUnsubscribed){this.notifierSubscriber.unsubscribe()}};return BufferSubscriber}(Subscriber_1.Subscriber);var BufferClosingNotifierSubscriber=function(_super){__extends(BufferClosingNotifierSubscriber,_super);function BufferClosingNotifierSubscriber(parent){_super.call(this,null);this.parent=parent}BufferClosingNotifierSubscriber.prototype._next=function(value){this.parent.flushBuffer()};BufferClosingNotifierSubscriber.prototype._error=function(err){this.parent.error(err)};BufferClosingNotifierSubscriber.prototype._complete=function(){this.parent.complete()};return BufferClosingNotifierSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/bufferCount",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function bufferCount(bufferSize,startBufferEvery){if(startBufferEvery===void 0){startBufferEvery=null}return this.lift(new BufferCountOperator(bufferSize,startBufferEvery))}exports.bufferCount=bufferCount;var BufferCountOperator=function(){function BufferCountOperator(bufferSize,startBufferEvery){this.bufferSize=bufferSize;this.startBufferEvery=startBufferEvery}BufferCountOperator.prototype.call=function(subscriber){return new BufferCountSubscriber(subscriber,this.bufferSize,this.startBufferEvery)};return BufferCountOperator}();var BufferCountSubscriber=function(_super){__extends(BufferCountSubscriber,_super);function BufferCountSubscriber(destination,bufferSize,startBufferEvery){_super.call(this,destination);this.bufferSize=bufferSize;this.startBufferEvery=startBufferEvery;this.buffers=[[]];this.count=0}BufferCountSubscriber.prototype._next=function(value){var count=this.count+=1;var destination=this.destination;var bufferSize=this.bufferSize;var startBufferEvery=this.startBufferEvery==null?bufferSize:this.startBufferEvery;var buffers=this.buffers;var len=buffers.length;var remove=-1;if(count%startBufferEvery===0){buffers.push([])}for(var i=0;i<len;i++){var buffer=buffers[i];buffer.push(value);if(buffer.length===bufferSize){remove=i;destination.next(buffer)}}if(remove!==-1){buffers.splice(remove,1)}};BufferCountSubscriber.prototype._error=function(err){this.destination.error(err)};BufferCountSubscriber.prototype._complete=function(){var destination=this.destination;var buffers=this.buffers;while(buffers.length>0){var buffer=buffers.shift();if(buffer.length>0){destination.next(buffer)}}destination.complete()};return BufferCountSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/bufferTime",["rxjs/Subscriber","rxjs/scheduler/asap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var asap_1=require("rxjs/scheduler/asap");function bufferTime(bufferTimeSpan,bufferCreationInterval,scheduler){if(bufferCreationInterval===void 0){bufferCreationInterval=null}if(scheduler===void 0){scheduler=asap_1.asap}return this.lift(new BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,scheduler))}exports.bufferTime=bufferTime;var BufferTimeOperator=function(){function BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,scheduler){this.bufferTimeSpan=bufferTimeSpan;this.bufferCreationInterval=bufferCreationInterval;this.scheduler=scheduler}BufferTimeOperator.prototype.call=function(subscriber){return new BufferTimeSubscriber(subscriber,this.bufferTimeSpan,this.bufferCreationInterval,this.scheduler)};return BufferTimeOperator}();var BufferTimeSubscriber=function(_super){__extends(BufferTimeSubscriber,_super);function BufferTimeSubscriber(destination,bufferTimeSpan,bufferCreationInterval,scheduler){_super.call(this,destination);this.bufferTimeSpan=bufferTimeSpan;this.bufferCreationInterval=bufferCreationInterval;this.scheduler=scheduler;this.buffers=[];var buffer=this.openBuffer();if(bufferCreationInterval!==null&&bufferCreationInterval>=0){var closeState={subscriber:this,buffer:buffer};var creationState={bufferTimeSpan:bufferTimeSpan,bufferCreationInterval:bufferCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchBufferClose,bufferTimeSpan,closeState));this.add(scheduler.schedule(dispatchBufferCreation,bufferCreationInterval,creationState))}else{var timeSpanOnlyState={subscriber:this,buffer:buffer,bufferTimeSpan:bufferTimeSpan};this.add(scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}}BufferTimeSubscriber.prototype._next=function(value){var buffers=this.buffers;var len=buffers.length;for(var i=0;i<len;i++){buffers[i].push(value)}};BufferTimeSubscriber.prototype._error=function(err){this.buffers.length=0;this.destination.error(err)};BufferTimeSubscriber.prototype._complete=function(){var buffers=this.buffers;while(buffers.length>0){this.destination.next(buffers.shift())}this.destination.complete()};BufferTimeSubscriber.prototype.openBuffer=function(){var buffer=[];this.buffers.push(buffer);return buffer};BufferTimeSubscriber.prototype.closeBuffer=function(buffer){this.destination.next(buffer);var buffers=this.buffers;buffers.splice(buffers.indexOf(buffer),1)};return BufferTimeSubscriber}(Subscriber_1.Subscriber);function dispatchBufferTimeSpanOnly(state){var subscriber=state.subscriber;var prevBuffer=state.buffer;if(prevBuffer){subscriber.closeBuffer(prevBuffer)}state.buffer=subscriber.openBuffer();if(!subscriber.isUnsubscribed){this.schedule(state,state.bufferTimeSpan)}}function dispatchBufferCreation(state){var bufferCreationInterval=state.bufferCreationInterval,bufferTimeSpan=state.bufferTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler;var buffer=subscriber.openBuffer();var action=this;if(!subscriber.isUnsubscribed){action.add(scheduler.schedule(dispatchBufferClose,bufferTimeSpan,{subscriber:subscriber,buffer:buffer}));action.schedule(state,bufferCreationInterval)}}function dispatchBufferClose(_a){var subscriber=_a.subscriber,buffer=_a.buffer;subscriber.closeBuffer(buffer)}global.define=__define;return module.exports});System.register("rxjs/operator/bufferToggle",["rxjs/Subscriber","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subscription_1=require("rxjs/Subscription");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function bufferToggle(openings,closingSelector){return this.lift(new BufferToggleOperator(openings,closingSelector))}exports.bufferToggle=bufferToggle;var BufferToggleOperator=function(){function BufferToggleOperator(openings,closingSelector){this.openings=openings;this.closingSelector=closingSelector}BufferToggleOperator.prototype.call=function(subscriber){return new BufferToggleSubscriber(subscriber,this.openings,this.closingSelector)};return BufferToggleOperator}();var BufferToggleSubscriber=function(_super){__extends(BufferToggleSubscriber,_super);function BufferToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination);this.openings=openings;this.closingSelector=closingSelector;this.contexts=[];this.add(this.openings._subscribe(new BufferToggleOpeningsSubscriber(this)))}BufferToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;var len=contexts.length;for(var i=0;i<len;i++){contexts[i].buffer.push(value)}};BufferToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;while(contexts.length>0){var context=contexts.shift();context.subscription.unsubscribe();context.buffer=null;context.subscription=null}this.contexts=null;this.destination.error(err)};BufferToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;while(contexts.length>0){var context=contexts.shift();this.destination.next(context.buffer);context.subscription.unsubscribe();context.buffer=null;context.subscription=null}this.contexts=null;this.destination.complete()};BufferToggleSubscriber.prototype.openBuffer=function(value){var closingSelector=this.closingSelector;var contexts=this.contexts;var closingNotifier=tryCatch_1.tryCatch(closingSelector)(value);if(closingNotifier===errorObject_1.errorObject){this._error(closingNotifier.e)}else{var context={buffer:[],subscription:new Subscription_1.Subscription};contexts.push(context);var subscriber=new BufferToggleClosingsSubscriber(this,context);var subscription=closingNotifier._subscribe(subscriber);context.subscription.add(subscription);this.add(subscription)}};BufferToggleSubscriber.prototype.closeBuffer=function(context){var contexts=this.contexts;if(contexts===null){return}var buffer=context.buffer,subscription=context.subscription;this.destination.next(buffer);contexts.splice(contexts.indexOf(context),1);this.remove(subscription);subscription.unsubscribe()};return BufferToggleSubscriber}(Subscriber_1.Subscriber);var BufferToggleOpeningsSubscriber=function(_super){__extends(BufferToggleOpeningsSubscriber,_super);function BufferToggleOpeningsSubscriber(parent){_super.call(this,null);this.parent=parent}BufferToggleOpeningsSubscriber.prototype._next=function(value){this.parent.openBuffer(value)};BufferToggleOpeningsSubscriber.prototype._error=function(err){this.parent.error(err)};BufferToggleOpeningsSubscriber.prototype._complete=function(){};return BufferToggleOpeningsSubscriber}(Subscriber_1.Subscriber);var BufferToggleClosingsSubscriber=function(_super){__extends(BufferToggleClosingsSubscriber,_super);function BufferToggleClosingsSubscriber(parent,context){_super.call(this,null);this.parent=parent;this.context=context}BufferToggleClosingsSubscriber.prototype._next=function(){this.parent.closeBuffer(this.context)};BufferToggleClosingsSubscriber.prototype._error=function(err){this.parent.error(err)};BufferToggleClosingsSubscriber.prototype._complete=function(){this.parent.closeBuffer(this.context)};return BufferToggleClosingsSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/bufferWhen",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function bufferWhen(closingSelector){return this.lift(new BufferWhenOperator(closingSelector))}exports.bufferWhen=bufferWhen;var BufferWhenOperator=function(){function BufferWhenOperator(closingSelector){this.closingSelector=closingSelector}BufferWhenOperator.prototype.call=function(subscriber){return new BufferWhenSubscriber(subscriber,this.closingSelector)};return BufferWhenOperator}();var BufferWhenSubscriber=function(_super){__extends(BufferWhenSubscriber,_super);function BufferWhenSubscriber(destination,closingSelector){_super.call(this,destination);this.closingSelector=closingSelector;this.openBuffer()}BufferWhenSubscriber.prototype._next=function(value){this.buffer.push(value)};BufferWhenSubscriber.prototype._error=function(err){this.buffer=null;this.destination.error(err)};BufferWhenSubscriber.prototype._complete=function(){var buffer=this.buffer;this.destination.next(buffer);this.buffer=null;this.destination.complete()};BufferWhenSubscriber.prototype.openBuffer=function(){var prevClosingNotification=this.closingNotification;if(prevClosingNotification){this.remove(prevClosingNotification);prevClosingNotification.unsubscribe()}var buffer=this.buffer;if(buffer){this.destination.next(buffer)}this.buffer=[];var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1.errorObject){var err=closingNotifier.e;this.buffer=null;this.destination.error(err)}else{this.add(this.closingNotification=closingNotifier._subscribe(new BufferClosingNotifierSubscriber(this)))}};return BufferWhenSubscriber}(Subscriber_1.Subscriber);var BufferClosingNotifierSubscriber=function(_super){__extends(BufferClosingNotifierSubscriber,_super);function BufferClosingNotifierSubscriber(parent){_super.call(this,null);this.parent=parent}BufferClosingNotifierSubscriber.prototype._next=function(){this.parent.openBuffer()};BufferClosingNotifierSubscriber.prototype._error=function(err){this.parent.error(err)};BufferClosingNotifierSubscriber.prototype._complete=function(){this.parent.openBuffer()};return BufferClosingNotifierSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/catch",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function _catch(selector){var catchOperator=new CatchOperator(selector);var caught=this.lift(catchOperator);catchOperator.caught=caught;return caught}exports._catch=_catch;var CatchOperator=function(){function CatchOperator(selector){this.selector=selector}CatchOperator.prototype.call=function(subscriber){return new CatchSubscriber(subscriber,this.selector,this.caught)};return CatchOperator}();var CatchSubscriber=function(_super){__extends(CatchSubscriber,_super);function CatchSubscriber(destination,selector,caught){_super.call(this,null);this.destination=destination;this.selector=selector;this.caught=caught;this.lastSubscription=this;this.destination.add(this)}CatchSubscriber.prototype._next=function(value){this.destination.next(value)};CatchSubscriber.prototype._error=function(err){var result=tryCatch_1.tryCatch(this.selector)(err,this.caught);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else{this.lastSubscription.unsubscribe();this.lastSubscription=result.subscribe(this.destination)}};CatchSubscriber.prototype._complete=function(){this.lastSubscription.unsubscribe();this.destination.complete()};CatchSubscriber.prototype._unsubscribe=function(){this.lastSubscription.unsubscribe()};return CatchSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/combineAll",["rxjs/operator/combineLatest-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var combineLatest_support_1=require("rxjs/operator/combineLatest-support");function combineAll(project){return this.lift(new combineLatest_support_1.CombineLatestOperator(project))}exports.combineAll=combineAll;global.define=__define;return module.exports});System.register("rxjs/operator/combineLatest",["rxjs/observable/fromArray","rxjs/operator/combineLatest-support","rxjs/util/isArray"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var fromArray_1=require("rxjs/observable/fromArray");var combineLatest_support_1=require("rxjs/operator/combineLatest-support");var isArray_1=require("rxjs/util/isArray");function combineLatest(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}var project=null;if(typeof observables[observables.length-1]==="function"){project=observables.pop()}if(observables.length===1&&isArray_1.isArray(observables[0])){observables=observables[0]}observables.unshift(this);return new fromArray_1.ArrayObservable(observables).lift(new combineLatest_support_1.CombineLatestOperator(project))}exports.combineLatest=combineLatest;global.define=__define;return module.exports});System.register("rxjs/operator/concat",["rxjs/util/isScheduler","rxjs/observable/fromArray","rxjs/operator/mergeAll-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var isScheduler_1=require("rxjs/util/isScheduler");var fromArray_1=require("rxjs/observable/fromArray");var mergeAll_support_1=require("rxjs/operator/mergeAll-support");
function concat(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}var args=observables;args.unshift(this);var scheduler=null;if(isScheduler_1.isScheduler(args[args.length-1])){scheduler=args.pop()}return new fromArray_1.ArrayObservable(args,scheduler).lift(new mergeAll_support_1.MergeAllOperator(1))}exports.concat=concat;global.define=__define;return module.exports});System.register("rxjs/operator/concatAll",["rxjs/operator/mergeAll-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var mergeAll_support_1=require("rxjs/operator/mergeAll-support");function concatAll(){return this.lift(new mergeAll_support_1.MergeAllOperator(1))}exports.concatAll=concatAll;global.define=__define;return module.exports});System.register("rxjs/operator/mergeMap-support",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/util/subscribeToResult","rxjs/OuterSubscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var subscribeToResult_1=require("rxjs/util/subscribeToResult");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var MergeMapOperator=function(){function MergeMapOperator(project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}this.project=project;this.resultSelector=resultSelector;this.concurrent=concurrent}MergeMapOperator.prototype.call=function(observer){return new MergeMapSubscriber(observer,this.project,this.resultSelector,this.concurrent)};return MergeMapOperator}();exports.MergeMapOperator=MergeMapOperator;var MergeMapSubscriber=function(_super){__extends(MergeMapSubscriber,_super);function MergeMapSubscriber(destination,project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}_super.call(this,destination);this.project=project;this.resultSelector=resultSelector;this.concurrent=concurrent;this.hasCompleted=false;this.buffer=[];this.active=0;this.index=0}MergeMapSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var index=this.index++;var ish=tryCatch_1.tryCatch(this.project)(value,index);var destination=this.destination;if(ish===errorObject_1.errorObject){destination.error(ish.e)}else{this.active++;this._innerSub(ish,value,index)}}else{this.buffer.push(value)}};MergeMapSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))};MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete()}};MergeMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,destination=_a.destination,resultSelector=_a.resultSelector;if(resultSelector){var result=tryCatch_1.tryCatch(resultSelector)(outerValue,innerValue,outerIndex,innerIndex);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{destination.next(result)}}else{destination.next(innerValue)}};MergeMapSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift())}else if(this.active===0&&this.hasCompleted){this.destination.complete()}};return MergeMapSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapSubscriber=MergeMapSubscriber;global.define=__define;return module.exports});System.register("rxjs/operator/mergeMapTo-support",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");var MergeMapToOperator=function(){function MergeMapToOperator(ish,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}this.ish=ish;this.resultSelector=resultSelector;this.concurrent=concurrent}MergeMapToOperator.prototype.call=function(observer){return new MergeMapToSubscriber(observer,this.ish,this.resultSelector,this.concurrent)};return MergeMapToOperator}();exports.MergeMapToOperator=MergeMapToOperator;var MergeMapToSubscriber=function(_super){__extends(MergeMapToSubscriber,_super);function MergeMapToSubscriber(destination,ish,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}_super.call(this,destination);this.ish=ish;this.resultSelector=resultSelector;this.concurrent=concurrent;this.hasCompleted=false;this.buffer=[];this.active=0;this.index=0}MergeMapToSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var resultSelector=this.resultSelector;var index=this.index++;var ish=this.ish;var destination=this.destination;this.active++;this._innerSub(ish,destination,resultSelector,value,index)}else{this.buffer.push(value)}};MergeMapToSubscriber.prototype._innerSub=function(ish,destination,resultSelector,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))};MergeMapToSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0&&this.buffer.length===0){this.destination.complete()}};MergeMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;if(resultSelector){var result=tryCatch_1.tryCatch(resultSelector)(outerValue,innerValue,outerIndex,innerIndex);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{destination.next(result)}}else{destination.next(innerValue)}};MergeMapToSubscriber.prototype.notifyError=function(err){this.destination.error(err)};MergeMapToSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer.length>0){this._next(buffer.shift())}else if(this.active===0&&this.hasCompleted){this.destination.complete()}};return MergeMapToSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapToSubscriber=MergeMapToSubscriber;global.define=__define;return module.exports});System.register("rxjs/operator/count",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function count(predicate){return this.lift(new CountOperator(predicate,this))}exports.count=count;var CountOperator=function(){function CountOperator(predicate,source){this.predicate=predicate;this.source=source}CountOperator.prototype.call=function(subscriber){return new CountSubscriber(subscriber,this.predicate,this.source)};return CountOperator}();var CountSubscriber=function(_super){__extends(CountSubscriber,_super);function CountSubscriber(destination,predicate,source){_super.call(this,destination);this.predicate=predicate;this.source=source;this.count=0;this.index=0}CountSubscriber.prototype._next=function(value){var predicate=this.predicate;var passed=true;if(predicate){passed=tryCatch_1.tryCatch(predicate)(value,this.index++,this.source);if(passed===errorObject_1.errorObject){this.destination.error(passed.e);return}}if(passed){this.count+=1}};CountSubscriber.prototype._complete=function(){this.destination.next(this.count);this.destination.complete()};return CountSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/dematerialize",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function dematerialize(){return this.lift(new DeMaterializeOperator)}exports.dematerialize=dematerialize;var DeMaterializeOperator=function(){function DeMaterializeOperator(){}DeMaterializeOperator.prototype.call=function(subscriber){return new DeMaterializeSubscriber(subscriber)};return DeMaterializeOperator}();var DeMaterializeSubscriber=function(_super){__extends(DeMaterializeSubscriber,_super);function DeMaterializeSubscriber(destination){_super.call(this,destination)}DeMaterializeSubscriber.prototype._next=function(value){value.observe(this.destination)};return DeMaterializeSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/debounce",["rxjs/observable/fromPromise","rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/isPromise","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var fromPromise_1=require("rxjs/observable/fromPromise");var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var isPromise_1=require("rxjs/util/isPromise");var errorObject_1=require("rxjs/util/errorObject");function debounce(durationSelector){return this.lift(new DebounceOperator(durationSelector))}exports.debounce=debounce;var DebounceOperator=function(){function DebounceOperator(durationSelector){this.durationSelector=durationSelector}DebounceOperator.prototype.call=function(observer){return new DebounceSubscriber(observer,this.durationSelector)};return DebounceOperator}();var DebounceSubscriber=function(_super){__extends(DebounceSubscriber,_super);function DebounceSubscriber(destination,durationSelector){_super.call(this,destination);this.durationSelector=durationSelector;this.debouncedSubscription=null;this.lastValue=null;this._index=0}Object.defineProperty(DebounceSubscriber.prototype,"index",{get:function(){return this._index},enumerable:true,configurable:true});DebounceSubscriber.prototype._next=function(value){var destination=this.destination;var currentIndex=++this._index;var debounce=tryCatch_1.tryCatch(this.durationSelector)(value);if(debounce===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{if(isPromise_1.isPromise(debounce)){debounce=fromPromise_1.PromiseObservable.create(debounce)}this.lastValue=value;this.clearDebounce();this.add(this.debouncedSubscription=debounce._subscribe(new DurationSelectorSubscriber(this,currentIndex)))}};DebounceSubscriber.prototype._complete=function(){this.debouncedNext();this.destination.complete()};DebounceSubscriber.prototype.debouncedNext=function(){this.clearDebounce();if(this.lastValue!=null){this.destination.next(this.lastValue);this.lastValue=null}};DebounceSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;if(debouncedSubscription){debouncedSubscription.unsubscribe();this.remove(debouncedSubscription);this.debouncedSubscription=null}};return DebounceSubscriber}(Subscriber_1.Subscriber);var DurationSelectorSubscriber=function(_super){__extends(DurationSelectorSubscriber,_super);function DurationSelectorSubscriber(parent,currentIndex){_super.call(this,null);this.parent=parent;this.currentIndex=currentIndex}DurationSelectorSubscriber.prototype.debounceNext=function(){var parent=this.parent;if(this.currentIndex===parent.index){parent.debouncedNext();if(!this.isUnsubscribed){this.unsubscribe()}}};DurationSelectorSubscriber.prototype._next=function(unused){this.debounceNext()};DurationSelectorSubscriber.prototype._error=function(err){this.parent.error(err)};DurationSelectorSubscriber.prototype._complete=function(){this.debounceNext()};return DurationSelectorSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/debounceTime",["rxjs/Subscriber","rxjs/scheduler/asap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var asap_1=require("rxjs/scheduler/asap");function debounceTime(dueTime,scheduler){if(scheduler===void 0){scheduler=asap_1.asap}return this.lift(new DebounceTimeOperator(dueTime,scheduler))}exports.debounceTime=debounceTime;var DebounceTimeOperator=function(){function DebounceTimeOperator(dueTime,scheduler){this.dueTime=dueTime;this.scheduler=scheduler}DebounceTimeOperator.prototype.call=function(subscriber){return new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler)};return DebounceTimeOperator}();var DebounceTimeSubscriber=function(_super){__extends(DebounceTimeSubscriber,_super);function DebounceTimeSubscriber(destination,dueTime,scheduler){_super.call(this,destination);this.dueTime=dueTime;this.scheduler=scheduler;this.debouncedSubscription=null;this.lastValue=null}DebounceTimeSubscriber.prototype._next=function(value){this.clearDebounce();this.lastValue=value;this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))};DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext();this.destination.complete()};DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce();if(this.lastValue!=null){this.destination.next(this.lastValue);this.lastValue=null}};DebounceTimeSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;if(debouncedSubscription!==null){this.remove(debouncedSubscription);debouncedSubscription.unsubscribe();this.debouncedSubscription=null}};return DebounceTimeSubscriber}(Subscriber_1.Subscriber);function dispatchNext(subscriber){subscriber.debouncedNext()}global.define=__define;return module.exports});System.register("rxjs/operator/defaultIfEmpty",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function defaultIfEmpty(defaultValue){if(defaultValue===void 0){defaultValue=null}return this.lift(new DefaultIfEmptyOperator(defaultValue))}exports.defaultIfEmpty=defaultIfEmpty;var DefaultIfEmptyOperator=function(){function DefaultIfEmptyOperator(defaultValue){this.defaultValue=defaultValue}DefaultIfEmptyOperator.prototype.call=function(subscriber){return new DefaultIfEmptySubscriber(subscriber,this.defaultValue)};return DefaultIfEmptyOperator}();var DefaultIfEmptySubscriber=function(_super){__extends(DefaultIfEmptySubscriber,_super);function DefaultIfEmptySubscriber(destination,defaultValue){_super.call(this,destination);this.defaultValue=defaultValue;this.isEmpty=true}DefaultIfEmptySubscriber.prototype._next=function(value){this.isEmpty=false;this.destination.next(value)};DefaultIfEmptySubscriber.prototype._complete=function(){if(this.isEmpty){this.destination.next(this.defaultValue)}this.destination.complete()};return DefaultIfEmptySubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/delay",["rxjs/Subscriber","rxjs/Notification","rxjs/scheduler/queue","rxjs/util/isDate"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Notification_1=require("rxjs/Notification");var queue_1=require("rxjs/scheduler/queue");var isDate_1=require("rxjs/util/isDate");function delay(delay,scheduler){if(scheduler===void 0){scheduler=queue_1.queue}var absoluteDelay=isDate_1.isDate(delay);var delayFor=absoluteDelay?+delay-scheduler.now():delay;return this.lift(new DelayOperator(delayFor,scheduler))}exports.delay=delay;var DelayOperator=function(){function DelayOperator(delay,scheduler){this.delay=delay;this.scheduler=scheduler}DelayOperator.prototype.call=function(subscriber){return new DelaySubscriber(subscriber,this.delay,this.scheduler)};return DelayOperator}();var DelaySubscriber=function(_super){__extends(DelaySubscriber,_super);function DelaySubscriber(destination,delay,scheduler){_super.call(this,destination);this.delay=delay;this.scheduler=scheduler;this.queue=[];this.active=false;this.errored=false}DelaySubscriber.dispatch=function(state){var source=state.source;var queue=source.queue;var scheduler=state.scheduler;var destination=state.destination;while(queue.length>0&&queue[0].time-scheduler.now()<=0){queue.shift().notification.observe(destination)}if(queue.length>0){var delay_1=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay_1)}else{source.active=false}};DelaySubscriber.prototype._schedule=function(scheduler){this.active=true;this.add(scheduler.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))};DelaySubscriber.prototype.scheduleNotification=function(notification){if(this.errored===true){return}var scheduler=this.scheduler;var message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message);if(this.active===false){this._schedule(scheduler)}};DelaySubscriber.prototype._next=function(value){this.scheduleNotification(Notification_1.Notification.createNext(value))};DelaySubscriber.prototype._error=function(err){this.errored=true;this.queue=[];this.destination.error(err)};DelaySubscriber.prototype._complete=function(){this.scheduleNotification(Notification_1.Notification.createComplete())};return DelaySubscriber}(Subscriber_1.Subscriber);var DelayMessage=function(){function DelayMessage(time,notification){this.time=time;this.notification=notification}return DelayMessage}();global.define=__define;return module.exports});System.register("rxjs/operator/distinctUntilChanged",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function distinctUntilChanged(compare){return this.lift(new DistinctUntilChangedOperator(compare))}exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function DistinctUntilChangedOperator(compare){this.compare=compare}DistinctUntilChangedOperator.prototype.call=function(subscriber){return new DistinctUntilChangedSubscriber(subscriber,this.compare)};return DistinctUntilChangedOperator}();var DistinctUntilChangedSubscriber=function(_super){__extends(DistinctUntilChangedSubscriber,_super);function DistinctUntilChangedSubscriber(destination,compare){_super.call(this,destination);this.hasValue=false;if(typeof compare==="function"){this.compare=compare}}DistinctUntilChangedSubscriber.prototype.compare=function(x,y){return x===y};DistinctUntilChangedSubscriber.prototype._next=function(value){var result=false;if(this.hasValue){result=tryCatch_1.tryCatch(this.compare)(this.value,value);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e);return}}else{this.hasValue=true}if(Boolean(result)===false){this.value=value;this.destination.next(value)}};return DistinctUntilChangedSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/do",["rxjs/Subscriber","rxjs/util/noop","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var noop_1=require("rxjs/util/noop");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function _do(nextOrObserver,error,complete){var next;if(nextOrObserver&&typeof nextOrObserver==="object"){next=nextOrObserver.next;error=nextOrObserver.error;complete=nextOrObserver.complete}else{next=nextOrObserver}return this.lift(new DoOperator(next||noop_1.noop,error||noop_1.noop,complete||noop_1.noop))}exports._do=_do;var DoOperator=function(){function DoOperator(next,error,complete){this.next=next;this.error=error;this.complete=complete}DoOperator.prototype.call=function(subscriber){return new DoSubscriber(subscriber,this.next,this.error,this.complete)};return DoOperator}();var DoSubscriber=function(_super){__extends(DoSubscriber,_super);function DoSubscriber(destination,next,error,complete){_super.call(this,destination);this.__next=next;this.__error=error;this.__complete=complete}DoSubscriber.prototype._next=function(x){var result=tryCatch_1.tryCatch(this.__next)(x);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else{this.destination.next(x)}};DoSubscriber.prototype._error=function(e){var result=tryCatch_1.tryCatch(this.__error)(e);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else{this.destination.error(e)}};DoSubscriber.prototype._complete=function(){var result=tryCatch_1.tryCatch(this.__complete)();if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else{this.destination.complete()}};return DoSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/expand-support",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");var ExpandOperator=function(){function ExpandOperator(project,concurrent,scheduler){this.project=project;this.concurrent=concurrent;this.scheduler=scheduler}ExpandOperator.prototype.call=function(subscriber){return new ExpandSubscriber(subscriber,this.project,this.concurrent,this.scheduler)};return ExpandOperator}();exports.ExpandOperator=ExpandOperator;var ExpandSubscriber=function(_super){__extends(ExpandSubscriber,_super);function ExpandSubscriber(destination,project,concurrent,scheduler){_super.call(this,destination);this.project=project;this.concurrent=concurrent;this.scheduler=scheduler;this.index=0;this.active=0;this.hasCompleted=false;if(concurrent<Number.POSITIVE_INFINITY){this.buffer=[]}}ExpandSubscriber.dispatch=function(_a){var subscriber=_a.subscriber,result=_a.result,value=_a.value,index=_a.index;subscriber.subscribeToProjection(result,value,index)};ExpandSubscriber.prototype._next=function(value){var destination=this.destination;if(destination.isUnsubscribed){this._complete();return}var index=this.index++;if(this.active<this.concurrent){destination.next(value);var result=tryCatch_1.tryCatch(this.project)(value,index);if(result===errorObject_1.errorObject){destination.error(result.e)}else if(!this.scheduler){this.subscribeToProjection(result,value,index)}else{var state={subscriber:this,result:result,value:value,index:index};this.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,state))}}else{this.buffer.push(value)}};ExpandSubscriber.prototype.subscribeToProjection=function(result,value,index){if(result._isScalar){this._next(result.value)}else{this.active++;this.add(subscribeToResult_1.subscribeToResult(this,result,value,index))}};ExpandSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.hasCompleted&&this.active===0){this.destination.complete()}};ExpandSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub);this.active--;if(buffer&&buffer.length>0){this._next(buffer.shift())}if(this.hasCompleted&&this.active===0){this.destination.complete()}};ExpandSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this._next(innerValue)};return ExpandSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.ExpandSubscriber=ExpandSubscriber;global.define=__define;return module.exports});System.register("rxjs/operator/filter",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function filter(select,thisArg){return this.lift(new FilterOperator(select,thisArg))}exports.filter=filter;var FilterOperator=function(){function FilterOperator(select,thisArg){this.select=select;this.thisArg=thisArg}FilterOperator.prototype.call=function(subscriber){return new FilterSubscriber(subscriber,this.select,this.thisArg)};return FilterOperator}();var FilterSubscriber=function(_super){__extends(FilterSubscriber,_super);function FilterSubscriber(destination,select,thisArg){_super.call(this,destination);this.thisArg=thisArg;this.count=0;this.select=select}FilterSubscriber.prototype._next=function(x){var result=tryCatch_1.tryCatch(this.select).call(this.thisArg||this,x,this.count++);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else if(Boolean(result)){this.destination.next(x)}};return FilterSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/finally",["rxjs/Subscriber","rxjs/Subscription"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subscription_1=require("rxjs/Subscription");function _finally(finallySelector){return this.lift(new FinallyOperator(finallySelector))}exports._finally=_finally;var FinallyOperator=function(){function FinallyOperator(finallySelector){this.finallySelector=finallySelector}FinallyOperator.prototype.call=function(subscriber){return new FinallySubscriber(subscriber,this.finallySelector)};return FinallyOperator}();var FinallySubscriber=function(_super){__extends(FinallySubscriber,_super);function FinallySubscriber(destination,finallySelector){_super.call(this,destination);this.add(new Subscription_1.Subscription(finallySelector))}return FinallySubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/util/EmptyError",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var EmptyError=function(){function EmptyError(){this.name="EmptyError";this.message="no elements in sequence"}return EmptyError}();exports.EmptyError=EmptyError;global.define=__define;return module.exports});System.register("rxjs/util/MapPolyfill",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var MapPolyfill=function(){function MapPolyfill(){this.size=0;this._values=[];this._keys=[]}MapPolyfill.prototype.get=function(key){var i=this._keys.indexOf(key);return i===-1?undefined:this._values[i]};MapPolyfill.prototype.set=function(key,value){var i=this._keys.indexOf(key);if(i===-1){this._keys.push(key);this._values.push(value);this.size++}else{this._values[i]=value}return this};MapPolyfill.prototype.delete=function(key){var i=this._keys.indexOf(key);if(i===-1){return false}this._values.splice(i,1);this._keys.splice(i,1);this.size--;return true};MapPolyfill.prototype.forEach=function(cb,thisArg){for(var i=0;i<this.size;i++){cb.call(thisArg,this._values[i],this._keys[i])}};return MapPolyfill}();exports.MapPolyfill=MapPolyfill;global.define=__define;return module.exports});System.register("rxjs/util/FastMap",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var FastMap=function(){function FastMap(){this.values={}}FastMap.prototype.delete=function(key){this.values[key]=null;return true};FastMap.prototype.set=function(key,value){this.values[key]=value;return this};FastMap.prototype.get=function(key){return this.values[key]};FastMap.prototype.forEach=function(cb,thisArg){var values=this.values;for(var key in values){if(values.hasOwnProperty(key)&&values[key]!==null){cb.call(thisArg,values[key],key)}}};FastMap.prototype.clear=function(){this.values={}};return FastMap}();exports.FastMap=FastMap;global.define=__define;return module.exports});System.register("rxjs/operator/groupBy-support",["rxjs/Subscription","rxjs/Observable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscription_1=require("rxjs/Subscription");var Observable_1=require("rxjs/Observable");var RefCountSubscription=function(_super){__extends(RefCountSubscription,_super);function RefCountSubscription(){_super.call(this);this.attemptedToUnsubscribePrimary=false;this.count=0}RefCountSubscription.prototype.setPrimary=function(subscription){this.primary=subscription};RefCountSubscription.prototype.unsubscribe=function(){if(!this.isUnsubscribed&&!this.attemptedToUnsubscribePrimary){this.attemptedToUnsubscribePrimary=true;if(this.count===0){_super.prototype.unsubscribe.call(this);this.primary.unsubscribe()}}};return RefCountSubscription}(Subscription_1.Subscription);exports.RefCountSubscription=RefCountSubscription;
var GroupedObservable=function(_super){__extends(GroupedObservable,_super);function GroupedObservable(key,groupSubject,refCountSubscription){_super.call(this);this.key=key;this.groupSubject=groupSubject;this.refCountSubscription=refCountSubscription}GroupedObservable.prototype._subscribe=function(subscriber){var subscription=new Subscription_1.Subscription;if(this.refCountSubscription&&!this.refCountSubscription.isUnsubscribed){subscription.add(new InnerRefCountSubscription(this.refCountSubscription))}subscription.add(this.groupSubject.subscribe(subscriber));return subscription};return GroupedObservable}(Observable_1.Observable);exports.GroupedObservable=GroupedObservable;var InnerRefCountSubscription=function(_super){__extends(InnerRefCountSubscription,_super);function InnerRefCountSubscription(parent){_super.call(this);this.parent=parent;parent.count++}InnerRefCountSubscription.prototype.unsubscribe=function(){if(!this.parent.isUnsubscribed&&!this.isUnsubscribed){_super.prototype.unsubscribe.call(this);this.parent.count--;if(this.parent.count===0&&this.parent.attemptedToUnsubscribePrimary){this.parent.unsubscribe();this.parent.primary.unsubscribe()}}};return InnerRefCountSubscription}(Subscription_1.Subscription);exports.InnerRefCountSubscription=InnerRefCountSubscription;global.define=__define;return module.exports});System.register("rxjs/operator/ignoreElements",["rxjs/Subscriber","rxjs/util/noop"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var noop_1=require("rxjs/util/noop");function ignoreElements(){return this.lift(new IgnoreElementsOperator)}exports.ignoreElements=ignoreElements;var IgnoreElementsOperator=function(){function IgnoreElementsOperator(){}IgnoreElementsOperator.prototype.call=function(subscriber){return new IgnoreElementsSubscriber(subscriber)};return IgnoreElementsOperator}();var IgnoreElementsSubscriber=function(_super){__extends(IgnoreElementsSubscriber,_super);function IgnoreElementsSubscriber(){_super.apply(this,arguments)}IgnoreElementsSubscriber.prototype._next=function(unused){noop_1.noop()};return IgnoreElementsSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/every",["rxjs/observable/ScalarObservable","rxjs/observable/fromArray","rxjs/observable/throw","rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var ScalarObservable_1=require("rxjs/observable/ScalarObservable");var fromArray_1=require("rxjs/observable/fromArray");var throw_1=require("rxjs/observable/throw");var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function every(predicate,thisArg){var source=this;var result;if(source._isScalar){result=tryCatch_1.tryCatch(predicate).call(thisArg||this,source.value,0,source);if(result===errorObject_1.errorObject){return new throw_1.ErrorObservable(errorObject_1.errorObject.e,source.scheduler)}else{return new ScalarObservable_1.ScalarObservable(result,source.scheduler)}}if(source instanceof fromArray_1.ArrayObservable){var array=source.array;var result_1=tryCatch_1.tryCatch(function(array,predicate,thisArg){return array.every(predicate,thisArg)})(array,predicate,thisArg);if(result_1===errorObject_1.errorObject){return new throw_1.ErrorObservable(errorObject_1.errorObject.e,source.scheduler)}else{return new ScalarObservable_1.ScalarObservable(result_1,source.scheduler)}}return source.lift(new EveryOperator(predicate,thisArg,source))}exports.every=every;var EveryOperator=function(){function EveryOperator(predicate,thisArg,source){this.predicate=predicate;this.thisArg=thisArg;this.source=source}EveryOperator.prototype.call=function(observer){return new EverySubscriber(observer,this.predicate,this.thisArg,this.source)};return EveryOperator}();var EverySubscriber=function(_super){__extends(EverySubscriber,_super);function EverySubscriber(destination,predicate,thisArg,source){_super.call(this,destination);this.predicate=predicate;this.thisArg=thisArg;this.source=source;this.index=0}EverySubscriber.prototype.notifyComplete=function(everyValueMatch){this.destination.next(everyValueMatch);this.destination.complete()};EverySubscriber.prototype._next=function(value){var result=tryCatch_1.tryCatch(this.predicate).call(this.thisArg||this,value,this.index++,this.source);if(result===errorObject_1.errorObject){this.destination.error(result.e)}else if(!result){this.notifyComplete(false)}};EverySubscriber.prototype._complete=function(){this.notifyComplete(true)};return EverySubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/last",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/util/EmptyError"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var EmptyError_1=require("rxjs/util/EmptyError");function last(predicate,resultSelector,defaultValue){return this.lift(new LastOperator(predicate,resultSelector,defaultValue,this))}exports.last=last;var LastOperator=function(){function LastOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source}LastOperator.prototype.call=function(observer){return new LastSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source)};return LastOperator}();var LastSubscriber=function(_super){__extends(LastSubscriber,_super);function LastSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination);this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source;this.hasValue=false;this.index=0;if(typeof defaultValue!=="undefined"){this.lastValue=defaultValue;this.hasValue=true}}LastSubscriber.prototype._next=function(value){var _a=this,predicate=_a.predicate,resultSelector=_a.resultSelector,destination=_a.destination;var index=this.index++;if(predicate){var found=tryCatch_1.tryCatch(predicate)(value,index,this.source);if(found===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e);return}if(found){if(resultSelector){var result=tryCatch_1.tryCatch(resultSelector)(value,index);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e);return}this.lastValue=result}else{this.lastValue=value}this.hasValue=true}}else{this.lastValue=value;this.hasValue=true}};LastSubscriber.prototype._complete=function(){var destination=this.destination;if(this.hasValue){destination.next(this.lastValue);destination.complete()}else{destination.error(new EmptyError_1.EmptyError)}};return LastSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/map",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function map(project,thisArg){if(typeof project!=="function"){throw new TypeError("argument is not a function. Are you looking for `mapTo()`?")}return this.lift(new MapOperator(project,thisArg))}exports.map=map;var MapOperator=function(){function MapOperator(project,thisArg){this.project=project;this.thisArg=thisArg}MapOperator.prototype.call=function(subscriber){return new MapSubscriber(subscriber,this.project,this.thisArg)};return MapOperator}();var MapSubscriber=function(_super){__extends(MapSubscriber,_super);function MapSubscriber(destination,project,thisArg){_super.call(this,destination);this.project=project;this.thisArg=thisArg;this.count=0}MapSubscriber.prototype._next=function(x){var result=tryCatch_1.tryCatch(this.project).call(this.thisArg||this,x,this.count++);if(result===errorObject_1.errorObject){this.error(errorObject_1.errorObject.e)}else{this.destination.next(result)}};return MapSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/mapTo",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function mapTo(value){return this.lift(new MapToOperator(value))}exports.mapTo=mapTo;var MapToOperator=function(){function MapToOperator(value){this.value=value}MapToOperator.prototype.call=function(subscriber){return new MapToSubscriber(subscriber,this.value)};return MapToOperator}();var MapToSubscriber=function(_super){__extends(MapToSubscriber,_super);function MapToSubscriber(destination,value){_super.call(this,destination);this.value=value}MapToSubscriber.prototype._next=function(x){this.destination.next(this.value)};return MapToSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/materialize",["rxjs/Subscriber","rxjs/Notification"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Notification_1=require("rxjs/Notification");function materialize(){return this.lift(new MaterializeOperator)}exports.materialize=materialize;var MaterializeOperator=function(){function MaterializeOperator(){}MaterializeOperator.prototype.call=function(subscriber){return new MaterializeSubscriber(subscriber)};return MaterializeOperator}();var MaterializeSubscriber=function(_super){__extends(MaterializeSubscriber,_super);function MaterializeSubscriber(destination){_super.call(this,destination)}MaterializeSubscriber.prototype._next=function(value){this.destination.next(Notification_1.Notification.createNext(value))};MaterializeSubscriber.prototype._error=function(err){var destination=this.destination;destination.next(Notification_1.Notification.createError(err));destination.complete()};MaterializeSubscriber.prototype._complete=function(){var destination=this.destination;destination.next(Notification_1.Notification.createComplete());destination.complete()};return MaterializeSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/merge",["rxjs/operator/merge-static"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var merge_static_1=require("rxjs/operator/merge-static");function merge(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}observables.unshift(this);return merge_static_1.merge.apply(this,observables)}exports.merge=merge;global.define=__define;return module.exports});System.register("rxjs/operator/mergeAll",["rxjs/operator/mergeAll-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var mergeAll_support_1=require("rxjs/operator/mergeAll-support");function mergeAll(concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}return this.lift(new mergeAll_support_1.MergeAllOperator(concurrent))}exports.mergeAll=mergeAll;global.define=__define;return module.exports});System.register("rxjs/operator/mergeMap",["rxjs/operator/mergeMap-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var mergeMap_support_1=require("rxjs/operator/mergeMap-support");function mergeMap(project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}return this.lift(new mergeMap_support_1.MergeMapOperator(project,resultSelector,concurrent))}exports.mergeMap=mergeMap;global.define=__define;return module.exports});System.register("rxjs/operator/mergeMapTo",["rxjs/operator/mergeMapTo-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var mergeMapTo_support_1=require("rxjs/operator/mergeMapTo-support");function mergeMapTo(observable,resultSelector,concurrent){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}return this.lift(new mergeMapTo_support_1.MergeMapToOperator(observable,resultSelector,concurrent))}exports.mergeMapTo=mergeMapTo;global.define=__define;return module.exports});System.register("rxjs/observable/ConnectableObservable",["rxjs/Observable","rxjs/Subscription","rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var Subscription_1=require("rxjs/Subscription");var Subscriber_1=require("rxjs/Subscriber");var ConnectableObservable=function(_super){__extends(ConnectableObservable,_super);function ConnectableObservable(source,subjectFactory){_super.call(this);this.source=source;this.subjectFactory=subjectFactory}ConnectableObservable.prototype._subscribe=function(subscriber){return this._getSubject().subscribe(subscriber)};ConnectableObservable.prototype._getSubject=function(){var subject=this.subject;if(subject&&!subject.isUnsubscribed){return subject}return this.subject=this.subjectFactory()};ConnectableObservable.prototype.connect=function(){var source=this.source;var subscription=this.subscription;if(subscription&&!subscription.isUnsubscribed){return subscription}subscription=source.subscribe(this._getSubject());subscription.add(new ConnectableSubscription(this));return this.subscription=subscription};ConnectableObservable.prototype.refCount=function(){return new RefCountObservable(this)};return ConnectableObservable}(Observable_1.Observable);exports.ConnectableObservable=ConnectableObservable;var ConnectableSubscription=function(_super){__extends(ConnectableSubscription,_super);function ConnectableSubscription(connectable){_super.call(this);this.connectable=connectable}ConnectableSubscription.prototype._unsubscribe=function(){var connectable=this.connectable;connectable.subject=void 0;connectable.subscription=void 0;this.connectable=void 0};return ConnectableSubscription}(Subscription_1.Subscription);var RefCountObservable=function(_super){__extends(RefCountObservable,_super);function RefCountObservable(connectable,refCount){if(refCount===void 0){refCount=0}_super.call(this);this.connectable=connectable;this.refCount=refCount}RefCountObservable.prototype._subscribe=function(subscriber){var connectable=this.connectable;var refCountSubscriber=new RefCountSubscriber(subscriber,this);var subscription=connectable.subscribe(refCountSubscriber);if(!subscription.isUnsubscribed&&++this.refCount===1){refCountSubscriber.connection=this.connection=connectable.connect()}return subscription};return RefCountObservable}(Observable_1.Observable);var RefCountSubscriber=function(_super){__extends(RefCountSubscriber,_super);function RefCountSubscriber(destination,refCountObservable){_super.call(this,null);this.destination=destination;this.refCountObservable=refCountObservable;this.connection=refCountObservable.connection;destination.add(this)}RefCountSubscriber.prototype._next=function(value){this.destination.next(value)};RefCountSubscriber.prototype._error=function(err){this._resetConnectable();this.destination.error(err)};RefCountSubscriber.prototype._complete=function(){this._resetConnectable();this.destination.complete()};RefCountSubscriber.prototype._resetConnectable=function(){var observable=this.refCountObservable;var obsConnection=observable.connection;var subConnection=this.connection;if(subConnection&&subConnection===obsConnection){observable.refCount=0;obsConnection.unsubscribe();observable.connection=void 0;this.unsubscribe()}};RefCountSubscriber.prototype._unsubscribe=function(){var observable=this.refCountObservable;if(observable.refCount===0){return}if(--observable.refCount===0){var obsConnection=observable.connection;var subConnection=this.connection;if(subConnection&&subConnection===obsConnection){obsConnection.unsubscribe();observable.connection=void 0}}};return RefCountSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/observeOn",["rxjs/operator/observeOn-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var observeOn_support_1=require("rxjs/operator/observeOn-support");function observeOn(scheduler,delay){if(delay===void 0){delay=0}return this.lift(new observeOn_support_1.ObserveOnOperator(scheduler,delay))}exports.observeOn=observeOn;global.define=__define;return module.exports});System.register("rxjs/util/not",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function not(pred,thisArg){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}notPred.pred=pred;notPred.thisArg=thisArg;return notPred}exports.not=not;global.define=__define;return module.exports});System.register("rxjs/operator/publish",["rxjs/Subject","rxjs/operator/multicast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Subject_1=require("rxjs/Subject");var multicast_1=require("rxjs/operator/multicast");function publish(){return multicast_1.multicast.call(this,new Subject_1.Subject)}exports.publish=publish;global.define=__define;return module.exports});System.register("rxjs/util/ObjectUnsubscribedError",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var ObjectUnsubscribedError=function(_super){__extends(ObjectUnsubscribedError,_super);function ObjectUnsubscribedError(){_super.call(this,"object unsubscribed");this.name="ObjectUnsubscribedError"}return ObjectUnsubscribedError}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError;global.define=__define;return module.exports});System.register("rxjs/subject/ReplaySubject",["rxjs/Subject","rxjs/scheduler/queue"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subject_1=require("rxjs/Subject");var queue_1=require("rxjs/scheduler/queue");var ReplaySubject=function(_super){__extends(ReplaySubject,_super);function ReplaySubject(bufferSize,windowTime,scheduler){if(bufferSize===void 0){bufferSize=Number.POSITIVE_INFINITY}if(windowTime===void 0){windowTime=Number.POSITIVE_INFINITY}_super.call(this);this.events=[];this.bufferSize=bufferSize<1?1:bufferSize;this._windowTime=windowTime<1?1:windowTime;this.scheduler=scheduler}ReplaySubject.prototype._next=function(value){var now=this._getNow();this.events.push(new ReplayEvent(now,value));this._trimBufferThenGetEvents(now);_super.prototype._next.call(this,value)};ReplaySubject.prototype._subscribe=function(subscriber){var events=this._trimBufferThenGetEvents(this._getNow());var index=-1;var len=events.length;while(!subscriber.isUnsubscribed&&++index<len){subscriber.next(events[index].value)}return _super.prototype._subscribe.call(this,subscriber)};ReplaySubject.prototype._getNow=function(){return(this.scheduler||queue_1.queue).now()};ReplaySubject.prototype._trimBufferThenGetEvents=function(now){var bufferSize=this.bufferSize;var _windowTime=this._windowTime;var events=this.events;var eventsCount=events.length;var spliceCount=0;while(spliceCount<eventsCount){if(now-events[spliceCount].time<_windowTime){break}spliceCount+=1}if(eventsCount>bufferSize){spliceCount=Math.max(spliceCount,eventsCount-bufferSize)}if(spliceCount>0){events.splice(0,spliceCount)}return events};return ReplaySubject}(Subject_1.Subject);exports.ReplaySubject=ReplaySubject;var ReplayEvent=function(){function ReplayEvent(time,value){this.time=time;this.value=value}return ReplayEvent}();global.define=__define;return module.exports});System.register("rxjs/operator/publishLast",["rxjs/subject/AsyncSubject","rxjs/operator/multicast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var AsyncSubject_1=require("rxjs/subject/AsyncSubject");var multicast_1=require("rxjs/operator/multicast");function publishLast(){return multicast_1.multicast.call(this,new AsyncSubject_1.AsyncSubject)}exports.publishLast=publishLast;global.define=__define;return module.exports});System.register("rxjs/operator/reduce-support",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var ReduceOperator=function(){function ReduceOperator(project,seed){this.project=project;this.seed=seed}ReduceOperator.prototype.call=function(subscriber){return new ReduceSubscriber(subscriber,this.project,this.seed)};return ReduceOperator}();exports.ReduceOperator=ReduceOperator;var ReduceSubscriber=function(_super){__extends(ReduceSubscriber,_super);function ReduceSubscriber(destination,project,seed){_super.call(this,destination);this.hasValue=false;this.acc=seed;this.project=project;this.hasSeed=typeof seed!=="undefined"}ReduceSubscriber.prototype._next=function(x){if(this.hasValue||(this.hasValue=this.hasSeed)){var result=tryCatch_1.tryCatch(this.project).call(this,this.acc,x);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else{this.acc=result}}else{this.acc=x;this.hasValue=true}};ReduceSubscriber.prototype._complete=function(){if(this.hasValue||this.hasSeed){this.destination.next(this.acc)}this.destination.complete()};return ReduceSubscriber}(Subscriber_1.Subscriber);exports.ReduceSubscriber=ReduceSubscriber;global.define=__define;return module.exports});System.register("rxjs/operator/repeat",["rxjs/Subscriber","rxjs/observable/empty"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var empty_1=require("rxjs/observable/empty");function repeat(count){if(count===void 0){count=-1}if(count===0){return new empty_1.EmptyObservable}else{return this.lift(new RepeatOperator(count,this))}}exports.repeat=repeat;var RepeatOperator=function(){function RepeatOperator(count,source){this.count=count;this.source=source}RepeatOperator.prototype.call=function(subscriber){return new FirstRepeatSubscriber(subscriber,this.count,this.source)};return RepeatOperator}();var FirstRepeatSubscriber=function(_super){__extends(FirstRepeatSubscriber,_super);function FirstRepeatSubscriber(destination,count,source){_super.call(this);this.destination=destination;this.count=count;this.source=source;destination.add(this);this.lastSubscription=this}FirstRepeatSubscriber.prototype._next=function(value){this.destination.next(value)};FirstRepeatSubscriber.prototype._error=function(err){this.destination.error(err)};FirstRepeatSubscriber.prototype.complete=function(){if(!this.isUnsubscribed){this.resubscribe(this.count)}};FirstRepeatSubscriber.prototype.unsubscribe=function(){var lastSubscription=this.lastSubscription;if(lastSubscription===this){_super.prototype.unsubscribe.call(this)}else{lastSubscription.unsubscribe()}};FirstRepeatSubscriber.prototype.resubscribe=function(count){var _a=this,destination=_a.destination,lastSubscription=_a.lastSubscription;destination.remove(lastSubscription);lastSubscription.unsubscribe();if(count-1===0){destination.complete()}else{var nextSubscriber=new MoreRepeatSubscriber(this,count-1);this.lastSubscription=this.source.subscribe(nextSubscriber);destination.add(this.lastSubscription)}};return FirstRepeatSubscriber}(Subscriber_1.Subscriber);var MoreRepeatSubscriber=function(_super){__extends(MoreRepeatSubscriber,_super);function MoreRepeatSubscriber(parent,count){_super.call(this);this.parent=parent;this.count=count}MoreRepeatSubscriber.prototype._next=function(value){this.parent.destination.next(value)};MoreRepeatSubscriber.prototype._error=function(err){this.parent.destination.error(err)};MoreRepeatSubscriber.prototype._complete=function(){var count=this.count;this.parent.resubscribe(count<0?-1:count)};return MoreRepeatSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/retry",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function retry(count){if(count===void 0){count=0}return this.lift(new RetryOperator(count,this))}exports.retry=retry;var RetryOperator=function(){function RetryOperator(count,source){this.count=count;this.source=source}RetryOperator.prototype.call=function(subscriber){return new FirstRetrySubscriber(subscriber,this.count,this.source)};return RetryOperator}();var FirstRetrySubscriber=function(_super){__extends(FirstRetrySubscriber,_super);function FirstRetrySubscriber(destination,count,source){_super.call(this);this.destination=destination;this.count=count;this.source=source;destination.add(this);this.lastSubscription=this}FirstRetrySubscriber.prototype._next=function(value){this.destination.next(value)};FirstRetrySubscriber.prototype.error=function(error){if(!this.isUnsubscribed){this.unsubscribe();this.resubscribe()}};FirstRetrySubscriber.prototype._complete=function(){this.unsubscribe();this.destination.complete()};FirstRetrySubscriber.prototype.resubscribe=function(retried){if(retried===void 0){retried=0}var _a=this,lastSubscription=_a.lastSubscription,destination=_a.destination;destination.remove(lastSubscription);lastSubscription.unsubscribe();var nextSubscriber=new RetryMoreSubscriber(this,this.count,retried+1);this.lastSubscription=this.source.subscribe(nextSubscriber);destination.add(this.lastSubscription)};return FirstRetrySubscriber}(Subscriber_1.Subscriber);var RetryMoreSubscriber=function(_super){__extends(RetryMoreSubscriber,_super);function RetryMoreSubscriber(parent,count,retried){if(retried===void 0){retried=0}_super.call(this,null);this.parent=parent;this.count=count;this.retried=retried}RetryMoreSubscriber.prototype._next=function(value){this.parent.destination.next(value)};RetryMoreSubscriber.prototype._error=function(err){var parent=this.parent;var retried=this.retried;var count=this.count;if(count&&retried===count){parent.destination.error(err)}else{parent.resubscribe(retried)}};RetryMoreSubscriber.prototype._complete=function(){this.parent.destination.complete()};return RetryMoreSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/retryWhen",["rxjs/Subscriber","rxjs/Subject","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subject_1=require("rxjs/Subject");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function retryWhen(notifier){return this.lift(new RetryWhenOperator(notifier,this))}exports.retryWhen=retryWhen;var RetryWhenOperator=function(){function RetryWhenOperator(notifier,source){this.notifier=notifier;this.source=source}RetryWhenOperator.prototype.call=function(subscriber){return new FirstRetryWhenSubscriber(subscriber,this.notifier,this.source)};return RetryWhenOperator}();var FirstRetryWhenSubscriber=function(_super){__extends(FirstRetryWhenSubscriber,_super);function FirstRetryWhenSubscriber(destination,notifier,source){_super.call(this);this.destination=destination;this.notifier=notifier;this.source=source;destination.add(this);this.lastSubscription=this}FirstRetryWhenSubscriber.prototype._next=function(value){this.destination.next(value)};FirstRetryWhenSubscriber.prototype.error=function(err){var destination=this.destination;if(!this.isUnsubscribed){_super.prototype.unsubscribe.call(this);if(!this.retryNotifications){this.errors=new Subject_1.Subject;var notifications=tryCatch_1.tryCatch(this.notifier).call(this,this.errors);if(notifications===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{this.retryNotifications=notifications;var notificationSubscriber=new RetryNotificationSubscriber(this);this.notificationSubscription=notifications.subscribe(notificationSubscriber);destination.add(this.notificationSubscription)}}this.errors.next(err)}};FirstRetryWhenSubscriber.prototype.destinationError=function(err){this.tearDown();this.destination.error(err)};FirstRetryWhenSubscriber.prototype._complete=function(){this.destinationComplete()};FirstRetryWhenSubscriber.prototype.destinationComplete=function(){this.tearDown();this.destination.complete()};FirstRetryWhenSubscriber.prototype.unsubscribe=function(){var lastSubscription=this.lastSubscription;if(lastSubscription===this){_super.prototype.unsubscribe.call(this)}else{this.tearDown()}};FirstRetryWhenSubscriber.prototype.tearDown=function(){_super.prototype.unsubscribe.call(this);
this.lastSubscription.unsubscribe();var notificationSubscription=this.notificationSubscription;if(notificationSubscription){notificationSubscription.unsubscribe()}};FirstRetryWhenSubscriber.prototype.resubscribe=function(){var _a=this,destination=_a.destination,lastSubscription=_a.lastSubscription;destination.remove(lastSubscription);lastSubscription.unsubscribe();var nextSubscriber=new MoreRetryWhenSubscriber(this);this.lastSubscription=this.source.subscribe(nextSubscriber);destination.add(this.lastSubscription)};return FirstRetryWhenSubscriber}(Subscriber_1.Subscriber);var MoreRetryWhenSubscriber=function(_super){__extends(MoreRetryWhenSubscriber,_super);function MoreRetryWhenSubscriber(parent){_super.call(this,null);this.parent=parent}MoreRetryWhenSubscriber.prototype._next=function(value){this.parent.destination.next(value)};MoreRetryWhenSubscriber.prototype._error=function(err){this.parent.errors.next(err)};MoreRetryWhenSubscriber.prototype._complete=function(){this.parent.destinationComplete()};return MoreRetryWhenSubscriber}(Subscriber_1.Subscriber);var RetryNotificationSubscriber=function(_super){__extends(RetryNotificationSubscriber,_super);function RetryNotificationSubscriber(parent){_super.call(this,null);this.parent=parent}RetryNotificationSubscriber.prototype._next=function(value){this.parent.resubscribe()};RetryNotificationSubscriber.prototype._error=function(err){this.parent.destinationError(err)};RetryNotificationSubscriber.prototype._complete=function(){this.parent.destinationComplete()};return RetryNotificationSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/sample",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function sample(notifier){return this.lift(new SampleOperator(notifier))}exports.sample=sample;var SampleOperator=function(){function SampleOperator(notifier){this.notifier=notifier}SampleOperator.prototype.call=function(subscriber){return new SampleSubscriber(subscriber,this.notifier)};return SampleOperator}();var SampleSubscriber=function(_super){__extends(SampleSubscriber,_super);function SampleSubscriber(destination,notifier){_super.call(this,destination);this.notifier=notifier;this.hasValue=false;this.add(notifier._subscribe(new SampleNotificationSubscriber(this)))}SampleSubscriber.prototype._next=function(value){this.lastValue=value;this.hasValue=true};SampleSubscriber.prototype.notifyNext=function(){if(this.hasValue){this.hasValue=false;this.destination.next(this.lastValue)}};return SampleSubscriber}(Subscriber_1.Subscriber);var SampleNotificationSubscriber=function(_super){__extends(SampleNotificationSubscriber,_super);function SampleNotificationSubscriber(parent){_super.call(this,null);this.parent=parent}SampleNotificationSubscriber.prototype._next=function(){this.parent.notifyNext()};SampleNotificationSubscriber.prototype._error=function(err){this.parent.error(err)};SampleNotificationSubscriber.prototype._complete=function(){this.parent.notifyNext()};return SampleNotificationSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/sampleTime",["rxjs/Subscriber","rxjs/scheduler/asap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var asap_1=require("rxjs/scheduler/asap");function sampleTime(delay,scheduler){if(scheduler===void 0){scheduler=asap_1.asap}return this.lift(new SampleTimeOperator(delay,scheduler))}exports.sampleTime=sampleTime;var SampleTimeOperator=function(){function SampleTimeOperator(delay,scheduler){this.delay=delay;this.scheduler=scheduler}SampleTimeOperator.prototype.call=function(subscriber){return new SampleTimeSubscriber(subscriber,this.delay,this.scheduler)};return SampleTimeOperator}();var SampleTimeSubscriber=function(_super){__extends(SampleTimeSubscriber,_super);function SampleTimeSubscriber(destination,delay,scheduler){_super.call(this,destination);this.delay=delay;this.scheduler=scheduler;this.hasValue=false;this.add(scheduler.schedule(dispatchNotification,delay,{subscriber:this,delay:delay}))}SampleTimeSubscriber.prototype._next=function(value){this.lastValue=value;this.hasValue=true};SampleTimeSubscriber.prototype.notifyNext=function(){if(this.hasValue){this.hasValue=false;this.destination.next(this.lastValue)}};return SampleTimeSubscriber}(Subscriber_1.Subscriber);function dispatchNotification(state){var subscriber=state.subscriber,delay=state.delay;subscriber.notifyNext();this.schedule(state,delay)}global.define=__define;return module.exports});System.register("rxjs/operator/scan",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function scan(accumulator,seed){return this.lift(new ScanOperator(accumulator,seed))}exports.scan=scan;var ScanOperator=function(){function ScanOperator(accumulator,seed){this.accumulator=accumulator;this.seed=seed}ScanOperator.prototype.call=function(subscriber){return new ScanSubscriber(subscriber,this.accumulator,this.seed)};return ScanOperator}();var ScanSubscriber=function(_super){__extends(ScanSubscriber,_super);function ScanSubscriber(destination,accumulator,seed){_super.call(this,destination);this.accumulator=accumulator;this.accumulatorSet=false;this.seed=seed;this.accumulator=accumulator;this.accumulatorSet=typeof seed!=="undefined"}Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(value){this.accumulatorSet=true;this._seed=value},enumerable:true,configurable:true});ScanSubscriber.prototype._next=function(value){if(!this.accumulatorSet){this.seed=value;this.destination.next(value)}else{var result=tryCatch_1.tryCatch(this.accumulator).call(this,this.seed,value);if(result===errorObject_1.errorObject){this.destination.error(errorObject_1.errorObject.e)}else{this.seed=result;this.destination.next(this.seed)}}};return ScanSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/share",["rxjs/operator/multicast","rxjs/Subject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var multicast_1=require("rxjs/operator/multicast");var Subject_1=require("rxjs/Subject");function shareSubjectFactory(){return new Subject_1.Subject}function share(){return multicast_1.multicast.call(this,shareSubjectFactory).refCount()}exports.share=share;global.define=__define;return module.exports});System.register("rxjs/operator/single",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/util/EmptyError"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var EmptyError_1=require("rxjs/util/EmptyError");function single(predicate){return this.lift(new SingleOperator(predicate,this))}exports.single=single;var SingleOperator=function(){function SingleOperator(predicate,source){this.predicate=predicate;this.source=source}SingleOperator.prototype.call=function(subscriber){return new SingleSubscriber(subscriber,this.predicate,this.source)};return SingleOperator}();var SingleSubscriber=function(_super){__extends(SingleSubscriber,_super);function SingleSubscriber(destination,predicate,source){_super.call(this,destination);this.predicate=predicate;this.source=source;this.seenValue=false;this.index=0}SingleSubscriber.prototype.applySingleValue=function(value){if(this.seenValue){this.destination.error("Sequence contains more than one element")}else{this.seenValue=true;this.singleValue=value}};SingleSubscriber.prototype._next=function(value){var predicate=this.predicate;var currentIndex=this.index++;if(predicate){var result=tryCatch_1.tryCatch(predicate)(value,currentIndex,this.source);if(result===errorObject_1.errorObject){this.destination.error(result.e)}else if(result){this.applySingleValue(value)}}else{this.applySingleValue(value)}};SingleSubscriber.prototype._complete=function(){var destination=this.destination;if(this.index>0){destination.next(this.seenValue?this.singleValue:undefined);destination.complete()}else{destination.error(new EmptyError_1.EmptyError)}};return SingleSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/skip",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function skip(total){return this.lift(new SkipOperator(total))}exports.skip=skip;var SkipOperator=function(){function SkipOperator(total){this.total=total}SkipOperator.prototype.call=function(subscriber){return new SkipSubscriber(subscriber,this.total)};return SkipOperator}();var SkipSubscriber=function(_super){__extends(SkipSubscriber,_super);function SkipSubscriber(destination,total){_super.call(this,destination);this.total=total;this.count=0}SkipSubscriber.prototype._next=function(x){if(++this.count>this.total){this.destination.next(x)}};return SkipSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/skipUntil",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function skipUntil(notifier){return this.lift(new SkipUntilOperator(notifier))}exports.skipUntil=skipUntil;var SkipUntilOperator=function(){function SkipUntilOperator(notifier){this.notifier=notifier}SkipUntilOperator.prototype.call=function(subscriber){return new SkipUntilSubscriber(subscriber,this.notifier)};return SkipUntilOperator}();var SkipUntilSubscriber=function(_super){__extends(SkipUntilSubscriber,_super);function SkipUntilSubscriber(destination,notifier){_super.call(this,destination);this.notifier=notifier;this.notificationSubscriber=null;this.notificationSubscriber=new NotificationSubscriber(this);this.add(this.notifier.subscribe(this.notificationSubscriber))}SkipUntilSubscriber.prototype._next=function(value){if(this.notificationSubscriber.hasValue){this.destination.next(value)}};SkipUntilSubscriber.prototype._error=function(err){this.destination.error(err)};SkipUntilSubscriber.prototype._complete=function(){if(this.notificationSubscriber.hasCompleted){this.destination.complete()}this.notificationSubscriber.unsubscribe()};SkipUntilSubscriber.prototype.unsubscribe=function(){if(this._isUnsubscribed){return}else if(this._subscription){this._subscription.unsubscribe();this._isUnsubscribed=true}else{_super.prototype.unsubscribe.call(this)}};return SkipUntilSubscriber}(Subscriber_1.Subscriber);var NotificationSubscriber=function(_super){__extends(NotificationSubscriber,_super);function NotificationSubscriber(parent){_super.call(this,null);this.parent=parent;this.hasValue=false;this.hasCompleted=false}NotificationSubscriber.prototype._next=function(unused){this.hasValue=true};NotificationSubscriber.prototype._error=function(err){this.parent.error(err);this.hasValue=true};NotificationSubscriber.prototype._complete=function(){this.hasCompleted=true};return NotificationSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/skipWhile",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function skipWhile(predicate){return this.lift(new SkipWhileOperator(predicate))}exports.skipWhile=skipWhile;var SkipWhileOperator=function(){function SkipWhileOperator(predicate){this.predicate=predicate}SkipWhileOperator.prototype.call=function(subscriber){return new SkipWhileSubscriber(subscriber,this.predicate)};return SkipWhileOperator}();var SkipWhileSubscriber=function(_super){__extends(SkipWhileSubscriber,_super);function SkipWhileSubscriber(destination,predicate){_super.call(this,destination);this.predicate=predicate;this.skipping=true;this.index=0}SkipWhileSubscriber.prototype._next=function(value){var destination=this.destination;if(this.skipping===true){var index=this.index++;var result=tryCatch_1.tryCatch(this.predicate)(value,index);if(result===errorObject_1.errorObject){destination.error(result.e)}else{this.skipping=Boolean(result)}}if(this.skipping===false){destination.next(value)}};return SkipWhileSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/startWith",["rxjs/observable/fromArray","rxjs/observable/ScalarObservable","rxjs/observable/empty","rxjs/operator/concat-static","rxjs/util/isScheduler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var fromArray_1=require("rxjs/observable/fromArray");var ScalarObservable_1=require("rxjs/observable/ScalarObservable");var empty_1=require("rxjs/observable/empty");var concat_static_1=require("rxjs/operator/concat-static");var isScheduler_1=require("rxjs/util/isScheduler");function startWith(){var array=[];for(var _i=0;_i<arguments.length;_i++){array[_i-0]=arguments[_i]}var scheduler=array[array.length-1];if(isScheduler_1.isScheduler(scheduler)){array.pop()}else{scheduler=void 0}var len=array.length;if(len===1){return concat_static_1.concat(new ScalarObservable_1.ScalarObservable(array[0],scheduler),this)}else if(len>1){return concat_static_1.concat(new fromArray_1.ArrayObservable(array,scheduler),this)}else{return concat_static_1.concat(new empty_1.EmptyObservable(scheduler),this)}}exports.startWith=startWith;global.define=__define;return module.exports});System.register("rxjs/observable/SubscribeOnObservable",["rxjs/Observable","rxjs/scheduler/asap","rxjs/util/isNumeric"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var asap_1=require("rxjs/scheduler/asap");var isNumeric_1=require("rxjs/util/isNumeric");var SubscribeOnObservable=function(_super){__extends(SubscribeOnObservable,_super);function SubscribeOnObservable(source,delayTime,scheduler){if(delayTime===void 0){delayTime=0}if(scheduler===void 0){scheduler=asap_1.asap}_super.call(this);this.source=source;this.delayTime=delayTime;this.scheduler=scheduler;if(!isNumeric_1.isNumeric(delayTime)||delayTime<0){this.delayTime=0}if(!scheduler||typeof scheduler.schedule!=="function"){this.scheduler=asap_1.asap}}SubscribeOnObservable.create=function(source,delay,scheduler){if(delay===void 0){delay=0}if(scheduler===void 0){scheduler=asap_1.asap}return new SubscribeOnObservable(source,delay,scheduler)};SubscribeOnObservable.dispatch=function(_a){var source=_a.source,subscriber=_a.subscriber;return source.subscribe(subscriber)};SubscribeOnObservable.prototype._subscribe=function(subscriber){var delay=this.delayTime;var source=this.source;var scheduler=this.scheduler;subscriber.add(scheduler.schedule(SubscribeOnObservable.dispatch,delay,{source:source,subscriber:subscriber}))};return SubscribeOnObservable}(Observable_1.Observable);exports.SubscribeOnObservable=SubscribeOnObservable;global.define=__define;return module.exports});System.register("rxjs/operator/switch",["rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");function _switch(){return this.lift(new SwitchOperator)}exports._switch=_switch;var SwitchOperator=function(){function SwitchOperator(){}SwitchOperator.prototype.call=function(subscriber){return new SwitchSubscriber(subscriber)};return SwitchOperator}();var SwitchSubscriber=function(_super){__extends(SwitchSubscriber,_super);function SwitchSubscriber(destination){_super.call(this,destination);this.active=0;this.hasCompleted=false}SwitchSubscriber.prototype._next=function(value){this.unsubscribeInner();this.active++;this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,value))};SwitchSubscriber.prototype._complete=function(){this.hasCompleted=true;if(this.active===0){this.destination.complete()}};SwitchSubscriber.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var innerSubscription=this.innerSubscription;if(innerSubscription){innerSubscription.unsubscribe();this.remove(innerSubscription)}};SwitchSubscriber.prototype.notifyNext=function(outerValue,innerValue){this.destination.next(innerValue)};SwitchSubscriber.prototype.notifyError=function(err){this.destination.error(err)};SwitchSubscriber.prototype.notifyComplete=function(){this.unsubscribeInner();if(this.hasCompleted&&this.active===0){this.destination.complete()}};return SwitchSubscriber}(OuterSubscriber_1.OuterSubscriber);global.define=__define;return module.exports});System.register("rxjs/operator/switchMap",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");function switchMap(project,resultSelector){return this.lift(new SwitchMapOperator(project,resultSelector))}exports.switchMap=switchMap;var SwitchMapOperator=function(){function SwitchMapOperator(project,resultSelector){this.project=project;this.resultSelector=resultSelector}SwitchMapOperator.prototype.call=function(subscriber){return new SwitchMapSubscriber(subscriber,this.project,this.resultSelector)};return SwitchMapOperator}();var SwitchMapSubscriber=function(_super){__extends(SwitchMapSubscriber,_super);function SwitchMapSubscriber(destination,project,resultSelector){_super.call(this,destination);this.project=project;this.resultSelector=resultSelector;this.hasCompleted=false;this.index=0}SwitchMapSubscriber.prototype._next=function(value){var index=this.index++;var destination=this.destination;var result=tryCatch_1.tryCatch(this.project)(value,index);if(result===errorObject_1.errorObject){destination.error(result.e)}else{var innerSubscription=this.innerSubscription;if(innerSubscription){innerSubscription.unsubscribe()}this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,result,value,index))}};SwitchMapSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;this.hasCompleted=true;if(!innerSubscription||innerSubscription.isUnsubscribed){this.destination.complete()}};SwitchMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub);var prevSubscription=this.innerSubscription;if(prevSubscription){prevSubscription.unsubscribe()}this.innerSubscription=null;if(this.hasCompleted){this.destination.complete()}};SwitchMapSubscriber.prototype.notifyError=function(err){this.destination.error(err)};SwitchMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;if(resultSelector){var result=tryCatch_1.tryCatch(resultSelector)(outerValue,innerValue,outerIndex,innerIndex);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{destination.next(result)}}else{destination.next(innerValue)}};return SwitchMapSubscriber}(OuterSubscriber_1.OuterSubscriber);global.define=__define;return module.exports});System.register("rxjs/operator/switchMapTo",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");function switchMapTo(observable,projectResult){return this.lift(new SwitchMapToOperator(observable,projectResult))}exports.switchMapTo=switchMapTo;var SwitchMapToOperator=function(){function SwitchMapToOperator(observable,resultSelector){this.observable=observable;this.resultSelector=resultSelector}SwitchMapToOperator.prototype.call=function(subscriber){return new SwitchMapToSubscriber(subscriber,this.observable,this.resultSelector)};return SwitchMapToOperator}();var SwitchMapToSubscriber=function(_super){__extends(SwitchMapToSubscriber,_super);function SwitchMapToSubscriber(destination,inner,resultSelector){_super.call(this,destination);this.inner=inner;this.resultSelector=resultSelector;this.hasCompleted=false;this.index=0}SwitchMapToSubscriber.prototype._next=function(value){var index=this.index++;var innerSubscription=this.innerSubscription;if(innerSubscription){innerSubscription.unsubscribe()}this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,value,index))};SwitchMapToSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;this.hasCompleted=true;if(!innerSubscription||innerSubscription.isUnsubscribed){this.destination.complete()}};SwitchMapToSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub);var prevSubscription=this.innerSubscription;if(prevSubscription){prevSubscription.unsubscribe()}this.innerSubscription=null;if(this.hasCompleted){this.destination.complete()}};SwitchMapToSubscriber.prototype.notifyError=function(err){this.destination.error(err)};SwitchMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;if(resultSelector){var result=tryCatch_1.tryCatch(resultSelector)(outerValue,innerValue,outerIndex,innerIndex);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{destination.next(result)}}else{destination.next(innerValue)}};return SwitchMapToSubscriber}(OuterSubscriber_1.OuterSubscriber);global.define=__define;return module.exports});System.register("rxjs/util/ArgumentOutOfRangeError",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ArgumentOutOfRangeError=function(){function ArgumentOutOfRangeError(){this.name="ArgumentOutOfRangeError";this.message="argument out of range"}return ArgumentOutOfRangeError}();exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError;global.define=__define;return module.exports});System.register("rxjs/operator/takeUntil",["rxjs/Subscriber","rxjs/util/noop"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var noop_1=require("rxjs/util/noop");function takeUntil(notifier){return this.lift(new TakeUntilOperator(notifier))}exports.takeUntil=takeUntil;var TakeUntilOperator=function(){function TakeUntilOperator(notifier){this.notifier=notifier}TakeUntilOperator.prototype.call=function(subscriber){return new TakeUntilSubscriber(subscriber,this.notifier)};return TakeUntilOperator}();var TakeUntilSubscriber=function(_super){__extends(TakeUntilSubscriber,_super);function TakeUntilSubscriber(destination,notifier){_super.call(this,destination);this.notifier=notifier;this.notificationSubscriber=null;this.notificationSubscriber=new TakeUntilInnerSubscriber(destination);this.add(notifier.subscribe(this.notificationSubscriber))}TakeUntilSubscriber.prototype._complete=function(){this.destination.complete();this.notificationSubscriber.unsubscribe()};return TakeUntilSubscriber}(Subscriber_1.Subscriber);var TakeUntilInnerSubscriber=function(_super){__extends(TakeUntilInnerSubscriber,_super);function TakeUntilInnerSubscriber(destination){_super.call(this,null);this.destination=destination}TakeUntilInnerSubscriber.prototype._next=function(unused){this.destination.complete()};TakeUntilInnerSubscriber.prototype._error=function(err){this.destination.error(err)};TakeUntilInnerSubscriber.prototype._complete=function(){noop_1.noop()};return TakeUntilInnerSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/takeWhile",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function takeWhile(predicate){return this.lift(new TakeWhileOperator(predicate))}exports.takeWhile=takeWhile;var TakeWhileOperator=function(){function TakeWhileOperator(predicate){this.predicate=predicate}TakeWhileOperator.prototype.call=function(subscriber){return new TakeWhileSubscriber(subscriber,this.predicate)};return TakeWhileOperator}();var TakeWhileSubscriber=function(_super){__extends(TakeWhileSubscriber,_super);function TakeWhileSubscriber(destination,predicate){_super.call(this,destination);this.predicate=predicate;this.index=0}TakeWhileSubscriber.prototype._next=function(value){var destination=this.destination;var result=tryCatch_1.tryCatch(this.predicate)(value,this.index++);if(result==errorObject_1.errorObject){destination.error(result.e)}else if(Boolean(result)){destination.next(value)}else{destination.complete()}};return TakeWhileSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/throttle",["rxjs/observable/fromPromise","rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/isPromise","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var fromPromise_1=require("rxjs/observable/fromPromise");var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var isPromise_1=require("rxjs/util/isPromise");var errorObject_1=require("rxjs/util/errorObject");function throttle(durationSelector){return this.lift(new ThrottleOperator(durationSelector))}exports.throttle=throttle;var ThrottleOperator=function(){function ThrottleOperator(durationSelector){this.durationSelector=durationSelector}ThrottleOperator.prototype.call=function(subscriber){return new ThrottleSubscriber(subscriber,this.durationSelector)};return ThrottleOperator}();var ThrottleSubscriber=function(_super){__extends(ThrottleSubscriber,_super);function ThrottleSubscriber(destination,durationSelector){_super.call(this,destination);this.durationSelector=durationSelector}ThrottleSubscriber.prototype._next=function(value){if(!this.throttled){var destination=this.destination;var duration=tryCatch_1.tryCatch(this.durationSelector)(value);if(duration===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e);return}if(isPromise_1.isPromise(duration)){duration=fromPromise_1.PromiseObservable.create(duration)}this.add(this.throttled=duration._subscribe(new ThrottleDurationSelectorSubscriber(this)));destination.next(value)}};ThrottleSubscriber.prototype._error=function(err){this.clearThrottle();_super.prototype._error.call(this,err)};ThrottleSubscriber.prototype._complete=function(){this.clearThrottle();_super.prototype._complete.call(this)};ThrottleSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;if(throttled){throttled.unsubscribe();this.remove(throttled);this.throttled=null}};return ThrottleSubscriber}(Subscriber_1.Subscriber);var ThrottleDurationSelectorSubscriber=function(_super){__extends(ThrottleDurationSelectorSubscriber,_super);function ThrottleDurationSelectorSubscriber(parent){_super.call(this,null);this.parent=parent}ThrottleDurationSelectorSubscriber.prototype._next=function(unused){this.parent.clearThrottle()};ThrottleDurationSelectorSubscriber.prototype._error=function(err){this.parent.error(err)};ThrottleDurationSelectorSubscriber.prototype._complete=function(){this.parent.clearThrottle()};return ThrottleDurationSelectorSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/throttleTime",["rxjs/Subscriber","rxjs/scheduler/asap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d;
}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var asap_1=require("rxjs/scheduler/asap");function throttleTime(delay,scheduler){if(scheduler===void 0){scheduler=asap_1.asap}return this.lift(new ThrottleTimeOperator(delay,scheduler))}exports.throttleTime=throttleTime;var ThrottleTimeOperator=function(){function ThrottleTimeOperator(delay,scheduler){this.delay=delay;this.scheduler=scheduler}ThrottleTimeOperator.prototype.call=function(subscriber){return new ThrottleTimeSubscriber(subscriber,this.delay,this.scheduler)};return ThrottleTimeOperator}();var ThrottleTimeSubscriber=function(_super){__extends(ThrottleTimeSubscriber,_super);function ThrottleTimeSubscriber(destination,delay,scheduler){_super.call(this,destination);this.delay=delay;this.scheduler=scheduler}ThrottleTimeSubscriber.prototype._next=function(value){if(!this.throttled){this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.delay,{subscriber:this}));this.destination.next(value)}};ThrottleTimeSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;if(throttled){throttled.unsubscribe();this.remove(throttled);this.throttled=null}};return ThrottleTimeSubscriber}(Subscriber_1.Subscriber);function dispatchNext(_a){var subscriber=_a.subscriber;subscriber.clearThrottle()}global.define=__define;return module.exports});System.register("rxjs/operator/timeout",["rxjs/Subscriber","rxjs/scheduler/queue","rxjs/util/isDate"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var queue_1=require("rxjs/scheduler/queue");var isDate_1=require("rxjs/util/isDate");function timeout(due,errorToSend,scheduler){if(errorToSend===void 0){errorToSend=null}if(scheduler===void 0){scheduler=queue_1.queue}var absoluteTimeout=isDate_1.isDate(due);var waitFor=absoluteTimeout?+due-scheduler.now():due;return this.lift(new TimeoutOperator(waitFor,absoluteTimeout,errorToSend,scheduler))}exports.timeout=timeout;var TimeoutOperator=function(){function TimeoutOperator(waitFor,absoluteTimeout,errorToSend,scheduler){this.waitFor=waitFor;this.absoluteTimeout=absoluteTimeout;this.errorToSend=errorToSend;this.scheduler=scheduler}TimeoutOperator.prototype.call=function(subscriber){return new TimeoutSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler)};return TimeoutOperator}();var TimeoutSubscriber=function(_super){__extends(TimeoutSubscriber,_super);function TimeoutSubscriber(destination,absoluteTimeout,waitFor,errorToSend,scheduler){_super.call(this,destination);this.absoluteTimeout=absoluteTimeout;this.waitFor=waitFor;this.errorToSend=errorToSend;this.scheduler=scheduler;this.index=0;this._previousIndex=0;this._hasCompleted=false;this.scheduleTimeout()}Object.defineProperty(TimeoutSubscriber.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:true,configurable:true});Object.defineProperty(TimeoutSubscriber.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:true,configurable:true});TimeoutSubscriber.dispatchTimeout=function(state){var source=state.subscriber;var currentIndex=state.index;if(!source.hasCompleted&&source.previousIndex===currentIndex){source.notifyTimeout()}};TimeoutSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index;this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout,this.waitFor,{subscriber:this,index:currentIndex});this.index++;this._previousIndex=currentIndex};TimeoutSubscriber.prototype._next=function(value){this.destination.next(value);if(!this.absoluteTimeout){this.scheduleTimeout()}};TimeoutSubscriber.prototype._error=function(err){this.destination.error(err);this._hasCompleted=true};TimeoutSubscriber.prototype._complete=function(){this.destination.complete();this._hasCompleted=true};TimeoutSubscriber.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))};return TimeoutSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/timeoutWith",["rxjs/scheduler/queue","rxjs/util/isDate","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var queue_1=require("rxjs/scheduler/queue");var isDate_1=require("rxjs/util/isDate");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");function timeoutWith(due,withObservable,scheduler){if(scheduler===void 0){scheduler=queue_1.queue}var absoluteTimeout=isDate_1.isDate(due);var waitFor=absoluteTimeout?+due-scheduler.now():due;return this.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}exports.timeoutWith=timeoutWith;var TimeoutWithOperator=function(){function TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor;this.absoluteTimeout=absoluteTimeout;this.withObservable=withObservable;this.scheduler=scheduler}TimeoutWithOperator.prototype.call=function(subscriber){return new TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler)};return TimeoutWithOperator}();var TimeoutWithSubscriber=function(_super){__extends(TimeoutWithSubscriber,_super);function TimeoutWithSubscriber(destination,absoluteTimeout,waitFor,withObservable,scheduler){_super.call(this,null);this.destination=destination;this.absoluteTimeout=absoluteTimeout;this.waitFor=waitFor;this.withObservable=withObservable;this.scheduler=scheduler;this.timeoutSubscription=undefined;this.index=0;this._previousIndex=0;this._hasCompleted=false;destination.add(this);this.scheduleTimeout()}Object.defineProperty(TimeoutWithSubscriber.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:true,configurable:true});Object.defineProperty(TimeoutWithSubscriber.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:true,configurable:true});TimeoutWithSubscriber.dispatchTimeout=function(state){var source=state.subscriber;var currentIndex=state.index;if(!source.hasCompleted&&source.previousIndex===currentIndex){source.handleTimeout()}};TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index;var timeoutState={subscriber:this,index:currentIndex};this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,timeoutState);this.index++;this._previousIndex=currentIndex};TimeoutWithSubscriber.prototype._next=function(value){this.destination.next(value);if(!this.absoluteTimeout){this.scheduleTimeout()}};TimeoutWithSubscriber.prototype._error=function(err){this.destination.error(err);this._hasCompleted=true};TimeoutWithSubscriber.prototype._complete=function(){this.destination.complete();this._hasCompleted=true};TimeoutWithSubscriber.prototype.handleTimeout=function(){if(!this.isUnsubscribed){var withObservable=this.withObservable;this.unsubscribe();this.destination.add(this.timeoutSubscription=subscribeToResult_1.subscribeToResult(this,withObservable))}};return TimeoutWithSubscriber}(OuterSubscriber_1.OuterSubscriber);global.define=__define;return module.exports});System.register("rxjs/operator/toArray",["rxjs/Subscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");function toArray(){return this.lift(new ToArrayOperator)}exports.toArray=toArray;var ToArrayOperator=function(){function ToArrayOperator(){}ToArrayOperator.prototype.call=function(subscriber){return new ToArraySubscriber(subscriber)};return ToArrayOperator}();var ToArraySubscriber=function(_super){__extends(ToArraySubscriber,_super);function ToArraySubscriber(destination){_super.call(this,destination);this.array=[]}ToArraySubscriber.prototype._next=function(x){this.array.push(x)};ToArraySubscriber.prototype._complete=function(){this.destination.next(this.array);this.destination.complete()};return ToArraySubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/toPromise",["rxjs/util/root"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var root_1=require("rxjs/util/root");function toPromise(PromiseCtor){var _this=this;if(!PromiseCtor){if(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise){PromiseCtor=root_1.root.Rx.config.Promise}else if(root_1.root.Promise){PromiseCtor=root_1.root.Promise}}if(!PromiseCtor){throw new Error("no Promise impl found")}return new PromiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})}exports.toPromise=toPromise;global.define=__define;return module.exports});System.register("rxjs/operator/window",["rxjs/Subscriber","rxjs/Subject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subject_1=require("rxjs/Subject");function window(closingNotifier){return this.lift(new WindowOperator(closingNotifier))}exports.window=window;var WindowOperator=function(){function WindowOperator(closingNotifier){this.closingNotifier=closingNotifier}WindowOperator.prototype.call=function(subscriber){return new WindowSubscriber(subscriber,this.closingNotifier)};return WindowOperator}();var WindowSubscriber=function(_super){__extends(WindowSubscriber,_super);function WindowSubscriber(destination,closingNotifier){_super.call(this,destination);this.destination=destination;this.closingNotifier=closingNotifier;this.add(closingNotifier._subscribe(new WindowClosingNotifierSubscriber(this)));this.openWindow()}WindowSubscriber.prototype._next=function(value){this.window.next(value)};WindowSubscriber.prototype._error=function(err){this.window.error(err);this.destination.error(err)};WindowSubscriber.prototype._complete=function(){this.window.complete();this.destination.complete()};WindowSubscriber.prototype.openWindow=function(){var prevWindow=this.window;if(prevWindow){prevWindow.complete()}var destination=this.destination;var newWindow=this.window=new Subject_1.Subject;destination.add(newWindow);destination.next(newWindow)};return WindowSubscriber}(Subscriber_1.Subscriber);var WindowClosingNotifierSubscriber=function(_super){__extends(WindowClosingNotifierSubscriber,_super);function WindowClosingNotifierSubscriber(parent){_super.call(this,null);this.parent=parent}WindowClosingNotifierSubscriber.prototype._next=function(){this.parent.openWindow()};WindowClosingNotifierSubscriber.prototype._error=function(err){this.parent._error(err)};WindowClosingNotifierSubscriber.prototype._complete=function(){this.parent._complete()};return WindowClosingNotifierSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/windowCount",["rxjs/Subscriber","rxjs/Subject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subject_1=require("rxjs/Subject");function windowCount(windowSize,startWindowEvery){if(startWindowEvery===void 0){startWindowEvery=0}return this.lift(new WindowCountOperator(windowSize,startWindowEvery))}exports.windowCount=windowCount;var WindowCountOperator=function(){function WindowCountOperator(windowSize,startWindowEvery){this.windowSize=windowSize;this.startWindowEvery=startWindowEvery}WindowCountOperator.prototype.call=function(subscriber){return new WindowCountSubscriber(subscriber,this.windowSize,this.startWindowEvery)};return WindowCountOperator}();var WindowCountSubscriber=function(_super){__extends(WindowCountSubscriber,_super);function WindowCountSubscriber(destination,windowSize,startWindowEvery){_super.call(this,destination);this.destination=destination;this.windowSize=windowSize;this.startWindowEvery=startWindowEvery;this.windows=[new Subject_1.Subject];this.count=0;var firstWindow=this.windows[0];destination.add(firstWindow);destination.next(firstWindow)}WindowCountSubscriber.prototype._next=function(value){var startWindowEvery=this.startWindowEvery>0?this.startWindowEvery:this.windowSize;var destination=this.destination;var windowSize=this.windowSize;var windows=this.windows;var len=windows.length;for(var i=0;i<len;i++){windows[i].next(value)}var c=this.count-windowSize+1;if(c>=0&&c%startWindowEvery===0){windows.shift().complete()}if(++this.count%startWindowEvery===0){var window_1=new Subject_1.Subject;windows.push(window_1);destination.add(window_1);destination.next(window_1)}};WindowCountSubscriber.prototype._error=function(err){var windows=this.windows;while(windows.length>0){windows.shift().error(err)}this.destination.error(err)};WindowCountSubscriber.prototype._complete=function(){var windows=this.windows;while(windows.length>0){windows.shift().complete()}this.destination.complete()};return WindowCountSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/windowTime",["rxjs/Subscriber","rxjs/Subject","rxjs/scheduler/asap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subject_1=require("rxjs/Subject");var asap_1=require("rxjs/scheduler/asap");function windowTime(windowTimeSpan,windowCreationInterval,scheduler){if(windowCreationInterval===void 0){windowCreationInterval=null}if(scheduler===void 0){scheduler=asap_1.asap}return this.lift(new WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler))}exports.windowTime=windowTime;var WindowTimeOperator=function(){function WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler){this.windowTimeSpan=windowTimeSpan;this.windowCreationInterval=windowCreationInterval;this.scheduler=scheduler}WindowTimeOperator.prototype.call=function(subscriber){return new WindowTimeSubscriber(subscriber,this.windowTimeSpan,this.windowCreationInterval,this.scheduler)};return WindowTimeOperator}();var WindowTimeSubscriber=function(_super){__extends(WindowTimeSubscriber,_super);function WindowTimeSubscriber(destination,windowTimeSpan,windowCreationInterval,scheduler){_super.call(this,destination);this.destination=destination;this.windowTimeSpan=windowTimeSpan;this.windowCreationInterval=windowCreationInterval;this.scheduler=scheduler;this.windows=[];if(windowCreationInterval!==null&&windowCreationInterval>=0){var window_1=this.openWindow();var closeState={subscriber:this,window:window_1,context:null};var creationState={windowTimeSpan:windowTimeSpan,windowCreationInterval:windowCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchWindowClose,windowTimeSpan,closeState));this.add(scheduler.schedule(dispatchWindowCreation,windowCreationInterval,creationState))}else{var window_2=this.openWindow();var timeSpanOnlyState={subscriber:this,window:window_2,windowTimeSpan:windowTimeSpan};this.add(scheduler.schedule(dispatchWindowTimeSpanOnly,windowTimeSpan,timeSpanOnlyState))}}WindowTimeSubscriber.prototype._next=function(value){var windows=this.windows;var len=windows.length;for(var i=0;i<len;i++){windows[i].next(value)}};WindowTimeSubscriber.prototype._error=function(err){var windows=this.windows;while(windows.length>0){windows.shift().error(err)}this.destination.error(err)};WindowTimeSubscriber.prototype._complete=function(){var windows=this.windows;while(windows.length>0){windows.shift().complete()}this.destination.complete()};WindowTimeSubscriber.prototype.openWindow=function(){var window=new Subject_1.Subject;this.windows.push(window);var destination=this.destination;destination.add(window);destination.next(window);return window};WindowTimeSubscriber.prototype.closeWindow=function(window){window.complete();var windows=this.windows;windows.splice(windows.indexOf(window),1)};return WindowTimeSubscriber}(Subscriber_1.Subscriber);function dispatchWindowTimeSpanOnly(state){var subscriber=state.subscriber,windowTimeSpan=state.windowTimeSpan,window=state.window;if(window){window.complete()}state.window=subscriber.openWindow();this.schedule(state,windowTimeSpan)}function dispatchWindowCreation(state){var windowTimeSpan=state.windowTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,windowCreationInterval=state.windowCreationInterval;var window=subscriber.openWindow();var action=this;var context={action:action,subscription:null};var timeSpanState={subscriber:subscriber,window:window,context:context};context.subscription=scheduler.schedule(dispatchWindowClose,windowTimeSpan,timeSpanState);action.add(context.subscription);action.schedule(state,windowCreationInterval)}function dispatchWindowClose(_a){var subscriber=_a.subscriber,window=_a.window,context=_a.context;if(context&&context.action&&context.subscription){context.action.remove(context.subscription)}subscriber.closeWindow(window)}global.define=__define;return module.exports});System.register("rxjs/operator/windowToggle",["rxjs/Subscriber","rxjs/Subject","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subject_1=require("rxjs/Subject");var Subscription_1=require("rxjs/Subscription");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function windowToggle(openings,closingSelector){return this.lift(new WindowToggleOperator(openings,closingSelector))}exports.windowToggle=windowToggle;var WindowToggleOperator=function(){function WindowToggleOperator(openings,closingSelector){this.openings=openings;this.closingSelector=closingSelector}WindowToggleOperator.prototype.call=function(subscriber){return new WindowToggleSubscriber(subscriber,this.openings,this.closingSelector)};return WindowToggleOperator}();var WindowToggleSubscriber=function(_super){__extends(WindowToggleSubscriber,_super);function WindowToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination);this.destination=destination;this.openings=openings;this.closingSelector=closingSelector;this.contexts=[];this.add(this.openings._subscribe(new WindowToggleOpeningsSubscriber(this)))}WindowToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;var len=contexts.length;for(var i=0;i<len;i++){contexts[i].window.next(value)}};WindowToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;while(contexts.length>0){contexts.shift().window.error(err)}this.destination.error(err)};WindowToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;while(contexts.length>0){var context=contexts.shift();context.window.complete();context.subscription.unsubscribe()}this.destination.complete()};WindowToggleSubscriber.prototype.openWindow=function(value){var closingSelector=this.closingSelector;var closingNotifier=tryCatch_1.tryCatch(closingSelector)(value);if(closingNotifier===errorObject_1.errorObject){this.error(closingNotifier.e)}else{var destination=this.destination;var window_1=new Subject_1.Subject;var subscription=new Subscription_1.Subscription;var context={window:window_1,subscription:subscription};this.contexts.push(context);var subscriber=new WindowClosingNotifierSubscriber(this,context);var closingSubscription=closingNotifier._subscribe(subscriber);subscription.add(closingSubscription);destination.add(subscription);destination.add(window_1);destination.next(window_1)}};WindowToggleSubscriber.prototype.closeWindow=function(context){var window=context.window,subscription=context.subscription;var contexts=this.contexts;var destination=this.destination;contexts.splice(contexts.indexOf(context),1);window.complete();destination.remove(subscription);destination.remove(window);subscription.unsubscribe()};return WindowToggleSubscriber}(Subscriber_1.Subscriber);var WindowClosingNotifierSubscriber=function(_super){__extends(WindowClosingNotifierSubscriber,_super);function WindowClosingNotifierSubscriber(parent,windowContext){_super.call(this,null);this.parent=parent;this.windowContext=windowContext}WindowClosingNotifierSubscriber.prototype._next=function(){this.parent.closeWindow(this.windowContext)};WindowClosingNotifierSubscriber.prototype._error=function(err){this.parent.error(err)};WindowClosingNotifierSubscriber.prototype._complete=function(){this.parent.closeWindow(this.windowContext)};return WindowClosingNotifierSubscriber}(Subscriber_1.Subscriber);var WindowToggleOpeningsSubscriber=function(_super){__extends(WindowToggleOpeningsSubscriber,_super);function WindowToggleOpeningsSubscriber(parent){_super.call(this);this.parent=parent}WindowToggleOpeningsSubscriber.prototype._next=function(value){this.parent.openWindow(value)};WindowToggleOpeningsSubscriber.prototype._error=function(err){this.parent.error(err)};WindowToggleOpeningsSubscriber.prototype._complete=function(){};return WindowToggleOpeningsSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/windowWhen",["rxjs/Subscriber","rxjs/Subject","rxjs/Subscription","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Subject_1=require("rxjs/Subject");var Subscription_1=require("rxjs/Subscription");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function windowWhen(closingSelector){return this.lift(new WindowOperator(closingSelector))}exports.windowWhen=windowWhen;var WindowOperator=function(){function WindowOperator(closingSelector){this.closingSelector=closingSelector}WindowOperator.prototype.call=function(subscriber){return new WindowSubscriber(subscriber,this.closingSelector)};return WindowOperator}();var WindowSubscriber=function(_super){__extends(WindowSubscriber,_super);function WindowSubscriber(destination,closingSelector){_super.call(this,destination);this.destination=destination;this.closingSelector=closingSelector;this.openWindow()}WindowSubscriber.prototype._next=function(value){this.window.next(value)};WindowSubscriber.prototype._error=function(err){this.window.error(err);this.destination.error(err);this._unsubscribeClosingNotification()};WindowSubscriber.prototype._complete=function(){this.window.complete();this.destination.complete();this._unsubscribeClosingNotification()};WindowSubscriber.prototype.unsubscribe=function(){_super.prototype.unsubscribe.call(this);this._unsubscribeClosingNotification()};WindowSubscriber.prototype._unsubscribeClosingNotification=function(){var closingNotification=this.closingNotification;if(closingNotification){closingNotification.unsubscribe()}};WindowSubscriber.prototype.openWindow=function(){var prevClosingNotification=this.closingNotification;if(prevClosingNotification){this.remove(prevClosingNotification);prevClosingNotification.unsubscribe()}var prevWindow=this.window;if(prevWindow){prevWindow.complete()}var window=this.window=new Subject_1.Subject;this.destination.next(window);var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1.errorObject){var err=closingNotifier.e;this.destination.error(err);this.window.error(err)}else{var closingNotification=this.closingNotification=new Subscription_1.Subscription;closingNotification.add(closingNotifier._subscribe(new WindowClosingNotifierSubscriber(this)));this.add(closingNotification);this.add(window)}};return WindowSubscriber}(Subscriber_1.Subscriber);var WindowClosingNotifierSubscriber=function(_super){__extends(WindowClosingNotifierSubscriber,_super);function WindowClosingNotifierSubscriber(parent){_super.call(this,null);this.parent=parent}WindowClosingNotifierSubscriber.prototype._next=function(){this.parent.openWindow()};WindowClosingNotifierSubscriber.prototype._error=function(err){this.parent.error(err)};WindowClosingNotifierSubscriber.prototype._complete=function(){this.parent.openWindow()};return WindowClosingNotifierSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/operator/withLatestFrom",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");function withLatestFrom(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i]}var project;if(typeof args[args.length-1]==="function"){project=args.pop()}var observables=args;return this.lift(new WithLatestFromOperator(observables,project))}exports.withLatestFrom=withLatestFrom;var WithLatestFromOperator=function(){function WithLatestFromOperator(observables,project){this.observables=observables;this.project=project}WithLatestFromOperator.prototype.call=function(subscriber){return new WithLatestFromSubscriber(subscriber,this.observables,this.project)};return WithLatestFromOperator}();var WithLatestFromSubscriber=function(_super){__extends(WithLatestFromSubscriber,_super);function WithLatestFromSubscriber(destination,observables,project){_super.call(this,destination);this.observables=observables;this.project=project;this.toRespond=[];var len=observables.length;this.values=new Array(len);for(var i=0;i<len;i++){this.toRespond.push(i)}for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}WithLatestFromSubscriber.prototype.notifyNext=function(observable,value,observableIndex,index){this.values[observableIndex]=value;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(observableIndex);if(found!==-1){toRespond.splice(found,1)}}};WithLatestFromSubscriber.prototype.notifyComplete=function(){};WithLatestFromSubscriber.prototype._next=function(value){if(this.toRespond.length===0){var values=this.values;var destination=this.destination;var project=this.project;var args=[value].concat(values);if(project){var result=tryCatch_1.tryCatch(this.project).apply(this,args);if(result===errorObject_1.errorObject){destination.error(result.e)}else{destination.next(result)}}else{destination.next(args)}}};return WithLatestFromSubscriber}(OuterSubscriber_1.OuterSubscriber);global.define=__define;return module.exports});System.register("rxjs/operator/zip",["rxjs/operator/zip-static"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var zip_static_1=require("rxjs/operator/zip-static");function zipProto(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}observables.unshift(this);return zip_static_1.zip.apply(this,observables)}exports.zipProto=zipProto;global.define=__define;return module.exports});System.register("rxjs/operator/zipAll",["rxjs/operator/zip-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var zip_support_1=require("rxjs/operator/zip-support");function zipAll(project){return this.lift(new zip_support_1.ZipOperator(project))}exports.zipAll=zipAll;global.define=__define;return module.exports});System.register("rxjs/util/SymbolShim",["rxjs/util/root"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var root_1=require("rxjs/util/root");function polyfillSymbol(root){var Symbol=ensureSymbol(root);ensureIterator(Symbol,root);ensureObservable(Symbol);ensureFor(Symbol);return Symbol}exports.polyfillSymbol=polyfillSymbol;function ensureFor(Symbol){if(!Symbol.for){Symbol.for=symbolForPolyfill}}exports.ensureFor=ensureFor;var id=0;function ensureSymbol(root){if(!root.Symbol){root.Symbol=function symbolFuncPolyfill(description){return"@@Symbol("+description+"):"+id++}}return root.Symbol}exports.ensureSymbol=ensureSymbol;function symbolForPolyfill(key){return"@@"+key}exports.symbolForPolyfill=symbolForPolyfill;function ensureIterator(Symbol,root){if(!Symbol.iterator){if(typeof Symbol.for==="function"){Symbol.iterator=Symbol.for("iterator")}else if(root.Set&&typeof(new root.Set)["@@iterator"]==="function"){Symbol.iterator="@@iterator"}else if(root.Map){var keys=Object.getOwnPropertyNames(root.Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=="entries"&&key!=="size"&&root.Map.prototype[key]===root.Map.prototype["entries"]){Symbol.iterator=key;break}}}else{Symbol.iterator="@@iterator"}}}exports.ensureIterator=ensureIterator;function ensureObservable(Symbol){if(!Symbol.observable){if(typeof Symbol.for==="function"){Symbol.observable=Symbol.for("observable")}else{Symbol.observable="@@observable"}}}exports.ensureObservable=ensureObservable;exports.SymbolShim=polyfillSymbol(root_1.root);global.define=__define;return module.exports});System.register("rxjs/util/tryCatch",["rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var errorObject_1=require("rxjs/util/errorObject");var tryCatchTarget;function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){errorObject_1.errorObject.e=e;return errorObject_1.errorObject}}function tryCatch(fn){tryCatchTarget=fn;return tryCatcher}exports.tryCatch=tryCatch;global.define=__define;return module.exports});System.register("rxjs/util/subscribeToResult",["rxjs/Observable","rxjs/util/SymbolShim","rxjs/InnerSubscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var SymbolShim_1=require("rxjs/util/SymbolShim");
var InnerSubscriber_1=require("rxjs/InnerSubscriber");var isArray=Array.isArray;function subscribeToResult(outerSubscriber,result,outerValue,outerIndex){var destination=new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex);if(destination.isUnsubscribed){return}if(result instanceof Observable_1.Observable){if(result._isScalar){destination.next(result.value);destination.complete();return}else{return result.subscribe(destination)}}if(isArray(result)){for(var i=0,len=result.length;i<len&&!destination.isUnsubscribed;i++){destination.next(result[i])}if(!destination.isUnsubscribed){destination.complete()}}else if(typeof result.then==="function"){result.then(function(x){if(!destination.isUnsubscribed){destination.next(x);destination.complete()}},function(err){return destination.error(err)}).then(null,function(err){setTimeout(function(){throw err})});return destination}else if(typeof result[SymbolShim_1.SymbolShim.iterator]==="function"){for(var _i=0,result_1=result;_i<result_1.length;_i++){var item=result_1[_i];destination.next(item);if(destination.isUnsubscribed){break}}if(!destination.isUnsubscribed){destination.complete()}}else if(typeof result[SymbolShim_1.SymbolShim.observable]==="function"){var obs=result[SymbolShim_1.SymbolShim.observable]();if(typeof obs.subscribe!=="function"){destination.error("invalid observable")}else{return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex))}}else{destination.error(new TypeError("unknown type returned"))}}exports.subscribeToResult=subscribeToResult;global.define=__define;return module.exports});System.register("rxjs/scheduler/QueueScheduler",["rxjs/scheduler/QueueAction","rxjs/scheduler/FutureAction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var QueueAction_1=require("rxjs/scheduler/QueueAction");var FutureAction_1=require("rxjs/scheduler/FutureAction");var QueueScheduler=function(){function QueueScheduler(){this.actions=[];this.active=false;this.scheduled=false}QueueScheduler.prototype.now=function(){return Date.now()};QueueScheduler.prototype.flush=function(){if(this.active||this.scheduled){return}this.active=true;var actions=this.actions;for(var action=void 0;action=actions.shift();){action.execute()}this.active=false};QueueScheduler.prototype.schedule=function(work,delay,state){if(delay===void 0){delay=0}return delay<=0?this.scheduleNow(work,state):this.scheduleLater(work,delay,state)};QueueScheduler.prototype.scheduleNow=function(work,state){return new QueueAction_1.QueueAction(this,work).schedule(state)};QueueScheduler.prototype.scheduleLater=function(work,delay,state){return new FutureAction_1.FutureAction(this,work).schedule(state,delay)};return QueueScheduler}();exports.QueueScheduler=QueueScheduler;global.define=__define;return module.exports});System.register("rxjs/add/operator/merge-static",["rxjs/Observable","rxjs/operator/merge-static"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var merge_static_1=require("rxjs/operator/merge-static");Observable_1.Observable.merge=merge_static_1.merge;global.define=__define;return module.exports});System.register("rxjs/observable/bindCallback",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/subject/AsyncSubject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var AsyncSubject_1=require("rxjs/subject/AsyncSubject");var BoundCallbackObservable=function(_super){__extends(BoundCallbackObservable,_super);function BoundCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this);this.callbackFunc=callbackFunc;this.selector=selector;this.args=args;this.scheduler=scheduler}BoundCallbackObservable.create=function(callbackFunc,selector,scheduler){if(selector===void 0){selector=undefined}return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i]}return new BoundCallbackObservable(callbackFunc,selector,args,scheduler)}};BoundCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc;var args=this.args;var scheduler=this.scheduler;var subject=this.subject;if(!scheduler){if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){var innerArgs=[];for(var _i=0;_i<arguments.length;_i++){innerArgs[_i-0]=arguments[_i]}var source=handlerFn.source;var selector=source.selector,subject=source.subject;if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);if(result_1===errorObject_1.errorObject){subject.error(errorObject_1.errorObject.e)}else{subject.next(result_1);subject.complete()}}else{subject.next(innerArgs.length===1?innerArgs[0]:innerArgs);subject.complete()}};handler.source=this;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));if(result===errorObject_1.errorObject){subject.error(errorObject_1.errorObject.e)}}return subject.subscribe(subscriber)}else{subscriber.add(scheduler.schedule(dispatch,0,{source:this,subscriber:subscriber}));return subscriber}};return BoundCallbackObservable}(Observable_1.Observable);exports.BoundCallbackObservable=BoundCallbackObservable;function dispatch(state){var source=state.source,subscriber=state.subscriber;var callbackFunc=source.callbackFunc,args=source.args,scheduler=source.scheduler;var subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){var innerArgs=[];for(var _i=0;_i<arguments.length;_i++){innerArgs[_i-0]=arguments[_i]}var source=handlerFn.source;var selector=source.selector,subject=source.subject;if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);if(result_2===errorObject_1.errorObject){subject.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject}))}else{subject.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}}else{var value=innerArgs.length===1?innerArgs[0]:innerArgs;subject.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));if(result===errorObject_1.errorObject){subject.error(errorObject_1.errorObject.e)}}this.add(subject.subscribe(subscriber))}function dispatchNext(_a){var value=_a.value,subject=_a.subject;subject.next(value);subject.complete()}function dispatchError(_a){var err=_a.err,subject=_a.subject;subject.error(err)}global.define=__define;return module.exports});System.register("rxjs/add/observable/defer",["rxjs/Observable","rxjs/observable/defer"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var defer_1=require("rxjs/observable/defer");Observable_1.Observable.defer=defer_1.DeferObservable.create;global.define=__define;return module.exports});System.register("rxjs/observable/forkJoin",["rxjs/Observable","rxjs/Subscriber","rxjs/observable/fromPromise","rxjs/observable/empty","rxjs/util/isPromise","rxjs/util/isArray"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var Subscriber_1=require("rxjs/Subscriber");var fromPromise_1=require("rxjs/observable/fromPromise");var empty_1=require("rxjs/observable/empty");var isPromise_1=require("rxjs/util/isPromise");var isArray_1=require("rxjs/util/isArray");var ForkJoinObservable=function(_super){__extends(ForkJoinObservable,_super);function ForkJoinObservable(sources,resultSelector){_super.call(this);this.sources=sources;this.resultSelector=resultSelector}ForkJoinObservable.create=function(){var sources=[];for(var _i=0;_i<arguments.length;_i++){sources[_i-0]=arguments[_i]}if(sources===null||arguments.length===0){return new empty_1.EmptyObservable}var resultSelector=null;if(typeof sources[sources.length-1]==="function"){resultSelector=sources.pop()}if(sources.length===1&&isArray_1.isArray(sources[0])){sources=sources[0]}return new ForkJoinObservable(sources,resultSelector)};ForkJoinObservable.prototype._subscribe=function(subscriber){var sources=this.sources;var len=sources.length;var context={completed:0,total:len,values:emptyArray(len),selector:this.resultSelector};for(var i=0;i<len;i++){var source=sources[i];if(isPromise_1.isPromise(source)){source=new fromPromise_1.PromiseObservable(source)}source.subscribe(new AllSubscriber(subscriber,i,context))}};return ForkJoinObservable}(Observable_1.Observable);exports.ForkJoinObservable=ForkJoinObservable;var AllSubscriber=function(_super){__extends(AllSubscriber,_super);function AllSubscriber(destination,index,context){_super.call(this,destination);this.index=index;this.context=context;this._value=null}AllSubscriber.prototype._next=function(value){this._value=value};AllSubscriber.prototype._complete=function(){var destination=this.destination;if(this._value==null){destination.complete()}var context=this.context;context.completed++;context.values[this.index]=this._value;var values=context.values;if(context.completed!==values.length){return}if(values.every(hasValue)){var value=context.selector?context.selector.apply(this,values):values;destination.next(value)}destination.complete()};return AllSubscriber}(Subscriber_1.Subscriber);function hasValue(x){return x!==null}function emptyArray(len){var arr=[];for(var i=0;i<len;i++){arr.push(null)}return arr}global.define=__define;return module.exports});System.register("rxjs/operator/observeOn-support",["rxjs/Subscriber","rxjs/Notification"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Notification_1=require("rxjs/Notification");var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){if(delay===void 0){delay=0}this.scheduler=scheduler;this.delay=delay}ObserveOnOperator.prototype.call=function(subscriber){return new ObserveOnSubscriber(subscriber,this.scheduler,this.delay)};return ObserveOnOperator}();exports.ObserveOnOperator=ObserveOnOperator;var ObserveOnSubscriber=function(_super){__extends(ObserveOnSubscriber,_super);function ObserveOnSubscriber(destination,scheduler,delay){if(delay===void 0){delay=0}_super.call(this,destination);this.scheduler=scheduler;this.delay=delay}ObserveOnSubscriber.dispatch=function(_a){var notification=_a.notification,destination=_a.destination;notification.observe(destination)};ObserveOnSubscriber.prototype.scheduleMessage=function(notification){this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))};ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(Notification_1.Notification.createNext(value))};ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(Notification_1.Notification.createError(err))};ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())};return ObserveOnSubscriber}(Subscriber_1.Subscriber);exports.ObserveOnSubscriber=ObserveOnSubscriber;var ObserveOnMessage=function(){function ObserveOnMessage(notification,destination){this.notification=notification;this.destination=destination}return ObserveOnMessage}();global.define=__define;return module.exports});System.register("rxjs/add/observable/fromEvent",["rxjs/Observable","rxjs/observable/fromEvent"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var fromEvent_1=require("rxjs/observable/fromEvent");Observable_1.Observable.fromEvent=fromEvent_1.FromEventObservable.create;global.define=__define;return module.exports});System.register("rxjs/add/observable/fromEventPattern",["rxjs/Observable","rxjs/observable/fromEventPattern"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var fromEventPattern_1=require("rxjs/observable/fromEventPattern");Observable_1.Observable.fromEventPattern=fromEventPattern_1.FromEventPatternObservable.create;global.define=__define;return module.exports});System.register("rxjs/scheduler/AsapAction",["rxjs/util/Immediate","rxjs/scheduler/QueueAction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Immediate_1=require("rxjs/util/Immediate");var QueueAction_1=require("rxjs/scheduler/QueueAction");var AsapAction=function(_super){__extends(AsapAction,_super);function AsapAction(){_super.apply(this,arguments)}AsapAction.prototype.schedule=function(state){var _this=this;if(this.isUnsubscribed){return this}this.state=state;var scheduler=this.scheduler;scheduler.actions.push(this);if(!scheduler.scheduled){scheduler.scheduled=true;this.id=Immediate_1.Immediate.setImmediate(function(){_this.id=null;_this.scheduler.scheduled=false;_this.scheduler.flush()})}return this};AsapAction.prototype.unsubscribe=function(){var id=this.id;var scheduler=this.scheduler;_super.prototype.unsubscribe.call(this);if(scheduler.actions.length===0){scheduler.active=false;scheduler.scheduled=false}if(id){this.id=null;Immediate_1.Immediate.clearImmediate(id)}};return AsapAction}(QueueAction_1.QueueAction);exports.AsapAction=AsapAction;global.define=__define;return module.exports});System.register("rxjs/add/observable/never",["rxjs/Observable","rxjs/observable/never"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var never_1=require("rxjs/observable/never");Observable_1.Observable.never=never_1.InfiniteObservable.create;global.define=__define;return module.exports});System.register("rxjs/add/observable/range",["rxjs/Observable","rxjs/observable/range"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var range_1=require("rxjs/observable/range");Observable_1.Observable.range=range_1.RangeObservable.create;global.define=__define;return module.exports});System.register("rxjs/observable/timer",["rxjs/util/isNumeric","rxjs/Observable","rxjs/scheduler/asap","rxjs/util/isScheduler","rxjs/util/isDate"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var isNumeric_1=require("rxjs/util/isNumeric");var Observable_1=require("rxjs/Observable");var asap_1=require("rxjs/scheduler/asap");var isScheduler_1=require("rxjs/util/isScheduler");var isDate_1=require("rxjs/util/isDate");var TimerObservable=function(_super){__extends(TimerObservable,_super);function TimerObservable(dueTime,period,scheduler){if(dueTime===void 0){dueTime=0}_super.call(this);this.period=period;this.scheduler=scheduler;this.dueTime=0;if(isNumeric_1.isNumeric(period)){this._period=Number(period)<1&&1||Number(period)}else if(isScheduler_1.isScheduler(period)){scheduler=period}if(!isScheduler_1.isScheduler(scheduler)){scheduler=asap_1.asap}this.scheduler=scheduler;var absoluteDueTime=isDate_1.isDate(dueTime);this.dueTime=absoluteDueTime?+dueTime-this.scheduler.now():dueTime}TimerObservable.create=function(dueTime,period,scheduler){if(dueTime===void 0){dueTime=0}return new TimerObservable(dueTime,period,scheduler)};TimerObservable.dispatch=function(state){var index=state.index,period=state.period,subscriber=state.subscriber;var action=this;subscriber.next(index);if(typeof period==="undefined"){subscriber.complete();return}else if(subscriber.isUnsubscribed){return}if(typeof action.delay==="undefined"){action.add(action.scheduler.schedule(TimerObservable.dispatch,period,{index:index+1,period:period,subscriber:subscriber}))}else{state.index=index+1;action.schedule(state,period)}};TimerObservable.prototype._subscribe=function(subscriber){var index=0;var period=this._period;var dueTime=this.dueTime;var scheduler=this.scheduler;subscriber.add(scheduler.schedule(TimerObservable.dispatch,dueTime,{index:index,period:period,subscriber:subscriber}))};return TimerObservable}(Observable_1.Observable);exports.TimerObservable=TimerObservable;global.define=__define;return module.exports});System.register("rxjs/operator/zip-static",["rxjs/observable/fromArray","rxjs/operator/zip-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var fromArray_1=require("rxjs/observable/fromArray");var zip_support_1=require("rxjs/operator/zip-support");function zip(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}var project=observables[observables.length-1];if(typeof project==="function"){observables.pop()}return new fromArray_1.ArrayObservable(observables).lift(new zip_support_1.ZipOperator(project))}exports.zip=zip;global.define=__define;return module.exports});System.register("rxjs/add/operator/buffer",["rxjs/Observable","rxjs/operator/buffer"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var buffer_1=require("rxjs/operator/buffer");Observable_1.Observable.prototype.buffer=buffer_1.buffer;global.define=__define;return module.exports});System.register("rxjs/add/operator/bufferCount",["rxjs/Observable","rxjs/operator/bufferCount"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var bufferCount_1=require("rxjs/operator/bufferCount");Observable_1.Observable.prototype.bufferCount=bufferCount_1.bufferCount;global.define=__define;return module.exports});System.register("rxjs/add/operator/bufferTime",["rxjs/Observable","rxjs/operator/bufferTime"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var bufferTime_1=require("rxjs/operator/bufferTime");Observable_1.Observable.prototype.bufferTime=bufferTime_1.bufferTime;global.define=__define;return module.exports});System.register("rxjs/add/operator/bufferToggle",["rxjs/Observable","rxjs/operator/bufferToggle"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var bufferToggle_1=require("rxjs/operator/bufferToggle");Observable_1.Observable.prototype.bufferToggle=bufferToggle_1.bufferToggle;global.define=__define;return module.exports});System.register("rxjs/add/operator/bufferWhen",["rxjs/Observable","rxjs/operator/bufferWhen"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var bufferWhen_1=require("rxjs/operator/bufferWhen");Observable_1.Observable.prototype.bufferWhen=bufferWhen_1.bufferWhen;global.define=__define;return module.exports});System.register("rxjs/add/operator/catch",["rxjs/Observable","rxjs/operator/catch"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var catch_1=require("rxjs/operator/catch");Observable_1.Observable.prototype.catch=catch_1._catch;global.define=__define;return module.exports});System.register("rxjs/add/operator/combineAll",["rxjs/Observable","rxjs/operator/combineAll"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var combineAll_1=require("rxjs/operator/combineAll");Observable_1.Observable.prototype.combineAll=combineAll_1.combineAll;global.define=__define;return module.exports});System.register("rxjs/add/operator/combineLatest",["rxjs/Observable","rxjs/operator/combineLatest"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var combineLatest_1=require("rxjs/operator/combineLatest");Observable_1.Observable.prototype.combineLatest=combineLatest_1.combineLatest;global.define=__define;return module.exports});System.register("rxjs/add/operator/concat",["rxjs/Observable","rxjs/operator/concat"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var concat_1=require("rxjs/operator/concat");Observable_1.Observable.prototype.concat=concat_1.concat;global.define=__define;return module.exports});System.register("rxjs/add/operator/concatAll",["rxjs/Observable","rxjs/operator/concatAll"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var concatAll_1=require("rxjs/operator/concatAll");Observable_1.Observable.prototype.concatAll=concatAll_1.concatAll;global.define=__define;return module.exports});System.register("rxjs/operator/concatMap",["rxjs/operator/mergeMap-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var mergeMap_support_1=require("rxjs/operator/mergeMap-support");function concatMap(project,projectResult){return this.lift(new mergeMap_support_1.MergeMapOperator(project,projectResult,1))}exports.concatMap=concatMap;global.define=__define;return module.exports});System.register("rxjs/operator/concatMapTo",["rxjs/operator/mergeMapTo-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var mergeMapTo_support_1=require("rxjs/operator/mergeMapTo-support");function concatMapTo(observable,projectResult){return this.lift(new mergeMapTo_support_1.MergeMapToOperator(observable,projectResult,1))}exports.concatMapTo=concatMapTo;global.define=__define;return module.exports});System.register("rxjs/add/operator/count",["rxjs/Observable","rxjs/operator/count"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var count_1=require("rxjs/operator/count");Observable_1.Observable.prototype.count=count_1.count;global.define=__define;return module.exports});System.register("rxjs/add/operator/dematerialize",["rxjs/Observable","rxjs/operator/dematerialize"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var dematerialize_1=require("rxjs/operator/dematerialize");Observable_1.Observable.prototype.dematerialize=dematerialize_1.dematerialize;global.define=__define;return module.exports});System.register("rxjs/add/operator/debounce",["rxjs/Observable","rxjs/operator/debounce"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var debounce_1=require("rxjs/operator/debounce");Observable_1.Observable.prototype.debounce=debounce_1.debounce;global.define=__define;return module.exports});System.register("rxjs/add/operator/debounceTime",["rxjs/Observable","rxjs/operator/debounceTime"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var debounceTime_1=require("rxjs/operator/debounceTime");Observable_1.Observable.prototype.debounceTime=debounceTime_1.debounceTime;global.define=__define;return module.exports});System.register("rxjs/add/operator/defaultIfEmpty",["rxjs/Observable","rxjs/operator/defaultIfEmpty"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var defaultIfEmpty_1=require("rxjs/operator/defaultIfEmpty");Observable_1.Observable.prototype.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty;global.define=__define;return module.exports});System.register("rxjs/add/operator/delay",["rxjs/Observable","rxjs/operator/delay"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var delay_1=require("rxjs/operator/delay");Observable_1.Observable.prototype.delay=delay_1.delay;global.define=__define;return module.exports});System.register("rxjs/add/operator/distinctUntilChanged",["rxjs/Observable","rxjs/operator/distinctUntilChanged"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var distinctUntilChanged_1=require("rxjs/operator/distinctUntilChanged");Observable_1.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged;global.define=__define;return module.exports});System.register("rxjs/add/operator/do",["rxjs/Observable","rxjs/operator/do"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var do_1=require("rxjs/operator/do");Observable_1.Observable.prototype.do=do_1._do;global.define=__define;return module.exports});System.register("rxjs/operator/expand",["rxjs/operator/expand-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var expand_support_1=require("rxjs/operator/expand-support");function expand(project,concurrent,scheduler){if(concurrent===void 0){concurrent=Number.POSITIVE_INFINITY}if(scheduler===void 0){scheduler=undefined}concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent;return this.lift(new expand_support_1.ExpandOperator(project,concurrent,scheduler))}exports.expand=expand;global.define=__define;return module.exports});System.register("rxjs/add/operator/filter",["rxjs/Observable","rxjs/operator/filter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var filter_1=require("rxjs/operator/filter");Observable_1.Observable.prototype.filter=filter_1.filter;global.define=__define;return module.exports});System.register("rxjs/add/operator/finally",["rxjs/Observable","rxjs/operator/finally"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var finally_1=require("rxjs/operator/finally");Observable_1.Observable.prototype.finally=finally_1._finally;global.define=__define;return module.exports});System.register("rxjs/operator/first",["rxjs/Subscriber","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/util/EmptyError"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var EmptyError_1=require("rxjs/util/EmptyError");function first(predicate,resultSelector,defaultValue){return this.lift(new FirstOperator(predicate,resultSelector,defaultValue,this))}exports.first=first;var FirstOperator=function(){function FirstOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source}FirstOperator.prototype.call=function(observer){return new FirstSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source)};return FirstOperator}();var FirstSubscriber=function(_super){__extends(FirstSubscriber,_super);function FirstSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination);this.predicate=predicate;this.resultSelector=resultSelector;this.defaultValue=defaultValue;this.source=source;this.index=0;this.hasCompleted=false}FirstSubscriber.prototype._next=function(value){var _a=this,destination=_a.destination,predicate=_a.predicate,resultSelector=_a.resultSelector;var index=this.index++;var passed=true;if(predicate){passed=tryCatch_1.tryCatch(predicate)(value,index,this.source);if(passed===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e);return}}if(passed){if(resultSelector){var result=tryCatch_1.tryCatch(resultSelector)(value,index);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e);return}destination.next(result)}else{destination.next(value)}destination.complete();this.hasCompleted=true}};FirstSubscriber.prototype._complete=function(){var destination=this.destination;if(!this.hasCompleted&&typeof this.defaultValue!=="undefined"){destination.next(this.defaultValue);destination.complete()}else if(!this.hasCompleted){destination.error(new EmptyError_1.EmptyError)}};return FirstSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/util/Map",["rxjs/util/root","rxjs/util/MapPolyfill"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var root_1=require("rxjs/util/root");var MapPolyfill_1=require("rxjs/util/MapPolyfill");exports.Map=root_1.root.Map||function(){return MapPolyfill_1.MapPolyfill}();global.define=__define;return module.exports});System.register("rxjs/add/operator/ignoreElements",["rxjs/Observable","rxjs/operator/ignoreElements"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var ignoreElements_1=require("rxjs/operator/ignoreElements");Observable_1.Observable.prototype.ignoreElements=ignoreElements_1.ignoreElements;global.define=__define;return module.exports});System.register("rxjs/add/operator/every",["rxjs/Observable","rxjs/operator/every"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var every_1=require("rxjs/operator/every");Observable_1.Observable.prototype.every=every_1.every;global.define=__define;return module.exports});System.register("rxjs/add/operator/last",["rxjs/Observable","rxjs/operator/last"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;
var Observable_1=require("rxjs/Observable");var last_1=require("rxjs/operator/last");Observable_1.Observable.prototype.last=last_1.last;global.define=__define;return module.exports});System.register("rxjs/add/operator/map",["rxjs/Observable","rxjs/operator/map"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var map_1=require("rxjs/operator/map");Observable_1.Observable.prototype.map=map_1.map;global.define=__define;return module.exports});System.register("rxjs/add/operator/mapTo",["rxjs/Observable","rxjs/operator/mapTo"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var mapTo_1=require("rxjs/operator/mapTo");Observable_1.Observable.prototype.mapTo=mapTo_1.mapTo;global.define=__define;return module.exports});System.register("rxjs/add/operator/materialize",["rxjs/Observable","rxjs/operator/materialize"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var materialize_1=require("rxjs/operator/materialize");Observable_1.Observable.prototype.materialize=materialize_1.materialize;global.define=__define;return module.exports});System.register("rxjs/add/operator/merge",["rxjs/Observable","rxjs/operator/merge"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var merge_1=require("rxjs/operator/merge");Observable_1.Observable.prototype.merge=merge_1.merge;global.define=__define;return module.exports});System.register("rxjs/add/operator/mergeAll",["rxjs/Observable","rxjs/operator/mergeAll"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var mergeAll_1=require("rxjs/operator/mergeAll");Observable_1.Observable.prototype.mergeAll=mergeAll_1.mergeAll;global.define=__define;return module.exports});System.register("rxjs/add/operator/mergeMap",["rxjs/Observable","rxjs/operator/mergeMap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var mergeMap_1=require("rxjs/operator/mergeMap");Observable_1.Observable.prototype.mergeMap=mergeMap_1.mergeMap;Observable_1.Observable.prototype.flatMap=mergeMap_1.mergeMap;global.define=__define;return module.exports});System.register("rxjs/add/operator/mergeMapTo",["rxjs/Observable","rxjs/operator/mergeMapTo"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var mergeMapTo_1=require("rxjs/operator/mergeMapTo");Observable_1.Observable.prototype.mergeMapTo=mergeMapTo_1.mergeMapTo;global.define=__define;return module.exports});System.register("rxjs/operator/multicast",["rxjs/observable/ConnectableObservable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ConnectableObservable_1=require("rxjs/observable/ConnectableObservable");function multicast(subjectOrSubjectFactory){var subjectFactory;if(typeof subjectOrSubjectFactory==="function"){subjectFactory=subjectOrSubjectFactory}else{subjectFactory=function subjectFactory(){return subjectOrSubjectFactory}}return new ConnectableObservable_1.ConnectableObservable(this,subjectFactory)}exports.multicast=multicast;global.define=__define;return module.exports});System.register("rxjs/add/operator/observeOn",["rxjs/Observable","rxjs/operator/observeOn"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var observeOn_1=require("rxjs/operator/observeOn");Observable_1.Observable.prototype.observeOn=observeOn_1.observeOn;global.define=__define;return module.exports});System.register("rxjs/operator/partition",["rxjs/util/not","rxjs/operator/filter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var not_1=require("rxjs/util/not");var filter_1=require("rxjs/operator/filter");function partition(predicate,thisArg){return[filter_1.filter.call(this,predicate),filter_1.filter.call(this,not_1.not(predicate,thisArg))]}exports.partition=partition;global.define=__define;return module.exports});System.register("rxjs/add/operator/publish",["rxjs/Observable","rxjs/operator/publish"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var publish_1=require("rxjs/operator/publish");Observable_1.Observable.prototype.publish=publish_1.publish;global.define=__define;return module.exports});System.register("rxjs/subject/BehaviorSubject",["rxjs/Subject","rxjs/util/throwError","rxjs/util/ObjectUnsubscribedError"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subject_1=require("rxjs/Subject");var throwError_1=require("rxjs/util/throwError");var ObjectUnsubscribedError_1=require("rxjs/util/ObjectUnsubscribedError");var BehaviorSubject=function(_super){__extends(BehaviorSubject,_super);function BehaviorSubject(_value){_super.call(this);this._value=_value;this._hasError=false}BehaviorSubject.prototype.getValue=function(){if(this._hasError){throwError_1.throwError(this._err)}else if(this.isUnsubscribed){throwError_1.throwError(new ObjectUnsubscribedError_1.ObjectUnsubscribedError)}else{return this._value}};Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:true,configurable:true});BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);if(!subscription){return}else if(!subscription.isUnsubscribed){subscriber.next(this._value)}return subscription};BehaviorSubject.prototype._next=function(value){_super.prototype._next.call(this,this._value=value)};BehaviorSubject.prototype._error=function(err){this._hasError=true;_super.prototype._error.call(this,this._err=err)};return BehaviorSubject}(Subject_1.Subject);exports.BehaviorSubject=BehaviorSubject;global.define=__define;return module.exports});System.register("rxjs/operator/publishReplay",["rxjs/subject/ReplaySubject","rxjs/operator/multicast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ReplaySubject_1=require("rxjs/subject/ReplaySubject");var multicast_1=require("rxjs/operator/multicast");function publishReplay(bufferSize,windowTime,scheduler){if(bufferSize===void 0){bufferSize=Number.POSITIVE_INFINITY}if(windowTime===void 0){windowTime=Number.POSITIVE_INFINITY}return multicast_1.multicast.call(this,new ReplaySubject_1.ReplaySubject(bufferSize,windowTime,scheduler))}exports.publishReplay=publishReplay;global.define=__define;return module.exports});System.register("rxjs/add/operator/publishLast",["rxjs/Observable","rxjs/operator/publishLast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var publishLast_1=require("rxjs/operator/publishLast");Observable_1.Observable.prototype.publishLast=publishLast_1.publishLast;global.define=__define;return module.exports});System.register("rxjs/operator/reduce",["rxjs/operator/reduce-support"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var reduce_support_1=require("rxjs/operator/reduce-support");function reduce(project,seed){return this.lift(new reduce_support_1.ReduceOperator(project,seed))}exports.reduce=reduce;global.define=__define;return module.exports});System.register("rxjs/add/operator/repeat",["rxjs/Observable","rxjs/operator/repeat"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var repeat_1=require("rxjs/operator/repeat");Observable_1.Observable.prototype.repeat=repeat_1.repeat;global.define=__define;return module.exports});System.register("rxjs/add/operator/retry",["rxjs/Observable","rxjs/operator/retry"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var retry_1=require("rxjs/operator/retry");Observable_1.Observable.prototype.retry=retry_1.retry;global.define=__define;return module.exports});System.register("rxjs/add/operator/retryWhen",["rxjs/Observable","rxjs/operator/retryWhen"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var retryWhen_1=require("rxjs/operator/retryWhen");Observable_1.Observable.prototype.retryWhen=retryWhen_1.retryWhen;global.define=__define;return module.exports});System.register("rxjs/add/operator/sample",["rxjs/Observable","rxjs/operator/sample"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var sample_1=require("rxjs/operator/sample");Observable_1.Observable.prototype.sample=sample_1.sample;global.define=__define;return module.exports});System.register("rxjs/add/operator/sampleTime",["rxjs/Observable","rxjs/operator/sampleTime"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var sampleTime_1=require("rxjs/operator/sampleTime");Observable_1.Observable.prototype.sampleTime=sampleTime_1.sampleTime;global.define=__define;return module.exports});System.register("rxjs/add/operator/scan",["rxjs/Observable","rxjs/operator/scan"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var scan_1=require("rxjs/operator/scan");Observable_1.Observable.prototype.scan=scan_1.scan;global.define=__define;return module.exports});System.register("rxjs/add/operator/share",["rxjs/Observable","rxjs/operator/share"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var share_1=require("rxjs/operator/share");Observable_1.Observable.prototype.share=share_1.share;global.define=__define;return module.exports});System.register("rxjs/add/operator/single",["rxjs/Observable","rxjs/operator/single"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var single_1=require("rxjs/operator/single");Observable_1.Observable.prototype.single=single_1.single;global.define=__define;return module.exports});System.register("rxjs/add/operator/skip",["rxjs/Observable","rxjs/operator/skip"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var skip_1=require("rxjs/operator/skip");Observable_1.Observable.prototype.skip=skip_1.skip;global.define=__define;return module.exports});System.register("rxjs/add/operator/skipUntil",["rxjs/Observable","rxjs/operator/skipUntil"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var skipUntil_1=require("rxjs/operator/skipUntil");Observable_1.Observable.prototype.skipUntil=skipUntil_1.skipUntil;global.define=__define;return module.exports});System.register("rxjs/add/operator/skipWhile",["rxjs/Observable","rxjs/operator/skipWhile"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var skipWhile_1=require("rxjs/operator/skipWhile");Observable_1.Observable.prototype.skipWhile=skipWhile_1.skipWhile;global.define=__define;return module.exports});System.register("rxjs/add/operator/startWith",["rxjs/Observable","rxjs/operator/startWith"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var startWith_1=require("rxjs/operator/startWith");Observable_1.Observable.prototype.startWith=startWith_1.startWith;global.define=__define;return module.exports});System.register("rxjs/operator/subscribeOn",["rxjs/observable/SubscribeOnObservable"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var SubscribeOnObservable_1=require("rxjs/observable/SubscribeOnObservable");function subscribeOn(scheduler,delay){if(delay===void 0){delay=0}return new SubscribeOnObservable_1.SubscribeOnObservable(this,delay,scheduler)}exports.subscribeOn=subscribeOn;global.define=__define;return module.exports});System.register("rxjs/add/operator/switch",["rxjs/Observable","rxjs/operator/switch"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var switch_1=require("rxjs/operator/switch");Observable_1.Observable.prototype.switch=switch_1._switch;global.define=__define;return module.exports});System.register("rxjs/add/operator/switchMap",["rxjs/Observable","rxjs/operator/switchMap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var switchMap_1=require("rxjs/operator/switchMap");Observable_1.Observable.prototype.switchMap=switchMap_1.switchMap;global.define=__define;return module.exports});System.register("rxjs/add/operator/switchMapTo",["rxjs/Observable","rxjs/operator/switchMapTo"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var switchMapTo_1=require("rxjs/operator/switchMapTo");Observable_1.Observable.prototype.switchMapTo=switchMapTo_1.switchMapTo;global.define=__define;return module.exports});System.register("rxjs/operator/take",["rxjs/Subscriber","rxjs/util/ArgumentOutOfRangeError","rxjs/observable/empty"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var ArgumentOutOfRangeError_1=require("rxjs/util/ArgumentOutOfRangeError");var empty_1=require("rxjs/observable/empty");function take(total){if(total===0){return new empty_1.EmptyObservable}else{return this.lift(new TakeOperator(total))}}exports.take=take;var TakeOperator=function(){function TakeOperator(total){this.total=total;if(this.total<0){throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}}TakeOperator.prototype.call=function(subscriber){return new TakeSubscriber(subscriber,this.total)};return TakeOperator}();var TakeSubscriber=function(_super){__extends(TakeSubscriber,_super);function TakeSubscriber(destination,total){_super.call(this,destination);this.total=total;this.count=0}TakeSubscriber.prototype._next=function(value){var total=this.total;if(++this.count<=total){this.destination.next(value);if(this.count===total){this.destination.complete()}}};return TakeSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/add/operator/takeUntil",["rxjs/Observable","rxjs/operator/takeUntil"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var takeUntil_1=require("rxjs/operator/takeUntil");Observable_1.Observable.prototype.takeUntil=takeUntil_1.takeUntil;global.define=__define;return module.exports});System.register("rxjs/add/operator/takeWhile",["rxjs/Observable","rxjs/operator/takeWhile"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var takeWhile_1=require("rxjs/operator/takeWhile");Observable_1.Observable.prototype.takeWhile=takeWhile_1.takeWhile;global.define=__define;return module.exports});System.register("rxjs/add/operator/throttle",["rxjs/Observable","rxjs/operator/throttle"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var throttle_1=require("rxjs/operator/throttle");Observable_1.Observable.prototype.throttle=throttle_1.throttle;global.define=__define;return module.exports});System.register("rxjs/add/operator/throttleTime",["rxjs/Observable","rxjs/operator/throttleTime"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var throttleTime_1=require("rxjs/operator/throttleTime");Observable_1.Observable.prototype.throttleTime=throttleTime_1.throttleTime;global.define=__define;return module.exports});System.register("rxjs/add/operator/timeout",["rxjs/Observable","rxjs/operator/timeout"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var timeout_1=require("rxjs/operator/timeout");Observable_1.Observable.prototype.timeout=timeout_1.timeout;global.define=__define;return module.exports});System.register("rxjs/add/operator/timeoutWith",["rxjs/Observable","rxjs/operator/timeoutWith"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var timeoutWith_1=require("rxjs/operator/timeoutWith");Observable_1.Observable.prototype.timeoutWith=timeoutWith_1.timeoutWith;global.define=__define;return module.exports});System.register("rxjs/add/operator/toArray",["rxjs/Observable","rxjs/operator/toArray"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var toArray_1=require("rxjs/operator/toArray");Observable_1.Observable.prototype.toArray=toArray_1.toArray;global.define=__define;return module.exports});System.register("rxjs/add/operator/toPromise",["rxjs/Observable","rxjs/operator/toPromise"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var toPromise_1=require("rxjs/operator/toPromise");Observable_1.Observable.prototype.toPromise=toPromise_1.toPromise;global.define=__define;return module.exports});System.register("rxjs/add/operator/window",["rxjs/Observable","rxjs/operator/window"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var window_1=require("rxjs/operator/window");Observable_1.Observable.prototype.window=window_1.window;global.define=__define;return module.exports});System.register("rxjs/add/operator/windowCount",["rxjs/Observable","rxjs/operator/windowCount"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var windowCount_1=require("rxjs/operator/windowCount");Observable_1.Observable.prototype.windowCount=windowCount_1.windowCount;global.define=__define;return module.exports});System.register("rxjs/add/operator/windowTime",["rxjs/Observable","rxjs/operator/windowTime"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var windowTime_1=require("rxjs/operator/windowTime");Observable_1.Observable.prototype.windowTime=windowTime_1.windowTime;global.define=__define;return module.exports});System.register("rxjs/add/operator/windowToggle",["rxjs/Observable","rxjs/operator/windowToggle"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var windowToggle_1=require("rxjs/operator/windowToggle");Observable_1.Observable.prototype.windowToggle=windowToggle_1.windowToggle;global.define=__define;return module.exports});System.register("rxjs/add/operator/windowWhen",["rxjs/Observable","rxjs/operator/windowWhen"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var windowWhen_1=require("rxjs/operator/windowWhen");Observable_1.Observable.prototype.windowWhen=windowWhen_1.windowWhen;global.define=__define;return module.exports});System.register("rxjs/add/operator/withLatestFrom",["rxjs/Observable","rxjs/operator/withLatestFrom"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var withLatestFrom_1=require("rxjs/operator/withLatestFrom");Observable_1.Observable.prototype.withLatestFrom=withLatestFrom_1.withLatestFrom;global.define=__define;return module.exports});System.register("rxjs/add/operator/zip",["rxjs/Observable","rxjs/operator/zip"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var zip_1=require("rxjs/operator/zip");Observable_1.Observable.prototype.zip=zip_1.zipProto;global.define=__define;return module.exports});System.register("rxjs/add/operator/zipAll",["rxjs/Observable","rxjs/operator/zipAll"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var zipAll_1=require("rxjs/operator/zipAll");Observable_1.Observable.prototype.zipAll=zipAll_1.zipAll;global.define=__define;return module.exports});System.register("rxjs/symbol/rxSubscriber",["rxjs/util/SymbolShim"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var SymbolShim_1=require("rxjs/util/SymbolShim");exports.rxSubscriber=SymbolShim_1.SymbolShim.for("rxSubscriber");global.define=__define;return module.exports});System.register("rxjs/observable/ScalarObservable",["rxjs/Observable","rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/observable/throw","rxjs/observable/empty"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var throw_1=require("rxjs/observable/throw");var empty_1=require("rxjs/observable/empty");var ScalarObservable=function(_super){__extends(ScalarObservable,_super);function ScalarObservable(value,scheduler){_super.call(this);this.value=value;this.scheduler=scheduler;this._isScalar=true}ScalarObservable.create=function(value,scheduler){return new ScalarObservable(value,scheduler)};ScalarObservable.dispatch=function(state){var done=state.done,value=state.value,subscriber=state.subscriber;if(done){subscriber.complete();return}subscriber.next(value);if(subscriber.isUnsubscribed){return}state.done=true;this.schedule(state)};ScalarObservable.prototype._subscribe=function(subscriber){var value=this.value;var scheduler=this.scheduler;if(scheduler){subscriber.add(scheduler.schedule(ScalarObservable.dispatch,0,{done:false,value:value,subscriber:subscriber}))}else{subscriber.next(value);if(!subscriber.isUnsubscribed){subscriber.complete()}}};return ScalarObservable}(Observable_1.Observable);exports.ScalarObservable=ScalarObservable;var proto=ScalarObservable.prototype;proto.map=function(project,thisArg){var result=tryCatch_1.tryCatch(project).call(thisArg||this,this.value,0);if(result===errorObject_1.errorObject){return new throw_1.ErrorObservable(errorObject_1.errorObject.e)}else{return new ScalarObservable(project.call(thisArg||this,this.value,0))}};proto.filter=function(select,thisArg){var result=tryCatch_1.tryCatch(select).call(thisArg||this,this.value,0);if(result===errorObject_1.errorObject){return new throw_1.ErrorObservable(errorObject_1.errorObject.e)}else if(result){return this}else{return new empty_1.EmptyObservable}};proto.reduce=function(project,seed){if(typeof seed==="undefined"){return this}var result=tryCatch_1.tryCatch(project)(seed,this.value);if(result===errorObject_1.errorObject){return new throw_1.ErrorObservable(errorObject_1.errorObject.e)}else{return new ScalarObservable(result)}};proto.scan=function(project,acc){return this.reduce(project,acc)};proto.count=function(predicate){if(!predicate){return new ScalarObservable(1)}else{var result=tryCatch_1.tryCatch(predicate).call(this,this.value,0,this);if(result===errorObject_1.errorObject){return new throw_1.ErrorObservable(errorObject_1.errorObject.e)}else{return new ScalarObservable(result?1:0)}}};proto.skip=function(count){if(count>0){return new empty_1.EmptyObservable}return this};proto.take=function(count){if(count>0){return this}return new empty_1.EmptyObservable};global.define=__define;return module.exports});System.register("rxjs/operator/combineLatest-support",["rxjs/util/tryCatch","rxjs/util/errorObject","rxjs/OuterSubscriber","rxjs/util/subscribeToResult"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");var OuterSubscriber_1=require("rxjs/OuterSubscriber");var subscribeToResult_1=require("rxjs/util/subscribeToResult");var CombineLatestOperator=function(){function CombineLatestOperator(project){this.project=project}CombineLatestOperator.prototype.call=function(subscriber){return new CombineLatestSubscriber(subscriber,this.project)};return CombineLatestOperator}();exports.CombineLatestOperator=CombineLatestOperator;var CombineLatestSubscriber=function(_super){__extends(CombineLatestSubscriber,_super);function CombineLatestSubscriber(destination,project){_super.call(this,destination);this.project=project;this.active=0;this.values=[];this.observables=[];this.toRespond=[]}CombineLatestSubscriber.prototype._next=function(observable){var toRespond=this.toRespond;toRespond.push(toRespond.length);this.observables.push(observable)};CombineLatestSubscriber.prototype._complete=function(){var observables=this.observables;var len=observables.length;if(len===0){this.destination.complete()}else{this.active=len;for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}};CombineLatestSubscriber.prototype.notifyComplete=function(unused){if((this.active-=1)===0){this.destination.complete()}};CombineLatestSubscriber.prototype.notifyNext=function(observable,value,outerIndex,innerIndex){var values=this.values;values[outerIndex]=value;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);if(found!==-1){toRespond.splice(found,1)}}if(toRespond.length===0){var project=this.project;var destination=this.destination;if(project){var result=tryCatch_1.tryCatch(project).apply(this,values);if(result===errorObject_1.errorObject){destination.error(errorObject_1.errorObject.e)}else{destination.next(result)}}else{destination.next(values)}}};return CombineLatestSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.CombineLatestSubscriber=CombineLatestSubscriber;global.define=__define;return module.exports});System.register("rxjs/scheduler/queue",["rxjs/scheduler/QueueScheduler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var QueueScheduler_1=require("rxjs/scheduler/QueueScheduler");exports.queue=new QueueScheduler_1.QueueScheduler;global.define=__define;return module.exports});System.register("rxjs/add/observable/bindCallback",["rxjs/Observable","rxjs/observable/bindCallback"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var bindCallback_1=require("rxjs/observable/bindCallback");Observable_1.Observable.bindCallback=bindCallback_1.BoundCallbackObservable.create;global.define=__define;return module.exports});System.register("rxjs/add/observable/forkJoin",["rxjs/Observable","rxjs/observable/forkJoin"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var forkJoin_1=require("rxjs/observable/forkJoin");Observable_1.Observable.forkJoin=forkJoin_1.ForkJoinObservable.create;global.define=__define;return module.exports});System.register("rxjs/observable/from",["rxjs/observable/fromPromise","rxjs/observable/IteratorObservable","rxjs/observable/fromArray","rxjs/util/SymbolShim","rxjs/Observable","rxjs/operator/observeOn-support","rxjs/scheduler/queue"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var fromPromise_1=require("rxjs/observable/fromPromise");var IteratorObservable_1=require("rxjs/observable/IteratorObservable");var fromArray_1=require("rxjs/observable/fromArray");var SymbolShim_1=require("rxjs/util/SymbolShim");var Observable_1=require("rxjs/Observable");var observeOn_support_1=require("rxjs/operator/observeOn-support");var queue_1=require("rxjs/scheduler/queue");var isArray=Array.isArray;var FromObservable=function(_super){__extends(FromObservable,_super);function FromObservable(ish,scheduler){_super.call(this,null);this.ish=ish;this.scheduler=scheduler}FromObservable.create=function(ish,scheduler){if(scheduler===void 0){scheduler=queue_1.queue}if(ish){if(isArray(ish)){return new fromArray_1.ArrayObservable(ish,scheduler)}else if(typeof ish.then==="function"){return new fromPromise_1.PromiseObservable(ish,scheduler)}else if(typeof ish[SymbolShim_1.SymbolShim.observable]==="function"){if(ish instanceof Observable_1.Observable){return ish}return new FromObservable(ish,scheduler)}else if(typeof ish[SymbolShim_1.SymbolShim.iterator]==="function"){return new IteratorObservable_1.IteratorObservable(ish,null,null,scheduler)}}throw new TypeError(typeof ish+" is not observable")};FromObservable.prototype._subscribe=function(subscriber){var ish=this.ish;var scheduler=this.scheduler;if(scheduler===queue_1.queue){return ish[SymbolShim_1.SymbolShim.observable]().subscribe(subscriber)}else{return ish[SymbolShim_1.SymbolShim.observable]().subscribe(new observeOn_support_1.ObserveOnSubscriber(subscriber,scheduler,0));
}};return FromObservable}(Observable_1.Observable);exports.FromObservable=FromObservable;global.define=__define;return module.exports});System.register("rxjs/scheduler/AsapScheduler",["rxjs/scheduler/QueueScheduler","rxjs/scheduler/AsapAction","rxjs/scheduler/QueueAction"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var QueueScheduler_1=require("rxjs/scheduler/QueueScheduler");var AsapAction_1=require("rxjs/scheduler/AsapAction");var QueueAction_1=require("rxjs/scheduler/QueueAction");var AsapScheduler=function(_super){__extends(AsapScheduler,_super);function AsapScheduler(){_super.apply(this,arguments)}AsapScheduler.prototype.scheduleNow=function(work,state){return(this.scheduled?new QueueAction_1.QueueAction(this,work):new AsapAction_1.AsapAction(this,work)).schedule(state)};return AsapScheduler}(QueueScheduler_1.QueueScheduler);exports.AsapScheduler=AsapScheduler;global.define=__define;return module.exports});System.register("rxjs/add/observable/timer",["rxjs/Observable","rxjs/observable/timer"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var timer_1=require("rxjs/observable/timer");Observable_1.Observable.timer=timer_1.TimerObservable.create;global.define=__define;return module.exports});System.register("rxjs/add/operator/zip-static",["rxjs/Observable","rxjs/operator/zip-static"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var zip_static_1=require("rxjs/operator/zip-static");Observable_1.Observable.zip=zip_static_1.zip;global.define=__define;return module.exports});System.register("rxjs/add/operator/concatMap",["rxjs/Observable","rxjs/operator/concatMap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var concatMap_1=require("rxjs/operator/concatMap");Observable_1.Observable.prototype.concatMap=concatMap_1.concatMap;global.define=__define;return module.exports});System.register("rxjs/add/operator/concatMapTo",["rxjs/Observable","rxjs/operator/concatMapTo"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var concatMapTo_1=require("rxjs/operator/concatMapTo");Observable_1.Observable.prototype.concatMapTo=concatMapTo_1.concatMapTo;global.define=__define;return module.exports});System.register("rxjs/add/operator/expand",["rxjs/Observable","rxjs/operator/expand"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var expand_1=require("rxjs/operator/expand");Observable_1.Observable.prototype.expand=expand_1.expand;global.define=__define;return module.exports});System.register("rxjs/add/operator/first",["rxjs/Observable","rxjs/operator/first"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var first_1=require("rxjs/operator/first");Observable_1.Observable.prototype.first=first_1.first;global.define=__define;return module.exports});System.register("rxjs/operator/groupBy",["rxjs/Subscriber","rxjs/Observable","rxjs/Subject","rxjs/util/Map","rxjs/util/FastMap","rxjs/operator/groupBy-support","rxjs/util/tryCatch","rxjs/util/errorObject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Subscriber_1=require("rxjs/Subscriber");var Observable_1=require("rxjs/Observable");var Subject_1=require("rxjs/Subject");var Map_1=require("rxjs/util/Map");var FastMap_1=require("rxjs/util/FastMap");var groupBy_support_1=require("rxjs/operator/groupBy-support");var tryCatch_1=require("rxjs/util/tryCatch");var errorObject_1=require("rxjs/util/errorObject");function groupBy(keySelector,elementSelector,durationSelector){return new GroupByObservable(this,keySelector,elementSelector,durationSelector)}exports.groupBy=groupBy;var GroupByObservable=function(_super){__extends(GroupByObservable,_super);function GroupByObservable(source,keySelector,elementSelector,durationSelector){_super.call(this);this.source=source;this.keySelector=keySelector;this.elementSelector=elementSelector;this.durationSelector=durationSelector}GroupByObservable.prototype._subscribe=function(subscriber){var refCountSubscription=new groupBy_support_1.RefCountSubscription;var groupBySubscriber=new GroupBySubscriber(subscriber,refCountSubscription,this.keySelector,this.elementSelector,this.durationSelector);refCountSubscription.setPrimary(this.source.subscribe(groupBySubscriber));return refCountSubscription};return GroupByObservable}(Observable_1.Observable);exports.GroupByObservable=GroupByObservable;var GroupBySubscriber=function(_super){__extends(GroupBySubscriber,_super);function GroupBySubscriber(destination,refCountSubscription,keySelector,elementSelector,durationSelector){_super.call(this);this.refCountSubscription=refCountSubscription;this.keySelector=keySelector;this.elementSelector=elementSelector;this.durationSelector=durationSelector;this.groups=null;this.destination=destination;this.add(destination)}GroupBySubscriber.prototype._next=function(x){var key=tryCatch_1.tryCatch(this.keySelector)(x);if(key===errorObject_1.errorObject){this.error(key.e)}else{var groups=this.groups;var elementSelector=this.elementSelector;var durationSelector=this.durationSelector;if(!groups){groups=this.groups=typeof key==="string"?new FastMap_1.FastMap:new Map_1.Map}var group=groups.get(key);if(!group){groups.set(key,group=new Subject_1.Subject);var groupedObservable=new groupBy_support_1.GroupedObservable(key,group,this.refCountSubscription);if(durationSelector){var duration=tryCatch_1.tryCatch(durationSelector)(new groupBy_support_1.GroupedObservable(key,group));if(duration===errorObject_1.errorObject){this.error(duration.e)}else{this.add(duration._subscribe(new GroupDurationSubscriber(key,group,this)))}}this.destination.next(groupedObservable)}if(elementSelector){var value=tryCatch_1.tryCatch(elementSelector)(x);if(value===errorObject_1.errorObject){this.error(value.e)}else{group.next(value)}}else{group.next(x)}}};GroupBySubscriber.prototype._error=function(err){var _this=this;var groups=this.groups;if(groups){groups.forEach(function(group,key){group.error(err);_this.removeGroup(key)})}this.destination.error(err)};GroupBySubscriber.prototype._complete=function(){var _this=this;var groups=this.groups;if(groups){groups.forEach(function(group,key){group.complete();_this.removeGroup(group)})}this.destination.complete()};GroupBySubscriber.prototype.removeGroup=function(key){this.groups.delete(key)};return GroupBySubscriber}(Subscriber_1.Subscriber);var GroupDurationSubscriber=function(_super){__extends(GroupDurationSubscriber,_super);function GroupDurationSubscriber(key,group,parent){_super.call(this,null);this.key=key;this.group=group;this.parent=parent}GroupDurationSubscriber.prototype._next=function(value){this.group.complete();this.parent.removeGroup(this.key)};GroupDurationSubscriber.prototype._error=function(err){this.group.error(err);this.parent.removeGroup(this.key)};GroupDurationSubscriber.prototype._complete=function(){this.group.complete();this.parent.removeGroup(this.key)};return GroupDurationSubscriber}(Subscriber_1.Subscriber);global.define=__define;return module.exports});System.register("rxjs/add/operator/multicast",["rxjs/Observable","rxjs/operator/multicast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var multicast_1=require("rxjs/operator/multicast");Observable_1.Observable.prototype.multicast=multicast_1.multicast;global.define=__define;return module.exports});System.register("rxjs/add/operator/partition",["rxjs/Observable","rxjs/operator/partition"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var partition_1=require("rxjs/operator/partition");Observable_1.Observable.prototype.partition=partition_1.partition;global.define=__define;return module.exports});System.register("rxjs/operator/publishBehavior",["rxjs/subject/BehaviorSubject","rxjs/operator/multicast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var BehaviorSubject_1=require("rxjs/subject/BehaviorSubject");var multicast_1=require("rxjs/operator/multicast");function publishBehavior(value){return multicast_1.multicast.call(this,new BehaviorSubject_1.BehaviorSubject(value))}exports.publishBehavior=publishBehavior;global.define=__define;return module.exports});System.register("rxjs/add/operator/publishReplay",["rxjs/Observable","rxjs/operator/publishReplay"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var publishReplay_1=require("rxjs/operator/publishReplay");Observable_1.Observable.prototype.publishReplay=publishReplay_1.publishReplay;global.define=__define;return module.exports});System.register("rxjs/add/operator/reduce",["rxjs/Observable","rxjs/operator/reduce"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var reduce_1=require("rxjs/operator/reduce");Observable_1.Observable.prototype.reduce=reduce_1.reduce;global.define=__define;return module.exports});System.register("rxjs/add/operator/subscribeOn",["rxjs/Observable","rxjs/operator/subscribeOn"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var subscribeOn_1=require("rxjs/operator/subscribeOn");Observable_1.Observable.prototype.subscribeOn=subscribeOn_1.subscribeOn;global.define=__define;return module.exports});System.register("rxjs/add/operator/take",["rxjs/Observable","rxjs/operator/take"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var take_1=require("rxjs/operator/take");Observable_1.Observable.prototype.take=take_1.take;global.define=__define;return module.exports});System.register("rxjs/Subscriber",["rxjs/util/noop","rxjs/util/throwError","rxjs/util/tryOrOnError","rxjs/Subscription","rxjs/symbol/rxSubscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var noop_1=require("rxjs/util/noop");var throwError_1=require("rxjs/util/throwError");var tryOrOnError_1=require("rxjs/util/tryOrOnError");var Subscription_1=require("rxjs/Subscription");var rxSubscriber_1=require("rxjs/symbol/rxSubscriber");var Subscriber=function(_super){__extends(Subscriber,_super);function Subscriber(destination){_super.call(this);this.destination=destination;this._isUnsubscribed=false;if(!this.destination){return}var subscription=destination._subscription;if(subscription){this._subscription=subscription}else if(destination instanceof Subscriber){this._subscription=destination}}Subscriber.prototype[rxSubscriber_1.rxSubscriber]=function(){return this};Object.defineProperty(Subscriber.prototype,"isUnsubscribed",{get:function(){var subscription=this._subscription;if(subscription){return this._isUnsubscribed||subscription.isUnsubscribed}else{return this._isUnsubscribed}},set:function(value){var subscription=this._subscription;if(subscription){subscription.isUnsubscribed=Boolean(value)}else{this._isUnsubscribed=Boolean(value)}},enumerable:true,configurable:true});Subscriber.create=function(next,error,complete){var subscriber=new Subscriber;subscriber._next=typeof next==="function"&&tryOrOnError_1.tryOrOnError(next)||noop_1.noop;subscriber._error=typeof error==="function"&&error||throwError_1.throwError;subscriber._complete=typeof complete==="function"&&complete||noop_1.noop;return subscriber};Subscriber.prototype.add=function(sub){var _subscription=this._subscription;if(_subscription){_subscription.add(sub)}else{_super.prototype.add.call(this,sub)}};Subscriber.prototype.remove=function(sub){if(this._subscription){this._subscription.remove(sub)}else{_super.prototype.remove.call(this,sub)}};Subscriber.prototype.unsubscribe=function(){if(this._isUnsubscribed){return}else if(this._subscription){this._isUnsubscribed=true}else{_super.prototype.unsubscribe.call(this)}};Subscriber.prototype._next=function(value){var destination=this.destination;if(destination.next){destination.next(value)}};Subscriber.prototype._error=function(err){var destination=this.destination;if(destination.error){destination.error(err)}};Subscriber.prototype._complete=function(){var destination=this.destination;if(destination.complete){destination.complete()}};Subscriber.prototype.next=function(value){if(!this.isUnsubscribed){this._next(value)}};Subscriber.prototype.error=function(err){if(!this.isUnsubscribed){this._error(err);this.unsubscribe()}};Subscriber.prototype.complete=function(){if(!this.isUnsubscribed){this._complete();this.unsubscribe()}};return Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;global.define=__define;return module.exports});System.register("rxjs/observable/fromArray",["rxjs/Observable","rxjs/observable/ScalarObservable","rxjs/observable/empty","rxjs/util/isScheduler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var ScalarObservable_1=require("rxjs/observable/ScalarObservable");var empty_1=require("rxjs/observable/empty");var isScheduler_1=require("rxjs/util/isScheduler");var ArrayObservable=function(_super){__extends(ArrayObservable,_super);function ArrayObservable(array,scheduler){_super.call(this);this.array=array;this.scheduler=scheduler;if(!scheduler&&array.length===1){this._isScalar=true;this.value=array[0]}}ArrayObservable.create=function(array,scheduler){return new ArrayObservable(array,scheduler)};ArrayObservable.of=function(){var array=[];for(var _i=0;_i<arguments.length;_i++){array[_i-0]=arguments[_i]}var scheduler=array[array.length-1];if(isScheduler_1.isScheduler(scheduler)){array.pop()}else{scheduler=void 0}var len=array.length;if(len>1){return new ArrayObservable(array,scheduler)}else if(len===1){return new ScalarObservable_1.ScalarObservable(array[0],scheduler)}else{return new empty_1.EmptyObservable(scheduler)}};ArrayObservable.dispatch=function(state){var array=state.array,index=state.index,count=state.count,subscriber=state.subscriber;if(index>=count){subscriber.complete();return}subscriber.next(array[index]);if(subscriber.isUnsubscribed){return}state.index=index+1;this.schedule(state)};ArrayObservable.prototype._subscribe=function(subscriber){var index=0;var array=this.array;var count=array.length;var scheduler=this.scheduler;if(scheduler){subscriber.add(scheduler.schedule(ArrayObservable.dispatch,0,{array:array,index:index,count:count,subscriber:subscriber}))}else{for(var i=0;i<count&&!subscriber.isUnsubscribed;i++){subscriber.next(array[i])}subscriber.complete()}};return ArrayObservable}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable;global.define=__define;return module.exports});System.register("rxjs/operator/concat-static",["rxjs/scheduler/queue","rxjs/operator/mergeAll-support","rxjs/observable/fromArray","rxjs/util/isScheduler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var queue_1=require("rxjs/scheduler/queue");var mergeAll_support_1=require("rxjs/operator/mergeAll-support");var fromArray_1=require("rxjs/observable/fromArray");var isScheduler_1=require("rxjs/util/isScheduler");function concat(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}var scheduler=queue_1.queue;var args=observables;if(isScheduler_1.isScheduler(args[observables.length-1])){scheduler=args.pop()}return new fromArray_1.ArrayObservable(observables,scheduler).lift(new mergeAll_support_1.MergeAllOperator(1))}exports.concat=concat;global.define=__define;return module.exports});System.register("rxjs/add/observable/from",["rxjs/Observable","rxjs/observable/from"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var from_1=require("rxjs/observable/from");Observable_1.Observable.from=from_1.FromObservable.create;global.define=__define;return module.exports});System.register("rxjs/scheduler/asap",["rxjs/scheduler/AsapScheduler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var AsapScheduler_1=require("rxjs/scheduler/AsapScheduler");exports.asap=new AsapScheduler_1.AsapScheduler;global.define=__define;return module.exports});System.register("rxjs/add/operator/groupBy",["rxjs/Observable","rxjs/operator/groupBy"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var groupBy_1=require("rxjs/operator/groupBy");Observable_1.Observable.prototype.groupBy=groupBy_1.groupBy;global.define=__define;return module.exports});System.register("rxjs/add/operator/publishBehavior",["rxjs/Observable","rxjs/operator/publishBehavior"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var publishBehavior_1=require("rxjs/operator/publishBehavior");Observable_1.Observable.prototype.publishBehavior=publishBehavior_1.publishBehavior;global.define=__define;return module.exports});System.register("rxjs/Observable",["rxjs/Subscriber","rxjs/util/root","rxjs/util/SymbolShim","rxjs/symbol/rxSubscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Subscriber_1=require("rxjs/Subscriber");var root_1=require("rxjs/util/root");var SymbolShim_1=require("rxjs/util/SymbolShim");var rxSubscriber_1=require("rxjs/symbol/rxSubscriber");var Observable=function(){function Observable(subscribe){this._isScalar=false;if(subscribe){this._subscribe=subscribe}}Observable.prototype.lift=function(operator){var observable=new Observable;observable.source=this;observable.operator=operator;return observable};Observable.prototype[SymbolShim_1.SymbolShim.observable]=function(){return this};Observable.prototype.subscribe=function(observerOrNext,error,complete){var subscriber;if(observerOrNext&&typeof observerOrNext==="object"){if(observerOrNext instanceof Subscriber_1.Subscriber){subscriber=observerOrNext}else if(observerOrNext[rxSubscriber_1.rxSubscriber]){subscriber=observerOrNext[rxSubscriber_1.rxSubscriber]()}else{subscriber=new Subscriber_1.Subscriber(observerOrNext)}}else{var next=observerOrNext;subscriber=Subscriber_1.Subscriber.create(next,error,complete)}subscriber.add(this._subscribe(subscriber));return subscriber};Observable.prototype.forEach=function(next,thisArg,PromiseCtor){if(!PromiseCtor){if(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise){PromiseCtor=root_1.root.Rx.config.Promise}else if(root_1.root.Promise){PromiseCtor=root_1.root.Promise}}if(!PromiseCtor){throw new Error("no Promise impl found")}var nextHandler;if(thisArg){nextHandler=function nextHandlerFn(value){var _a=nextHandlerFn,thisArg=_a.thisArg,next=_a.next;return next.call(thisArg,value)};nextHandler.thisArg=thisArg;nextHandler.next=next}else{nextHandler=next}var promiseCallback=function promiseCallbackFn(resolve,reject){var _a=promiseCallbackFn,source=_a.source,nextHandler=_a.nextHandler;source.subscribe(nextHandler,reject,resolve)};promiseCallback.source=this;promiseCallback.nextHandler=nextHandler;return new PromiseCtor(promiseCallback)};Observable.prototype._subscribe=function(subscriber){return this.source._subscribe(this.operator.call(subscriber))};Observable.create=function(subscribe){return new Observable(subscribe)};return Observable}();exports.Observable=Observable;global.define=__define;return module.exports});System.register("rxjs/operator/combineLatest-static",["rxjs/observable/fromArray","rxjs/operator/combineLatest-support","rxjs/util/isScheduler","rxjs/util/isArray"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var fromArray_1=require("rxjs/observable/fromArray");var combineLatest_support_1=require("rxjs/operator/combineLatest-support");var isScheduler_1=require("rxjs/util/isScheduler");var isArray_1=require("rxjs/util/isArray");function combineLatest(){var observables=[];for(var _i=0;_i<arguments.length;_i++){observables[_i-0]=arguments[_i]}var project=null;var scheduler=null;if(isScheduler_1.isScheduler(observables[observables.length-1])){scheduler=observables.pop()}if(typeof observables[observables.length-1]==="function"){project=observables.pop()}if(observables.length===1&&isArray_1.isArray(observables[0])){observables=observables[0]}return new fromArray_1.ArrayObservable(observables,scheduler).lift(new combineLatest_support_1.CombineLatestOperator(project))}exports.combineLatest=combineLatest;global.define=__define;return module.exports});System.register("rxjs/add/operator/concat-static",["rxjs/Observable","rxjs/operator/concat-static"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var concat_static_1=require("rxjs/operator/concat-static");Observable_1.Observable.concat=concat_static_1.concat;global.define=__define;return module.exports});System.register("rxjs/observable/interval",["rxjs/util/isNumeric","rxjs/Observable","rxjs/scheduler/asap"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var isNumeric_1=require("rxjs/util/isNumeric");var Observable_1=require("rxjs/Observable");var asap_1=require("rxjs/scheduler/asap");var IntervalObservable=function(_super){__extends(IntervalObservable,_super);function IntervalObservable(period,scheduler){if(period===void 0){period=0}if(scheduler===void 0){scheduler=asap_1.asap}_super.call(this);this.period=period;this.scheduler=scheduler;if(!isNumeric_1.isNumeric(period)||period<0){this.period=0}if(!scheduler||typeof scheduler.schedule!=="function"){this.scheduler=asap_1.asap}}IntervalObservable.create=function(period,scheduler){if(period===void 0){period=0}if(scheduler===void 0){scheduler=asap_1.asap}return new IntervalObservable(period,scheduler)};IntervalObservable.dispatch=function(state){var index=state.index,subscriber=state.subscriber,period=state.period;subscriber.next(index);if(subscriber.isUnsubscribed){return}state.index+=1;this.schedule(state,period)};IntervalObservable.prototype._subscribe=function(subscriber){var index=0;var period=this.period;var scheduler=this.scheduler;subscriber.add(scheduler.schedule(IntervalObservable.dispatch,period,{index:index,subscriber:subscriber,period:period}))};return IntervalObservable}(Observable_1.Observable);exports.IntervalObservable=IntervalObservable;global.define=__define;return module.exports});System.register("rxjs/Subject",["rxjs/Observable","rxjs/Subscriber","rxjs/Subscription","rxjs/subject/SubjectSubscription","rxjs/symbol/rxSubscriber"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var Observable_1=require("rxjs/Observable");var Subscriber_1=require("rxjs/Subscriber");var Subscription_1=require("rxjs/Subscription");var SubjectSubscription_1=require("rxjs/subject/SubjectSubscription");var rxSubscriber_1=require("rxjs/symbol/rxSubscriber");var subscriptionAdd=Subscription_1.Subscription.prototype.add;var subscriptionRemove=Subscription_1.Subscription.prototype.remove;var subscriptionUnsubscribe=Subscription_1.Subscription.prototype.unsubscribe;var subscriberNext=Subscriber_1.Subscriber.prototype.next;var subscriberError=Subscriber_1.Subscriber.prototype.error;var subscriberComplete=Subscriber_1.Subscriber.prototype.complete;var _subscriberNext=Subscriber_1.Subscriber.prototype._next;var _subscriberError=Subscriber_1.Subscriber.prototype._error;var _subscriberComplete=Subscriber_1.Subscriber.prototype._complete;var Subject=function(_super){__extends(Subject,_super);function Subject(){_super.apply(this,arguments);this.observers=[];this.isUnsubscribed=false;this.dispatching=false;this.errorSignal=false;this.completeSignal=false}Subject.prototype[rxSubscriber_1.rxSubscriber]=function(){return this};Subject.create=function(source,destination){return new BidirectionalSubject(source,destination)};Subject.prototype.lift=function(operator){var subject=new BidirectionalSubject(this,this.destination||this);subject.operator=operator;return subject};Subject.prototype._subscribe=function(subscriber){if(subscriber.isUnsubscribed){return}else if(this.errorSignal){subscriber.error(this.errorInstance);return}else if(this.completeSignal){subscriber.complete();return}else if(this.isUnsubscribed){throw new Error("Cannot subscribe to a disposed Subject.")}this.observers.push(subscriber);return new SubjectSubscription_1.SubjectSubscription(this,subscriber)};Subject.prototype.add=function(subscription){subscriptionAdd.call(this,subscription)};Subject.prototype.remove=function(subscription){subscriptionRemove.call(this,subscription)};Subject.prototype.unsubscribe=function(){this.observers=void 0;subscriptionUnsubscribe.call(this)};Subject.prototype.next=function(value){if(this.isUnsubscribed){return}this.dispatching=true;this._next(value);this.dispatching=false;if(this.errorSignal){this.error(this.errorInstance)}else if(this.completeSignal){this.complete()}};Subject.prototype.error=function(err){if(this.isUnsubscribed||this.completeSignal){return}this.errorSignal=true;this.errorInstance=err;if(this.dispatching){return}this._error(err);this.unsubscribe()};Subject.prototype.complete=function(){if(this.isUnsubscribed||this.errorSignal){return}this.completeSignal=true;if(this.dispatching){return}this._complete();this.unsubscribe()};Subject.prototype._next=function(value){var index=-1;var observers=this.observers.slice(0);var len=observers.length;while(++index<len){observers[index].next(value)}};Subject.prototype._error=function(err){var index=-1;var observers=this.observers;var len=observers.length;this.observers=void 0;this.isUnsubscribed=true;while(++index<len){observers[index].error(err)}this.isUnsubscribed=false};Subject.prototype._complete=function(){var index=-1;var observers=this.observers;var len=observers.length;this.observers=void 0;this.isUnsubscribed=true;while(++index<len){observers[index].complete()}this.isUnsubscribed=false};return Subject}(Observable_1.Observable);exports.Subject=Subject;var BidirectionalSubject=function(_super){__extends(BidirectionalSubject,_super);function BidirectionalSubject(source,destination){_super.call(this);this.source=source;this.destination=destination}BidirectionalSubject.prototype._subscribe=function(subscriber){var operator=this.operator;return this.source._subscribe.call(this.source,operator?operator.call(subscriber):subscriber)};BidirectionalSubject.prototype.next=function(value){subscriberNext.call(this,value)};BidirectionalSubject.prototype.error=function(err){subscriberError.call(this,err)};BidirectionalSubject.prototype.complete=function(){subscriberComplete.call(this)};BidirectionalSubject.prototype._next=function(value){_subscriberNext.call(this,value)};BidirectionalSubject.prototype._error=function(err){_subscriberError.call(this,err)};BidirectionalSubject.prototype._complete=function(){_subscriberComplete.call(this)};return BidirectionalSubject}(Subject);global.define=__define;return module.exports});System.register("rxjs/add/operator/combineLatest-static",["rxjs/Observable","rxjs/operator/combineLatest-static"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var combineLatest_static_1=require("rxjs/operator/combineLatest-static");Observable_1.Observable.combineLatest=combineLatest_static_1.combineLatest;global.define=__define;return module.exports});System.register("rxjs/add/observable/interval",["rxjs/Observable","rxjs/observable/interval"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Observable_1=require("rxjs/Observable");var interval_1=require("rxjs/observable/interval");Observable_1.Observable.interval=interval_1.IntervalObservable.create;global.define=__define;return module.exports});System.register("rxjs/Rx",["rxjs/Subject","rxjs/Observable","rxjs/add/operator/combineLatest-static","rxjs/add/operator/concat-static","rxjs/add/operator/merge-static","rxjs/add/observable/bindCallback","rxjs/add/observable/defer","rxjs/add/observable/empty","rxjs/add/observable/forkJoin","rxjs/add/observable/from","rxjs/add/observable/fromArray","rxjs/add/observable/fromEvent","rxjs/add/observable/fromEventPattern","rxjs/add/observable/fromPromise","rxjs/add/observable/interval","rxjs/add/observable/never","rxjs/add/observable/range","rxjs/add/observable/throw","rxjs/add/observable/timer","rxjs/add/operator/zip-static","rxjs/add/operator/buffer","rxjs/add/operator/bufferCount","rxjs/add/operator/bufferTime","rxjs/add/operator/bufferToggle","rxjs/add/operator/bufferWhen","rxjs/add/operator/catch","rxjs/add/operator/combineAll","rxjs/add/operator/combineLatest","rxjs/add/operator/concat","rxjs/add/operator/concatAll","rxjs/add/operator/concatMap","rxjs/add/operator/concatMapTo","rxjs/add/operator/count","rxjs/add/operator/dematerialize","rxjs/add/operator/debounce","rxjs/add/operator/debounceTime","rxjs/add/operator/defaultIfEmpty","rxjs/add/operator/delay","rxjs/add/operator/distinctUntilChanged","rxjs/add/operator/do","rxjs/add/operator/expand","rxjs/add/operator/filter","rxjs/add/operator/finally","rxjs/add/operator/first","rxjs/add/operator/groupBy","rxjs/add/operator/ignoreElements","rxjs/add/operator/every","rxjs/add/operator/last","rxjs/add/operator/map","rxjs/add/operator/mapTo","rxjs/add/operator/materialize","rxjs/add/operator/merge","rxjs/add/operator/mergeAll","rxjs/add/operator/mergeMap","rxjs/add/operator/mergeMapTo","rxjs/add/operator/multicast","rxjs/add/operator/observeOn","rxjs/add/operator/partition","rxjs/add/operator/publish","rxjs/add/operator/publishBehavior","rxjs/add/operator/publishReplay","rxjs/add/operator/publishLast","rxjs/add/operator/reduce","rxjs/add/operator/repeat","rxjs/add/operator/retry","rxjs/add/operator/retryWhen","rxjs/add/operator/sample","rxjs/add/operator/sampleTime","rxjs/add/operator/scan","rxjs/add/operator/share","rxjs/add/operator/single","rxjs/add/operator/skip","rxjs/add/operator/skipUntil","rxjs/add/operator/skipWhile","rxjs/add/operator/startWith","rxjs/add/operator/subscribeOn","rxjs/add/operator/switch","rxjs/add/operator/switchMap","rxjs/add/operator/switchMapTo","rxjs/add/operator/take","rxjs/add/operator/takeUntil","rxjs/add/operator/takeWhile","rxjs/add/operator/throttle","rxjs/add/operator/throttleTime","rxjs/add/operator/timeout","rxjs/add/operator/timeoutWith","rxjs/add/operator/toArray","rxjs/add/operator/toPromise","rxjs/add/operator/window","rxjs/add/operator/windowCount","rxjs/add/operator/windowTime","rxjs/add/operator/windowToggle","rxjs/add/operator/windowWhen","rxjs/add/operator/withLatestFrom","rxjs/add/operator/zip","rxjs/add/operator/zipAll","rxjs/Subscription","rxjs/Subscriber","rxjs/subject/AsyncSubject","rxjs/subject/ReplaySubject","rxjs/subject/BehaviorSubject","rxjs/observable/ConnectableObservable","rxjs/Notification","rxjs/util/EmptyError","rxjs/util/ArgumentOutOfRangeError","rxjs/util/ObjectUnsubscribedError","rxjs/scheduler/asap","rxjs/scheduler/queue","rxjs/symbol/rxSubscriber"],true,function(require,exports,module){
var global=System.global,__define=global.define;global.define=undefined;var Subject_1=require("rxjs/Subject");exports.Subject=Subject_1.Subject;var Observable_1=require("rxjs/Observable");exports.Observable=Observable_1.Observable;require("rxjs/add/operator/combineLatest-static");require("rxjs/add/operator/concat-static");require("rxjs/add/operator/merge-static");require("rxjs/add/observable/bindCallback");require("rxjs/add/observable/defer");require("rxjs/add/observable/empty");require("rxjs/add/observable/forkJoin");require("rxjs/add/observable/from");require("rxjs/add/observable/fromArray");require("rxjs/add/observable/fromEvent");require("rxjs/add/observable/fromEventPattern");require("rxjs/add/observable/fromPromise");require("rxjs/add/observable/interval");require("rxjs/add/observable/never");require("rxjs/add/observable/range");require("rxjs/add/observable/throw");require("rxjs/add/observable/timer");require("rxjs/add/operator/zip-static");require("rxjs/add/operator/buffer");require("rxjs/add/operator/bufferCount");require("rxjs/add/operator/bufferTime");require("rxjs/add/operator/bufferToggle");require("rxjs/add/operator/bufferWhen");require("rxjs/add/operator/catch");require("rxjs/add/operator/combineAll");require("rxjs/add/operator/combineLatest");require("rxjs/add/operator/concat");require("rxjs/add/operator/concatAll");require("rxjs/add/operator/concatMap");require("rxjs/add/operator/concatMapTo");require("rxjs/add/operator/count");require("rxjs/add/operator/dematerialize");require("rxjs/add/operator/debounce");require("rxjs/add/operator/debounceTime");require("rxjs/add/operator/defaultIfEmpty");require("rxjs/add/operator/delay");require("rxjs/add/operator/distinctUntilChanged");require("rxjs/add/operator/do");require("rxjs/add/operator/expand");require("rxjs/add/operator/filter");require("rxjs/add/operator/finally");require("rxjs/add/operator/first");require("rxjs/add/operator/groupBy");require("rxjs/add/operator/ignoreElements");require("rxjs/add/operator/every");require("rxjs/add/operator/last");require("rxjs/add/operator/map");require("rxjs/add/operator/mapTo");require("rxjs/add/operator/materialize");require("rxjs/add/operator/merge");require("rxjs/add/operator/mergeAll");require("rxjs/add/operator/mergeMap");require("rxjs/add/operator/mergeMapTo");require("rxjs/add/operator/multicast");require("rxjs/add/operator/observeOn");require("rxjs/add/operator/partition");require("rxjs/add/operator/publish");require("rxjs/add/operator/publishBehavior");require("rxjs/add/operator/publishReplay");require("rxjs/add/operator/publishLast");require("rxjs/add/operator/reduce");require("rxjs/add/operator/repeat");require("rxjs/add/operator/retry");require("rxjs/add/operator/retryWhen");require("rxjs/add/operator/sample");require("rxjs/add/operator/sampleTime");require("rxjs/add/operator/scan");require("rxjs/add/operator/share");require("rxjs/add/operator/single");require("rxjs/add/operator/skip");require("rxjs/add/operator/skipUntil");require("rxjs/add/operator/skipWhile");require("rxjs/add/operator/startWith");require("rxjs/add/operator/subscribeOn");require("rxjs/add/operator/switch");require("rxjs/add/operator/switchMap");require("rxjs/add/operator/switchMapTo");require("rxjs/add/operator/take");require("rxjs/add/operator/takeUntil");require("rxjs/add/operator/takeWhile");require("rxjs/add/operator/throttle");require("rxjs/add/operator/throttleTime");require("rxjs/add/operator/timeout");require("rxjs/add/operator/timeoutWith");require("rxjs/add/operator/toArray");require("rxjs/add/operator/toPromise");require("rxjs/add/operator/window");require("rxjs/add/operator/windowCount");require("rxjs/add/operator/windowTime");require("rxjs/add/operator/windowToggle");require("rxjs/add/operator/windowWhen");require("rxjs/add/operator/withLatestFrom");require("rxjs/add/operator/zip");require("rxjs/add/operator/zipAll");var Subscription_1=require("rxjs/Subscription");exports.Subscription=Subscription_1.Subscription;var Subscriber_1=require("rxjs/Subscriber");exports.Subscriber=Subscriber_1.Subscriber;var AsyncSubject_1=require("rxjs/subject/AsyncSubject");exports.AsyncSubject=AsyncSubject_1.AsyncSubject;var ReplaySubject_1=require("rxjs/subject/ReplaySubject");exports.ReplaySubject=ReplaySubject_1.ReplaySubject;var BehaviorSubject_1=require("rxjs/subject/BehaviorSubject");exports.BehaviorSubject=BehaviorSubject_1.BehaviorSubject;var ConnectableObservable_1=require("rxjs/observable/ConnectableObservable");exports.ConnectableObservable=ConnectableObservable_1.ConnectableObservable;var Notification_1=require("rxjs/Notification");exports.Notification=Notification_1.Notification;var EmptyError_1=require("rxjs/util/EmptyError");exports.EmptyError=EmptyError_1.EmptyError;var ArgumentOutOfRangeError_1=require("rxjs/util/ArgumentOutOfRangeError");exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;var ObjectUnsubscribedError_1=require("rxjs/util/ObjectUnsubscribedError");exports.ObjectUnsubscribedError=ObjectUnsubscribedError_1.ObjectUnsubscribedError;var asap_1=require("rxjs/scheduler/asap");var queue_1=require("rxjs/scheduler/queue");var rxSubscriber_1=require("rxjs/symbol/rxSubscriber");var Scheduler={asap:asap_1.asap,queue:queue_1.queue};exports.Scheduler=Scheduler;var Symbol={rxSubscriber:rxSubscriber_1.rxSubscriber};exports.Symbol=Symbol;global.define=__define;return module.exports});var ts;(function(ts){(function(SyntaxKind){SyntaxKind[SyntaxKind["Unknown"]=0]="Unknown";SyntaxKind[SyntaxKind["EndOfFileToken"]=1]="EndOfFileToken";SyntaxKind[SyntaxKind["SingleLineCommentTrivia"]=2]="SingleLineCommentTrivia";SyntaxKind[SyntaxKind["MultiLineCommentTrivia"]=3]="MultiLineCommentTrivia";SyntaxKind[SyntaxKind["NewLineTrivia"]=4]="NewLineTrivia";SyntaxKind[SyntaxKind["WhitespaceTrivia"]=5]="WhitespaceTrivia";SyntaxKind[SyntaxKind["ShebangTrivia"]=6]="ShebangTrivia";SyntaxKind[SyntaxKind["ConflictMarkerTrivia"]=7]="ConflictMarkerTrivia";SyntaxKind[SyntaxKind["NumericLiteral"]=8]="NumericLiteral";SyntaxKind[SyntaxKind["StringLiteral"]=9]="StringLiteral";SyntaxKind[SyntaxKind["RegularExpressionLiteral"]=10]="RegularExpressionLiteral";SyntaxKind[SyntaxKind["NoSubstitutionTemplateLiteral"]=11]="NoSubstitutionTemplateLiteral";SyntaxKind[SyntaxKind["TemplateHead"]=12]="TemplateHead";SyntaxKind[SyntaxKind["TemplateMiddle"]=13]="TemplateMiddle";SyntaxKind[SyntaxKind["TemplateTail"]=14]="TemplateTail";SyntaxKind[SyntaxKind["OpenBraceToken"]=15]="OpenBraceToken";SyntaxKind[SyntaxKind["CloseBraceToken"]=16]="CloseBraceToken";SyntaxKind[SyntaxKind["OpenParenToken"]=17]="OpenParenToken";SyntaxKind[SyntaxKind["CloseParenToken"]=18]="CloseParenToken";SyntaxKind[SyntaxKind["OpenBracketToken"]=19]="OpenBracketToken";SyntaxKind[SyntaxKind["CloseBracketToken"]=20]="CloseBracketToken";SyntaxKind[SyntaxKind["DotToken"]=21]="DotToken";SyntaxKind[SyntaxKind["DotDotDotToken"]=22]="DotDotDotToken";SyntaxKind[SyntaxKind["SemicolonToken"]=23]="SemicolonToken";SyntaxKind[SyntaxKind["CommaToken"]=24]="CommaToken";SyntaxKind[SyntaxKind["LessThanToken"]=25]="LessThanToken";SyntaxKind[SyntaxKind["LessThanSlashToken"]=26]="LessThanSlashToken";SyntaxKind[SyntaxKind["GreaterThanToken"]=27]="GreaterThanToken";SyntaxKind[SyntaxKind["LessThanEqualsToken"]=28]="LessThanEqualsToken";SyntaxKind[SyntaxKind["GreaterThanEqualsToken"]=29]="GreaterThanEqualsToken";SyntaxKind[SyntaxKind["EqualsEqualsToken"]=30]="EqualsEqualsToken";SyntaxKind[SyntaxKind["ExclamationEqualsToken"]=31]="ExclamationEqualsToken";SyntaxKind[SyntaxKind["EqualsEqualsEqualsToken"]=32]="EqualsEqualsEqualsToken";SyntaxKind[SyntaxKind["ExclamationEqualsEqualsToken"]=33]="ExclamationEqualsEqualsToken";SyntaxKind[SyntaxKind["EqualsGreaterThanToken"]=34]="EqualsGreaterThanToken";SyntaxKind[SyntaxKind["PlusToken"]=35]="PlusToken";SyntaxKind[SyntaxKind["MinusToken"]=36]="MinusToken";SyntaxKind[SyntaxKind["AsteriskToken"]=37]="AsteriskToken";SyntaxKind[SyntaxKind["AsteriskAsteriskToken"]=38]="AsteriskAsteriskToken";SyntaxKind[SyntaxKind["SlashToken"]=39]="SlashToken";SyntaxKind[SyntaxKind["PercentToken"]=40]="PercentToken";SyntaxKind[SyntaxKind["PlusPlusToken"]=41]="PlusPlusToken";SyntaxKind[SyntaxKind["MinusMinusToken"]=42]="MinusMinusToken";SyntaxKind[SyntaxKind["LessThanLessThanToken"]=43]="LessThanLessThanToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanToken"]=44]="GreaterThanGreaterThanToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanGreaterThanToken"]=45]="GreaterThanGreaterThanGreaterThanToken";SyntaxKind[SyntaxKind["AmpersandToken"]=46]="AmpersandToken";SyntaxKind[SyntaxKind["BarToken"]=47]="BarToken";SyntaxKind[SyntaxKind["CaretToken"]=48]="CaretToken";SyntaxKind[SyntaxKind["ExclamationToken"]=49]="ExclamationToken";SyntaxKind[SyntaxKind["TildeToken"]=50]="TildeToken";SyntaxKind[SyntaxKind["AmpersandAmpersandToken"]=51]="AmpersandAmpersandToken";SyntaxKind[SyntaxKind["BarBarToken"]=52]="BarBarToken";SyntaxKind[SyntaxKind["QuestionToken"]=53]="QuestionToken";SyntaxKind[SyntaxKind["ColonToken"]=54]="ColonToken";SyntaxKind[SyntaxKind["AtToken"]=55]="AtToken";SyntaxKind[SyntaxKind["EqualsToken"]=56]="EqualsToken";SyntaxKind[SyntaxKind["PlusEqualsToken"]=57]="PlusEqualsToken";SyntaxKind[SyntaxKind["MinusEqualsToken"]=58]="MinusEqualsToken";SyntaxKind[SyntaxKind["AsteriskEqualsToken"]=59]="AsteriskEqualsToken";SyntaxKind[SyntaxKind["AsteriskAsteriskEqualsToken"]=60]="AsteriskAsteriskEqualsToken";SyntaxKind[SyntaxKind["SlashEqualsToken"]=61]="SlashEqualsToken";SyntaxKind[SyntaxKind["PercentEqualsToken"]=62]="PercentEqualsToken";SyntaxKind[SyntaxKind["LessThanLessThanEqualsToken"]=63]="LessThanLessThanEqualsToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanEqualsToken"]=64]="GreaterThanGreaterThanEqualsToken";SyntaxKind[SyntaxKind["GreaterThanGreaterThanGreaterThanEqualsToken"]=65]="GreaterThanGreaterThanGreaterThanEqualsToken";SyntaxKind[SyntaxKind["AmpersandEqualsToken"]=66]="AmpersandEqualsToken";SyntaxKind[SyntaxKind["BarEqualsToken"]=67]="BarEqualsToken";SyntaxKind[SyntaxKind["CaretEqualsToken"]=68]="CaretEqualsToken";SyntaxKind[SyntaxKind["Identifier"]=69]="Identifier";SyntaxKind[SyntaxKind["BreakKeyword"]=70]="BreakKeyword";SyntaxKind[SyntaxKind["CaseKeyword"]=71]="CaseKeyword";SyntaxKind[SyntaxKind["CatchKeyword"]=72]="CatchKeyword";SyntaxKind[SyntaxKind["ClassKeyword"]=73]="ClassKeyword";SyntaxKind[SyntaxKind["ConstKeyword"]=74]="ConstKeyword";SyntaxKind[SyntaxKind["ContinueKeyword"]=75]="ContinueKeyword";SyntaxKind[SyntaxKind["DebuggerKeyword"]=76]="DebuggerKeyword";SyntaxKind[SyntaxKind["DefaultKeyword"]=77]="DefaultKeyword";SyntaxKind[SyntaxKind["DeleteKeyword"]=78]="DeleteKeyword";SyntaxKind[SyntaxKind["DoKeyword"]=79]="DoKeyword";SyntaxKind[SyntaxKind["ElseKeyword"]=80]="ElseKeyword";SyntaxKind[SyntaxKind["EnumKeyword"]=81]="EnumKeyword";SyntaxKind[SyntaxKind["ExportKeyword"]=82]="ExportKeyword";SyntaxKind[SyntaxKind["ExtendsKeyword"]=83]="ExtendsKeyword";SyntaxKind[SyntaxKind["FalseKeyword"]=84]="FalseKeyword";SyntaxKind[SyntaxKind["FinallyKeyword"]=85]="FinallyKeyword";SyntaxKind[SyntaxKind["ForKeyword"]=86]="ForKeyword";SyntaxKind[SyntaxKind["FunctionKeyword"]=87]="FunctionKeyword";SyntaxKind[SyntaxKind["IfKeyword"]=88]="IfKeyword";SyntaxKind[SyntaxKind["ImportKeyword"]=89]="ImportKeyword";SyntaxKind[SyntaxKind["InKeyword"]=90]="InKeyword";SyntaxKind[SyntaxKind["InstanceOfKeyword"]=91]="InstanceOfKeyword";SyntaxKind[SyntaxKind["NewKeyword"]=92]="NewKeyword";SyntaxKind[SyntaxKind["NullKeyword"]=93]="NullKeyword";SyntaxKind[SyntaxKind["ReturnKeyword"]=94]="ReturnKeyword";SyntaxKind[SyntaxKind["SuperKeyword"]=95]="SuperKeyword";SyntaxKind[SyntaxKind["SwitchKeyword"]=96]="SwitchKeyword";SyntaxKind[SyntaxKind["ThisKeyword"]=97]="ThisKeyword";SyntaxKind[SyntaxKind["ThrowKeyword"]=98]="ThrowKeyword";SyntaxKind[SyntaxKind["TrueKeyword"]=99]="TrueKeyword";SyntaxKind[SyntaxKind["TryKeyword"]=100]="TryKeyword";SyntaxKind[SyntaxKind["TypeOfKeyword"]=101]="TypeOfKeyword";SyntaxKind[SyntaxKind["VarKeyword"]=102]="VarKeyword";SyntaxKind[SyntaxKind["VoidKeyword"]=103]="VoidKeyword";SyntaxKind[SyntaxKind["WhileKeyword"]=104]="WhileKeyword";SyntaxKind[SyntaxKind["WithKeyword"]=105]="WithKeyword";SyntaxKind[SyntaxKind["ImplementsKeyword"]=106]="ImplementsKeyword";SyntaxKind[SyntaxKind["InterfaceKeyword"]=107]="InterfaceKeyword";SyntaxKind[SyntaxKind["LetKeyword"]=108]="LetKeyword";SyntaxKind[SyntaxKind["PackageKeyword"]=109]="PackageKeyword";SyntaxKind[SyntaxKind["PrivateKeyword"]=110]="PrivateKeyword";SyntaxKind[SyntaxKind["ProtectedKeyword"]=111]="ProtectedKeyword";SyntaxKind[SyntaxKind["PublicKeyword"]=112]="PublicKeyword";SyntaxKind[SyntaxKind["StaticKeyword"]=113]="StaticKeyword";SyntaxKind[SyntaxKind["YieldKeyword"]=114]="YieldKeyword";SyntaxKind[SyntaxKind["AbstractKeyword"]=115]="AbstractKeyword";SyntaxKind[SyntaxKind["AsKeyword"]=116]="AsKeyword";SyntaxKind[SyntaxKind["AnyKeyword"]=117]="AnyKeyword";SyntaxKind[SyntaxKind["AsyncKeyword"]=118]="AsyncKeyword";SyntaxKind[SyntaxKind["AwaitKeyword"]=119]="AwaitKeyword";SyntaxKind[SyntaxKind["BooleanKeyword"]=120]="BooleanKeyword";SyntaxKind[SyntaxKind["ConstructorKeyword"]=121]="ConstructorKeyword";SyntaxKind[SyntaxKind["DeclareKeyword"]=122]="DeclareKeyword";SyntaxKind[SyntaxKind["GetKeyword"]=123]="GetKeyword";SyntaxKind[SyntaxKind["IsKeyword"]=124]="IsKeyword";SyntaxKind[SyntaxKind["ModuleKeyword"]=125]="ModuleKeyword";SyntaxKind[SyntaxKind["NamespaceKeyword"]=126]="NamespaceKeyword";SyntaxKind[SyntaxKind["RequireKeyword"]=127]="RequireKeyword";SyntaxKind[SyntaxKind["NumberKeyword"]=128]="NumberKeyword";SyntaxKind[SyntaxKind["SetKeyword"]=129]="SetKeyword";SyntaxKind[SyntaxKind["StringKeyword"]=130]="StringKeyword";SyntaxKind[SyntaxKind["SymbolKeyword"]=131]="SymbolKeyword";SyntaxKind[SyntaxKind["TypeKeyword"]=132]="TypeKeyword";SyntaxKind[SyntaxKind["FromKeyword"]=133]="FromKeyword";SyntaxKind[SyntaxKind["OfKeyword"]=134]="OfKeyword";SyntaxKind[SyntaxKind["QualifiedName"]=135]="QualifiedName";SyntaxKind[SyntaxKind["ComputedPropertyName"]=136]="ComputedPropertyName";SyntaxKind[SyntaxKind["TypeParameter"]=137]="TypeParameter";SyntaxKind[SyntaxKind["Parameter"]=138]="Parameter";SyntaxKind[SyntaxKind["Decorator"]=139]="Decorator";SyntaxKind[SyntaxKind["PropertySignature"]=140]="PropertySignature";SyntaxKind[SyntaxKind["PropertyDeclaration"]=141]="PropertyDeclaration";SyntaxKind[SyntaxKind["MethodSignature"]=142]="MethodSignature";SyntaxKind[SyntaxKind["MethodDeclaration"]=143]="MethodDeclaration";SyntaxKind[SyntaxKind["Constructor"]=144]="Constructor";SyntaxKind[SyntaxKind["GetAccessor"]=145]="GetAccessor";SyntaxKind[SyntaxKind["SetAccessor"]=146]="SetAccessor";SyntaxKind[SyntaxKind["CallSignature"]=147]="CallSignature";SyntaxKind[SyntaxKind["ConstructSignature"]=148]="ConstructSignature";SyntaxKind[SyntaxKind["IndexSignature"]=149]="IndexSignature";SyntaxKind[SyntaxKind["TypePredicate"]=150]="TypePredicate";SyntaxKind[SyntaxKind["TypeReference"]=151]="TypeReference";SyntaxKind[SyntaxKind["FunctionType"]=152]="FunctionType";SyntaxKind[SyntaxKind["ConstructorType"]=153]="ConstructorType";SyntaxKind[SyntaxKind["TypeQuery"]=154]="TypeQuery";SyntaxKind[SyntaxKind["TypeLiteral"]=155]="TypeLiteral";SyntaxKind[SyntaxKind["ArrayType"]=156]="ArrayType";SyntaxKind[SyntaxKind["TupleType"]=157]="TupleType";SyntaxKind[SyntaxKind["UnionType"]=158]="UnionType";SyntaxKind[SyntaxKind["IntersectionType"]=159]="IntersectionType";SyntaxKind[SyntaxKind["ParenthesizedType"]=160]="ParenthesizedType";SyntaxKind[SyntaxKind["ObjectBindingPattern"]=161]="ObjectBindingPattern";SyntaxKind[SyntaxKind["ArrayBindingPattern"]=162]="ArrayBindingPattern";SyntaxKind[SyntaxKind["BindingElement"]=163]="BindingElement";SyntaxKind[SyntaxKind["ArrayLiteralExpression"]=164]="ArrayLiteralExpression";SyntaxKind[SyntaxKind["ObjectLiteralExpression"]=165]="ObjectLiteralExpression";SyntaxKind[SyntaxKind["PropertyAccessExpression"]=166]="PropertyAccessExpression";SyntaxKind[SyntaxKind["ElementAccessExpression"]=167]="ElementAccessExpression";SyntaxKind[SyntaxKind["CallExpression"]=168]="CallExpression";SyntaxKind[SyntaxKind["NewExpression"]=169]="NewExpression";SyntaxKind[SyntaxKind["TaggedTemplateExpression"]=170]="TaggedTemplateExpression";SyntaxKind[SyntaxKind["TypeAssertionExpression"]=171]="TypeAssertionExpression";SyntaxKind[SyntaxKind["ParenthesizedExpression"]=172]="ParenthesizedExpression";SyntaxKind[SyntaxKind["FunctionExpression"]=173]="FunctionExpression";SyntaxKind[SyntaxKind["ArrowFunction"]=174]="ArrowFunction";SyntaxKind[SyntaxKind["DeleteExpression"]=175]="DeleteExpression";SyntaxKind[SyntaxKind["TypeOfExpression"]=176]="TypeOfExpression";SyntaxKind[SyntaxKind["VoidExpression"]=177]="VoidExpression";SyntaxKind[SyntaxKind["AwaitExpression"]=178]="AwaitExpression";SyntaxKind[SyntaxKind["PrefixUnaryExpression"]=179]="PrefixUnaryExpression";SyntaxKind[SyntaxKind["PostfixUnaryExpression"]=180]="PostfixUnaryExpression";SyntaxKind[SyntaxKind["BinaryExpression"]=181]="BinaryExpression";SyntaxKind[SyntaxKind["ConditionalExpression"]=182]="ConditionalExpression";SyntaxKind[SyntaxKind["TemplateExpression"]=183]="TemplateExpression";SyntaxKind[SyntaxKind["YieldExpression"]=184]="YieldExpression";SyntaxKind[SyntaxKind["SpreadElementExpression"]=185]="SpreadElementExpression";SyntaxKind[SyntaxKind["ClassExpression"]=186]="ClassExpression";SyntaxKind[SyntaxKind["OmittedExpression"]=187]="OmittedExpression";SyntaxKind[SyntaxKind["ExpressionWithTypeArguments"]=188]="ExpressionWithTypeArguments";SyntaxKind[SyntaxKind["AsExpression"]=189]="AsExpression";SyntaxKind[SyntaxKind["TemplateSpan"]=190]="TemplateSpan";SyntaxKind[SyntaxKind["SemicolonClassElement"]=191]="SemicolonClassElement";SyntaxKind[SyntaxKind["Block"]=192]="Block";SyntaxKind[SyntaxKind["VariableStatement"]=193]="VariableStatement";SyntaxKind[SyntaxKind["EmptyStatement"]=194]="EmptyStatement";SyntaxKind[SyntaxKind["ExpressionStatement"]=195]="ExpressionStatement";SyntaxKind[SyntaxKind["IfStatement"]=196]="IfStatement";SyntaxKind[SyntaxKind["DoStatement"]=197]="DoStatement";SyntaxKind[SyntaxKind["WhileStatement"]=198]="WhileStatement";SyntaxKind[SyntaxKind["ForStatement"]=199]="ForStatement";SyntaxKind[SyntaxKind["ForInStatement"]=200]="ForInStatement";SyntaxKind[SyntaxKind["ForOfStatement"]=201]="ForOfStatement";SyntaxKind[SyntaxKind["ContinueStatement"]=202]="ContinueStatement";SyntaxKind[SyntaxKind["BreakStatement"]=203]="BreakStatement";SyntaxKind[SyntaxKind["ReturnStatement"]=204]="ReturnStatement";SyntaxKind[SyntaxKind["WithStatement"]=205]="WithStatement";SyntaxKind[SyntaxKind["SwitchStatement"]=206]="SwitchStatement";SyntaxKind[SyntaxKind["LabeledStatement"]=207]="LabeledStatement";SyntaxKind[SyntaxKind["ThrowStatement"]=208]="ThrowStatement";SyntaxKind[SyntaxKind["TryStatement"]=209]="TryStatement";SyntaxKind[SyntaxKind["DebuggerStatement"]=210]="DebuggerStatement";SyntaxKind[SyntaxKind["VariableDeclaration"]=211]="VariableDeclaration";SyntaxKind[SyntaxKind["VariableDeclarationList"]=212]="VariableDeclarationList";SyntaxKind[SyntaxKind["FunctionDeclaration"]=213]="FunctionDeclaration";SyntaxKind[SyntaxKind["ClassDeclaration"]=214]="ClassDeclaration";SyntaxKind[SyntaxKind["InterfaceDeclaration"]=215]="InterfaceDeclaration";SyntaxKind[SyntaxKind["TypeAliasDeclaration"]=216]="TypeAliasDeclaration";SyntaxKind[SyntaxKind["EnumDeclaration"]=217]="EnumDeclaration";SyntaxKind[SyntaxKind["ModuleDeclaration"]=218]="ModuleDeclaration";SyntaxKind[SyntaxKind["ModuleBlock"]=219]="ModuleBlock";SyntaxKind[SyntaxKind["CaseBlock"]=220]="CaseBlock";SyntaxKind[SyntaxKind["ImportEqualsDeclaration"]=221]="ImportEqualsDeclaration";SyntaxKind[SyntaxKind["ImportDeclaration"]=222]="ImportDeclaration";SyntaxKind[SyntaxKind["ImportClause"]=223]="ImportClause";SyntaxKind[SyntaxKind["NamespaceImport"]=224]="NamespaceImport";SyntaxKind[SyntaxKind["NamedImports"]=225]="NamedImports";SyntaxKind[SyntaxKind["ImportSpecifier"]=226]="ImportSpecifier";SyntaxKind[SyntaxKind["ExportAssignment"]=227]="ExportAssignment";SyntaxKind[SyntaxKind["ExportDeclaration"]=228]="ExportDeclaration";SyntaxKind[SyntaxKind["NamedExports"]=229]="NamedExports";SyntaxKind[SyntaxKind["ExportSpecifier"]=230]="ExportSpecifier";SyntaxKind[SyntaxKind["MissingDeclaration"]=231]="MissingDeclaration";SyntaxKind[SyntaxKind["ExternalModuleReference"]=232]="ExternalModuleReference";SyntaxKind[SyntaxKind["JsxElement"]=233]="JsxElement";SyntaxKind[SyntaxKind["JsxSelfClosingElement"]=234]="JsxSelfClosingElement";SyntaxKind[SyntaxKind["JsxOpeningElement"]=235]="JsxOpeningElement";SyntaxKind[SyntaxKind["JsxText"]=236]="JsxText";SyntaxKind[SyntaxKind["JsxClosingElement"]=237]="JsxClosingElement";SyntaxKind[SyntaxKind["JsxAttribute"]=238]="JsxAttribute";SyntaxKind[SyntaxKind["JsxSpreadAttribute"]=239]="JsxSpreadAttribute";SyntaxKind[SyntaxKind["JsxExpression"]=240]="JsxExpression";SyntaxKind[SyntaxKind["CaseClause"]=241]="CaseClause";SyntaxKind[SyntaxKind["DefaultClause"]=242]="DefaultClause";SyntaxKind[SyntaxKind["HeritageClause"]=243]="HeritageClause";SyntaxKind[SyntaxKind["CatchClause"]=244]="CatchClause";SyntaxKind[SyntaxKind["PropertyAssignment"]=245]="PropertyAssignment";SyntaxKind[SyntaxKind["ShorthandPropertyAssignment"]=246]="ShorthandPropertyAssignment";SyntaxKind[SyntaxKind["EnumMember"]=247]="EnumMember";SyntaxKind[SyntaxKind["SourceFile"]=248]="SourceFile";SyntaxKind[SyntaxKind["JSDocTypeExpression"]=249]="JSDocTypeExpression";SyntaxKind[SyntaxKind["JSDocAllType"]=250]="JSDocAllType";SyntaxKind[SyntaxKind["JSDocUnknownType"]=251]="JSDocUnknownType";SyntaxKind[SyntaxKind["JSDocArrayType"]=252]="JSDocArrayType";SyntaxKind[SyntaxKind["JSDocUnionType"]=253]="JSDocUnionType";SyntaxKind[SyntaxKind["JSDocTupleType"]=254]="JSDocTupleType";SyntaxKind[SyntaxKind["JSDocNullableType"]=255]="JSDocNullableType";SyntaxKind[SyntaxKind["JSDocNonNullableType"]=256]="JSDocNonNullableType";SyntaxKind[SyntaxKind["JSDocRecordType"]=257]="JSDocRecordType";SyntaxKind[SyntaxKind["JSDocRecordMember"]=258]="JSDocRecordMember";SyntaxKind[SyntaxKind["JSDocTypeReference"]=259]="JSDocTypeReference";SyntaxKind[SyntaxKind["JSDocOptionalType"]=260]="JSDocOptionalType";SyntaxKind[SyntaxKind["JSDocFunctionType"]=261]="JSDocFunctionType";SyntaxKind[SyntaxKind["JSDocVariadicType"]=262]="JSDocVariadicType";SyntaxKind[SyntaxKind["JSDocConstructorType"]=263]="JSDocConstructorType";SyntaxKind[SyntaxKind["JSDocThisType"]=264]="JSDocThisType";SyntaxKind[SyntaxKind["JSDocComment"]=265]="JSDocComment";SyntaxKind[SyntaxKind["JSDocTag"]=266]="JSDocTag";SyntaxKind[SyntaxKind["JSDocParameterTag"]=267]="JSDocParameterTag";SyntaxKind[SyntaxKind["JSDocReturnTag"]=268]="JSDocReturnTag";SyntaxKind[SyntaxKind["JSDocTypeTag"]=269]="JSDocTypeTag";SyntaxKind[SyntaxKind["JSDocTemplateTag"]=270]="JSDocTemplateTag";SyntaxKind[SyntaxKind["SyntaxList"]=271]="SyntaxList";SyntaxKind[SyntaxKind["Count"]=272]="Count";SyntaxKind[SyntaxKind["FirstAssignment"]=56]="FirstAssignment";SyntaxKind[SyntaxKind["LastAssignment"]=68]="LastAssignment";SyntaxKind[SyntaxKind["FirstReservedWord"]=70]="FirstReservedWord";SyntaxKind[SyntaxKind["LastReservedWord"]=105]="LastReservedWord";SyntaxKind[SyntaxKind["FirstKeyword"]=70]="FirstKeyword";SyntaxKind[SyntaxKind["LastKeyword"]=134]="LastKeyword";SyntaxKind[SyntaxKind["FirstFutureReservedWord"]=106]="FirstFutureReservedWord";SyntaxKind[SyntaxKind["LastFutureReservedWord"]=114]="LastFutureReservedWord";SyntaxKind[SyntaxKind["FirstTypeNode"]=151]="FirstTypeNode";SyntaxKind[SyntaxKind["LastTypeNode"]=160]="LastTypeNode";SyntaxKind[SyntaxKind["FirstPunctuation"]=15]="FirstPunctuation";SyntaxKind[SyntaxKind["LastPunctuation"]=68]="LastPunctuation";SyntaxKind[SyntaxKind["FirstToken"]=0]="FirstToken";SyntaxKind[SyntaxKind["LastToken"]=134]="LastToken";SyntaxKind[SyntaxKind["FirstTriviaToken"]=2]="FirstTriviaToken";SyntaxKind[SyntaxKind["LastTriviaToken"]=7]="LastTriviaToken";SyntaxKind[SyntaxKind["FirstLiteralToken"]=8]="FirstLiteralToken";SyntaxKind[SyntaxKind["LastLiteralToken"]=11]="LastLiteralToken";SyntaxKind[SyntaxKind["FirstTemplateToken"]=11]="FirstTemplateToken";SyntaxKind[SyntaxKind["LastTemplateToken"]=14]="LastTemplateToken";SyntaxKind[SyntaxKind["FirstBinaryOperator"]=25]="FirstBinaryOperator";SyntaxKind[SyntaxKind["LastBinaryOperator"]=68]="LastBinaryOperator";SyntaxKind[SyntaxKind["FirstNode"]=135]="FirstNode"})(ts.SyntaxKind||(ts.SyntaxKind={}));var SyntaxKind=ts.SyntaxKind;(function(NodeFlags){NodeFlags[NodeFlags["Export"]=1]="Export";NodeFlags[NodeFlags["Ambient"]=2]="Ambient";NodeFlags[NodeFlags["Public"]=16]="Public";NodeFlags[NodeFlags["Private"]=32]="Private";NodeFlags[NodeFlags["Protected"]=64]="Protected";NodeFlags[NodeFlags["Static"]=128]="Static";NodeFlags[NodeFlags["Abstract"]=256]="Abstract";NodeFlags[NodeFlags["Async"]=512]="Async";NodeFlags[NodeFlags["Default"]=1024]="Default";NodeFlags[NodeFlags["MultiLine"]=2048]="MultiLine";NodeFlags[NodeFlags["Synthetic"]=4096]="Synthetic";NodeFlags[NodeFlags["DeclarationFile"]=8192]="DeclarationFile";NodeFlags[NodeFlags["Let"]=16384]="Let";NodeFlags[NodeFlags["Const"]=32768]="Const";NodeFlags[NodeFlags["OctalLiteral"]=65536]="OctalLiteral";NodeFlags[NodeFlags["Namespace"]=131072]="Namespace";NodeFlags[NodeFlags["ExportContext"]=262144]="ExportContext";NodeFlags[NodeFlags["ContainsThis"]=524288]="ContainsThis";NodeFlags[NodeFlags["Modifier"]=2035]="Modifier";NodeFlags[NodeFlags["AccessibilityModifier"]=112]="AccessibilityModifier";NodeFlags[NodeFlags["BlockScoped"]=49152]="BlockScoped"})(ts.NodeFlags||(ts.NodeFlags={}));var NodeFlags=ts.NodeFlags;(function(ParserContextFlags){ParserContextFlags[ParserContextFlags["None"]=0]="None";ParserContextFlags[ParserContextFlags["DisallowIn"]=1]="DisallowIn";ParserContextFlags[ParserContextFlags["Yield"]=2]="Yield";ParserContextFlags[ParserContextFlags["Decorator"]=4]="Decorator";ParserContextFlags[ParserContextFlags["Await"]=8]="Await";ParserContextFlags[ParserContextFlags["ThisNodeHasError"]=16]="ThisNodeHasError";ParserContextFlags[ParserContextFlags["JavaScriptFile"]=32]="JavaScriptFile";ParserContextFlags[ParserContextFlags["ParserGeneratedFlags"]=31]="ParserGeneratedFlags";ParserContextFlags[ParserContextFlags["TypeExcludesFlags"]=10]="TypeExcludesFlags";ParserContextFlags[ParserContextFlags["ThisNodeOrAnySubNodesHasError"]=64]="ThisNodeOrAnySubNodesHasError";ParserContextFlags[ParserContextFlags["HasAggregatedChildData"]=128]="HasAggregatedChildData"})(ts.ParserContextFlags||(ts.ParserContextFlags={}));var ParserContextFlags=ts.ParserContextFlags;(function(JsxFlags){JsxFlags[JsxFlags["None"]=0]="None";JsxFlags[JsxFlags["IntrinsicNamedElement"]=1]="IntrinsicNamedElement";JsxFlags[JsxFlags["IntrinsicIndexedElement"]=2]="IntrinsicIndexedElement";JsxFlags[JsxFlags["ClassElement"]=4]="ClassElement";JsxFlags[JsxFlags["UnknownElement"]=8]="UnknownElement";JsxFlags[JsxFlags["IntrinsicElement"]=3]="IntrinsicElement"})(ts.JsxFlags||(ts.JsxFlags={}));var JsxFlags=ts.JsxFlags;(function(RelationComparisonResult){RelationComparisonResult[RelationComparisonResult["Succeeded"]=1]="Succeeded";RelationComparisonResult[RelationComparisonResult["Failed"]=2]="Failed";RelationComparisonResult[RelationComparisonResult["FailedAndReported"]=3]="FailedAndReported"})(ts.RelationComparisonResult||(ts.RelationComparisonResult={}));var RelationComparisonResult=ts.RelationComparisonResult;var OperationCanceledException=function(){function OperationCanceledException(){}return OperationCanceledException}();ts.OperationCanceledException=OperationCanceledException;(function(ExitStatus){ExitStatus[ExitStatus["Success"]=0]="Success";ExitStatus[ExitStatus["DiagnosticsPresent_OutputsSkipped"]=1]="DiagnosticsPresent_OutputsSkipped";ExitStatus[ExitStatus["DiagnosticsPresent_OutputsGenerated"]=2]="DiagnosticsPresent_OutputsGenerated"})(ts.ExitStatus||(ts.ExitStatus={}));var ExitStatus=ts.ExitStatus;(function(TypeFormatFlags){TypeFormatFlags[TypeFormatFlags["None"]=0]="None";TypeFormatFlags[TypeFormatFlags["WriteArrayAsGenericType"]=1]="WriteArrayAsGenericType";TypeFormatFlags[TypeFormatFlags["UseTypeOfFunction"]=2]="UseTypeOfFunction";TypeFormatFlags[TypeFormatFlags["NoTruncation"]=4]="NoTruncation";TypeFormatFlags[TypeFormatFlags["WriteArrowStyleSignature"]=8]="WriteArrowStyleSignature";TypeFormatFlags[TypeFormatFlags["WriteOwnNameForAnyLike"]=16]="WriteOwnNameForAnyLike";TypeFormatFlags[TypeFormatFlags["WriteTypeArgumentsOfSignature"]=32]="WriteTypeArgumentsOfSignature";TypeFormatFlags[TypeFormatFlags["InElementType"]=64]="InElementType";TypeFormatFlags[TypeFormatFlags["UseFullyQualifiedType"]=128]="UseFullyQualifiedType"})(ts.TypeFormatFlags||(ts.TypeFormatFlags={}));var TypeFormatFlags=ts.TypeFormatFlags;(function(SymbolFormatFlags){SymbolFormatFlags[SymbolFormatFlags["None"]=0]="None";SymbolFormatFlags[SymbolFormatFlags["WriteTypeParametersOrArguments"]=1]="WriteTypeParametersOrArguments";SymbolFormatFlags[SymbolFormatFlags["UseOnlyExternalAliasing"]=2]="UseOnlyExternalAliasing"})(ts.SymbolFormatFlags||(ts.SymbolFormatFlags={}));var SymbolFormatFlags=ts.SymbolFormatFlags;(function(SymbolAccessibility){SymbolAccessibility[SymbolAccessibility["Accessible"]=0]="Accessible";SymbolAccessibility[SymbolAccessibility["NotAccessible"]=1]="NotAccessible";SymbolAccessibility[SymbolAccessibility["CannotBeNamed"]=2]="CannotBeNamed"})(ts.SymbolAccessibility||(ts.SymbolAccessibility={}));var SymbolAccessibility=ts.SymbolAccessibility;(function(TypeReferenceSerializationKind){TypeReferenceSerializationKind[TypeReferenceSerializationKind["Unknown"]=0]="Unknown";TypeReferenceSerializationKind[TypeReferenceSerializationKind["TypeWithConstructSignatureAndValue"]=1]="TypeWithConstructSignatureAndValue";TypeReferenceSerializationKind[TypeReferenceSerializationKind["VoidType"]=2]="VoidType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["NumberLikeType"]=3]="NumberLikeType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["StringLikeType"]=4]="StringLikeType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["BooleanType"]=5]="BooleanType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["ArrayLikeType"]=6]="ArrayLikeType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["ESSymbolType"]=7]="ESSymbolType";TypeReferenceSerializationKind[TypeReferenceSerializationKind["TypeWithCallSignature"]=8]="TypeWithCallSignature";TypeReferenceSerializationKind[TypeReferenceSerializationKind["ObjectType"]=9]="ObjectType"})(ts.TypeReferenceSerializationKind||(ts.TypeReferenceSerializationKind={}));var TypeReferenceSerializationKind=ts.TypeReferenceSerializationKind;(function(SymbolFlags){SymbolFlags[SymbolFlags["None"]=0]="None";SymbolFlags[SymbolFlags["FunctionScopedVariable"]=1]="FunctionScopedVariable";SymbolFlags[SymbolFlags["BlockScopedVariable"]=2]="BlockScopedVariable";SymbolFlags[SymbolFlags["Property"]=4]="Property";SymbolFlags[SymbolFlags["EnumMember"]=8]="EnumMember";SymbolFlags[SymbolFlags["Function"]=16]="Function";SymbolFlags[SymbolFlags["Class"]=32]="Class";SymbolFlags[SymbolFlags["Interface"]=64]="Interface";SymbolFlags[SymbolFlags["ConstEnum"]=128]="ConstEnum";SymbolFlags[SymbolFlags["RegularEnum"]=256]="RegularEnum";SymbolFlags[SymbolFlags["ValueModule"]=512]="ValueModule";SymbolFlags[SymbolFlags["NamespaceModule"]=1024]="NamespaceModule";SymbolFlags[SymbolFlags["TypeLiteral"]=2048]="TypeLiteral";SymbolFlags[SymbolFlags["ObjectLiteral"]=4096]="ObjectLiteral";SymbolFlags[SymbolFlags["Method"]=8192]="Method";SymbolFlags[SymbolFlags["Constructor"]=16384]="Constructor";SymbolFlags[SymbolFlags["GetAccessor"]=32768]="GetAccessor";SymbolFlags[SymbolFlags["SetAccessor"]=65536]="SetAccessor";SymbolFlags[SymbolFlags["Signature"]=131072]="Signature";SymbolFlags[SymbolFlags["TypeParameter"]=262144]="TypeParameter";SymbolFlags[SymbolFlags["TypeAlias"]=524288]="TypeAlias";SymbolFlags[SymbolFlags["ExportValue"]=1048576]="ExportValue";SymbolFlags[SymbolFlags["ExportType"]=2097152]="ExportType";SymbolFlags[SymbolFlags["ExportNamespace"]=4194304]="ExportNamespace";SymbolFlags[SymbolFlags["Alias"]=8388608]="Alias";
SymbolFlags[SymbolFlags["Instantiated"]=16777216]="Instantiated";SymbolFlags[SymbolFlags["Merged"]=33554432]="Merged";SymbolFlags[SymbolFlags["Transient"]=67108864]="Transient";SymbolFlags[SymbolFlags["Prototype"]=134217728]="Prototype";SymbolFlags[SymbolFlags["SyntheticProperty"]=268435456]="SyntheticProperty";SymbolFlags[SymbolFlags["Optional"]=536870912]="Optional";SymbolFlags[SymbolFlags["ExportStar"]=1073741824]="ExportStar";SymbolFlags[SymbolFlags["Enum"]=384]="Enum";SymbolFlags[SymbolFlags["Variable"]=3]="Variable";SymbolFlags[SymbolFlags["Value"]=107455]="Value";SymbolFlags[SymbolFlags["Type"]=793056]="Type";SymbolFlags[SymbolFlags["Namespace"]=1536]="Namespace";SymbolFlags[SymbolFlags["Module"]=1536]="Module";SymbolFlags[SymbolFlags["Accessor"]=98304]="Accessor";SymbolFlags[SymbolFlags["FunctionScopedVariableExcludes"]=107454]="FunctionScopedVariableExcludes";SymbolFlags[SymbolFlags["BlockScopedVariableExcludes"]=107455]="BlockScopedVariableExcludes";SymbolFlags[SymbolFlags["ParameterExcludes"]=107455]="ParameterExcludes";SymbolFlags[SymbolFlags["PropertyExcludes"]=107455]="PropertyExcludes";SymbolFlags[SymbolFlags["EnumMemberExcludes"]=107455]="EnumMemberExcludes";SymbolFlags[SymbolFlags["FunctionExcludes"]=106927]="FunctionExcludes";SymbolFlags[SymbolFlags["ClassExcludes"]=899519]="ClassExcludes";SymbolFlags[SymbolFlags["InterfaceExcludes"]=792960]="InterfaceExcludes";SymbolFlags[SymbolFlags["RegularEnumExcludes"]=899327]="RegularEnumExcludes";SymbolFlags[SymbolFlags["ConstEnumExcludes"]=899967]="ConstEnumExcludes";SymbolFlags[SymbolFlags["ValueModuleExcludes"]=106639]="ValueModuleExcludes";SymbolFlags[SymbolFlags["NamespaceModuleExcludes"]=0]="NamespaceModuleExcludes";SymbolFlags[SymbolFlags["MethodExcludes"]=99263]="MethodExcludes";SymbolFlags[SymbolFlags["GetAccessorExcludes"]=41919]="GetAccessorExcludes";SymbolFlags[SymbolFlags["SetAccessorExcludes"]=74687]="SetAccessorExcludes";SymbolFlags[SymbolFlags["TypeParameterExcludes"]=530912]="TypeParameterExcludes";SymbolFlags[SymbolFlags["TypeAliasExcludes"]=793056]="TypeAliasExcludes";SymbolFlags[SymbolFlags["AliasExcludes"]=8388608]="AliasExcludes";SymbolFlags[SymbolFlags["ModuleMember"]=8914931]="ModuleMember";SymbolFlags[SymbolFlags["ExportHasLocal"]=944]="ExportHasLocal";SymbolFlags[SymbolFlags["HasExports"]=1952]="HasExports";SymbolFlags[SymbolFlags["HasMembers"]=6240]="HasMembers";SymbolFlags[SymbolFlags["BlockScoped"]=418]="BlockScoped";SymbolFlags[SymbolFlags["PropertyOrAccessor"]=98308]="PropertyOrAccessor";SymbolFlags[SymbolFlags["Export"]=7340032]="Export";SymbolFlags[SymbolFlags["Classifiable"]=788448]="Classifiable"})(ts.SymbolFlags||(ts.SymbolFlags={}));var SymbolFlags=ts.SymbolFlags;(function(NodeCheckFlags){NodeCheckFlags[NodeCheckFlags["TypeChecked"]=1]="TypeChecked";NodeCheckFlags[NodeCheckFlags["LexicalThis"]=2]="LexicalThis";NodeCheckFlags[NodeCheckFlags["CaptureThis"]=4]="CaptureThis";NodeCheckFlags[NodeCheckFlags["EmitExtends"]=8]="EmitExtends";NodeCheckFlags[NodeCheckFlags["EmitDecorate"]=16]="EmitDecorate";NodeCheckFlags[NodeCheckFlags["EmitParam"]=32]="EmitParam";NodeCheckFlags[NodeCheckFlags["EmitAwaiter"]=64]="EmitAwaiter";NodeCheckFlags[NodeCheckFlags["EmitGenerator"]=128]="EmitGenerator";NodeCheckFlags[NodeCheckFlags["SuperInstance"]=256]="SuperInstance";NodeCheckFlags[NodeCheckFlags["SuperStatic"]=512]="SuperStatic";NodeCheckFlags[NodeCheckFlags["ContextChecked"]=1024]="ContextChecked";NodeCheckFlags[NodeCheckFlags["LexicalArguments"]=2048]="LexicalArguments";NodeCheckFlags[NodeCheckFlags["CaptureArguments"]=4096]="CaptureArguments";NodeCheckFlags[NodeCheckFlags["EnumValuesComputed"]=8192]="EnumValuesComputed";NodeCheckFlags[NodeCheckFlags["BlockScopedBindingInLoop"]=16384]="BlockScopedBindingInLoop";NodeCheckFlags[NodeCheckFlags["LexicalModuleMergesWithClass"]=32768]="LexicalModuleMergesWithClass"})(ts.NodeCheckFlags||(ts.NodeCheckFlags={}));var NodeCheckFlags=ts.NodeCheckFlags;(function(TypeFlags){TypeFlags[TypeFlags["Any"]=1]="Any";TypeFlags[TypeFlags["String"]=2]="String";TypeFlags[TypeFlags["Number"]=4]="Number";TypeFlags[TypeFlags["Boolean"]=8]="Boolean";TypeFlags[TypeFlags["Void"]=16]="Void";TypeFlags[TypeFlags["Undefined"]=32]="Undefined";TypeFlags[TypeFlags["Null"]=64]="Null";TypeFlags[TypeFlags["Enum"]=128]="Enum";TypeFlags[TypeFlags["StringLiteral"]=256]="StringLiteral";TypeFlags[TypeFlags["TypeParameter"]=512]="TypeParameter";TypeFlags[TypeFlags["Class"]=1024]="Class";TypeFlags[TypeFlags["Interface"]=2048]="Interface";TypeFlags[TypeFlags["Reference"]=4096]="Reference";TypeFlags[TypeFlags["Tuple"]=8192]="Tuple";TypeFlags[TypeFlags["Union"]=16384]="Union";TypeFlags[TypeFlags["Intersection"]=32768]="Intersection";TypeFlags[TypeFlags["Anonymous"]=65536]="Anonymous";TypeFlags[TypeFlags["Instantiated"]=131072]="Instantiated";TypeFlags[TypeFlags["FromSignature"]=262144]="FromSignature";TypeFlags[TypeFlags["ObjectLiteral"]=524288]="ObjectLiteral";TypeFlags[TypeFlags["FreshObjectLiteral"]=1048576]="FreshObjectLiteral";TypeFlags[TypeFlags["ContainsUndefinedOrNull"]=2097152]="ContainsUndefinedOrNull";TypeFlags[TypeFlags["ContainsObjectLiteral"]=4194304]="ContainsObjectLiteral";TypeFlags[TypeFlags["ContainsAnyFunctionType"]=8388608]="ContainsAnyFunctionType";TypeFlags[TypeFlags["ESSymbol"]=16777216]="ESSymbol";TypeFlags[TypeFlags["ThisType"]=33554432]="ThisType";TypeFlags[TypeFlags["Intrinsic"]=16777343]="Intrinsic";TypeFlags[TypeFlags["Primitive"]=16777726]="Primitive";TypeFlags[TypeFlags["StringLike"]=258]="StringLike";TypeFlags[TypeFlags["NumberLike"]=132]="NumberLike";TypeFlags[TypeFlags["ObjectType"]=80896]="ObjectType";TypeFlags[TypeFlags["UnionOrIntersection"]=49152]="UnionOrIntersection";TypeFlags[TypeFlags["StructuredType"]=130048]="StructuredType";TypeFlags[TypeFlags["RequiresWidening"]=6291456]="RequiresWidening";TypeFlags[TypeFlags["PropagatingFlags"]=14680064]="PropagatingFlags"})(ts.TypeFlags||(ts.TypeFlags={}));var TypeFlags=ts.TypeFlags;(function(SignatureKind){SignatureKind[SignatureKind["Call"]=0]="Call";SignatureKind[SignatureKind["Construct"]=1]="Construct"})(ts.SignatureKind||(ts.SignatureKind={}));var SignatureKind=ts.SignatureKind;(function(IndexKind){IndexKind[IndexKind["String"]=0]="String";IndexKind[IndexKind["Number"]=1]="Number"})(ts.IndexKind||(ts.IndexKind={}));var IndexKind=ts.IndexKind;(function(DiagnosticCategory){DiagnosticCategory[DiagnosticCategory["Warning"]=0]="Warning";DiagnosticCategory[DiagnosticCategory["Error"]=1]="Error";DiagnosticCategory[DiagnosticCategory["Message"]=2]="Message"})(ts.DiagnosticCategory||(ts.DiagnosticCategory={}));var DiagnosticCategory=ts.DiagnosticCategory;(function(ModuleResolutionKind){ModuleResolutionKind[ModuleResolutionKind["Classic"]=1]="Classic";ModuleResolutionKind[ModuleResolutionKind["NodeJs"]=2]="NodeJs"})(ts.ModuleResolutionKind||(ts.ModuleResolutionKind={}));var ModuleResolutionKind=ts.ModuleResolutionKind;(function(ModuleKind){ModuleKind[ModuleKind["None"]=0]="None";ModuleKind[ModuleKind["CommonJS"]=1]="CommonJS";ModuleKind[ModuleKind["AMD"]=2]="AMD";ModuleKind[ModuleKind["UMD"]=3]="UMD";ModuleKind[ModuleKind["System"]=4]="System";ModuleKind[ModuleKind["ES6"]=5]="ES6";ModuleKind[ModuleKind["ES2015"]=5]="ES2015"})(ts.ModuleKind||(ts.ModuleKind={}));var ModuleKind=ts.ModuleKind;(function(JsxEmit){JsxEmit[JsxEmit["None"]=0]="None";JsxEmit[JsxEmit["Preserve"]=1]="Preserve";JsxEmit[JsxEmit["React"]=2]="React"})(ts.JsxEmit||(ts.JsxEmit={}));var JsxEmit=ts.JsxEmit;(function(NewLineKind){NewLineKind[NewLineKind["CarriageReturnLineFeed"]=0]="CarriageReturnLineFeed";NewLineKind[NewLineKind["LineFeed"]=1]="LineFeed"})(ts.NewLineKind||(ts.NewLineKind={}));var NewLineKind=ts.NewLineKind;(function(ScriptTarget){ScriptTarget[ScriptTarget["ES3"]=0]="ES3";ScriptTarget[ScriptTarget["ES5"]=1]="ES5";ScriptTarget[ScriptTarget["ES6"]=2]="ES6";ScriptTarget[ScriptTarget["ES2015"]=2]="ES2015";ScriptTarget[ScriptTarget["Latest"]=2]="Latest"})(ts.ScriptTarget||(ts.ScriptTarget={}));var ScriptTarget=ts.ScriptTarget;(function(LanguageVariant){LanguageVariant[LanguageVariant["Standard"]=0]="Standard";LanguageVariant[LanguageVariant["JSX"]=1]="JSX"})(ts.LanguageVariant||(ts.LanguageVariant={}));var LanguageVariant=ts.LanguageVariant;(function(CharacterCodes){CharacterCodes[CharacterCodes["nullCharacter"]=0]="nullCharacter";CharacterCodes[CharacterCodes["maxAsciiCharacter"]=127]="maxAsciiCharacter";CharacterCodes[CharacterCodes["lineFeed"]=10]="lineFeed";CharacterCodes[CharacterCodes["carriageReturn"]=13]="carriageReturn";CharacterCodes[CharacterCodes["lineSeparator"]=8232]="lineSeparator";CharacterCodes[CharacterCodes["paragraphSeparator"]=8233]="paragraphSeparator";CharacterCodes[CharacterCodes["nextLine"]=133]="nextLine";CharacterCodes[CharacterCodes["space"]=32]="space";CharacterCodes[CharacterCodes["nonBreakingSpace"]=160]="nonBreakingSpace";CharacterCodes[CharacterCodes["enQuad"]=8192]="enQuad";CharacterCodes[CharacterCodes["emQuad"]=8193]="emQuad";CharacterCodes[CharacterCodes["enSpace"]=8194]="enSpace";CharacterCodes[CharacterCodes["emSpace"]=8195]="emSpace";CharacterCodes[CharacterCodes["threePerEmSpace"]=8196]="threePerEmSpace";CharacterCodes[CharacterCodes["fourPerEmSpace"]=8197]="fourPerEmSpace";CharacterCodes[CharacterCodes["sixPerEmSpace"]=8198]="sixPerEmSpace";CharacterCodes[CharacterCodes["figureSpace"]=8199]="figureSpace";CharacterCodes[CharacterCodes["punctuationSpace"]=8200]="punctuationSpace";CharacterCodes[CharacterCodes["thinSpace"]=8201]="thinSpace";CharacterCodes[CharacterCodes["hairSpace"]=8202]="hairSpace";CharacterCodes[CharacterCodes["zeroWidthSpace"]=8203]="zeroWidthSpace";CharacterCodes[CharacterCodes["narrowNoBreakSpace"]=8239]="narrowNoBreakSpace";CharacterCodes[CharacterCodes["ideographicSpace"]=12288]="ideographicSpace";CharacterCodes[CharacterCodes["mathematicalSpace"]=8287]="mathematicalSpace";CharacterCodes[CharacterCodes["ogham"]=5760]="ogham";CharacterCodes[CharacterCodes["_"]=95]="_";CharacterCodes[CharacterCodes["$"]=36]="$";CharacterCodes[CharacterCodes["_0"]=48]="_0";CharacterCodes[CharacterCodes["_1"]=49]="_1";CharacterCodes[CharacterCodes["_2"]=50]="_2";CharacterCodes[CharacterCodes["_3"]=51]="_3";CharacterCodes[CharacterCodes["_4"]=52]="_4";CharacterCodes[CharacterCodes["_5"]=53]="_5";CharacterCodes[CharacterCodes["_6"]=54]="_6";CharacterCodes[CharacterCodes["_7"]=55]="_7";CharacterCodes[CharacterCodes["_8"]=56]="_8";CharacterCodes[CharacterCodes["_9"]=57]="_9";CharacterCodes[CharacterCodes["a"]=97]="a";CharacterCodes[CharacterCodes["b"]=98]="b";CharacterCodes[CharacterCodes["c"]=99]="c";CharacterCodes[CharacterCodes["d"]=100]="d";CharacterCodes[CharacterCodes["e"]=101]="e";CharacterCodes[CharacterCodes["f"]=102]="f";CharacterCodes[CharacterCodes["g"]=103]="g";CharacterCodes[CharacterCodes["h"]=104]="h";CharacterCodes[CharacterCodes["i"]=105]="i";CharacterCodes[CharacterCodes["j"]=106]="j";CharacterCodes[CharacterCodes["k"]=107]="k";CharacterCodes[CharacterCodes["l"]=108]="l";CharacterCodes[CharacterCodes["m"]=109]="m";CharacterCodes[CharacterCodes["n"]=110]="n";CharacterCodes[CharacterCodes["o"]=111]="o";CharacterCodes[CharacterCodes["p"]=112]="p";CharacterCodes[CharacterCodes["q"]=113]="q";CharacterCodes[CharacterCodes["r"]=114]="r";CharacterCodes[CharacterCodes["s"]=115]="s";CharacterCodes[CharacterCodes["t"]=116]="t";CharacterCodes[CharacterCodes["u"]=117]="u";CharacterCodes[CharacterCodes["v"]=118]="v";CharacterCodes[CharacterCodes["w"]=119]="w";CharacterCodes[CharacterCodes["x"]=120]="x";CharacterCodes[CharacterCodes["y"]=121]="y";CharacterCodes[CharacterCodes["z"]=122]="z";CharacterCodes[CharacterCodes["A"]=65]="A";CharacterCodes[CharacterCodes["B"]=66]="B";CharacterCodes[CharacterCodes["C"]=67]="C";CharacterCodes[CharacterCodes["D"]=68]="D";CharacterCodes[CharacterCodes["E"]=69]="E";CharacterCodes[CharacterCodes["F"]=70]="F";CharacterCodes[CharacterCodes["G"]=71]="G";CharacterCodes[CharacterCodes["H"]=72]="H";CharacterCodes[CharacterCodes["I"]=73]="I";CharacterCodes[CharacterCodes["J"]=74]="J";CharacterCodes[CharacterCodes["K"]=75]="K";CharacterCodes[CharacterCodes["L"]=76]="L";CharacterCodes[CharacterCodes["M"]=77]="M";CharacterCodes[CharacterCodes["N"]=78]="N";CharacterCodes[CharacterCodes["O"]=79]="O";CharacterCodes[CharacterCodes["P"]=80]="P";CharacterCodes[CharacterCodes["Q"]=81]="Q";CharacterCodes[CharacterCodes["R"]=82]="R";CharacterCodes[CharacterCodes["S"]=83]="S";CharacterCodes[CharacterCodes["T"]=84]="T";CharacterCodes[CharacterCodes["U"]=85]="U";CharacterCodes[CharacterCodes["V"]=86]="V";CharacterCodes[CharacterCodes["W"]=87]="W";CharacterCodes[CharacterCodes["X"]=88]="X";CharacterCodes[CharacterCodes["Y"]=89]="Y";CharacterCodes[CharacterCodes["Z"]=90]="Z";CharacterCodes[CharacterCodes["ampersand"]=38]="ampersand";CharacterCodes[CharacterCodes["asterisk"]=42]="asterisk";CharacterCodes[CharacterCodes["at"]=64]="at";CharacterCodes[CharacterCodes["backslash"]=92]="backslash";CharacterCodes[CharacterCodes["backtick"]=96]="backtick";CharacterCodes[CharacterCodes["bar"]=124]="bar";CharacterCodes[CharacterCodes["caret"]=94]="caret";CharacterCodes[CharacterCodes["closeBrace"]=125]="closeBrace";CharacterCodes[CharacterCodes["closeBracket"]=93]="closeBracket";CharacterCodes[CharacterCodes["closeParen"]=41]="closeParen";CharacterCodes[CharacterCodes["colon"]=58]="colon";CharacterCodes[CharacterCodes["comma"]=44]="comma";CharacterCodes[CharacterCodes["dot"]=46]="dot";CharacterCodes[CharacterCodes["doubleQuote"]=34]="doubleQuote";CharacterCodes[CharacterCodes["equals"]=61]="equals";CharacterCodes[CharacterCodes["exclamation"]=33]="exclamation";CharacterCodes[CharacterCodes["greaterThan"]=62]="greaterThan";CharacterCodes[CharacterCodes["hash"]=35]="hash";CharacterCodes[CharacterCodes["lessThan"]=60]="lessThan";CharacterCodes[CharacterCodes["minus"]=45]="minus";CharacterCodes[CharacterCodes["openBrace"]=123]="openBrace";CharacterCodes[CharacterCodes["openBracket"]=91]="openBracket";CharacterCodes[CharacterCodes["openParen"]=40]="openParen";CharacterCodes[CharacterCodes["percent"]=37]="percent";CharacterCodes[CharacterCodes["plus"]=43]="plus";CharacterCodes[CharacterCodes["question"]=63]="question";CharacterCodes[CharacterCodes["semicolon"]=59]="semicolon";CharacterCodes[CharacterCodes["singleQuote"]=39]="singleQuote";CharacterCodes[CharacterCodes["slash"]=47]="slash";CharacterCodes[CharacterCodes["tilde"]=126]="tilde";CharacterCodes[CharacterCodes["backspace"]=8]="backspace";CharacterCodes[CharacterCodes["formFeed"]=12]="formFeed";CharacterCodes[CharacterCodes["byteOrderMark"]=65279]="byteOrderMark";CharacterCodes[CharacterCodes["tab"]=9]="tab";CharacterCodes[CharacterCodes["verticalTab"]=11]="verticalTab"})(ts.CharacterCodes||(ts.CharacterCodes={}));var CharacterCodes=ts.CharacterCodes})(ts||(ts={}));var ts;(function(ts){(function(Ternary){Ternary[Ternary["False"]=0]="False";Ternary[Ternary["Maybe"]=1]="Maybe";Ternary[Ternary["True"]=-1]="True"})(ts.Ternary||(ts.Ternary={}));var Ternary=ts.Ternary;function createFileMap(getCanonicalFileName){var files={};return{get:get,set:set,contains:contains,remove:remove,clear:clear,forEachValue:forEachValueInMap};function set(fileName,value){files[normalizeKey(fileName)]=value}function get(fileName){return files[normalizeKey(fileName)]}function contains(fileName){return hasProperty(files,normalizeKey(fileName))}function remove(fileName){var key=normalizeKey(fileName);delete files[key]}function forEachValueInMap(f){forEachValue(files,f)}function normalizeKey(key){return getCanonicalFileName(normalizeSlashes(key))}function clear(){files={}}}ts.createFileMap=createFileMap;(function(Comparison){Comparison[Comparison["LessThan"]=-1]="LessThan";Comparison[Comparison["EqualTo"]=0]="EqualTo";Comparison[Comparison["GreaterThan"]=1]="GreaterThan"})(ts.Comparison||(ts.Comparison={}));var Comparison=ts.Comparison;function forEach(array,callback){if(array){for(var i=0,len=array.length;i<len;i++){var result=callback(array[i],i);if(result){return result}}}return undefined}ts.forEach=forEach;function contains(array,value){if(array){for(var _i=0;_i<array.length;_i++){var v=array[_i];if(v===value){return true}}}return false}ts.contains=contains;function indexOf(array,value){if(array){for(var i=0,len=array.length;i<len;i++){if(array[i]===value){return i}}}return-1}ts.indexOf=indexOf;function countWhere(array,predicate){var count=0;if(array){for(var _i=0;_i<array.length;_i++){var v=array[_i];if(predicate(v)){count++}}}return count}ts.countWhere=countWhere;function filter(array,f){var result;if(array){result=[];for(var _i=0;_i<array.length;_i++){var item=array[_i];if(f(item)){result.push(item)}}}return result}ts.filter=filter;function map(array,f){var result;if(array){result=[];for(var _i=0;_i<array.length;_i++){var v=array[_i];result.push(f(v))}}return result}ts.map=map;function concatenate(array1,array2){if(!array2||!array2.length)return array1;if(!array1||!array1.length)return array2;return array1.concat(array2)}ts.concatenate=concatenate;function deduplicate(array){var result;if(array){result=[];for(var _i=0;_i<array.length;_i++){var item=array[_i];if(!contains(result,item)){result.push(item)}}}return result}ts.deduplicate=deduplicate;function sum(array,prop){var result=0;for(var _i=0;_i<array.length;_i++){var v=array[_i];result+=v[prop]}return result}ts.sum=sum;function addRange(to,from){if(to&&from){for(var _i=0;_i<from.length;_i++){var v=from[_i];to.push(v)}}}ts.addRange=addRange;function rangeEquals(array1,array2,pos,end){while(pos<end){if(array1[pos]!==array2[pos]){return false}pos++}return true}ts.rangeEquals=rangeEquals;function lastOrUndefined(array){if(array.length===0){return undefined}return array[array.length-1]}ts.lastOrUndefined=lastOrUndefined;function binarySearch(array,value){var low=0;var high=array.length-1;while(low<=high){var middle=low+(high-low>>1);var midValue=array[middle];if(midValue===value){return middle}else if(midValue>value){high=middle-1}else{low=middle+1}}return~low}ts.binarySearch=binarySearch;function reduceLeft(array,f,initial){if(array){var count=array.length;if(count>0){var pos=0;var result=arguments.length<=2?array[pos++]:initial;while(pos<count){result=f(result,array[pos++])}return result}}return initial}ts.reduceLeft=reduceLeft;function reduceRight(array,f,initial){if(array){var pos=array.length-1;if(pos>=0){var result=arguments.length<=2?array[pos--]:initial;while(pos>=0){result=f(result,array[pos--])}return result}}return initial}ts.reduceRight=reduceRight;var hasOwnProperty=Object.prototype.hasOwnProperty;function hasProperty(map,key){return hasOwnProperty.call(map,key)}ts.hasProperty=hasProperty;function getProperty(map,key){return hasOwnProperty.call(map,key)?map[key]:undefined}ts.getProperty=getProperty;function isEmpty(map){for(var id in map){if(hasProperty(map,id)){return false}}return true}ts.isEmpty=isEmpty;function clone(object){var result={};for(var id in object){result[id]=object[id]}return result}ts.clone=clone;function extend(first,second){var result={};for(var id in first){result[id]=first[id]}for(var id in second){if(!hasProperty(result,id)){result[id]=second[id]}}return result}ts.extend=extend;function forEachValue(map,callback){var result;for(var id in map){if(result=callback(map[id]))break}return result}ts.forEachValue=forEachValue;function forEachKey(map,callback){var result;for(var id in map){if(result=callback(id))break}return result}ts.forEachKey=forEachKey;function lookUp(map,key){return hasProperty(map,key)?map[key]:undefined}ts.lookUp=lookUp;function copyMap(source,target){for(var p in source){target[p]=source[p]}}ts.copyMap=copyMap;function arrayToMap(array,makeKey){var result={};forEach(array,function(value){result[makeKey(value)]=value});return result}ts.arrayToMap=arrayToMap;function memoize(callback){var value;return function(){if(callback){value=callback();callback=undefined}return value}}ts.memoize=memoize;function formatStringFromArgs(text,args,baseIndex){baseIndex=baseIndex||0;return text.replace(/{(\d+)}/g,function(match,index){return args[+index+baseIndex]})}ts.localizedDiagnosticMessages=undefined;function getLocaleSpecificMessage(message){return ts.localizedDiagnosticMessages&&ts.localizedDiagnosticMessages[message]?ts.localizedDiagnosticMessages[message]:message}ts.getLocaleSpecificMessage=getLocaleSpecificMessage;function createFileDiagnostic(file,start,length,message){var end=start+length;Debug.assert(start>=0,"start must be non-negative, is "+start);Debug.assert(length>=0,"length must be non-negative, is "+length);if(file){Debug.assert(start<=file.text.length,"start must be within the bounds of the file. "+start+" > "+file.text.length);Debug.assert(end<=file.text.length,"end must be the bounds of the file. "+end+" > "+file.text.length)}var text=getLocaleSpecificMessage(message.key);if(arguments.length>4){text=formatStringFromArgs(text,arguments,4)}return{file:file,start:start,length:length,messageText:text,category:message.category,code:message.code}}ts.createFileDiagnostic=createFileDiagnostic;function createCompilerDiagnostic(message){var text=getLocaleSpecificMessage(message.key);if(arguments.length>1){text=formatStringFromArgs(text,arguments,1)}return{file:undefined,start:undefined,length:undefined,messageText:text,category:message.category,code:message.code}}ts.createCompilerDiagnostic=createCompilerDiagnostic;function chainDiagnosticMessages(details,message){var text=getLocaleSpecificMessage(message.key);if(arguments.length>2){text=formatStringFromArgs(text,arguments,2)}return{messageText:text,category:message.category,code:message.code,next:details}}ts.chainDiagnosticMessages=chainDiagnosticMessages;function concatenateDiagnosticMessageChains(headChain,tailChain){var lastChain=headChain;while(lastChain.next){lastChain=lastChain.next}lastChain.next=tailChain;return headChain}ts.concatenateDiagnosticMessageChains=concatenateDiagnosticMessageChains;function compareValues(a,b){if(a===b)return 0;if(a===undefined)return-1;if(b===undefined)return 1;return a<b?-1:1}ts.compareValues=compareValues;function getDiagnosticFileName(diagnostic){return diagnostic.file?diagnostic.file.fileName:undefined}function compareDiagnostics(d1,d2){return compareValues(getDiagnosticFileName(d1),getDiagnosticFileName(d2))||compareValues(d1.start,d2.start)||compareValues(d1.length,d2.length)||compareValues(d1.code,d2.code)||compareMessageText(d1.messageText,d2.messageText)||0}ts.compareDiagnostics=compareDiagnostics;function compareMessageText(text1,text2){while(text1&&text2){var string1=typeof text1==="string"?text1:text1.messageText;var string2=typeof text2==="string"?text2:text2.messageText;var res=compareValues(string1,string2);if(res){return res}text1=typeof text1==="string"?undefined:text1.next;text2=typeof text2==="string"?undefined:text2.next}if(!text1&&!text2){return 0}return text1?1:-1}function sortAndDeduplicateDiagnostics(diagnostics){return deduplicateSortedDiagnostics(diagnostics.sort(compareDiagnostics))}ts.sortAndDeduplicateDiagnostics=sortAndDeduplicateDiagnostics;function deduplicateSortedDiagnostics(diagnostics){if(diagnostics.length<2){return diagnostics}var newDiagnostics=[diagnostics[0]];var previousDiagnostic=diagnostics[0];for(var i=1;i<diagnostics.length;i++){var currentDiagnostic=diagnostics[i];var isDupe=compareDiagnostics(currentDiagnostic,previousDiagnostic)===0;if(!isDupe){newDiagnostics.push(currentDiagnostic);previousDiagnostic=currentDiagnostic}}return newDiagnostics}ts.deduplicateSortedDiagnostics=deduplicateSortedDiagnostics;function normalizeSlashes(path){return path.replace(/\\/g,"/")}ts.normalizeSlashes=normalizeSlashes;function getRootLength(path){if(path.charCodeAt(0)===47){if(path.charCodeAt(1)!==47)return 1;var p1=path.indexOf("/",2);if(p1<0)return 2;var p2=path.indexOf("/",p1+1);if(p2<0)return p1+1;return p2+1}if(path.charCodeAt(1)===58){if(path.charCodeAt(2)===47)return 3;return 2}if(path.lastIndexOf("file:///",0)===0){return"file:///".length}var idx=path.indexOf("://");if(idx!==-1){return idx+"://".length}return 0}ts.getRootLength=getRootLength;ts.directorySeparator="/";function getNormalizedParts(normalizedSlashedPath,rootLength){var parts=normalizedSlashedPath.substr(rootLength).split(ts.directorySeparator);var normalized=[];for(var _i=0;_i<parts.length;_i++){var part=parts[_i];if(part!=="."){if(part===".."&&normalized.length>0&&lastOrUndefined(normalized)!==".."){normalized.pop()}else{if(part){normalized.push(part)}}}}return normalized}function normalizePath(path){path=normalizeSlashes(path);var rootLength=getRootLength(path);var normalized=getNormalizedParts(path,rootLength);return path.substr(0,rootLength)+normalized.join(ts.directorySeparator)}ts.normalizePath=normalizePath;function getDirectoryPath(path){return path.substr(0,Math.max(getRootLength(path),path.lastIndexOf(ts.directorySeparator)))}ts.getDirectoryPath=getDirectoryPath;function isUrl(path){return path&&!isRootedDiskPath(path)&&path.indexOf("://")!==-1}ts.isUrl=isUrl;function isRootedDiskPath(path){return getRootLength(path)!==0}ts.isRootedDiskPath=isRootedDiskPath;function normalizedPathComponents(path,rootLength){var normalizedParts=getNormalizedParts(path,rootLength);return[path.substr(0,rootLength)].concat(normalizedParts)}function getNormalizedPathComponents(path,currentDirectory){path=normalizeSlashes(path);var rootLength=getRootLength(path);if(rootLength===0){path=combinePaths(normalizeSlashes(currentDirectory),path);rootLength=getRootLength(path)}return normalizedPathComponents(path,rootLength)}ts.getNormalizedPathComponents=getNormalizedPathComponents;function getNormalizedAbsolutePath(fileName,currentDirectory){return getNormalizedPathFromPathComponents(getNormalizedPathComponents(fileName,currentDirectory))}ts.getNormalizedAbsolutePath=getNormalizedAbsolutePath;function getNormalizedPathFromPathComponents(pathComponents){if(pathComponents&&pathComponents.length){return pathComponents[0]+pathComponents.slice(1).join(ts.directorySeparator)}}ts.getNormalizedPathFromPathComponents=getNormalizedPathFromPathComponents;function getNormalizedPathComponentsOfUrl(url){var urlLength=url.length;var rootLength=url.indexOf("://")+"://".length;while(rootLength<urlLength){if(url.charCodeAt(rootLength)===47){rootLength++}else{break}}if(rootLength===urlLength){return[url]}var indexOfNextSlash=url.indexOf(ts.directorySeparator,rootLength);if(indexOfNextSlash!==-1){rootLength=indexOfNextSlash+1;return normalizedPathComponents(url,rootLength)}else{return[url+ts.directorySeparator]}}function getNormalizedPathOrUrlComponents(pathOrUrl,currentDirectory){if(isUrl(pathOrUrl)){return getNormalizedPathComponentsOfUrl(pathOrUrl)}else{return getNormalizedPathComponents(pathOrUrl,currentDirectory)}}function getRelativePathToDirectoryOrUrl(directoryPathOrUrl,relativeOrAbsolutePath,currentDirectory,getCanonicalFileName,isAbsolutePathAnUrl){var pathComponents=getNormalizedPathOrUrlComponents(relativeOrAbsolutePath,currentDirectory);var directoryComponents=getNormalizedPathOrUrlComponents(directoryPathOrUrl,currentDirectory);if(directoryComponents.length>1&&lastOrUndefined(directoryComponents)===""){directoryComponents.length--}for(var joinStartIndex=0;joinStartIndex<pathComponents.length&&joinStartIndex<directoryComponents.length;joinStartIndex++){if(getCanonicalFileName(directoryComponents[joinStartIndex])!==getCanonicalFileName(pathComponents[joinStartIndex])){break}}if(joinStartIndex){var relativePath="";var relativePathComponents=pathComponents.slice(joinStartIndex,pathComponents.length);for(;joinStartIndex<directoryComponents.length;joinStartIndex++){if(directoryComponents[joinStartIndex]!==""){relativePath=relativePath+".."+ts.directorySeparator}}return relativePath+relativePathComponents.join(ts.directorySeparator)}var absolutePath=getNormalizedPathFromPathComponents(pathComponents);if(isAbsolutePathAnUrl&&isRootedDiskPath(absolutePath)){absolutePath="file:///"+absolutePath}return absolutePath}ts.getRelativePathToDirectoryOrUrl=getRelativePathToDirectoryOrUrl;function getBaseFileName(path){if(!path){return undefined}var i=path.lastIndexOf(ts.directorySeparator);return i<0?path:path.substring(i+1)}ts.getBaseFileName=getBaseFileName;function combinePaths(path1,path2){if(!(path1&&path1.length))return path2;if(!(path2&&path2.length))return path1;if(getRootLength(path2)!==0)return path2;if(path1.charAt(path1.length-1)===ts.directorySeparator)return path1+path2;return path1+ts.directorySeparator+path2}ts.combinePaths=combinePaths;function fileExtensionIs(path,extension){var pathLen=path.length;var extLen=extension.length;return pathLen>extLen&&path.substr(pathLen-extLen,extLen)===extension}ts.fileExtensionIs=fileExtensionIs;ts.supportedExtensions=[".ts",".tsx",".d.ts"];ts.moduleFileExtensions=ts.supportedExtensions;function isSupportedSourceFileName(fileName){if(!fileName){return false}for(var _i=0;_i<ts.supportedExtensions.length;_i++){var extension=ts.supportedExtensions[_i];if(fileExtensionIs(fileName,extension)){return true}}return false}ts.isSupportedSourceFileName=isSupportedSourceFileName;var extensionsToRemove=[".d.ts",".ts",".js",".tsx",".jsx"];function removeFileExtension(path){for(var _i=0;_i<extensionsToRemove.length;_i++){var ext=extensionsToRemove[_i];if(fileExtensionIs(path,ext)){return path.substr(0,path.length-ext.length)}}return path}ts.removeFileExtension=removeFileExtension;var backslashOrDoubleQuote=/[\"\\]/g;var escapedCharsRegExp=/[\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g;var escapedCharsMap={"\x00":"\\0","	":"\\t","":"\\v","\f":"\\f","\b":"\\b","\r":"\\r","\n":"\\n","\\":"\\\\",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029","":"\\u0085"};function Symbol(flags,name){this.flags=flags;this.name=name;this.declarations=undefined}function Type(checker,flags){this.flags=flags}function Signature(checker){}ts.objectAllocator={getNodeConstructor:function(kind){function Node(){}Node.prototype={kind:kind,pos:-1,end:-1,flags:0,parent:undefined};return Node},getSymbolConstructor:function(){return Symbol},getTypeConstructor:function(){return Type},getSignatureConstructor:function(){return Signature}};(function(AssertionLevel){AssertionLevel[AssertionLevel["None"]=0]="None";AssertionLevel[AssertionLevel["Normal"]=1]="Normal";AssertionLevel[AssertionLevel["Aggressive"]=2]="Aggressive";AssertionLevel[AssertionLevel["VeryAggressive"]=3]="VeryAggressive"})(ts.AssertionLevel||(ts.AssertionLevel={}));var AssertionLevel=ts.AssertionLevel;var Debug;(function(Debug){var currentAssertionLevel=0;function shouldAssert(level){return currentAssertionLevel>=level}Debug.shouldAssert=shouldAssert;function assert(expression,message,verboseDebugInfo){if(!expression){var verboseDebugString="";if(verboseDebugInfo){verboseDebugString="\r\nVerbose Debug Information: "+verboseDebugInfo()}throw new Error("Debug Failure. False expression: "+(message||"")+verboseDebugString)}}Debug.assert=assert;function fail(message){Debug.assert(false,message)}Debug.fail=fail})(Debug=ts.Debug||(ts.Debug={}));function copyListRemovingItem(item,list){var copiedList=[];for(var i=0,len=list.length;i<len;i++){if(list[i]!==item){copiedList.push(list[i])}}return copiedList}ts.copyListRemovingItem=copyListRemovingItem})(ts||(ts={}));var ts;(function(ts){ts.sys=function(){function getWScriptSystem(){var fso=new ActiveXObject("Scripting.FileSystemObject");var fileStream=new ActiveXObject("ADODB.Stream");fileStream.Type=2;var binaryStream=new ActiveXObject("ADODB.Stream");binaryStream.Type=1;var args=[];for(var i=0;i<WScript.Arguments.length;i++){args[i]=WScript.Arguments.Item(i)}function readFile(fileName,encoding){if(!fso.FileExists(fileName)){return undefined}fileStream.Open();try{if(encoding){fileStream.Charset=encoding;fileStream.LoadFromFile(fileName)}else{fileStream.Charset="x-ansi";fileStream.LoadFromFile(fileName);var bom=fileStream.ReadText(2)||"";fileStream.Position=0;fileStream.Charset=bom.length>=2&&(bom.charCodeAt(0)===255&&bom.charCodeAt(1)===254||bom.charCodeAt(0)===254&&bom.charCodeAt(1)===255)?"unicode":"utf-8"}return fileStream.ReadText();
}catch(e){throw e}finally{fileStream.Close()}}function writeFile(fileName,data,writeByteOrderMark){fileStream.Open();binaryStream.Open();try{fileStream.Charset="utf-8";fileStream.WriteText(data);if(writeByteOrderMark){fileStream.Position=0}else{fileStream.Position=3}fileStream.CopyTo(binaryStream);binaryStream.SaveToFile(fileName,2)}finally{binaryStream.Close();fileStream.Close()}}function getCanonicalPath(path){return path.toLowerCase()}function getNames(collection){var result=[];for(var e=new Enumerator(collection);!e.atEnd();e.moveNext()){result.push(e.item().Name)}return result.sort()}function readDirectory(path,extension,exclude){var result=[];exclude=ts.map(exclude,function(s){return getCanonicalPath(ts.combinePaths(path,s))});visitDirectory(path);return result;function visitDirectory(path){var folder=fso.GetFolder(path||".");var files=getNames(folder.files);for(var _i=0;_i<files.length;_i++){var current=files[_i];var name_1=ts.combinePaths(path,current);if((!extension||ts.fileExtensionIs(name_1,extension))&&!ts.contains(exclude,getCanonicalPath(name_1))){result.push(name_1)}}var subfolders=getNames(folder.subfolders);for(var _a=0;_a<subfolders.length;_a++){var current=subfolders[_a];var name_2=ts.combinePaths(path,current);if(!ts.contains(exclude,getCanonicalPath(name_2))){visitDirectory(name_2)}}}}return{args:args,newLine:"\r\n",useCaseSensitiveFileNames:false,write:function(s){WScript.StdOut.Write(s)},readFile:readFile,writeFile:writeFile,resolvePath:function(path){return fso.GetAbsolutePathName(path)},fileExists:function(path){return fso.FileExists(path)},directoryExists:function(path){return fso.FolderExists(path)},createDirectory:function(directoryName){if(!this.directoryExists(directoryName)){fso.CreateFolder(directoryName)}},getExecutingFilePath:function(){return WScript.ScriptFullName},getCurrentDirectory:function(){return new ActiveXObject("WScript.Shell").CurrentDirectory},readDirectory:readDirectory,exit:function(exitCode){try{WScript.Quit(exitCode)}catch(e){}}}}function getNodeSystem(){var _fs=require("fs");var _path=require("path");var _os=require("os");function createWatchedFileSet(interval,chunkSize){if(interval===void 0){interval=2500}if(chunkSize===void 0){chunkSize=30}var watchedFiles=[];var nextFileToCheck=0;var watchTimer;function getModifiedTime(fileName){return _fs.statSync(fileName).mtime}function poll(checkedIndex){var watchedFile=watchedFiles[checkedIndex];if(!watchedFile){return}_fs.stat(watchedFile.fileName,function(err,stats){if(err){watchedFile.callback(watchedFile.fileName)}else if(watchedFile.mtime.getTime()!==stats.mtime.getTime()){watchedFile.mtime=getModifiedTime(watchedFile.fileName);watchedFile.callback(watchedFile.fileName,watchedFile.mtime.getTime()===0)}})}function startWatchTimer(){watchTimer=setInterval(function(){var count=0;var nextToCheck=nextFileToCheck;var firstCheck=-1;while(count<chunkSize&&nextToCheck!==firstCheck){poll(nextToCheck);if(firstCheck<0){firstCheck=nextToCheck}nextToCheck++;if(nextToCheck===watchedFiles.length){nextToCheck=0}count++}nextFileToCheck=nextToCheck},interval)}function addFile(fileName,callback){var file={fileName:fileName,callback:callback,mtime:getModifiedTime(fileName)};watchedFiles.push(file);if(watchedFiles.length===1){startWatchTimer()}return file}function removeFile(file){watchedFiles=ts.copyListRemovingItem(file,watchedFiles)}return{getModifiedTime:getModifiedTime,poll:poll,startWatchTimer:startWatchTimer,addFile:addFile,removeFile:removeFile}}var watchedFileSet=createWatchedFileSet();function isNode4OrLater(){return parseInt(process.version.charAt(1))>=4}var platform=_os.platform();var useCaseSensitiveFileNames=platform!=="win32"&&platform!=="win64"&&platform!=="darwin";function readFile(fileName,encoding){if(!_fs.existsSync(fileName)){return undefined}var buffer=_fs.readFileSync(fileName);var len=buffer.length;if(len>=2&&buffer[0]===254&&buffer[1]===255){len&=~1;for(var i=0;i<len;i+=2){var temp=buffer[i];buffer[i]=buffer[i+1];buffer[i+1]=temp}return buffer.toString("utf16le",2)}if(len>=2&&buffer[0]===255&&buffer[1]===254){return buffer.toString("utf16le",2)}if(len>=3&&buffer[0]===239&&buffer[1]===187&&buffer[2]===191){return buffer.toString("utf8",3)}return buffer.toString("utf8")}function writeFile(fileName,data,writeByteOrderMark){if(writeByteOrderMark){data="\ufeff"+data}_fs.writeFileSync(fileName,data,"utf8")}function getCanonicalPath(path){return useCaseSensitiveFileNames?path.toLowerCase():path}function readDirectory(path,extension,exclude){var result=[];exclude=ts.map(exclude,function(s){return getCanonicalPath(ts.combinePaths(path,s))});visitDirectory(path);return result;function visitDirectory(path){var files=_fs.readdirSync(path||".").sort();var directories=[];for(var _i=0;_i<files.length;_i++){var current=files[_i];var name_3=ts.combinePaths(path,current);if(!ts.contains(exclude,getCanonicalPath(name_3))){var stat=_fs.statSync(name_3);if(stat.isFile()){if(!extension||ts.fileExtensionIs(name_3,extension)){result.push(name_3)}}else if(stat.isDirectory()){directories.push(name_3)}}}for(var _a=0;_a<directories.length;_a++){var current=directories[_a];visitDirectory(current)}}}return{args:process.argv.slice(2),newLine:_os.EOL,useCaseSensitiveFileNames:useCaseSensitiveFileNames,write:function(s){var buffer=new Buffer(s,"utf8");var offset=0;var toWrite=buffer.length;var written=0;while((written=_fs.writeSync(1,buffer,offset,toWrite))<toWrite){offset+=written;toWrite-=written}},readFile:readFile,writeFile:writeFile,watchFile:function(fileName,callback){var watchedFile=watchedFileSet.addFile(fileName,callback);return{close:function(){return watchedFileSet.removeFile(watchedFile)}}},watchDirectory:function(path,callback,recursive){return _fs.watch(path,{persisten:true,recursive:!!recursive},function(eventName,relativeFileName){if(eventName==="rename"){callback(!relativeFileName?relativeFileName:ts.normalizePath(ts.combinePaths(path,relativeFileName)))}})},resolvePath:function(path){return _path.resolve(path)},fileExists:function(path){return _fs.existsSync(path)},directoryExists:function(path){return _fs.existsSync(path)&&_fs.statSync(path).isDirectory()},createDirectory:function(directoryName){if(!this.directoryExists(directoryName)){_fs.mkdirSync(directoryName)}},getExecutingFilePath:function(){return __filename},getCurrentDirectory:function(){return process.cwd()},readDirectory:readDirectory,getMemoryUsage:function(){if(global.gc){global.gc()}return process.memoryUsage().heapUsed},exit:function(exitCode){process.exit(exitCode)}}}if(typeof WScript!=="undefined"&&typeof ActiveXObject==="function"){return getWScriptSystem()}else if(typeof process!=="undefined"&&process.nextTick&&!process.browser&&typeof require!=="undefined"){return getNodeSystem()}else{return undefined}}()})(ts||(ts={}));var ts;(function(ts){ts.Diagnostics={Unterminated_string_literal:{code:1002,category:ts.DiagnosticCategory.Error,key:"Unterminated string literal."},Identifier_expected:{code:1003,category:ts.DiagnosticCategory.Error,key:"Identifier expected."},_0_expected:{code:1005,category:ts.DiagnosticCategory.Error,key:"'{0}' expected."},A_file_cannot_have_a_reference_to_itself:{code:1006,category:ts.DiagnosticCategory.Error,key:"A file cannot have a reference to itself."},Trailing_comma_not_allowed:{code:1009,category:ts.DiagnosticCategory.Error,key:"Trailing comma not allowed."},Asterisk_Slash_expected:{code:1010,category:ts.DiagnosticCategory.Error,key:"'*/' expected."},Unexpected_token:{code:1012,category:ts.DiagnosticCategory.Error,key:"Unexpected token."},A_rest_parameter_must_be_last_in_a_parameter_list:{code:1014,category:ts.DiagnosticCategory.Error,key:"A rest parameter must be last in a parameter list."},Parameter_cannot_have_question_mark_and_initializer:{code:1015,category:ts.DiagnosticCategory.Error,key:"Parameter cannot have question mark and initializer."},A_required_parameter_cannot_follow_an_optional_parameter:{code:1016,category:ts.DiagnosticCategory.Error,key:"A required parameter cannot follow an optional parameter."},An_index_signature_cannot_have_a_rest_parameter:{code:1017,category:ts.DiagnosticCategory.Error,key:"An index signature cannot have a rest parameter."},An_index_signature_parameter_cannot_have_an_accessibility_modifier:{code:1018,category:ts.DiagnosticCategory.Error,key:"An index signature parameter cannot have an accessibility modifier."},An_index_signature_parameter_cannot_have_a_question_mark:{code:1019,category:ts.DiagnosticCategory.Error,key:"An index signature parameter cannot have a question mark."},An_index_signature_parameter_cannot_have_an_initializer:{code:1020,category:ts.DiagnosticCategory.Error,key:"An index signature parameter cannot have an initializer."},An_index_signature_must_have_a_type_annotation:{code:1021,category:ts.DiagnosticCategory.Error,key:"An index signature must have a type annotation."},An_index_signature_parameter_must_have_a_type_annotation:{code:1022,category:ts.DiagnosticCategory.Error,key:"An index signature parameter must have a type annotation."},An_index_signature_parameter_type_must_be_string_or_number:{code:1023,category:ts.DiagnosticCategory.Error,key:"An index signature parameter type must be 'string' or 'number'."},Accessibility_modifier_already_seen:{code:1028,category:ts.DiagnosticCategory.Error,key:"Accessibility modifier already seen."},_0_modifier_must_precede_1_modifier:{code:1029,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier must precede '{1}' modifier."},_0_modifier_already_seen:{code:1030,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier already seen."},_0_modifier_cannot_appear_on_a_class_element:{code:1031,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot appear on a class element."},super_must_be_followed_by_an_argument_list_or_member_access:{code:1034,category:ts.DiagnosticCategory.Error,key:"'super' must be followed by an argument list or member access."},Only_ambient_modules_can_use_quoted_names:{code:1035,category:ts.DiagnosticCategory.Error,key:"Only ambient modules can use quoted names."},Statements_are_not_allowed_in_ambient_contexts:{code:1036,category:ts.DiagnosticCategory.Error,key:"Statements are not allowed in ambient contexts."},A_declare_modifier_cannot_be_used_in_an_already_ambient_context:{code:1038,category:ts.DiagnosticCategory.Error,key:"A 'declare' modifier cannot be used in an already ambient context."},Initializers_are_not_allowed_in_ambient_contexts:{code:1039,category:ts.DiagnosticCategory.Error,key:"Initializers are not allowed in ambient contexts."},_0_modifier_cannot_be_used_in_an_ambient_context:{code:1040,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot be used in an ambient context."},_0_modifier_cannot_be_used_with_a_class_declaration:{code:1041,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot be used with a class declaration."},_0_modifier_cannot_be_used_here:{code:1042,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot be used here."},_0_modifier_cannot_appear_on_a_data_property:{code:1043,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot appear on a data property."},_0_modifier_cannot_appear_on_a_module_element:{code:1044,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot appear on a module element."},A_0_modifier_cannot_be_used_with_an_interface_declaration:{code:1045,category:ts.DiagnosticCategory.Error,key:"A '{0}' modifier cannot be used with an interface declaration."},A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file:{code:1046,category:ts.DiagnosticCategory.Error,key:"A 'declare' modifier is required for a top level declaration in a .d.ts file."},A_rest_parameter_cannot_be_optional:{code:1047,category:ts.DiagnosticCategory.Error,key:"A rest parameter cannot be optional."},A_rest_parameter_cannot_have_an_initializer:{code:1048,category:ts.DiagnosticCategory.Error,key:"A rest parameter cannot have an initializer."},A_set_accessor_must_have_exactly_one_parameter:{code:1049,category:ts.DiagnosticCategory.Error,key:"A 'set' accessor must have exactly one parameter."},A_set_accessor_cannot_have_an_optional_parameter:{code:1051,category:ts.DiagnosticCategory.Error,key:"A 'set' accessor cannot have an optional parameter."},A_set_accessor_parameter_cannot_have_an_initializer:{code:1052,category:ts.DiagnosticCategory.Error,key:"A 'set' accessor parameter cannot have an initializer."},A_set_accessor_cannot_have_rest_parameter:{code:1053,category:ts.DiagnosticCategory.Error,key:"A 'set' accessor cannot have rest parameter."},A_get_accessor_cannot_have_parameters:{code:1054,category:ts.DiagnosticCategory.Error,key:"A 'get' accessor cannot have parameters."},Type_0_is_not_a_valid_async_function_return_type:{code:1055,category:ts.DiagnosticCategory.Error,key:"Type '{0}' is not a valid async function return type."},Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:{code:1056,category:ts.DiagnosticCategory.Error,key:"Accessors are only available when targeting ECMAScript 5 and higher."},An_async_function_or_method_must_have_a_valid_awaitable_return_type:{code:1057,category:ts.DiagnosticCategory.Error,key:"An async function or method must have a valid awaitable return type."},Operand_for_await_does_not_have_a_valid_callable_then_member:{code:1058,category:ts.DiagnosticCategory.Error,key:"Operand for 'await' does not have a valid callable 'then' member."},Return_expression_in_async_function_does_not_have_a_valid_callable_then_member:{code:1059,category:ts.DiagnosticCategory.Error,key:"Return expression in async function does not have a valid callable 'then' member."},Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member:{code:1060,category:ts.DiagnosticCategory.Error,key:"Expression body for async arrow function does not have a valid callable 'then' member."},Enum_member_must_have_initializer:{code:1061,category:ts.DiagnosticCategory.Error,key:"Enum member must have initializer."},_0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method:{code:1062,category:ts.DiagnosticCategory.Error,key:"{0} is referenced directly or indirectly in the fulfillment callback of its own 'then' method."},An_export_assignment_cannot_be_used_in_a_namespace:{code:1063,category:ts.DiagnosticCategory.Error,key:"An export assignment cannot be used in a namespace."},In_ambient_enum_declarations_member_initializer_must_be_constant_expression:{code:1066,category:ts.DiagnosticCategory.Error,key:"In ambient enum declarations member initializer must be constant expression."},Unexpected_token_A_constructor_method_accessor_or_property_was_expected:{code:1068,category:ts.DiagnosticCategory.Error,key:"Unexpected token. A constructor, method, accessor, or property was expected."},A_0_modifier_cannot_be_used_with_an_import_declaration:{code:1079,category:ts.DiagnosticCategory.Error,key:"A '{0}' modifier cannot be used with an import declaration."},Invalid_reference_directive_syntax:{code:1084,category:ts.DiagnosticCategory.Error,key:"Invalid 'reference' directive syntax."},Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher:{code:1085,category:ts.DiagnosticCategory.Error,key:"Octal literals are not available when targeting ECMAScript 5 and higher."},An_accessor_cannot_be_declared_in_an_ambient_context:{code:1086,category:ts.DiagnosticCategory.Error,key:"An accessor cannot be declared in an ambient context."},_0_modifier_cannot_appear_on_a_constructor_declaration:{code:1089,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot appear on a constructor declaration."},_0_modifier_cannot_appear_on_a_parameter:{code:1090,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot appear on a parameter."},Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:{code:1091,category:ts.DiagnosticCategory.Error,key:"Only a single variable declaration is allowed in a 'for...in' statement."},Type_parameters_cannot_appear_on_a_constructor_declaration:{code:1092,category:ts.DiagnosticCategory.Error,key:"Type parameters cannot appear on a constructor declaration."},Type_annotation_cannot_appear_on_a_constructor_declaration:{code:1093,category:ts.DiagnosticCategory.Error,key:"Type annotation cannot appear on a constructor declaration."},An_accessor_cannot_have_type_parameters:{code:1094,category:ts.DiagnosticCategory.Error,key:"An accessor cannot have type parameters."},A_set_accessor_cannot_have_a_return_type_annotation:{code:1095,category:ts.DiagnosticCategory.Error,key:"A 'set' accessor cannot have a return type annotation."},An_index_signature_must_have_exactly_one_parameter:{code:1096,category:ts.DiagnosticCategory.Error,key:"An index signature must have exactly one parameter."},_0_list_cannot_be_empty:{code:1097,category:ts.DiagnosticCategory.Error,key:"'{0}' list cannot be empty."},Type_parameter_list_cannot_be_empty:{code:1098,category:ts.DiagnosticCategory.Error,key:"Type parameter list cannot be empty."},Type_argument_list_cannot_be_empty:{code:1099,category:ts.DiagnosticCategory.Error,key:"Type argument list cannot be empty."},Invalid_use_of_0_in_strict_mode:{code:1100,category:ts.DiagnosticCategory.Error,key:"Invalid use of '{0}' in strict mode."},with_statements_are_not_allowed_in_strict_mode:{code:1101,category:ts.DiagnosticCategory.Error,key:"'with' statements are not allowed in strict mode."},delete_cannot_be_called_on_an_identifier_in_strict_mode:{code:1102,category:ts.DiagnosticCategory.Error,key:"'delete' cannot be called on an identifier in strict mode."},A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement:{code:1104,category:ts.DiagnosticCategory.Error,key:"A 'continue' statement can only be used within an enclosing iteration statement."},A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:{code:1105,category:ts.DiagnosticCategory.Error,key:"A 'break' statement can only be used within an enclosing iteration or switch statement."},Jump_target_cannot_cross_function_boundary:{code:1107,category:ts.DiagnosticCategory.Error,key:"Jump target cannot cross function boundary."},A_return_statement_can_only_be_used_within_a_function_body:{code:1108,category:ts.DiagnosticCategory.Error,key:"A 'return' statement can only be used within a function body."},Expression_expected:{code:1109,category:ts.DiagnosticCategory.Error,key:"Expression expected."},Type_expected:{code:1110,category:ts.DiagnosticCategory.Error,key:"Type expected."},A_class_member_cannot_be_declared_optional:{code:1112,category:ts.DiagnosticCategory.Error,key:"A class member cannot be declared optional."},A_default_clause_cannot_appear_more_than_once_in_a_switch_statement:{code:1113,category:ts.DiagnosticCategory.Error,key:"A 'default' clause cannot appear more than once in a 'switch' statement."},Duplicate_label_0:{code:1114,category:ts.DiagnosticCategory.Error,key:"Duplicate label '{0}'"},A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement:{code:1115,category:ts.DiagnosticCategory.Error,key:"A 'continue' statement can only jump to a label of an enclosing iteration statement."},A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:{code:1116,category:ts.DiagnosticCategory.Error,key:"A 'break' statement can only jump to a label of an enclosing statement."},An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode:{code:1117,category:ts.DiagnosticCategory.Error,key:"An object literal cannot have multiple properties with the same name in strict mode."},An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name:{code:1118,category:ts.DiagnosticCategory.Error,key:"An object literal cannot have multiple get/set accessors with the same name."},An_object_literal_cannot_have_property_and_accessor_with_the_same_name:{code:1119,category:ts.DiagnosticCategory.Error,key:"An object literal cannot have property and accessor with the same name."},An_export_assignment_cannot_have_modifiers:{code:1120,category:ts.DiagnosticCategory.Error,key:"An export assignment cannot have modifiers."},Octal_literals_are_not_allowed_in_strict_mode:{code:1121,category:ts.DiagnosticCategory.Error,key:"Octal literals are not allowed in strict mode."},A_tuple_type_element_list_cannot_be_empty:{code:1122,category:ts.DiagnosticCategory.Error,key:"A tuple type element list cannot be empty."},Variable_declaration_list_cannot_be_empty:{code:1123,category:ts.DiagnosticCategory.Error,key:"Variable declaration list cannot be empty."},Digit_expected:{code:1124,category:ts.DiagnosticCategory.Error,key:"Digit expected."},Hexadecimal_digit_expected:{code:1125,category:ts.DiagnosticCategory.Error,key:"Hexadecimal digit expected."},Unexpected_end_of_text:{code:1126,category:ts.DiagnosticCategory.Error,key:"Unexpected end of text."},Invalid_character:{code:1127,category:ts.DiagnosticCategory.Error,key:"Invalid character."},Declaration_or_statement_expected:{code:1128,category:ts.DiagnosticCategory.Error,key:"Declaration or statement expected."},Statement_expected:{code:1129,category:ts.DiagnosticCategory.Error,key:"Statement expected."},case_or_default_expected:{code:1130,category:ts.DiagnosticCategory.Error,key:"'case' or 'default' expected."},Property_or_signature_expected:{code:1131,category:ts.DiagnosticCategory.Error,key:"Property or signature expected."},Enum_member_expected:{code:1132,category:ts.DiagnosticCategory.Error,key:"Enum member expected."},Variable_declaration_expected:{code:1134,category:ts.DiagnosticCategory.Error,key:"Variable declaration expected."},Argument_expression_expected:{code:1135,category:ts.DiagnosticCategory.Error,key:"Argument expression expected."},Property_assignment_expected:{code:1136,category:ts.DiagnosticCategory.Error,key:"Property assignment expected."},Expression_or_comma_expected:{code:1137,category:ts.DiagnosticCategory.Error,key:"Expression or comma expected."},Parameter_declaration_expected:{code:1138,category:ts.DiagnosticCategory.Error,key:"Parameter declaration expected."},Type_parameter_declaration_expected:{code:1139,category:ts.DiagnosticCategory.Error,key:"Type parameter declaration expected."},Type_argument_expected:{code:1140,category:ts.DiagnosticCategory.Error,key:"Type argument expected."},String_literal_expected:{code:1141,category:ts.DiagnosticCategory.Error,key:"String literal expected."},Line_break_not_permitted_here:{code:1142,category:ts.DiagnosticCategory.Error,key:"Line break not permitted here."},or_expected:{code:1144,category:ts.DiagnosticCategory.Error,key:"'{' or ';' expected."},Modifiers_not_permitted_on_index_signature_members:{code:1145,category:ts.DiagnosticCategory.Error,key:"Modifiers not permitted on index signature members."},Declaration_expected:{code:1146,category:ts.DiagnosticCategory.Error,key:"Declaration expected."},Import_declarations_in_a_namespace_cannot_reference_a_module:{code:1147,category:ts.DiagnosticCategory.Error,key:"Import declarations in a namespace cannot reference a module."},Cannot_compile_modules_unless_the_module_flag_is_provided:{code:1148,category:ts.DiagnosticCategory.Error,key:"Cannot compile modules unless the '--module' flag is provided."},File_name_0_differs_from_already_included_file_name_1_only_in_casing:{code:1149,category:ts.DiagnosticCategory.Error,key:"File name '{0}' differs from already included file name '{1}' only in casing"},new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:{code:1150,category:ts.DiagnosticCategory.Error,key:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead."},const_declarations_must_be_initialized:{code:1155,category:ts.DiagnosticCategory.Error,key:"'const' declarations must be initialized"},const_declarations_can_only_be_declared_inside_a_block:{code:1156,category:ts.DiagnosticCategory.Error,key:"'const' declarations can only be declared inside a block."},let_declarations_can_only_be_declared_inside_a_block:{code:1157,category:ts.DiagnosticCategory.Error,key:"'let' declarations can only be declared inside a block."},Unterminated_template_literal:{code:1160,category:ts.DiagnosticCategory.Error,key:"Unterminated template literal."},Unterminated_regular_expression_literal:{code:1161,category:ts.DiagnosticCategory.Error,key:"Unterminated regular expression literal."},An_object_member_cannot_be_declared_optional:{code:1162,category:ts.DiagnosticCategory.Error,key:"An object member cannot be declared optional."},A_yield_expression_is_only_allowed_in_a_generator_body:{code:1163,category:ts.DiagnosticCategory.Error,key:"A 'yield' expression is only allowed in a generator body."},Computed_property_names_are_not_allowed_in_enums:{code:1164,category:ts.DiagnosticCategory.Error,key:"Computed property names are not allowed in enums."},A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol:{code:1165,category:ts.DiagnosticCategory.Error,key:"A computed property name in an ambient context must directly refer to a built-in symbol."},A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol:{code:1166,category:ts.DiagnosticCategory.Error,key:"A computed property name in a class property declaration must directly refer to a built-in symbol."},A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol:{code:1168,category:ts.DiagnosticCategory.Error,key:"A computed property name in a method overload must directly refer to a built-in symbol."},A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol:{code:1169,category:ts.DiagnosticCategory.Error,key:"A computed property name in an interface must directly refer to a built-in symbol."},A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol:{code:1170,category:ts.DiagnosticCategory.Error,key:"A computed property name in a type literal must directly refer to a built-in symbol."},A_comma_expression_is_not_allowed_in_a_computed_property_name:{code:1171,category:ts.DiagnosticCategory.Error,key:"A comma expression is not allowed in a computed property name."},extends_clause_already_seen:{code:1172,category:ts.DiagnosticCategory.Error,key:"'extends' clause already seen."},extends_clause_must_precede_implements_clause:{code:1173,category:ts.DiagnosticCategory.Error,key:"'extends' clause must precede 'implements' clause."},Classes_can_only_extend_a_single_class:{code:1174,category:ts.DiagnosticCategory.Error,key:"Classes can only extend a single class."},implements_clause_already_seen:{code:1175,category:ts.DiagnosticCategory.Error,key:"'implements' clause already seen."},Interface_declaration_cannot_have_implements_clause:{code:1176,category:ts.DiagnosticCategory.Error,key:"Interface declaration cannot have 'implements' clause."},Binary_digit_expected:{code:1177,category:ts.DiagnosticCategory.Error,key:"Binary digit expected."},Octal_digit_expected:{code:1178,category:ts.DiagnosticCategory.Error,key:"Octal digit expected."},Unexpected_token_expected:{code:1179,category:ts.DiagnosticCategory.Error,key:"Unexpected token. '{' expected."},Property_destructuring_pattern_expected:{code:1180,category:ts.DiagnosticCategory.Error,key:"Property destructuring pattern expected."},Array_element_destructuring_pattern_expected:{code:1181,category:ts.DiagnosticCategory.Error,key:"Array element destructuring pattern expected."},A_destructuring_declaration_must_have_an_initializer:{code:1182,category:ts.DiagnosticCategory.Error,key:"A destructuring declaration must have an initializer."},An_implementation_cannot_be_declared_in_ambient_contexts:{code:1183,category:ts.DiagnosticCategory.Error,key:"An implementation cannot be declared in ambient contexts."},Modifiers_cannot_appear_here:{code:1184,category:ts.DiagnosticCategory.Error,key:"Modifiers cannot appear here."},Merge_conflict_marker_encountered:{code:1185,category:ts.DiagnosticCategory.Error,key:"Merge conflict marker encountered."},A_rest_element_cannot_have_an_initializer:{code:1186,category:ts.DiagnosticCategory.Error,key:"A rest element cannot have an initializer."},A_parameter_property_may_not_be_a_binding_pattern:{code:1187,category:ts.DiagnosticCategory.Error,key:"A parameter property may not be a binding pattern."},Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement:{code:1188,category:ts.DiagnosticCategory.Error,key:"Only a single variable declaration is allowed in a 'for...of' statement."},The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:{code:1189,category:ts.DiagnosticCategory.Error,key:"The variable declaration of a 'for...in' statement cannot have an initializer."},The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer:{code:1190,category:ts.DiagnosticCategory.Error,key:"The variable declaration of a 'for...of' statement cannot have an initializer."},An_import_declaration_cannot_have_modifiers:{code:1191,category:ts.DiagnosticCategory.Error,key:"An import declaration cannot have modifiers."},Module_0_has_no_default_export:{code:1192,category:ts.DiagnosticCategory.Error,key:"Module '{0}' has no default export."},An_export_declaration_cannot_have_modifiers:{code:1193,category:ts.DiagnosticCategory.Error,key:"An export declaration cannot have modifiers."},Export_declarations_are_not_permitted_in_a_namespace:{code:1194,category:ts.DiagnosticCategory.Error,key:"Export declarations are not permitted in a namespace."},Catch_clause_variable_name_must_be_an_identifier:{code:1195,category:ts.DiagnosticCategory.Error,key:"Catch clause variable name must be an identifier."},Catch_clause_variable_cannot_have_a_type_annotation:{code:1196,category:ts.DiagnosticCategory.Error,key:"Catch clause variable cannot have a type annotation."},Catch_clause_variable_cannot_have_an_initializer:{code:1197,category:ts.DiagnosticCategory.Error,key:"Catch clause variable cannot have an initializer."},An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive:{code:1198,category:ts.DiagnosticCategory.Error,key:"An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive."},Unterminated_Unicode_escape_sequence:{code:1199,category:ts.DiagnosticCategory.Error,key:"Unterminated Unicode escape sequence."},Line_terminator_not_permitted_before_arrow:{code:1200,category:ts.DiagnosticCategory.Error,key:"Line terminator not permitted before arrow."},Import_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead:{code:1202,category:ts.DiagnosticCategory.Error,key:"Import assignment cannot be used when targeting ECMAScript 6 modules. Consider using 'import * as ns from \"mod\"', 'import {a} from \"mod\"', 'import d from \"mod\"', or another module format instead."},Export_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_export_default_or_another_module_format_instead:{code:1203,category:ts.DiagnosticCategory.Error,key:"Export assignment cannot be used when targeting ECMAScript 6 modules. Consider using 'export default' or another module format instead."},Cannot_compile_modules_into_es6_when_targeting_ES5_or_lower:{code:1204,category:ts.DiagnosticCategory.Error,key:"Cannot compile modules into 'es6' when targeting 'ES5' or lower."},Decorators_are_not_valid_here:{code:1206,category:ts.DiagnosticCategory.Error,key:"Decorators are not valid here."},Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name:{code:1207,category:ts.DiagnosticCategory.Error,key:"Decorators cannot be applied to multiple get/set accessors of the same name."},Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided:{code:1208,category:ts.DiagnosticCategory.Error,key:"Cannot compile namespaces when the '--isolatedModules' flag is provided."},Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided:{code:1209,category:ts.DiagnosticCategory.Error,
key:"Ambient const enums are not allowed when the '--isolatedModules' flag is provided."},Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode:{code:1210,category:ts.DiagnosticCategory.Error,key:"Invalid use of '{0}'. Class definitions are automatically in strict mode."},A_class_declaration_without_the_default_modifier_must_have_a_name:{code:1211,category:ts.DiagnosticCategory.Error,key:"A class declaration without the 'default' modifier must have a name"},Identifier_expected_0_is_a_reserved_word_in_strict_mode:{code:1212,category:ts.DiagnosticCategory.Error,key:"Identifier expected. '{0}' is a reserved word in strict mode"},Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode:{code:1213,category:ts.DiagnosticCategory.Error,key:"Identifier expected. '{0}' is a reserved word in strict mode. Class definitions are automatically in strict mode."},Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode:{code:1214,category:ts.DiagnosticCategory.Error,key:"Identifier expected. '{0}' is a reserved word in strict mode. Modules are automatically in strict mode."},Invalid_use_of_0_Modules_are_automatically_in_strict_mode:{code:1215,category:ts.DiagnosticCategory.Error,key:"Invalid use of '{0}'. Modules are automatically in strict mode."},Export_assignment_is_not_supported_when_module_flag_is_system:{code:1218,category:ts.DiagnosticCategory.Error,key:"Export assignment is not supported when '--module' flag is 'system'."},Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Specify_experimentalDecorators_to_remove_this_warning:{code:1219,category:ts.DiagnosticCategory.Error,key:"Experimental support for decorators is a feature that is subject to change in a future release. Specify '--experimentalDecorators' to remove this warning."},Generators_are_only_available_when_targeting_ECMAScript_6_or_higher:{code:1220,category:ts.DiagnosticCategory.Error,key:"Generators are only available when targeting ECMAScript 6 or higher."},Generators_are_not_allowed_in_an_ambient_context:{code:1221,category:ts.DiagnosticCategory.Error,key:"Generators are not allowed in an ambient context."},An_overload_signature_cannot_be_declared_as_a_generator:{code:1222,category:ts.DiagnosticCategory.Error,key:"An overload signature cannot be declared as a generator."},_0_tag_already_specified:{code:1223,category:ts.DiagnosticCategory.Error,key:"'{0}' tag already specified."},Signature_0_must_have_a_type_predicate:{code:1224,category:ts.DiagnosticCategory.Error,key:"Signature '{0}' must have a type predicate."},Cannot_find_parameter_0:{code:1225,category:ts.DiagnosticCategory.Error,key:"Cannot find parameter '{0}'."},Type_predicate_0_is_not_assignable_to_1:{code:1226,category:ts.DiagnosticCategory.Error,key:"Type predicate '{0}' is not assignable to '{1}'."},Parameter_0_is_not_in_the_same_position_as_parameter_1:{code:1227,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' is not in the same position as parameter '{1}'."},A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods:{code:1228,category:ts.DiagnosticCategory.Error,key:"A type predicate is only allowed in return type position for functions and methods."},A_type_predicate_cannot_reference_a_rest_parameter:{code:1229,category:ts.DiagnosticCategory.Error,key:"A type predicate cannot reference a rest parameter."},A_type_predicate_cannot_reference_element_0_in_a_binding_pattern:{code:1230,category:ts.DiagnosticCategory.Error,key:"A type predicate cannot reference element '{0}' in a binding pattern."},An_export_assignment_can_only_be_used_in_a_module:{code:1231,category:ts.DiagnosticCategory.Error,key:"An export assignment can only be used in a module."},An_import_declaration_can_only_be_used_in_a_namespace_or_module:{code:1232,category:ts.DiagnosticCategory.Error,key:"An import declaration can only be used in a namespace or module."},An_export_declaration_can_only_be_used_in_a_module:{code:1233,category:ts.DiagnosticCategory.Error,key:"An export declaration can only be used in a module."},An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:{code:1234,category:ts.DiagnosticCategory.Error,key:"An ambient module declaration is only allowed at the top level in a file."},A_namespace_declaration_is_only_allowed_in_a_namespace_or_module:{code:1235,category:ts.DiagnosticCategory.Error,key:"A namespace declaration is only allowed in a namespace or module."},The_return_type_of_a_property_decorator_function_must_be_either_void_or_any:{code:1236,category:ts.DiagnosticCategory.Error,key:"The return type of a property decorator function must be either 'void' or 'any'."},The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any:{code:1237,category:ts.DiagnosticCategory.Error,key:"The return type of a parameter decorator function must be either 'void' or 'any'."},Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression:{code:1238,category:ts.DiagnosticCategory.Error,key:"Unable to resolve signature of class decorator when called as an expression."},Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression:{code:1239,category:ts.DiagnosticCategory.Error,key:"Unable to resolve signature of parameter decorator when called as an expression."},Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression:{code:1240,category:ts.DiagnosticCategory.Error,key:"Unable to resolve signature of property decorator when called as an expression."},Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression:{code:1241,category:ts.DiagnosticCategory.Error,key:"Unable to resolve signature of method decorator when called as an expression."},abstract_modifier_can_only_appear_on_a_class_or_method_declaration:{code:1242,category:ts.DiagnosticCategory.Error,key:"'abstract' modifier can only appear on a class or method declaration."},_0_modifier_cannot_be_used_with_1_modifier:{code:1243,category:ts.DiagnosticCategory.Error,key:"'{0}' modifier cannot be used with '{1}' modifier."},Abstract_methods_can_only_appear_within_an_abstract_class:{code:1244,category:ts.DiagnosticCategory.Error,key:"Abstract methods can only appear within an abstract class."},Method_0_cannot_have_an_implementation_because_it_is_marked_abstract:{code:1245,category:ts.DiagnosticCategory.Error,key:"Method '{0}' cannot have an implementation because it is marked abstract."},with_statements_are_not_allowed_in_an_async_function_block:{code:1300,category:ts.DiagnosticCategory.Error,key:"'with' statements are not allowed in an async function block."},await_expression_is_only_allowed_within_an_async_function:{code:1308,category:ts.DiagnosticCategory.Error,key:"'await' expression is only allowed within an async function."},Async_functions_are_only_available_when_targeting_ECMAScript_6_and_higher:{code:1311,category:ts.DiagnosticCategory.Error,key:"Async functions are only available when targeting ECMAScript 6 and higher."},can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment:{code:1312,category:ts.DiagnosticCategory.Error,key:"'=' can only be used in an object literal property inside a destructuring assignment."},Duplicate_identifier_0:{code:2300,category:ts.DiagnosticCategory.Error,key:"Duplicate identifier '{0}'."},Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor:{code:2301,category:ts.DiagnosticCategory.Error,key:"Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor."},Static_members_cannot_reference_class_type_parameters:{code:2302,category:ts.DiagnosticCategory.Error,key:"Static members cannot reference class type parameters."},Circular_definition_of_import_alias_0:{code:2303,category:ts.DiagnosticCategory.Error,key:"Circular definition of import alias '{0}'."},Cannot_find_name_0:{code:2304,category:ts.DiagnosticCategory.Error,key:"Cannot find name '{0}'."},Module_0_has_no_exported_member_1:{code:2305,category:ts.DiagnosticCategory.Error,key:"Module '{0}' has no exported member '{1}'."},File_0_is_not_a_module:{code:2306,category:ts.DiagnosticCategory.Error,key:"File '{0}' is not a module."},Cannot_find_module_0:{code:2307,category:ts.DiagnosticCategory.Error,key:"Cannot find module '{0}'."},An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements:{code:2309,category:ts.DiagnosticCategory.Error,key:"An export assignment cannot be used in a module with other exported elements."},Type_0_recursively_references_itself_as_a_base_type:{code:2310,category:ts.DiagnosticCategory.Error,key:"Type '{0}' recursively references itself as a base type."},A_class_may_only_extend_another_class:{code:2311,category:ts.DiagnosticCategory.Error,key:"A class may only extend another class."},An_interface_may_only_extend_a_class_or_another_interface:{code:2312,category:ts.DiagnosticCategory.Error,key:"An interface may only extend a class or another interface."},Constraint_of_a_type_parameter_cannot_reference_any_type_parameter_from_the_same_type_parameter_list:{code:2313,category:ts.DiagnosticCategory.Error,key:"Constraint of a type parameter cannot reference any type parameter from the same type parameter list."},Generic_type_0_requires_1_type_argument_s:{code:2314,category:ts.DiagnosticCategory.Error,key:"Generic type '{0}' requires {1} type argument(s)."},Type_0_is_not_generic:{code:2315,category:ts.DiagnosticCategory.Error,key:"Type '{0}' is not generic."},Global_type_0_must_be_a_class_or_interface_type:{code:2316,category:ts.DiagnosticCategory.Error,key:"Global type '{0}' must be a class or interface type."},Global_type_0_must_have_1_type_parameter_s:{code:2317,category:ts.DiagnosticCategory.Error,key:"Global type '{0}' must have {1} type parameter(s)."},Cannot_find_global_type_0:{code:2318,category:ts.DiagnosticCategory.Error,key:"Cannot find global type '{0}'."},Named_property_0_of_types_1_and_2_are_not_identical:{code:2319,category:ts.DiagnosticCategory.Error,key:"Named property '{0}' of types '{1}' and '{2}' are not identical."},Interface_0_cannot_simultaneously_extend_types_1_and_2:{code:2320,category:ts.DiagnosticCategory.Error,key:"Interface '{0}' cannot simultaneously extend types '{1}' and '{2}'."},Excessive_stack_depth_comparing_types_0_and_1:{code:2321,category:ts.DiagnosticCategory.Error,key:"Excessive stack depth comparing types '{0}' and '{1}'."},Type_0_is_not_assignable_to_type_1:{code:2322,category:ts.DiagnosticCategory.Error,key:"Type '{0}' is not assignable to type '{1}'."},Property_0_is_missing_in_type_1:{code:2324,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is missing in type '{1}'."},Property_0_is_private_in_type_1_but_not_in_type_2:{code:2325,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is private in type '{1}' but not in type '{2}'."},Types_of_property_0_are_incompatible:{code:2326,category:ts.DiagnosticCategory.Error,key:"Types of property '{0}' are incompatible."},Property_0_is_optional_in_type_1_but_required_in_type_2:{code:2327,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is optional in type '{1}' but required in type '{2}'."},Types_of_parameters_0_and_1_are_incompatible:{code:2328,category:ts.DiagnosticCategory.Error,key:"Types of parameters '{0}' and '{1}' are incompatible."},Index_signature_is_missing_in_type_0:{code:2329,category:ts.DiagnosticCategory.Error,key:"Index signature is missing in type '{0}'."},Index_signatures_are_incompatible:{code:2330,category:ts.DiagnosticCategory.Error,key:"Index signatures are incompatible."},this_cannot_be_referenced_in_a_module_or_namespace_body:{code:2331,category:ts.DiagnosticCategory.Error,key:"'this' cannot be referenced in a module or namespace body."},this_cannot_be_referenced_in_current_location:{code:2332,category:ts.DiagnosticCategory.Error,key:"'this' cannot be referenced in current location."},this_cannot_be_referenced_in_constructor_arguments:{code:2333,category:ts.DiagnosticCategory.Error,key:"'this' cannot be referenced in constructor arguments."},this_cannot_be_referenced_in_a_static_property_initializer:{code:2334,category:ts.DiagnosticCategory.Error,key:"'this' cannot be referenced in a static property initializer."},super_can_only_be_referenced_in_a_derived_class:{code:2335,category:ts.DiagnosticCategory.Error,key:"'super' can only be referenced in a derived class."},super_cannot_be_referenced_in_constructor_arguments:{code:2336,category:ts.DiagnosticCategory.Error,key:"'super' cannot be referenced in constructor arguments."},Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors:{code:2337,category:ts.DiagnosticCategory.Error,key:"Super calls are not permitted outside constructors or in nested functions inside constructors."},super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class:{code:2338,category:ts.DiagnosticCategory.Error,key:"'super' property access is permitted only in a constructor, member function, or member accessor of a derived class."},Property_0_does_not_exist_on_type_1:{code:2339,category:ts.DiagnosticCategory.Error,key:"Property '{0}' does not exist on type '{1}'."},Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword:{code:2340,category:ts.DiagnosticCategory.Error,key:"Only public and protected methods of the base class are accessible via the 'super' keyword."},Property_0_is_private_and_only_accessible_within_class_1:{code:2341,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is private and only accessible within class '{1}'."},An_index_expression_argument_must_be_of_type_string_number_symbol_or_any:{code:2342,category:ts.DiagnosticCategory.Error,key:"An index expression argument must be of type 'string', 'number', 'symbol', or 'any'."},Type_0_does_not_satisfy_the_constraint_1:{code:2344,category:ts.DiagnosticCategory.Error,key:"Type '{0}' does not satisfy the constraint '{1}'."},Argument_of_type_0_is_not_assignable_to_parameter_of_type_1:{code:2345,category:ts.DiagnosticCategory.Error,key:"Argument of type '{0}' is not assignable to parameter of type '{1}'."},Supplied_parameters_do_not_match_any_signature_of_call_target:{code:2346,category:ts.DiagnosticCategory.Error,key:"Supplied parameters do not match any signature of call target."},Untyped_function_calls_may_not_accept_type_arguments:{code:2347,category:ts.DiagnosticCategory.Error,key:"Untyped function calls may not accept type arguments."},Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:{code:2348,category:ts.DiagnosticCategory.Error,key:"Value of type '{0}' is not callable. Did you mean to include 'new'?"},Cannot_invoke_an_expression_whose_type_lacks_a_call_signature:{code:2349,category:ts.DiagnosticCategory.Error,key:"Cannot invoke an expression whose type lacks a call signature."},Only_a_void_function_can_be_called_with_the_new_keyword:{code:2350,category:ts.DiagnosticCategory.Error,key:"Only a void function can be called with the 'new' keyword."},Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature:{code:2351,category:ts.DiagnosticCategory.Error,key:"Cannot use 'new' with an expression whose type lacks a call or construct signature."},Neither_type_0_nor_type_1_is_assignable_to_the_other:{code:2352,category:ts.DiagnosticCategory.Error,key:"Neither type '{0}' nor type '{1}' is assignable to the other."},Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1:{code:2353,category:ts.DiagnosticCategory.Error,key:"Object literal may only specify known properties, and '{0}' does not exist in type '{1}'."},No_best_common_type_exists_among_return_expressions:{code:2354,category:ts.DiagnosticCategory.Error,key:"No best common type exists among return expressions."},A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value_or_consist_of_a_single_throw_statement:{code:2355,category:ts.DiagnosticCategory.Error,key:"A function whose declared type is neither 'void' nor 'any' must return a value or consist of a single 'throw' statement."},An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type:{code:2356,category:ts.DiagnosticCategory.Error,key:"An arithmetic operand must be of type 'any', 'number' or an enum type."},The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer:{code:2357,category:ts.DiagnosticCategory.Error,key:"The operand of an increment or decrement operator must be a variable, property or indexer."},The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2358,category:ts.DiagnosticCategory.Error,key:"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter."},The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type:{code:2359,category:ts.DiagnosticCategory.Error,key:"The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type."},The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol:{code:2360,category:ts.DiagnosticCategory.Error,key:"The left-hand side of an 'in' expression must be of type 'any', 'string', 'number', or 'symbol'."},The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2361,category:ts.DiagnosticCategory.Error,key:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter"},The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:{code:2362,category:ts.DiagnosticCategory.Error,key:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."},The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:{code:2363,category:ts.DiagnosticCategory.Error,key:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type."},Invalid_left_hand_side_of_assignment_expression:{code:2364,category:ts.DiagnosticCategory.Error,key:"Invalid left-hand side of assignment expression."},Operator_0_cannot_be_applied_to_types_1_and_2:{code:2365,category:ts.DiagnosticCategory.Error,key:"Operator '{0}' cannot be applied to types '{1}' and '{2}'."},Type_parameter_name_cannot_be_0:{code:2368,category:ts.DiagnosticCategory.Error,key:"Type parameter name cannot be '{0}'"},A_parameter_property_is_only_allowed_in_a_constructor_implementation:{code:2369,category:ts.DiagnosticCategory.Error,key:"A parameter property is only allowed in a constructor implementation."},A_rest_parameter_must_be_of_an_array_type:{code:2370,category:ts.DiagnosticCategory.Error,key:"A rest parameter must be of an array type."},A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation:{code:2371,category:ts.DiagnosticCategory.Error,key:"A parameter initializer is only allowed in a function or constructor implementation."},Parameter_0_cannot_be_referenced_in_its_initializer:{code:2372,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' cannot be referenced in its initializer."},Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it:{code:2373,category:ts.DiagnosticCategory.Error,key:"Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it."},Duplicate_string_index_signature:{code:2374,category:ts.DiagnosticCategory.Error,key:"Duplicate string index signature."},Duplicate_number_index_signature:{code:2375,category:ts.DiagnosticCategory.Error,key:"Duplicate number index signature."},A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:{code:2376,category:ts.DiagnosticCategory.Error,key:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties."},Constructors_for_derived_classes_must_contain_a_super_call:{code:2377,category:ts.DiagnosticCategory.Error,key:"Constructors for derived classes must contain a 'super' call."},A_get_accessor_must_return_a_value_or_consist_of_a_single_throw_statement:{code:2378,category:ts.DiagnosticCategory.Error,key:"A 'get' accessor must return a value or consist of a single 'throw' statement."},Getter_and_setter_accessors_do_not_agree_in_visibility:{code:2379,category:ts.DiagnosticCategory.Error,key:"Getter and setter accessors do not agree in visibility."},get_and_set_accessor_must_have_the_same_type:{code:2380,category:ts.DiagnosticCategory.Error,key:"'get' and 'set' accessor must have the same type."},A_signature_with_an_implementation_cannot_use_a_string_literal_type:{code:2381,category:ts.DiagnosticCategory.Error,key:"A signature with an implementation cannot use a string literal type."},Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature:{code:2382,category:ts.DiagnosticCategory.Error,key:"Specialized overload signature is not assignable to any non-specialized signature."},Overload_signatures_must_all_be_exported_or_not_exported:{code:2383,category:ts.DiagnosticCategory.Error,key:"Overload signatures must all be exported or not exported."},Overload_signatures_must_all_be_ambient_or_non_ambient:{code:2384,category:ts.DiagnosticCategory.Error,key:"Overload signatures must all be ambient or non-ambient."},Overload_signatures_must_all_be_public_private_or_protected:{code:2385,category:ts.DiagnosticCategory.Error,key:"Overload signatures must all be public, private or protected."},Overload_signatures_must_all_be_optional_or_required:{code:2386,category:ts.DiagnosticCategory.Error,key:"Overload signatures must all be optional or required."},Function_overload_must_be_static:{code:2387,category:ts.DiagnosticCategory.Error,key:"Function overload must be static."},Function_overload_must_not_be_static:{code:2388,category:ts.DiagnosticCategory.Error,key:"Function overload must not be static."},Function_implementation_name_must_be_0:{code:2389,category:ts.DiagnosticCategory.Error,key:"Function implementation name must be '{0}'."},Constructor_implementation_is_missing:{code:2390,category:ts.DiagnosticCategory.Error,key:"Constructor implementation is missing."},Function_implementation_is_missing_or_not_immediately_following_the_declaration:{code:2391,category:ts.DiagnosticCategory.Error,key:"Function implementation is missing or not immediately following the declaration."},Multiple_constructor_implementations_are_not_allowed:{code:2392,category:ts.DiagnosticCategory.Error,key:"Multiple constructor implementations are not allowed."},Duplicate_function_implementation:{code:2393,category:ts.DiagnosticCategory.Error,key:"Duplicate function implementation."},Overload_signature_is_not_compatible_with_function_implementation:{code:2394,category:ts.DiagnosticCategory.Error,key:"Overload signature is not compatible with function implementation."},Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local:{code:2395,category:ts.DiagnosticCategory.Error,key:"Individual declarations in merged declaration '{0}' must be all exported or all local."},Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters:{code:2396,category:ts.DiagnosticCategory.Error,key:"Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters."},Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:{code:2399,category:ts.DiagnosticCategory.Error,key:"Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference."},Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference:{code:2400,category:ts.DiagnosticCategory.Error,key:"Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference."},Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:{code:2401,category:ts.DiagnosticCategory.Error,key:"Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference."},Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference:{code:2402,category:ts.DiagnosticCategory.Error,key:"Expression resolves to '_super' that compiler uses to capture base class reference."},Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:{code:2403,category:ts.DiagnosticCategory.Error,key:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'."},The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:{code:2404,category:ts.DiagnosticCategory.Error,key:"The left-hand side of a 'for...in' statement cannot use a type annotation."},The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any:{code:2405,category:ts.DiagnosticCategory.Error,key:"The left-hand side of a 'for...in' statement must be of type 'string' or 'any'."},Invalid_left_hand_side_in_for_in_statement:{code:2406,category:ts.DiagnosticCategory.Error,key:"Invalid left-hand side in 'for...in' statement."},The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:{code:2407,category:ts.DiagnosticCategory.Error,key:"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter."},Setters_cannot_return_a_value:{code:2408,category:ts.DiagnosticCategory.Error,key:"Setters cannot return a value."},Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class:{code:2409,category:ts.DiagnosticCategory.Error,key:"Return type of constructor signature must be assignable to the instance type of the class"},All_symbols_within_a_with_block_will_be_resolved_to_any:{code:2410,category:ts.DiagnosticCategory.Error,key:"All symbols within a 'with' block will be resolved to 'any'."},Property_0_of_type_1_is_not_assignable_to_string_index_type_2:{code:2411,category:ts.DiagnosticCategory.Error,key:"Property '{0}' of type '{1}' is not assignable to string index type '{2}'."},Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2:{code:2412,category:ts.DiagnosticCategory.Error,key:"Property '{0}' of type '{1}' is not assignable to numeric index type '{2}'."},Numeric_index_type_0_is_not_assignable_to_string_index_type_1:{code:2413,category:ts.DiagnosticCategory.Error,key:"Numeric index type '{0}' is not assignable to string index type '{1}'."},Class_name_cannot_be_0:{code:2414,category:ts.DiagnosticCategory.Error,key:"Class name cannot be '{0}'"},Class_0_incorrectly_extends_base_class_1:{code:2415,category:ts.DiagnosticCategory.Error,key:"Class '{0}' incorrectly extends base class '{1}'."},Class_static_side_0_incorrectly_extends_base_class_static_side_1:{code:2417,category:ts.DiagnosticCategory.Error,key:"Class static side '{0}' incorrectly extends base class static side '{1}'."},Type_name_0_in_extends_clause_does_not_reference_constructor_function_for_0:{code:2419,category:ts.DiagnosticCategory.Error,key:"Type name '{0}' in extends clause does not reference constructor function for '{0}'."},Class_0_incorrectly_implements_interface_1:{code:2420,category:ts.DiagnosticCategory.Error,key:"Class '{0}' incorrectly implements interface '{1}'."},A_class_may_only_implement_another_class_or_interface:{code:2422,category:ts.DiagnosticCategory.Error,key:"A class may only implement another class or interface."},Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:{code:2423,category:ts.DiagnosticCategory.Error,key:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor."},Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:{code:2424,category:ts.DiagnosticCategory.Error,key:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property."},Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:{code:2425,category:ts.DiagnosticCategory.Error,key:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function."},Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:{code:2426,category:ts.DiagnosticCategory.Error,key:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function."},Interface_name_cannot_be_0:{code:2427,category:ts.DiagnosticCategory.Error,key:"Interface name cannot be '{0}'"},All_declarations_of_an_interface_must_have_identical_type_parameters:{code:2428,category:ts.DiagnosticCategory.Error,key:"All declarations of an interface must have identical type parameters."},Interface_0_incorrectly_extends_interface_1:{code:2430,category:ts.DiagnosticCategory.Error,key:"Interface '{0}' incorrectly extends interface '{1}'."},Enum_name_cannot_be_0:{code:2431,category:ts.DiagnosticCategory.Error,key:"Enum name cannot be '{0}'"},In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element:{code:2432,category:ts.DiagnosticCategory.Error,key:"In an enum with multiple declarations, only one declaration can omit an initializer for its first enum element."},A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged:{code:2433,category:ts.DiagnosticCategory.Error,key:"A namespace declaration cannot be in a different file from a class or function with which it is merged"},A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged:{code:2434,category:ts.DiagnosticCategory.Error,key:"A namespace declaration cannot be located prior to a class or function with which it is merged"},Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces:{code:2435,category:ts.DiagnosticCategory.Error,key:"Ambient modules cannot be nested in other modules or namespaces."},Ambient_module_declaration_cannot_specify_relative_module_name:{code:2436,category:ts.DiagnosticCategory.Error,key:"Ambient module declaration cannot specify relative module name."},Module_0_is_hidden_by_a_local_declaration_with_the_same_name:{code:2437,category:ts.DiagnosticCategory.Error,key:"Module '{0}' is hidden by a local declaration with the same name"},Import_name_cannot_be_0:{code:2438,category:ts.DiagnosticCategory.Error,key:"Import name cannot be '{0}'"},Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name:{code:2439,category:ts.DiagnosticCategory.Error,key:"Import or export declaration in an ambient module declaration cannot reference module through relative module name."},Import_declaration_conflicts_with_local_declaration_of_0:{code:2440,category:ts.DiagnosticCategory.Error,key:"Import declaration conflicts with local declaration of '{0}'"},Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module:{code:2441,category:ts.DiagnosticCategory.Error,key:"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of a module."},Types_have_separate_declarations_of_a_private_property_0:{code:2442,category:ts.DiagnosticCategory.Error,key:"Types have separate declarations of a private property '{0}'."},Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2:{code:2443,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is protected but type '{1}' is not a class derived from '{2}'."},Property_0_is_protected_in_type_1_but_public_in_type_2:{code:2444,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is protected in type '{1}' but public in type '{2}'."},
Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses:{code:2445,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is protected and only accessible within class '{1}' and its subclasses."},Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1:{code:2446,category:ts.DiagnosticCategory.Error,key:"Property '{0}' is protected and only accessible through an instance of class '{1}'."},The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead:{code:2447,category:ts.DiagnosticCategory.Error,key:"The '{0}' operator is not allowed for boolean types. Consider using '{1}' instead."},Block_scoped_variable_0_used_before_its_declaration:{code:2448,category:ts.DiagnosticCategory.Error,key:"Block-scoped variable '{0}' used before its declaration."},The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant:{code:2449,category:ts.DiagnosticCategory.Error,key:"The operand of an increment or decrement operator cannot be a constant."},Left_hand_side_of_assignment_expression_cannot_be_a_constant:{code:2450,category:ts.DiagnosticCategory.Error,key:"Left-hand side of assignment expression cannot be a constant."},Cannot_redeclare_block_scoped_variable_0:{code:2451,category:ts.DiagnosticCategory.Error,key:"Cannot redeclare block-scoped variable '{0}'."},An_enum_member_cannot_have_a_numeric_name:{code:2452,category:ts.DiagnosticCategory.Error,key:"An enum member cannot have a numeric name."},The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly:{code:2453,category:ts.DiagnosticCategory.Error,key:"The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly."},Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0:{code:2455,category:ts.DiagnosticCategory.Error,key:"Type argument candidate '{1}' is not a valid type argument because it is not a supertype of candidate '{0}'."},Type_alias_0_circularly_references_itself:{code:2456,category:ts.DiagnosticCategory.Error,key:"Type alias '{0}' circularly references itself."},Type_alias_name_cannot_be_0:{code:2457,category:ts.DiagnosticCategory.Error,key:"Type alias name cannot be '{0}'"},An_AMD_module_cannot_have_multiple_name_assignments:{code:2458,category:ts.DiagnosticCategory.Error,key:"An AMD module cannot have multiple name assignments."},Type_0_has_no_property_1_and_no_string_index_signature:{code:2459,category:ts.DiagnosticCategory.Error,key:"Type '{0}' has no property '{1}' and no string index signature."},Type_0_has_no_property_1:{code:2460,category:ts.DiagnosticCategory.Error,key:"Type '{0}' has no property '{1}'."},Type_0_is_not_an_array_type:{code:2461,category:ts.DiagnosticCategory.Error,key:"Type '{0}' is not an array type."},A_rest_element_must_be_last_in_an_array_destructuring_pattern:{code:2462,category:ts.DiagnosticCategory.Error,key:"A rest element must be last in an array destructuring pattern"},A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature:{code:2463,category:ts.DiagnosticCategory.Error,key:"A binding pattern parameter cannot be optional in an implementation signature."},A_computed_property_name_must_be_of_type_string_number_symbol_or_any:{code:2464,category:ts.DiagnosticCategory.Error,key:"A computed property name must be of type 'string', 'number', 'symbol', or 'any'."},this_cannot_be_referenced_in_a_computed_property_name:{code:2465,category:ts.DiagnosticCategory.Error,key:"'this' cannot be referenced in a computed property name."},super_cannot_be_referenced_in_a_computed_property_name:{code:2466,category:ts.DiagnosticCategory.Error,key:"'super' cannot be referenced in a computed property name."},A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type:{code:2467,category:ts.DiagnosticCategory.Error,key:"A computed property name cannot reference a type parameter from its containing type."},Cannot_find_global_value_0:{code:2468,category:ts.DiagnosticCategory.Error,key:"Cannot find global value '{0}'."},The_0_operator_cannot_be_applied_to_type_symbol:{code:2469,category:ts.DiagnosticCategory.Error,key:"The '{0}' operator cannot be applied to type 'symbol'."},Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object:{code:2470,category:ts.DiagnosticCategory.Error,key:"'Symbol' reference does not refer to the global Symbol constructor object."},A_computed_property_name_of_the_form_0_must_be_of_type_symbol:{code:2471,category:ts.DiagnosticCategory.Error,key:"A computed property name of the form '{0}' must be of type 'symbol'."},Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher:{code:2472,category:ts.DiagnosticCategory.Error,key:"Spread operator in 'new' expressions is only available when targeting ECMAScript 5 and higher."},Enum_declarations_must_all_be_const_or_non_const:{code:2473,category:ts.DiagnosticCategory.Error,key:"Enum declarations must all be const or non-const."},In_const_enum_declarations_member_initializer_must_be_constant_expression:{code:2474,category:ts.DiagnosticCategory.Error,key:"In 'const' enum declarations member initializer must be constant expression."},const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment:{code:2475,category:ts.DiagnosticCategory.Error,key:"'const' enums can only be used in property or index access expressions or the right hand side of an import declaration or export assignment."},A_const_enum_member_can_only_be_accessed_using_a_string_literal:{code:2476,category:ts.DiagnosticCategory.Error,key:"A const enum member can only be accessed using a string literal."},const_enum_member_initializer_was_evaluated_to_a_non_finite_value:{code:2477,category:ts.DiagnosticCategory.Error,key:"'const' enum member initializer was evaluated to a non-finite value."},const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:{code:2478,category:ts.DiagnosticCategory.Error,key:"'const' enum member initializer was evaluated to disallowed value 'NaN'."},Property_0_does_not_exist_on_const_enum_1:{code:2479,category:ts.DiagnosticCategory.Error,key:"Property '{0}' does not exist on 'const' enum '{1}'."},let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations:{code:2480,category:ts.DiagnosticCategory.Error,key:"'let' is not allowed to be used as a name in 'let' or 'const' declarations."},Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1:{code:2481,category:ts.DiagnosticCategory.Error,key:"Cannot initialize outer scoped variable '{0}' in the same scope as block scoped declaration '{1}'."},The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation:{code:2483,category:ts.DiagnosticCategory.Error,key:"The left-hand side of a 'for...of' statement cannot use a type annotation."},Export_declaration_conflicts_with_exported_declaration_of_0:{code:2484,category:ts.DiagnosticCategory.Error,key:"Export declaration conflicts with exported declaration of '{0}'"},The_left_hand_side_of_a_for_of_statement_cannot_be_a_previously_defined_constant:{code:2485,category:ts.DiagnosticCategory.Error,key:"The left-hand side of a 'for...of' statement cannot be a previously defined constant."},The_left_hand_side_of_a_for_in_statement_cannot_be_a_previously_defined_constant:{code:2486,category:ts.DiagnosticCategory.Error,key:"The left-hand side of a 'for...in' statement cannot be a previously defined constant."},Invalid_left_hand_side_in_for_of_statement:{code:2487,category:ts.DiagnosticCategory.Error,key:"Invalid left-hand side in 'for...of' statement."},Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator:{code:2488,category:ts.DiagnosticCategory.Error,key:"Type must have a '[Symbol.iterator]()' method that returns an iterator."},An_iterator_must_have_a_next_method:{code:2489,category:ts.DiagnosticCategory.Error,key:"An iterator must have a 'next()' method."},The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property:{code:2490,category:ts.DiagnosticCategory.Error,key:"The type returned by the 'next()' method of an iterator must have a 'value' property."},The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern:{code:2491,category:ts.DiagnosticCategory.Error,key:"The left-hand side of a 'for...in' statement cannot be a destructuring pattern."},Cannot_redeclare_identifier_0_in_catch_clause:{code:2492,category:ts.DiagnosticCategory.Error,key:"Cannot redeclare identifier '{0}' in catch clause"},Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2:{code:2493,category:ts.DiagnosticCategory.Error,key:"Tuple type '{0}' with length '{1}' cannot be assigned to tuple with length '{2}'."},Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher:{code:2494,category:ts.DiagnosticCategory.Error,key:"Using a string in a 'for...of' statement is only supported in ECMAScript 5 and higher."},Type_0_is_not_an_array_type_or_a_string_type:{code:2495,category:ts.DiagnosticCategory.Error,key:"Type '{0}' is not an array type or a string type."},The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression:{code:2496,category:ts.DiagnosticCategory.Error,key:"The 'arguments' object cannot be referenced in an arrow function in ES3 and ES5. Consider using a standard function expression."},Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct:{code:2497,category:ts.DiagnosticCategory.Error,key:"Module '{0}' resolves to a non-module entity and cannot be imported using this construct."},Module_0_uses_export_and_cannot_be_used_with_export_Asterisk:{code:2498,category:ts.DiagnosticCategory.Error,key:"Module '{0}' uses 'export =' and cannot be used with 'export *'."},An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments:{code:2499,category:ts.DiagnosticCategory.Error,key:"An interface can only extend an identifier/qualified-name with optional type arguments."},A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments:{code:2500,category:ts.DiagnosticCategory.Error,key:"A class can only implement an identifier/qualified-name with optional type arguments."},A_rest_element_cannot_contain_a_binding_pattern:{code:2501,category:ts.DiagnosticCategory.Error,key:"A rest element cannot contain a binding pattern."},_0_is_referenced_directly_or_indirectly_in_its_own_type_annotation:{code:2502,category:ts.DiagnosticCategory.Error,key:"'{0}' is referenced directly or indirectly in its own type annotation."},Cannot_find_namespace_0:{code:2503,category:ts.DiagnosticCategory.Error,key:"Cannot find namespace '{0}'."},No_best_common_type_exists_among_yield_expressions:{code:2504,category:ts.DiagnosticCategory.Error,key:"No best common type exists among yield expressions."},A_generator_cannot_have_a_void_type_annotation:{code:2505,category:ts.DiagnosticCategory.Error,key:"A generator cannot have a 'void' type annotation."},_0_is_referenced_directly_or_indirectly_in_its_own_base_expression:{code:2506,category:ts.DiagnosticCategory.Error,key:"'{0}' is referenced directly or indirectly in its own base expression."},Type_0_is_not_a_constructor_function_type:{code:2507,category:ts.DiagnosticCategory.Error,key:"Type '{0}' is not a constructor function type."},No_base_constructor_has_the_specified_number_of_type_arguments:{code:2508,category:ts.DiagnosticCategory.Error,key:"No base constructor has the specified number of type arguments."},Base_constructor_return_type_0_is_not_a_class_or_interface_type:{code:2509,category:ts.DiagnosticCategory.Error,key:"Base constructor return type '{0}' is not a class or interface type."},Base_constructors_must_all_have_the_same_return_type:{code:2510,category:ts.DiagnosticCategory.Error,key:"Base constructors must all have the same return type."},Cannot_create_an_instance_of_the_abstract_class_0:{code:2511,category:ts.DiagnosticCategory.Error,key:"Cannot create an instance of the abstract class '{0}'."},Overload_signatures_must_all_be_abstract_or_not_abstract:{code:2512,category:ts.DiagnosticCategory.Error,key:"Overload signatures must all be abstract or not abstract."},Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression:{code:2513,category:ts.DiagnosticCategory.Error,key:"Abstract method '{0}' in class '{1}' cannot be accessed via super expression."},Classes_containing_abstract_methods_must_be_marked_abstract:{code:2514,category:ts.DiagnosticCategory.Error,key:"Classes containing abstract methods must be marked abstract."},Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2:{code:2515,category:ts.DiagnosticCategory.Error,key:"Non-abstract class '{0}' does not implement inherited abstract member '{1}' from class '{2}'."},All_declarations_of_an_abstract_method_must_be_consecutive:{code:2516,category:ts.DiagnosticCategory.Error,key:"All declarations of an abstract method must be consecutive."},Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type:{code:2517,category:ts.DiagnosticCategory.Error,key:"Cannot assign an abstract constructor type to a non-abstract constructor type."},Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions:{code:2520,category:ts.DiagnosticCategory.Error,key:"Duplicate identifier '{0}'. Compiler uses declaration '{1}' to support async functions."},Expression_resolves_to_variable_declaration_0_that_compiler_uses_to_support_async_functions:{code:2521,category:ts.DiagnosticCategory.Error,key:"Expression resolves to variable declaration '{0}' that compiler uses to support async functions."},The_arguments_object_cannot_be_referenced_in_an_async_arrow_function_Consider_using_a_standard_async_function_expression:{code:2522,category:ts.DiagnosticCategory.Error,key:"The 'arguments' object cannot be referenced in an async arrow function. Consider using a standard async function expression."},yield_expressions_cannot_be_used_in_a_parameter_initializer:{code:2523,category:ts.DiagnosticCategory.Error,key:"'yield' expressions cannot be used in a parameter initializer."},await_expressions_cannot_be_used_in_a_parameter_initializer:{code:2524,category:ts.DiagnosticCategory.Error,key:"'await' expressions cannot be used in a parameter initializer."},Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value:{code:2525,category:ts.DiagnosticCategory.Error,key:"Initializer provides no value for this binding element and the binding element has no default value."},A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface:{code:2526,category:ts.DiagnosticCategory.Error,key:"A 'this' type is available only in a non-static member of a class or interface."},The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary:{code:2527,category:ts.DiagnosticCategory.Error,key:"The inferred type of '{0}' references an inaccessible 'this' type. A type annotation is necessary."},A_module_cannot_have_multiple_default_exports:{code:2528,category:ts.DiagnosticCategory.Error,key:"A module cannot have multiple default exports."},JSX_element_attributes_type_0_must_be_an_object_type:{code:2600,category:ts.DiagnosticCategory.Error,key:"JSX element attributes type '{0}' must be an object type."},The_return_type_of_a_JSX_element_constructor_must_return_an_object_type:{code:2601,category:ts.DiagnosticCategory.Error,key:"The return type of a JSX element constructor must return an object type."},JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist:{code:2602,category:ts.DiagnosticCategory.Error,key:"JSX element implicitly has type 'any' because the global type 'JSX.Element' does not exist."},Property_0_in_type_1_is_not_assignable_to_type_2:{code:2603,category:ts.DiagnosticCategory.Error,key:"Property '{0}' in type '{1}' is not assignable to type '{2}'"},JSX_element_type_0_does_not_have_any_construct_or_call_signatures:{code:2604,category:ts.DiagnosticCategory.Error,key:"JSX element type '{0}' does not have any construct or call signatures."},JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements:{code:2605,category:ts.DiagnosticCategory.Error,key:"JSX element type '{0}' is not a constructor function for JSX elements."},Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property:{code:2606,category:ts.DiagnosticCategory.Error,key:"Property '{0}' of JSX spread attribute is not assignable to target property."},JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property:{code:2607,category:ts.DiagnosticCategory.Error,key:"JSX element class does not support attributes because it does not have a '{0}' property"},The_global_type_JSX_0_may_not_have_more_than_one_property:{code:2608,category:ts.DiagnosticCategory.Error,key:"The global type 'JSX.{0}' may not have more than one property"},Cannot_emit_namespaced_JSX_elements_in_React:{code:2650,category:ts.DiagnosticCategory.Error,key:"Cannot emit namespaced JSX elements in React"},A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums:{code:2651,category:ts.DiagnosticCategory.Error,key:"A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums."},Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead:{code:2652,category:ts.DiagnosticCategory.Error,key:"Merged declaration '{0}' cannot include a default export declaration. Consider adding a separate 'export default {0}' declaration instead."},Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1:{code:2653,category:ts.DiagnosticCategory.Error,key:"Non-abstract class expression does not implement inherited abstract member '{0}' from class '{1}'."},Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition:{code:2654,category:ts.DiagnosticCategory.Error,key:"Exported external package typings file cannot contain tripleslash references. Please contact the package author to update the package definition."},Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition:{code:2656,category:ts.DiagnosticCategory.Error,key:"Exported external package typings file '{0}' is not a module. Please contact the package author to update the package definition."},Import_declaration_0_is_using_private_name_1:{code:4e3,category:ts.DiagnosticCategory.Error,key:"Import declaration '{0}' is using private name '{1}'."},Type_parameter_0_of_exported_class_has_or_is_using_private_name_1:{code:4002,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of exported class has or is using private name '{1}'."},Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1:{code:4004,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of exported interface has or is using private name '{1}'."},Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4006,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."},Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4008,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of call signature from exported interface has or is using private name '{1}'."},Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:{code:4010,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of public static method from exported class has or is using private name '{1}'."},Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:{code:4012,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of public method from exported class has or is using private name '{1}'."},Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:{code:4014,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of method from exported interface has or is using private name '{1}'."},Type_parameter_0_of_exported_function_has_or_is_using_private_name_1:{code:4016,category:ts.DiagnosticCategory.Error,key:"Type parameter '{0}' of exported function has or is using private name '{1}'."},Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:{code:4019,category:ts.DiagnosticCategory.Error,key:"Implements clause of exported class '{0}' has or is using private name '{1}'."},Extends_clause_of_exported_class_0_has_or_is_using_private_name_1:{code:4020,category:ts.DiagnosticCategory.Error,key:"Extends clause of exported class '{0}' has or is using private name '{1}'."},Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1:{code:4022,category:ts.DiagnosticCategory.Error,key:"Extends clause of exported interface '{0}' has or is using private name '{1}'."},Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4023,category:ts.DiagnosticCategory.Error,key:"Exported variable '{0}' has or is using name '{1}' from external module {2} but cannot be named."},Exported_variable_0_has_or_is_using_name_1_from_private_module_2:{code:4024,category:ts.DiagnosticCategory.Error,key:"Exported variable '{0}' has or is using name '{1}' from private module '{2}'."},Exported_variable_0_has_or_is_using_private_name_1:{code:4025,category:ts.DiagnosticCategory.Error,key:"Exported variable '{0}' has or is using private name '{1}'."},Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4026,category:ts.DiagnosticCategory.Error,key:"Public static property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."},Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4027,category:ts.DiagnosticCategory.Error,key:"Public static property '{0}' of exported class has or is using name '{1}' from private module '{2}'."},Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:{code:4028,category:ts.DiagnosticCategory.Error,key:"Public static property '{0}' of exported class has or is using private name '{1}'."},Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4029,category:ts.DiagnosticCategory.Error,key:"Public property '{0}' of exported class has or is using name '{1}' from external module {2} but cannot be named."},Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4030,category:ts.DiagnosticCategory.Error,key:"Public property '{0}' of exported class has or is using name '{1}' from private module '{2}'."},Public_property_0_of_exported_class_has_or_is_using_private_name_1:{code:4031,category:ts.DiagnosticCategory.Error,key:"Public property '{0}' of exported class has or is using private name '{1}'."},Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4032,category:ts.DiagnosticCategory.Error,key:"Property '{0}' of exported interface has or is using name '{1}' from private module '{2}'."},Property_0_of_exported_interface_has_or_is_using_private_name_1:{code:4033,category:ts.DiagnosticCategory.Error,key:"Property '{0}' of exported interface has or is using private name '{1}'."},Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4034,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public static property setter from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1:{code:4035,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public static property setter from exported class has or is using private name '{1}'."},Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4036,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public property setter from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1:{code:4037,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public property setter from exported class has or is using private name '{1}'."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4038,category:ts.DiagnosticCategory.Error,key:"Return type of public static property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4039,category:ts.DiagnosticCategory.Error,key:"Return type of public static property getter from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0:{code:4040,category:ts.DiagnosticCategory.Error,key:"Return type of public static property getter from exported class has or is using private name '{0}'."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4041,category:ts.DiagnosticCategory.Error,key:"Return type of public property getter from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4042,category:ts.DiagnosticCategory.Error,key:"Return type of public property getter from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0:{code:4043,category:ts.DiagnosticCategory.Error,key:"Return type of public property getter from exported class has or is using private name '{0}'."},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4044,category:ts.DiagnosticCategory.Error,key:"Return type of constructor signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4045,category:ts.DiagnosticCategory.Error,key:"Return type of constructor signature from exported interface has or is using private name '{0}'."},Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4046,category:ts.DiagnosticCategory.Error,key:"Return type of call signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4047,category:ts.DiagnosticCategory.Error,key:"Return type of call signature from exported interface has or is using private name '{0}'."},Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4048,category:ts.DiagnosticCategory.Error,key:"Return type of index signature from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0:{code:4049,category:ts.DiagnosticCategory.Error,key:"Return type of index signature from exported interface has or is using private name '{0}'."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4050,category:ts.DiagnosticCategory.Error,key:"Return type of public static method from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4051,category:ts.DiagnosticCategory.Error,key:"Return type of public static method from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:{code:4052,category:ts.DiagnosticCategory.Error,key:"Return type of public static method from exported class has or is using private name '{0}'."},Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4053,category:ts.DiagnosticCategory.Error,key:"Return type of public method from exported class has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:{code:4054,category:ts.DiagnosticCategory.Error,key:"Return type of public method from exported class has or is using name '{0}' from private module '{1}'."},Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:{code:4055,category:ts.DiagnosticCategory.Error,key:"Return type of public method from exported class has or is using private name '{0}'."},Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:{code:4056,category:ts.DiagnosticCategory.Error,key:"Return type of method from exported interface has or is using name '{0}' from private module '{1}'."},Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0:{code:4057,category:ts.DiagnosticCategory.Error,key:"Return type of method from exported interface has or is using private name '{0}'."},Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:{code:4058,category:ts.DiagnosticCategory.Error,key:"Return type of exported function has or is using name '{0}' from external module {1} but cannot be named."},Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:{code:4059,category:ts.DiagnosticCategory.Error,key:"Return type of exported function has or is using name '{0}' from private module '{1}'."},Return_type_of_exported_function_has_or_is_using_private_name_0:{code:4060,category:ts.DiagnosticCategory.Error,key:"Return type of exported function has or is using private name '{0}'."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4061,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of constructor from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4062,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of constructor from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1:{code:4063,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of constructor from exported class has or is using private name '{1}'."},Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4064,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of constructor signature from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4065,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of constructor signature from exported interface has or is using private name '{1}'."
},Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4066,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of call signature from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1:{code:4067,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of call signature from exported interface has or is using private name '{1}'."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4068,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public static method from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4069,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public static method from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:{code:4070,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public static method from exported class has or is using private name '{1}'."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4071,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public method from exported class has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:{code:4072,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public method from exported class has or is using name '{1}' from private module '{2}'."},Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:{code:4073,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of public method from exported class has or is using private name '{1}'."},Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:{code:4074,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of method from exported interface has or is using name '{1}' from private module '{2}'."},Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1:{code:4075,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of method from exported interface has or is using private name '{1}'."},Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:{code:4076,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of exported function has or is using name '{1}' from external module {2} but cannot be named."},Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:{code:4077,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of exported function has or is using name '{1}' from private module '{2}'."},Parameter_0_of_exported_function_has_or_is_using_private_name_1:{code:4078,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' of exported function has or is using private name '{1}'."},Exported_type_alias_0_has_or_is_using_private_name_1:{code:4081,category:ts.DiagnosticCategory.Error,key:"Exported type alias '{0}' has or is using private name '{1}'."},Default_export_of_the_module_has_or_is_using_private_name_0:{code:4082,category:ts.DiagnosticCategory.Error,key:"Default export of the module has or is using private name '{0}'."},Loop_contains_block_scoped_variable_0_referenced_by_a_function_in_the_loop_This_is_only_supported_in_ECMAScript_6_or_higher:{code:4091,category:ts.DiagnosticCategory.Error,key:"Loop contains block-scoped variable '{0}' referenced by a function in the loop. This is only supported in ECMAScript 6 or higher."},The_current_host_does_not_support_the_0_option:{code:5001,category:ts.DiagnosticCategory.Error,key:"The current host does not support the '{0}' option."},Cannot_find_the_common_subdirectory_path_for_the_input_files:{code:5009,category:ts.DiagnosticCategory.Error,key:"Cannot find the common subdirectory path for the input files."},Cannot_read_file_0_Colon_1:{code:5012,category:ts.DiagnosticCategory.Error,key:"Cannot read file '{0}': {1}"},Unsupported_file_encoding:{code:5013,category:ts.DiagnosticCategory.Error,key:"Unsupported file encoding."},Failed_to_parse_file_0_Colon_1:{code:5014,category:ts.DiagnosticCategory.Error,key:"Failed to parse file '{0}': {1}."},Unknown_compiler_option_0:{code:5023,category:ts.DiagnosticCategory.Error,key:"Unknown compiler option '{0}'."},Compiler_option_0_requires_a_value_of_type_1:{code:5024,category:ts.DiagnosticCategory.Error,key:"Compiler option '{0}' requires a value of type {1}."},Could_not_write_file_0_Colon_1:{code:5033,category:ts.DiagnosticCategory.Error,key:"Could not write file '{0}': {1}"},Option_project_cannot_be_mixed_with_source_files_on_a_command_line:{code:5042,category:ts.DiagnosticCategory.Error,key:"Option 'project' cannot be mixed with source files on a command line."},Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES6_or_higher:{code:5047,category:ts.DiagnosticCategory.Error,key:"Option 'isolatedModules' can only be used when either option'--module' is provided or option 'target' is 'ES6' or higher."},Option_inlineSources_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided:{code:5051,category:ts.DiagnosticCategory.Error,key:"Option 'inlineSources' can only be used when either option '--inlineSourceMap' or option '--sourceMap' is provided."},Option_0_cannot_be_specified_without_specifying_option_1:{code:5052,category:ts.DiagnosticCategory.Error,key:"Option '{0}' cannot be specified without specifying option '{1}'."},Option_0_cannot_be_specified_with_option_1:{code:5053,category:ts.DiagnosticCategory.Error,key:"Option '{0}' cannot be specified with option '{1}'."},A_tsconfig_json_file_is_already_defined_at_Colon_0:{code:5054,category:ts.DiagnosticCategory.Error,key:"A 'tsconfig.json' file is already defined at: '{0}'."},Concatenate_and_emit_output_to_single_file:{code:6001,category:ts.DiagnosticCategory.Message,key:"Concatenate and emit output to single file."},Generates_corresponding_d_ts_file:{code:6002,category:ts.DiagnosticCategory.Message,key:"Generates corresponding '.d.ts' file."},Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:{code:6003,category:ts.DiagnosticCategory.Message,key:"Specifies the location where debugger should locate map files instead of generated locations."},Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:{code:6004,category:ts.DiagnosticCategory.Message,key:"Specifies the location where debugger should locate TypeScript files instead of source locations."},Watch_input_files:{code:6005,category:ts.DiagnosticCategory.Message,key:"Watch input files."},Redirect_output_structure_to_the_directory:{code:6006,category:ts.DiagnosticCategory.Message,key:"Redirect output structure to the directory."},Do_not_erase_const_enum_declarations_in_generated_code:{code:6007,category:ts.DiagnosticCategory.Message,key:"Do not erase const enum declarations in generated code."},Do_not_emit_outputs_if_any_errors_were_reported:{code:6008,category:ts.DiagnosticCategory.Message,key:"Do not emit outputs if any errors were reported."},Do_not_emit_comments_to_output:{code:6009,category:ts.DiagnosticCategory.Message,key:"Do not emit comments to output."},Do_not_emit_outputs:{code:6010,category:ts.DiagnosticCategory.Message,key:"Do not emit outputs."},Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES6_experimental:{code:6015,category:ts.DiagnosticCategory.Message,key:"Specify ECMAScript target version: 'ES3' (default), 'ES5', or 'ES6' (experimental)"},Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es6:{code:6016,category:ts.DiagnosticCategory.Message,key:"Specify module code generation: 'commonjs', 'amd', 'system', 'umd' or 'es6'"},Print_this_message:{code:6017,category:ts.DiagnosticCategory.Message,key:"Print this message."},Print_the_compiler_s_version:{code:6019,category:ts.DiagnosticCategory.Message,key:"Print the compiler's version."},Compile_the_project_in_the_given_directory:{code:6020,category:ts.DiagnosticCategory.Message,key:"Compile the project in the given directory."},Syntax_Colon_0:{code:6023,category:ts.DiagnosticCategory.Message,key:"Syntax: {0}"},options:{code:6024,category:ts.DiagnosticCategory.Message,key:"options"},file:{code:6025,category:ts.DiagnosticCategory.Message,key:"file"},Examples_Colon_0:{code:6026,category:ts.DiagnosticCategory.Message,key:"Examples: {0}"},Options_Colon:{code:6027,category:ts.DiagnosticCategory.Message,key:"Options:"},Version_0:{code:6029,category:ts.DiagnosticCategory.Message,key:"Version {0}"},Insert_command_line_options_and_files_from_a_file:{code:6030,category:ts.DiagnosticCategory.Message,key:"Insert command line options and files from a file."},File_change_detected_Starting_incremental_compilation:{code:6032,category:ts.DiagnosticCategory.Message,key:"File change detected. Starting incremental compilation..."},KIND:{code:6034,category:ts.DiagnosticCategory.Message,key:"KIND"},FILE:{code:6035,category:ts.DiagnosticCategory.Message,key:"FILE"},VERSION:{code:6036,category:ts.DiagnosticCategory.Message,key:"VERSION"},LOCATION:{code:6037,category:ts.DiagnosticCategory.Message,key:"LOCATION"},DIRECTORY:{code:6038,category:ts.DiagnosticCategory.Message,key:"DIRECTORY"},Compilation_complete_Watching_for_file_changes:{code:6042,category:ts.DiagnosticCategory.Message,key:"Compilation complete. Watching for file changes."},Generates_corresponding_map_file:{code:6043,category:ts.DiagnosticCategory.Message,key:"Generates corresponding '.map' file."},Compiler_option_0_expects_an_argument:{code:6044,category:ts.DiagnosticCategory.Error,key:"Compiler option '{0}' expects an argument."},Unterminated_quoted_string_in_response_file_0:{code:6045,category:ts.DiagnosticCategory.Error,key:"Unterminated quoted string in response file '{0}'."},Argument_for_module_option_must_be_commonjs_amd_system_umd_or_es6:{code:6046,category:ts.DiagnosticCategory.Error,key:"Argument for '--module' option must be 'commonjs', 'amd', 'system', 'umd', or 'es6'."},Argument_for_target_option_must_be_ES3_ES5_or_ES6:{code:6047,category:ts.DiagnosticCategory.Error,key:"Argument for '--target' option must be 'ES3', 'ES5', or 'ES6'."},Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:{code:6048,category:ts.DiagnosticCategory.Error,key:"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'."},Unsupported_locale_0:{code:6049,category:ts.DiagnosticCategory.Error,key:"Unsupported locale '{0}'."},Unable_to_open_file_0:{code:6050,category:ts.DiagnosticCategory.Error,key:"Unable to open file '{0}'."},Corrupted_locale_file_0:{code:6051,category:ts.DiagnosticCategory.Error,key:"Corrupted locale file {0}."},Raise_error_on_expressions_and_declarations_with_an_implied_any_type:{code:6052,category:ts.DiagnosticCategory.Message,key:"Raise error on expressions and declarations with an implied 'any' type."},File_0_not_found:{code:6053,category:ts.DiagnosticCategory.Error,key:"File '{0}' not found."},File_0_has_unsupported_extension_The_only_supported_extensions_are_1:{code:6054,category:ts.DiagnosticCategory.Error,key:"File '{0}' has unsupported extension. The only supported extensions are {1}."},Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures:{code:6055,category:ts.DiagnosticCategory.Message,key:"Suppress noImplicitAny errors for indexing objects lacking index signatures."},Do_not_emit_declarations_for_code_that_has_an_internal_annotation:{code:6056,category:ts.DiagnosticCategory.Message,key:"Do not emit declarations for code that has an '@internal' annotation."},Specifies_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir:{code:6058,category:ts.DiagnosticCategory.Message,key:"Specifies the root directory of input files. Use to control the output directory structure with --outDir."},File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files:{code:6059,category:ts.DiagnosticCategory.Error,key:"File '{0}' is not under 'rootDir' '{1}'. 'rootDir' is expected to contain all source files."},Specifies_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix:{code:6060,category:ts.DiagnosticCategory.Message,key:"Specifies the end of line sequence to be used when emitting files: 'CRLF' (dos) or 'LF' (unix)."},NEWLINE:{code:6061,category:ts.DiagnosticCategory.Message,key:"NEWLINE"},Argument_for_newLine_option_must_be_CRLF_or_LF:{code:6062,category:ts.DiagnosticCategory.Error,key:"Argument for '--newLine' option must be 'CRLF' or 'LF'."},Argument_for_moduleResolution_option_must_be_node_or_classic:{code:6063,category:ts.DiagnosticCategory.Error,key:"Argument for '--moduleResolution' option must be 'node' or 'classic'."},Specify_JSX_code_generation_Colon_preserve_or_react:{code:6080,category:ts.DiagnosticCategory.Message,key:"Specify JSX code generation: 'preserve' or 'react'"},Argument_for_jsx_must_be_preserve_or_react:{code:6081,category:ts.DiagnosticCategory.Message,key:"Argument for '--jsx' must be 'preserve' or 'react'."},Enables_experimental_support_for_ES7_decorators:{code:6065,category:ts.DiagnosticCategory.Message,key:"Enables experimental support for ES7 decorators."},Enables_experimental_support_for_emitting_type_metadata_for_decorators:{code:6066,category:ts.DiagnosticCategory.Message,key:"Enables experimental support for emitting type metadata for decorators."},Enables_experimental_support_for_ES7_async_functions:{code:6068,category:ts.DiagnosticCategory.Message,key:"Enables experimental support for ES7 async functions."},Specifies_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6:{code:6069,category:ts.DiagnosticCategory.Message,key:"Specifies module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6)."},Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file:{code:6070,category:ts.DiagnosticCategory.Message,key:"Initializes a TypeScript project and creates a tsconfig.json file."},Successfully_created_a_tsconfig_json_file:{code:6071,category:ts.DiagnosticCategory.Message,key:"Successfully created a tsconfig.json file."},Suppress_excess_property_checks_for_object_literals:{code:6072,category:ts.DiagnosticCategory.Message,key:"Suppress excess property checks for object literals."},Variable_0_implicitly_has_an_1_type:{code:7005,category:ts.DiagnosticCategory.Error,key:"Variable '{0}' implicitly has an '{1}' type."},Parameter_0_implicitly_has_an_1_type:{code:7006,category:ts.DiagnosticCategory.Error,key:"Parameter '{0}' implicitly has an '{1}' type."},Member_0_implicitly_has_an_1_type:{code:7008,category:ts.DiagnosticCategory.Error,key:"Member '{0}' implicitly has an '{1}' type."},new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type:{code:7009,category:ts.DiagnosticCategory.Error,key:"'new' expression, whose target lacks a construct signature, implicitly has an 'any' type."},_0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type:{code:7010,category:ts.DiagnosticCategory.Error,key:"'{0}', which lacks return-type annotation, implicitly has an '{1}' return type."},Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type:{code:7011,category:ts.DiagnosticCategory.Error,key:"Function expression, which lacks return-type annotation, implicitly has an '{0}' return type."},Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:{code:7013,category:ts.DiagnosticCategory.Error,key:"Construct signature, which lacks return-type annotation, implicitly has an 'any' return type."},Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_type_annotation:{code:7016,category:ts.DiagnosticCategory.Error,key:"Property '{0}' implicitly has type 'any', because its 'set' accessor lacks a type annotation."},Index_signature_of_object_type_implicitly_has_an_any_type:{code:7017,category:ts.DiagnosticCategory.Error,key:"Index signature of object type implicitly has an 'any' type."},Object_literal_s_property_0_implicitly_has_an_1_type:{code:7018,category:ts.DiagnosticCategory.Error,key:"Object literal's property '{0}' implicitly has an '{1}' type."},Rest_parameter_0_implicitly_has_an_any_type:{code:7019,category:ts.DiagnosticCategory.Error,key:"Rest parameter '{0}' implicitly has an 'any[]' type."},Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:{code:7020,category:ts.DiagnosticCategory.Error,key:"Call signature, which lacks return-type annotation, implicitly has an 'any' return type."},_0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer:{code:7022,category:ts.DiagnosticCategory.Error,key:"'{0}' implicitly has type 'any' because it does not have a type annotation and is referenced directly or indirectly in its own initializer."},_0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:{code:7023,category:ts.DiagnosticCategory.Error,key:"'{0}' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."},Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions:{code:7024,category:ts.DiagnosticCategory.Error,key:"Function implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions."},Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type:{code:7025,category:ts.DiagnosticCategory.Error,key:"Generator implicitly has type '{0}' because it does not yield any values. Consider supplying a return type."},JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists:{code:7026,category:ts.DiagnosticCategory.Error,key:"JSX element implicitly has type 'any' because no interface 'JSX.{0}' exists"},You_cannot_rename_this_element:{code:8e3,category:ts.DiagnosticCategory.Error,key:"You cannot rename this element."},You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library:{code:8001,category:ts.DiagnosticCategory.Error,key:"You cannot rename elements that are defined in the standard TypeScript library."},import_can_only_be_used_in_a_ts_file:{code:8002,category:ts.DiagnosticCategory.Error,key:"'import ... =' can only be used in a .ts file."},export_can_only_be_used_in_a_ts_file:{code:8003,category:ts.DiagnosticCategory.Error,key:"'export=' can only be used in a .ts file."},type_parameter_declarations_can_only_be_used_in_a_ts_file:{code:8004,category:ts.DiagnosticCategory.Error,key:"'type parameter declarations' can only be used in a .ts file."},implements_clauses_can_only_be_used_in_a_ts_file:{code:8005,category:ts.DiagnosticCategory.Error,key:"'implements clauses' can only be used in a .ts file."},interface_declarations_can_only_be_used_in_a_ts_file:{code:8006,category:ts.DiagnosticCategory.Error,key:"'interface declarations' can only be used in a .ts file."},module_declarations_can_only_be_used_in_a_ts_file:{code:8007,category:ts.DiagnosticCategory.Error,key:"'module declarations' can only be used in a .ts file."},type_aliases_can_only_be_used_in_a_ts_file:{code:8008,category:ts.DiagnosticCategory.Error,key:"'type aliases' can only be used in a .ts file."},_0_can_only_be_used_in_a_ts_file:{code:8009,category:ts.DiagnosticCategory.Error,key:"'{0}' can only be used in a .ts file."},types_can_only_be_used_in_a_ts_file:{code:8010,category:ts.DiagnosticCategory.Error,key:"'types' can only be used in a .ts file."},type_arguments_can_only_be_used_in_a_ts_file:{code:8011,category:ts.DiagnosticCategory.Error,key:"'type arguments' can only be used in a .ts file."},parameter_modifiers_can_only_be_used_in_a_ts_file:{code:8012,category:ts.DiagnosticCategory.Error,key:"'parameter modifiers' can only be used in a .ts file."},property_declarations_can_only_be_used_in_a_ts_file:{code:8014,category:ts.DiagnosticCategory.Error,key:"'property declarations' can only be used in a .ts file."},enum_declarations_can_only_be_used_in_a_ts_file:{code:8015,category:ts.DiagnosticCategory.Error,key:"'enum declarations' can only be used in a .ts file."},type_assertion_expressions_can_only_be_used_in_a_ts_file:{code:8016,category:ts.DiagnosticCategory.Error,key:"'type assertion expressions' can only be used in a .ts file."},decorators_can_only_be_used_in_a_ts_file:{code:8017,category:ts.DiagnosticCategory.Error,key:"'decorators' can only be used in a .ts file."},Only_identifiers_Slashqualified_names_with_optional_type_arguments_are_currently_supported_in_a_class_extends_clauses:{code:9002,category:ts.DiagnosticCategory.Error,key:"Only identifiers/qualified-names with optional type arguments are currently supported in a class 'extends' clauses."},class_expressions_are_not_currently_supported:{code:9003,category:ts.DiagnosticCategory.Error,key:"'class' expressions are not currently supported."},JSX_attributes_must_only_be_assigned_a_non_empty_expression:{code:17e3,category:ts.DiagnosticCategory.Error,key:"JSX attributes must only be assigned a non-empty 'expression'."},JSX_elements_cannot_have_multiple_attributes_with_the_same_name:{code:17001,category:ts.DiagnosticCategory.Error,key:"JSX elements cannot have multiple attributes with the same name."},Expected_corresponding_JSX_closing_tag_for_0:{code:17002,category:ts.DiagnosticCategory.Error,key:"Expected corresponding JSX closing tag for '{0}'."},JSX_attribute_expected:{code:17003,category:ts.DiagnosticCategory.Error,key:"JSX attribute expected."},Cannot_use_JSX_unless_the_jsx_flag_is_provided:{code:17004,category:ts.DiagnosticCategory.Error,key:"Cannot use JSX unless the '--jsx' flag is provided."},A_constructor_cannot_contain_a_super_call_when_its_class_extends_null:{code:17005,category:ts.DiagnosticCategory.Error,key:"A constructor cannot contain a 'super' call when its class extends 'null'"},An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:{code:17006,category:ts.DiagnosticCategory.Error,key:"An unary expression with the '{0}' operator is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."},A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses:{code:17007,category:ts.DiagnosticCategory.Error,key:"A type assertion expression is not allowed in the left-hand side of an exponentiation expression. Consider enclosing the expression in parentheses."}}})(ts||(ts={}));var ts;(function(ts){function tokenIsIdentifierOrKeyword(token){return token>=69}ts.tokenIsIdentifierOrKeyword=tokenIsIdentifierOrKeyword;var textToToken={"abstract":115,any:117,as:116,"boolean":120,"break":70,"case":71,"catch":72,"class":73,"continue":75,"const":74,constructor:121,"debugger":76,declare:122,"default":77,"delete":78,"do":79,"else":80,"enum":81,"export":82,"extends":83,"false":84,"finally":85,"for":86,from:133,"function":87,get:123,"if":88,"implements":106,"import":89,"in":90,"instanceof":91,"interface":107,is:124,let:108,module:125,namespace:126,"new":92,"null":93,number:128,"package":109,"private":110,"protected":111,"public":112,require:127,"return":94,set:129,"static":113,string:130,"super":95,"switch":96,symbol:131,"this":97,"throw":98,"true":99,"try":100,type:132,"typeof":101,"var":102,"void":103,"while":104,"with":105,"yield":114,async:118,await:119,of:134,"{":15,"}":16,"(":17,")":18,"[":19,"]":20,".":21,"...":22,";":23,",":24,"<":25,">":27,"<=":28,">=":29,"==":30,"!=":31,"===":32,"!==":33,"=>":34,"+":35,"-":36,"**":38,"*":37,"/":39,"%":40,"++":41,"--":42,"<<":43,"</":26,">>":44,">>>":45,"&":46,"|":47,"^":48,"!":49,"~":50,"&&":51,"||":52,"?":53,":":54,"=":56,"+=":57,"-=":58,"*=":59,"**=":60,"/=":61,"%=":62,"<<=":63,">>=":64,">>>=":65,"&=":66,"|=":67,"^=":68,"@":55};var unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];var unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500];var unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];
var unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];function lookupInUnicodeMap(code,map){if(code<map[0]){return false}var lo=0;var hi=map.length;var mid;while(lo+1<hi){mid=lo+(hi-lo)/2;mid-=mid%2;if(map[mid]<=code&&code<=map[mid+1]){return true}if(code<map[mid]){hi=mid}else{lo=mid+2}}return false}function isUnicodeIdentifierStart(code,languageVersion){return languageVersion>=1?lookupInUnicodeMap(code,unicodeES5IdentifierStart):lookupInUnicodeMap(code,unicodeES3IdentifierStart)}ts.isUnicodeIdentifierStart=isUnicodeIdentifierStart;function isUnicodeIdentifierPart(code,languageVersion){return languageVersion>=1?lookupInUnicodeMap(code,unicodeES5IdentifierPart):lookupInUnicodeMap(code,unicodeES3IdentifierPart)}function makeReverseMap(source){var result=[];for(var name_4 in source){if(source.hasOwnProperty(name_4)){result[source[name_4]]=name_4}}return result}var tokenStrings=makeReverseMap(textToToken);function tokenToString(t){return tokenStrings[t]}ts.tokenToString=tokenToString;function stringToToken(s){return textToToken[s]}ts.stringToToken=stringToToken;function computeLineStarts(text){var result=new Array;var pos=0;var lineStart=0;while(pos<text.length){var ch=text.charCodeAt(pos++);switch(ch){case 13:if(text.charCodeAt(pos)===10){pos++}case 10:result.push(lineStart);lineStart=pos;break;default:if(ch>127&&isLineBreak(ch)){result.push(lineStart);lineStart=pos}break}}result.push(lineStart);return result}ts.computeLineStarts=computeLineStarts;function getPositionOfLineAndCharacter(sourceFile,line,character){return computePositionOfLineAndCharacter(getLineStarts(sourceFile),line,character)}ts.getPositionOfLineAndCharacter=getPositionOfLineAndCharacter;function computePositionOfLineAndCharacter(lineStarts,line,character){ts.Debug.assert(line>=0&&line<lineStarts.length);return lineStarts[line]+character}ts.computePositionOfLineAndCharacter=computePositionOfLineAndCharacter;function getLineStarts(sourceFile){return sourceFile.lineMap||(sourceFile.lineMap=computeLineStarts(sourceFile.text))}ts.getLineStarts=getLineStarts;function computeLineAndCharacterOfPosition(lineStarts,position){var lineNumber=ts.binarySearch(lineStarts,position);if(lineNumber<0){lineNumber=~lineNumber-1;ts.Debug.assert(lineNumber!==-1,"position cannot precede the beginning of the file")}return{line:lineNumber,character:position-lineStarts[lineNumber]}}ts.computeLineAndCharacterOfPosition=computeLineAndCharacterOfPosition;function getLineAndCharacterOfPosition(sourceFile,position){return computeLineAndCharacterOfPosition(getLineStarts(sourceFile),position)}ts.getLineAndCharacterOfPosition=getLineAndCharacterOfPosition;var hasOwnProperty=Object.prototype.hasOwnProperty;function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch===133||ch===5760||ch>=8192&&ch<=8203||ch===8239||ch===8287||ch===12288||ch===65279}ts.isWhiteSpace=isWhiteSpace;function isLineBreak(ch){return ch===10||ch===13||ch===8232||ch===8233}ts.isLineBreak=isLineBreak;function isDigit(ch){return ch>=48&&ch<=57}function isOctalDigit(ch){return ch>=48&&ch<=55}ts.isOctalDigit=isOctalDigit;function couldStartTrivia(text,pos){var ch=text.charCodeAt(pos);switch(ch){case 13:case 10:case 9:case 11:case 12:case 32:case 47:case 60:case 61:case 62:return true;case 35:return pos===0;default:return ch>127}}ts.couldStartTrivia=couldStartTrivia;function skipTrivia(text,pos,stopAfterLineBreak){while(true){var ch=text.charCodeAt(pos);switch(ch){case 13:if(text.charCodeAt(pos+1)===10){pos++}case 10:pos++;if(stopAfterLineBreak){return pos}continue;case 9:case 11:case 12:case 32:pos++;continue;case 47:if(text.charCodeAt(pos+1)===47){pos+=2;while(pos<text.length){if(isLineBreak(text.charCodeAt(pos))){break}pos++}continue}if(text.charCodeAt(pos+1)===42){pos+=2;while(pos<text.length){if(text.charCodeAt(pos)===42&&text.charCodeAt(pos+1)===47){pos+=2;break}pos++}continue}break;case 60:case 61:case 62:if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos);continue}break;case 35:if(pos===0&&isShebangTrivia(text,pos)){pos=scanShebangTrivia(text,pos);continue}break;default:if(ch>127&&(isWhiteSpace(ch)||isLineBreak(ch))){pos++;continue}break}return pos}}ts.skipTrivia=skipTrivia;var mergeConflictMarkerLength="<<<<<<<".length;function isConflictMarkerTrivia(text,pos){ts.Debug.assert(pos>=0);if(pos===0||isLineBreak(text.charCodeAt(pos-1))){var ch=text.charCodeAt(pos);if(pos+mergeConflictMarkerLength<text.length){for(var i=0,n=mergeConflictMarkerLength;i<n;i++){if(text.charCodeAt(pos+i)!==ch){return false}}return ch===61||text.charCodeAt(pos+mergeConflictMarkerLength)===32}}return false}function scanConflictMarkerTrivia(text,pos,error){if(error){error(ts.Diagnostics.Merge_conflict_marker_encountered,mergeConflictMarkerLength)}var ch=text.charCodeAt(pos);var len=text.length;if(ch===60||ch===62){while(pos<len&&!isLineBreak(text.charCodeAt(pos))){pos++}}else{ts.Debug.assert(ch===61);while(pos<len){var ch_1=text.charCodeAt(pos);if(ch_1===62&&isConflictMarkerTrivia(text,pos)){break}pos++}}return pos}var shebangTriviaRegex=/^#!.*/;function isShebangTrivia(text,pos){ts.Debug.assert(pos===0);return shebangTriviaRegex.test(text)}function scanShebangTrivia(text,pos){var shebang=shebangTriviaRegex.exec(text)[0];pos=pos+shebang.length;return pos}function getCommentRanges(text,pos,trailing){var result;var collecting=trailing||pos===0;while(true){var ch=text.charCodeAt(pos);switch(ch){case 13:if(text.charCodeAt(pos+1)===10){pos++}case 10:pos++;if(trailing){return result}collecting=true;if(result&&result.length){ts.lastOrUndefined(result).hasTrailingNewLine=true}continue;case 9:case 11:case 12:case 32:pos++;continue;case 47:var nextChar=text.charCodeAt(pos+1);var hasTrailingNewLine=false;if(nextChar===47||nextChar===42){var kind=nextChar===47?2:3;var startPos=pos;pos+=2;if(nextChar===47){while(pos<text.length){if(isLineBreak(text.charCodeAt(pos))){hasTrailingNewLine=true;break}pos++}}else{while(pos<text.length){if(text.charCodeAt(pos)===42&&text.charCodeAt(pos+1)===47){pos+=2;break}pos++}}if(collecting){if(!result){result=[]}result.push({pos:startPos,end:pos,hasTrailingNewLine:hasTrailingNewLine,kind:kind})}continue}break;default:if(ch>127&&(isWhiteSpace(ch)||isLineBreak(ch))){if(result&&result.length&&isLineBreak(ch)){ts.lastOrUndefined(result).hasTrailingNewLine=true}pos++;continue}break}return result}}function getLeadingCommentRanges(text,pos){return getCommentRanges(text,pos,false)}ts.getLeadingCommentRanges=getLeadingCommentRanges;function getTrailingCommentRanges(text,pos){return getCommentRanges(text,pos,true)}ts.getTrailingCommentRanges=getTrailingCommentRanges;function getShebang(text){return shebangTriviaRegex.test(text)?shebangTriviaRegex.exec(text)[0]:undefined}ts.getShebang=getShebang;function isIdentifierStart(ch,languageVersion){return ch>=65&&ch<=90||ch>=97&&ch<=122||ch===36||ch===95||ch>127&&isUnicodeIdentifierStart(ch,languageVersion)}ts.isIdentifierStart=isIdentifierStart;function isIdentifierPart(ch,languageVersion){return ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===36||ch===95||ch>127&&isUnicodeIdentifierPart(ch,languageVersion)}ts.isIdentifierPart=isIdentifierPart;function createScanner(languageVersion,skipTrivia,languageVariant,text,onError,start,length){if(languageVariant===void 0){languageVariant=0}var pos;var end;var startPos;var tokenPos;var token;var tokenValue;var precedingLineBreak;var hasExtendedUnicodeEscape;var tokenIsUnterminated;setText(text,start,length);return{getStartPos:function(){return startPos},getTextPos:function(){return pos},getToken:function(){return token},getTokenPos:function(){return tokenPos},getTokenText:function(){return text.substring(tokenPos,pos)},getTokenValue:function(){return tokenValue},hasExtendedUnicodeEscape:function(){return hasExtendedUnicodeEscape},hasPrecedingLineBreak:function(){return precedingLineBreak},isIdentifier:function(){return token===69||token>105},isReservedWord:function(){return token>=70&&token<=105},isUnterminated:function(){return tokenIsUnterminated},reScanGreaterToken:reScanGreaterToken,reScanSlashToken:reScanSlashToken,reScanTemplateToken:reScanTemplateToken,scanJsxIdentifier:scanJsxIdentifier,reScanJsxToken:reScanJsxToken,scanJsxToken:scanJsxToken,scan:scan,setText:setText,setScriptTarget:setScriptTarget,setLanguageVariant:setLanguageVariant,setOnError:setOnError,setTextPos:setTextPos,tryScan:tryScan,lookAhead:lookAhead};function error(message,length){if(onError){onError(message,length||0)}}function scanNumber(){var start=pos;while(isDigit(text.charCodeAt(pos)))pos++;if(text.charCodeAt(pos)===46){pos++;while(isDigit(text.charCodeAt(pos)))pos++}var end=pos;if(text.charCodeAt(pos)===69||text.charCodeAt(pos)===101){pos++;if(text.charCodeAt(pos)===43||text.charCodeAt(pos)===45)pos++;if(isDigit(text.charCodeAt(pos))){pos++;while(isDigit(text.charCodeAt(pos)))pos++;end=pos}else{error(ts.Diagnostics.Digit_expected)}}return+text.substring(start,end)}function scanOctalDigits(){var start=pos;while(isOctalDigit(text.charCodeAt(pos))){pos++}return+text.substring(start,pos)}function scanExactNumberOfHexDigits(count){return scanHexDigits(count,false)}function scanMinimumNumberOfHexDigits(count){return scanHexDigits(count,true)}function scanHexDigits(minCount,scanAsManyAsPossible){var digits=0;var value=0;while(digits<minCount||scanAsManyAsPossible){var ch=text.charCodeAt(pos);if(ch>=48&&ch<=57){value=value*16+ch-48}else if(ch>=65&&ch<=70){value=value*16+ch-65+10}else if(ch>=97&&ch<=102){value=value*16+ch-97+10}else{break}pos++;digits++}if(digits<minCount){value=-1}return value}function scanString(){var quote=text.charCodeAt(pos++);var result="";var start=pos;while(true){if(pos>=end){result+=text.substring(start,pos);tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_string_literal);break}var ch=text.charCodeAt(pos);if(ch===quote){result+=text.substring(start,pos);pos++;break}if(ch===92){result+=text.substring(start,pos);result+=scanEscapeSequence();start=pos;continue}if(isLineBreak(ch)){result+=text.substring(start,pos);tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_string_literal);break}pos++}return result}function scanTemplateAndSetTokenValue(){var startedWithBacktick=text.charCodeAt(pos)===96;pos++;var start=pos;var contents="";var resultingToken;while(true){if(pos>=end){contents+=text.substring(start,pos);tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_template_literal);resultingToken=startedWithBacktick?11:14;break}var currChar=text.charCodeAt(pos);if(currChar===96){contents+=text.substring(start,pos);pos++;resultingToken=startedWithBacktick?11:14;break}if(currChar===36&&pos+1<end&&text.charCodeAt(pos+1)===123){contents+=text.substring(start,pos);pos+=2;resultingToken=startedWithBacktick?12:13;break}if(currChar===92){contents+=text.substring(start,pos);contents+=scanEscapeSequence();start=pos;continue}if(currChar===13){contents+=text.substring(start,pos);pos++;if(pos<end&&text.charCodeAt(pos)===10){pos++}contents+="\n";start=pos;continue}pos++}ts.Debug.assert(resultingToken!==undefined);tokenValue=contents;return resultingToken}function scanEscapeSequence(){pos++;if(pos>=end){error(ts.Diagnostics.Unexpected_end_of_text);return""}var ch=text.charCodeAt(pos++);switch(ch){case 48:return"\x00";case 98:return"\b";case 116:return"	";case 110:return"\n";case 118:return"";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:if(pos<end&&text.charCodeAt(pos)===123){hasExtendedUnicodeEscape=true;pos++;return scanExtendedUnicodeEscape()}return scanHexadecimalEscape(4);case 120:return scanHexadecimalEscape(2);case 13:if(pos<end&&text.charCodeAt(pos)===10){pos++}case 10:case 8232:case 8233:return"";default:return String.fromCharCode(ch)}}function scanHexadecimalEscape(numDigits){var escapedValue=scanExactNumberOfHexDigits(numDigits);if(escapedValue>=0){return String.fromCharCode(escapedValue)}else{error(ts.Diagnostics.Hexadecimal_digit_expected);return""}}function scanExtendedUnicodeEscape(){var escapedValue=scanMinimumNumberOfHexDigits(1);var isInvalidExtendedEscape=false;if(escapedValue<0){error(ts.Diagnostics.Hexadecimal_digit_expected);isInvalidExtendedEscape=true}else if(escapedValue>1114111){error(ts.Diagnostics.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive);isInvalidExtendedEscape=true}if(pos>=end){error(ts.Diagnostics.Unexpected_end_of_text);isInvalidExtendedEscape=true}else if(text.charCodeAt(pos)===125){pos++}else{error(ts.Diagnostics.Unterminated_Unicode_escape_sequence);isInvalidExtendedEscape=true}if(isInvalidExtendedEscape){return""}return utf16EncodeAsString(escapedValue)}function utf16EncodeAsString(codePoint){ts.Debug.assert(0<=codePoint&&codePoint<=1114111);if(codePoint<=65535){return String.fromCharCode(codePoint)}var codeUnit1=Math.floor((codePoint-65536)/1024)+55296;var codeUnit2=(codePoint-65536)%1024+56320;return String.fromCharCode(codeUnit1,codeUnit2)}function peekUnicodeEscape(){if(pos+5<end&&text.charCodeAt(pos+1)===117){var start_1=pos;pos+=2;var value=scanExactNumberOfHexDigits(4);pos=start_1;return value}return-1}function scanIdentifierParts(){var result="";var start=pos;while(pos<end){var ch=text.charCodeAt(pos);if(isIdentifierPart(ch,languageVersion)){pos++}else if(ch===92){ch=peekUnicodeEscape();if(!(ch>=0&&isIdentifierPart(ch,languageVersion))){break}result+=text.substring(start,pos);result+=String.fromCharCode(ch);pos+=6;start=pos}else{break}}result+=text.substring(start,pos);return result}function getIdentifierToken(){var len=tokenValue.length;if(len>=2&&len<=11){var ch=tokenValue.charCodeAt(0);if(ch>=97&&ch<=122&&hasOwnProperty.call(textToToken,tokenValue)){return token=textToToken[tokenValue]}}return token=69}function scanBinaryOrOctalDigits(base){ts.Debug.assert(base!==2||base!==8,"Expected either base 2 or base 8");var value=0;var numberOfDigits=0;while(true){var ch=text.charCodeAt(pos);var valueOfCh=ch-48;if(!isDigit(ch)||valueOfCh>=base){break}value=value*base+valueOfCh;pos++;numberOfDigits++}if(numberOfDigits===0){return-1}return value}function scan(){startPos=pos;hasExtendedUnicodeEscape=false;precedingLineBreak=false;tokenIsUnterminated=false;while(true){tokenPos=pos;if(pos>=end){return token=1}var ch=text.charCodeAt(pos);if(ch===35&&pos===0&&isShebangTrivia(text,pos)){pos=scanShebangTrivia(text,pos);if(skipTrivia){continue}else{return token=6}}switch(ch){case 10:case 13:precedingLineBreak=true;if(skipTrivia){pos++;continue}else{if(ch===13&&pos+1<end&&text.charCodeAt(pos+1)===10){pos+=2}else{pos++}return token=4}case 9:case 11:case 12:case 32:if(skipTrivia){pos++;continue}else{while(pos<end&&isWhiteSpace(text.charCodeAt(pos))){pos++}return token=5}case 33:if(text.charCodeAt(pos+1)===61){if(text.charCodeAt(pos+2)===61){return pos+=3,token=33}return pos+=2,token=31}return pos++,token=49;case 34:case 39:tokenValue=scanString();return token=9;case 96:return token=scanTemplateAndSetTokenValue();case 37:if(text.charCodeAt(pos+1)===61){return pos+=2,token=62}return pos++,token=40;case 38:if(text.charCodeAt(pos+1)===38){return pos+=2,token=51}if(text.charCodeAt(pos+1)===61){return pos+=2,token=66}return pos++,token=46;case 40:return pos++,token=17;case 41:return pos++,token=18;case 42:if(text.charCodeAt(pos+1)===61){return pos+=2,token=59}if(text.charCodeAt(pos+1)===42){if(text.charCodeAt(pos+2)===61){return pos+=3,token=60}return pos+=2,token=38}return pos++,token=37;case 43:if(text.charCodeAt(pos+1)===43){return pos+=2,token=41}if(text.charCodeAt(pos+1)===61){return pos+=2,token=57}return pos++,token=35;case 44:return pos++,token=24;case 45:if(text.charCodeAt(pos+1)===45){return pos+=2,token=42}if(text.charCodeAt(pos+1)===61){return pos+=2,token=58}return pos++,token=36;case 46:if(isDigit(text.charCodeAt(pos+1))){tokenValue=""+scanNumber();return token=8}if(text.charCodeAt(pos+1)===46&&text.charCodeAt(pos+2)===46){return pos+=3,token=22}return pos++,token=21;case 47:if(text.charCodeAt(pos+1)===47){pos+=2;while(pos<end){if(isLineBreak(text.charCodeAt(pos))){break}pos++}if(skipTrivia){continue}else{return token=2}}if(text.charCodeAt(pos+1)===42){pos+=2;var commentClosed=false;while(pos<end){var ch_2=text.charCodeAt(pos);if(ch_2===42&&text.charCodeAt(pos+1)===47){pos+=2;commentClosed=true;break}if(isLineBreak(ch_2)){precedingLineBreak=true}pos++}if(!commentClosed){error(ts.Diagnostics.Asterisk_Slash_expected)}if(skipTrivia){continue}else{tokenIsUnterminated=!commentClosed;return token=3}}if(text.charCodeAt(pos+1)===61){return pos+=2,token=61}return pos++,token=39;case 48:if(pos+2<end&&(text.charCodeAt(pos+1)===88||text.charCodeAt(pos+1)===120)){pos+=2;var value=scanMinimumNumberOfHexDigits(1);if(value<0){error(ts.Diagnostics.Hexadecimal_digit_expected);value=0}tokenValue=""+value;return token=8}else if(pos+2<end&&(text.charCodeAt(pos+1)===66||text.charCodeAt(pos+1)===98)){pos+=2;var value=scanBinaryOrOctalDigits(2);if(value<0){error(ts.Diagnostics.Binary_digit_expected);value=0}tokenValue=""+value;return token=8}else if(pos+2<end&&(text.charCodeAt(pos+1)===79||text.charCodeAt(pos+1)===111)){pos+=2;var value=scanBinaryOrOctalDigits(8);if(value<0){error(ts.Diagnostics.Octal_digit_expected);value=0}tokenValue=""+value;return token=8}if(pos+1<end&&isOctalDigit(text.charCodeAt(pos+1))){tokenValue=""+scanOctalDigits();return token=8}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:tokenValue=""+scanNumber();return token=8;case 58:return pos++,token=54;case 59:return pos++,token=23;case 60:if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos,error);if(skipTrivia){continue}else{return token=7}}if(text.charCodeAt(pos+1)===60){if(text.charCodeAt(pos+2)===61){return pos+=3,token=63}return pos+=2,token=43}if(text.charCodeAt(pos+1)===61){return pos+=2,token=28}if(languageVariant===1&&text.charCodeAt(pos+1)===47&&text.charCodeAt(pos+2)!==42){return pos+=2,token=26}return pos++,token=25;case 61:if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos,error);if(skipTrivia){continue}else{return token=7}}if(text.charCodeAt(pos+1)===61){if(text.charCodeAt(pos+2)===61){return pos+=3,token=32}return pos+=2,token=30}if(text.charCodeAt(pos+1)===62){return pos+=2,token=34}return pos++,token=56;case 62:if(isConflictMarkerTrivia(text,pos)){pos=scanConflictMarkerTrivia(text,pos,error);if(skipTrivia){continue}else{return token=7}}return pos++,token=27;case 63:return pos++,token=53;case 91:return pos++,token=19;case 93:return pos++,token=20;case 94:if(text.charCodeAt(pos+1)===61){return pos+=2,token=68}return pos++,token=48;case 123:return pos++,token=15;case 124:if(text.charCodeAt(pos+1)===124){return pos+=2,token=52}if(text.charCodeAt(pos+1)===61){return pos+=2,token=67}return pos++,token=47;case 125:return pos++,token=16;case 126:return pos++,token=50;case 64:return pos++,token=55;case 92:var cookedChar=peekUnicodeEscape();if(cookedChar>=0&&isIdentifierStart(cookedChar,languageVersion)){pos+=6;tokenValue=String.fromCharCode(cookedChar)+scanIdentifierParts();return token=getIdentifierToken()}error(ts.Diagnostics.Invalid_character);return pos++,token=0;default:if(isIdentifierStart(ch,languageVersion)){pos++;while(pos<end&&isIdentifierPart(ch=text.charCodeAt(pos),languageVersion))pos++;tokenValue=text.substring(tokenPos,pos);if(ch===92){tokenValue+=scanIdentifierParts()}return token=getIdentifierToken()}else if(isWhiteSpace(ch)){pos++;continue}else if(isLineBreak(ch)){precedingLineBreak=true;pos++;continue}error(ts.Diagnostics.Invalid_character);return pos++,token=0}}}function reScanGreaterToken(){if(token===27){if(text.charCodeAt(pos)===62){if(text.charCodeAt(pos+1)===62){if(text.charCodeAt(pos+2)===61){return pos+=3,token=65}return pos+=2,token=45}if(text.charCodeAt(pos+1)===61){return pos+=2,token=64}return pos++,token=44}if(text.charCodeAt(pos)===61){return pos++,token=29}}return token}function reScanSlashToken(){if(token===39||token===61){var p=tokenPos+1;var inEscape=false;var inCharacterClass=false;while(true){if(p>=end){tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_regular_expression_literal);break}var ch=text.charCodeAt(p);if(isLineBreak(ch)){tokenIsUnterminated=true;error(ts.Diagnostics.Unterminated_regular_expression_literal);break}if(inEscape){inEscape=false}else if(ch===47&&!inCharacterClass){p++;break}else if(ch===91){inCharacterClass=true}else if(ch===92){inEscape=true}else if(ch===93){inCharacterClass=false}p++}while(p<end&&isIdentifierPart(text.charCodeAt(p),languageVersion)){p++}pos=p;tokenValue=text.substring(tokenPos,pos);token=10}return token}function reScanTemplateToken(){ts.Debug.assert(token===16,"'reScanTemplateToken' should only be called on a '}'");pos=tokenPos;return token=scanTemplateAndSetTokenValue()}function reScanJsxToken(){pos=tokenPos=startPos;return token=scanJsxToken()}function scanJsxToken(){startPos=tokenPos=pos;if(pos>=end){return token=1}var char=text.charCodeAt(pos);if(char===60){if(text.charCodeAt(pos+1)===47){pos+=2;return token=26}pos++;return token=25}if(char===123){pos++;return token=15}while(pos<end){pos++;char=text.charCodeAt(pos);if(char===123||char===60){break}}return token=236}function scanJsxIdentifier(){if(tokenIsIdentifierOrKeyword(token)){var firstCharPosition=pos;while(pos<end){var ch=text.charCodeAt(pos);if(ch===45||(firstCharPosition===pos?isIdentifierStart(ch,languageVersion):isIdentifierPart(ch,languageVersion))){pos++}else{break}}tokenValue+=text.substr(firstCharPosition,pos-firstCharPosition)}return token}function speculationHelper(callback,isLookahead){var savePos=pos;var saveStartPos=startPos;var saveTokenPos=tokenPos;var saveToken=token;var saveTokenValue=tokenValue;var savePrecedingLineBreak=precedingLineBreak;var result=callback();if(!result||isLookahead){pos=savePos;startPos=saveStartPos;tokenPos=saveTokenPos;token=saveToken;tokenValue=saveTokenValue;precedingLineBreak=savePrecedingLineBreak}return result}function lookAhead(callback){return speculationHelper(callback,true)}function tryScan(callback){return speculationHelper(callback,false)}function setText(newText,start,length){text=newText||"";end=length===undefined?text.length:start+length;setTextPos(start||0)}function setOnError(errorCallback){onError=errorCallback}function setScriptTarget(scriptTarget){languageVersion=scriptTarget}function setLanguageVariant(variant){languageVariant=variant}function setTextPos(textPos){ts.Debug.assert(textPos>=0);pos=textPos;startPos=textPos;tokenPos=textPos;token=0;precedingLineBreak=false;tokenValue=undefined;hasExtendedUnicodeEscape=false;tokenIsUnterminated=false}}ts.createScanner=createScanner})(ts||(ts={}));var ts;(function(ts){ts.bindTime=0;(function(ModuleInstanceState){ModuleInstanceState[ModuleInstanceState["NonInstantiated"]=0]="NonInstantiated";ModuleInstanceState[ModuleInstanceState["Instantiated"]=1]="Instantiated";ModuleInstanceState[ModuleInstanceState["ConstEnumOnly"]=2]="ConstEnumOnly"})(ts.ModuleInstanceState||(ts.ModuleInstanceState={}));var ModuleInstanceState=ts.ModuleInstanceState;function getModuleInstanceState(node){if(node.kind===215||node.kind===216){return 0}else if(ts.isConstEnumDeclaration(node)){return 2}else if((node.kind===222||node.kind===221)&&!(node.flags&1)){return 0}else if(node.kind===219){var state=0;ts.forEachChild(node,function(n){switch(getModuleInstanceState(n)){case 0:return false;case 2:state=2;return false;case 1:state=1;return true}});return state}else if(node.kind===218){return getModuleInstanceState(node.body)}else{return 1}}ts.getModuleInstanceState=getModuleInstanceState;var ContainerFlags;(function(ContainerFlags){ContainerFlags[ContainerFlags["None"]=0]="None";ContainerFlags[ContainerFlags["IsContainer"]=1]="IsContainer";ContainerFlags[ContainerFlags["IsBlockScopedContainer"]=2]="IsBlockScopedContainer";ContainerFlags[ContainerFlags["HasLocals"]=4]="HasLocals";ContainerFlags[ContainerFlags["IsContainerWithLocals"]=5]="IsContainerWithLocals"})(ContainerFlags||(ContainerFlags={}));function bindSourceFile(file){var start=(new Date).getTime();bindSourceFileWorker(file);ts.bindTime+=(new Date).getTime()-start}ts.bindSourceFile=bindSourceFile;function bindSourceFileWorker(file){var parent;var container;var blockScopeContainer;var lastContainer;var seenThisKeyword;var inStrictMode=!!file.externalModuleIndicator;var symbolCount=0;var Symbol=ts.objectAllocator.getSymbolConstructor();var classifiableNames={};if(!file.locals){bind(file);file.symbolCount=symbolCount;file.classifiableNames=classifiableNames}return;function createSymbol(flags,name){symbolCount++;return new Symbol(flags,name)}function addDeclarationToSymbol(symbol,node,symbolFlags){symbol.flags|=symbolFlags;node.symbol=symbol;if(!symbol.declarations){symbol.declarations=[]}symbol.declarations.push(node);if(symbolFlags&1952&&!symbol.exports){symbol.exports={}}if(symbolFlags&6240&&!symbol.members){symbol.members={}}if(symbolFlags&107455&&!symbol.valueDeclaration){symbol.valueDeclaration=node}}function getDeclarationName(node){if(node.name){if(node.kind===218&&node.name.kind===9){return'"'+node.name.text+'"'}if(node.name.kind===136){var nameExpression=node.name.expression;ts.Debug.assert(ts.isWellKnownSymbolSyntactically(nameExpression));return ts.getPropertyNameForKnownSymbolName(nameExpression.name.text)}return node.name.text}switch(node.kind){case 144:return"__constructor";case 152:case 147:return"__call";case 153:case 148:return"__new";case 149:return"__index";case 228:return"__export";case 227:return node.isExportEquals?"export=":"default";case 213:case 214:return node.flags&1024?"default":undefined}}function getDisplayName(node){return node.name?ts.declarationNameToString(node.name):getDeclarationName(node)}function declareSymbol(symbolTable,parent,node,includes,excludes){ts.Debug.assert(!ts.hasDynamicName(node));var isDefaultExport=node.flags&1024;var name=isDefaultExport&&parent?"default":getDeclarationName(node);var symbol;if(name!==undefined){symbol=ts.hasProperty(symbolTable,name)?symbolTable[name]:symbolTable[name]=createSymbol(0,name);if(name&&includes&788448){classifiableNames[name]=name}if(symbol.flags&excludes){if(node.name){node.name.parent=node}var message=symbol.flags&2?ts.Diagnostics.Cannot_redeclare_block_scoped_variable_0:ts.Diagnostics.Duplicate_identifier_0;ts.forEach(symbol.declarations,function(declaration){if(declaration.flags&1024){message=ts.Diagnostics.A_module_cannot_have_multiple_default_exports}});ts.forEach(symbol.declarations,function(declaration){file.bindDiagnostics.push(ts.createDiagnosticForNode(declaration.name||declaration,message,getDisplayName(declaration)))});file.bindDiagnostics.push(ts.createDiagnosticForNode(node.name||node,message,getDisplayName(node)));symbol=createSymbol(0,name)}}else{symbol=createSymbol(0,"__missing")}addDeclarationToSymbol(symbol,node,includes);symbol.parent=parent;return symbol}function declareModuleMember(node,symbolFlags,symbolExcludes){var hasExportModifier=ts.getCombinedNodeFlags(node)&1;if(symbolFlags&8388608){if(node.kind===230||node.kind===221&&hasExportModifier){return declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes)}else{return declareSymbol(container.locals,undefined,node,symbolFlags,symbolExcludes)}}else{if(hasExportModifier||container.flags&262144){var exportKind=(symbolFlags&107455?1048576:0)|(symbolFlags&793056?2097152:0)|(symbolFlags&1536?4194304:0);var local=declareSymbol(container.locals,undefined,node,exportKind,symbolExcludes);local.exportSymbol=declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes);node.localSymbol=local;return local}else{
return declareSymbol(container.locals,undefined,node,symbolFlags,symbolExcludes)}}}function bindChildren(node){var saveParent=parent;var saveContainer=container;var savedBlockScopeContainer=blockScopeContainer;parent=node;var containerFlags=getContainerFlags(node);if(containerFlags&1){container=blockScopeContainer=node;if(containerFlags&4){container.locals={}}addToContainerChain(container)}else if(containerFlags&2){blockScopeContainer=node;blockScopeContainer.locals=undefined}if(node.kind===215){seenThisKeyword=false;ts.forEachChild(node,bind);node.flags=seenThisKeyword?node.flags|524288:node.flags&~524288}else{ts.forEachChild(node,bind)}container=saveContainer;parent=saveParent;blockScopeContainer=savedBlockScopeContainer}function getContainerFlags(node){switch(node.kind){case 186:case 214:case 215:case 217:case 155:case 165:return 1;case 147:case 148:case 149:case 143:case 142:case 213:case 144:case 145:case 146:case 152:case 153:case 173:case 174:case 218:case 248:case 216:return 5;case 244:case 199:case 200:case 201:case 220:return 2;case 192:return ts.isFunctionLike(node.parent)?0:2}return 0}function addToContainerChain(next){if(lastContainer){lastContainer.nextContainer=next}lastContainer=next}function declareSymbolAndAddToSymbolTable(node,symbolFlags,symbolExcludes){declareSymbolAndAddToSymbolTableWorker(node,symbolFlags,symbolExcludes)}function declareSymbolAndAddToSymbolTableWorker(node,symbolFlags,symbolExcludes){switch(container.kind){case 218:return declareModuleMember(node,symbolFlags,symbolExcludes);case 248:return declareSourceFileMember(node,symbolFlags,symbolExcludes);case 186:case 214:return declareClassMember(node,symbolFlags,symbolExcludes);case 217:return declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes);case 155:case 165:case 215:return declareSymbol(container.symbol.members,container.symbol,node,symbolFlags,symbolExcludes);case 152:case 153:case 147:case 148:case 149:case 143:case 142:case 144:case 145:case 146:case 213:case 173:case 174:case 216:return declareSymbol(container.locals,undefined,node,symbolFlags,symbolExcludes)}}function declareClassMember(node,symbolFlags,symbolExcludes){return node.flags&128?declareSymbol(container.symbol.exports,container.symbol,node,symbolFlags,symbolExcludes):declareSymbol(container.symbol.members,container.symbol,node,symbolFlags,symbolExcludes)}function declareSourceFileMember(node,symbolFlags,symbolExcludes){return ts.isExternalModule(file)?declareModuleMember(node,symbolFlags,symbolExcludes):declareSymbol(file.locals,undefined,node,symbolFlags,symbolExcludes)}function isAmbientContext(node){while(node){if(node.flags&2){return true}node=node.parent}return false}function hasExportDeclarations(node){var body=node.kind===248?node:node.body;if(body.kind===248||body.kind===219){for(var _i=0,_a=body.statements;_i<_a.length;_i++){var stat=_a[_i];if(stat.kind===228||stat.kind===227){return true}}}return false}function setExportContextFlag(node){if(isAmbientContext(node)&&!hasExportDeclarations(node)){node.flags|=262144}else{node.flags&=~262144}}function bindModuleDeclaration(node){setExportContextFlag(node);if(node.name.kind===9){declareSymbolAndAddToSymbolTable(node,512,106639)}else{var state=getModuleInstanceState(node);if(state===0){declareSymbolAndAddToSymbolTable(node,1024,0)}else{declareSymbolAndAddToSymbolTable(node,512,106639);if(node.symbol.flags&(16|32|256)){node.symbol.constEnumOnlyModule=false}else{var currentModuleIsConstEnumOnly=state===2;if(node.symbol.constEnumOnlyModule===undefined){node.symbol.constEnumOnlyModule=currentModuleIsConstEnumOnly}else{node.symbol.constEnumOnlyModule=node.symbol.constEnumOnlyModule&&currentModuleIsConstEnumOnly}}}}}function bindFunctionOrConstructorType(node){var symbol=createSymbol(131072,getDeclarationName(node));addDeclarationToSymbol(symbol,node,131072);var typeLiteralSymbol=createSymbol(2048,"__type");addDeclarationToSymbol(typeLiteralSymbol,node,2048);typeLiteralSymbol.members=(_a={},_a[symbol.name]=symbol,_a);var _a}function bindObjectLiteralExpression(node){var ElementKind;(function(ElementKind){ElementKind[ElementKind["Property"]=1]="Property";ElementKind[ElementKind["Accessor"]=2]="Accessor"})(ElementKind||(ElementKind={}));if(inStrictMode){var seen={};for(var _i=0,_a=node.properties;_i<_a.length;_i++){var prop=_a[_i];if(prop.name.kind!==69){continue}var identifier=prop.name;var currentKind=prop.kind===245||prop.kind===246||prop.kind===143?1:2;var existingKind=seen[identifier.text];if(!existingKind){seen[identifier.text]=currentKind;continue}if(currentKind===1&&existingKind===1){var span=ts.getErrorSpanForNode(file,identifier);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,ts.Diagnostics.An_object_literal_cannot_have_multiple_properties_with_the_same_name_in_strict_mode))}}}return bindAnonymousDeclaration(node,4096,"__object")}function bindAnonymousDeclaration(node,symbolFlags,name){var symbol=createSymbol(symbolFlags,name);addDeclarationToSymbol(symbol,node,symbolFlags)}function bindBlockScopedDeclaration(node,symbolFlags,symbolExcludes){switch(blockScopeContainer.kind){case 218:declareModuleMember(node,symbolFlags,symbolExcludes);break;case 248:if(ts.isExternalModule(container)){declareModuleMember(node,symbolFlags,symbolExcludes);break}default:if(!blockScopeContainer.locals){blockScopeContainer.locals={};addToContainerChain(blockScopeContainer)}declareSymbol(blockScopeContainer.locals,undefined,node,symbolFlags,symbolExcludes)}}function bindBlockScopedVariableDeclaration(node){bindBlockScopedDeclaration(node,2,107455)}function checkStrictModeIdentifier(node){if(inStrictMode&&node.originalKeywordKind>=106&&node.originalKeywordKind<=114&&!ts.isIdentifierName(node)){if(!file.parseDiagnostics.length){file.bindDiagnostics.push(ts.createDiagnosticForNode(node,getStrictModeIdentifierMessage(node),ts.declarationNameToString(node)))}}}function getStrictModeIdentifierMessage(node){if(ts.getContainingClass(node)){return ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Class_definitions_are_automatically_in_strict_mode}if(file.externalModuleIndicator){return ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode}return ts.Diagnostics.Identifier_expected_0_is_a_reserved_word_in_strict_mode}function checkStrictModeBinaryExpression(node){if(inStrictMode&&ts.isLeftHandSideExpression(node.left)&&ts.isAssignmentOperator(node.operatorToken.kind)){checkStrictModeEvalOrArguments(node,node.left)}}function checkStrictModeCatchClause(node){if(inStrictMode&&node.variableDeclaration){checkStrictModeEvalOrArguments(node,node.variableDeclaration.name)}}function checkStrictModeDeleteExpression(node){if(inStrictMode&&node.expression.kind===69){var span=ts.getErrorSpanForNode(file,node.expression);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,ts.Diagnostics.delete_cannot_be_called_on_an_identifier_in_strict_mode))}}function isEvalOrArgumentsIdentifier(node){return node.kind===69&&(node.text==="eval"||node.text==="arguments")}function checkStrictModeEvalOrArguments(contextNode,name){if(name&&name.kind===69){var identifier=name;if(isEvalOrArgumentsIdentifier(identifier)){var span=ts.getErrorSpanForNode(file,name);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,getStrictModeEvalOrArgumentsMessage(contextNode),identifier.text))}}}function getStrictModeEvalOrArgumentsMessage(node){if(ts.getContainingClass(node)){return ts.Diagnostics.Invalid_use_of_0_Class_definitions_are_automatically_in_strict_mode}if(file.externalModuleIndicator){return ts.Diagnostics.Invalid_use_of_0_Modules_are_automatically_in_strict_mode}return ts.Diagnostics.Invalid_use_of_0_in_strict_mode}function checkStrictModeFunctionName(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.name)}}function checkStrictModeNumericLiteral(node){if(inStrictMode&&node.flags&65536){file.bindDiagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.Octal_literals_are_not_allowed_in_strict_mode))}}function checkStrictModePostfixUnaryExpression(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.operand)}}function checkStrictModePrefixUnaryExpression(node){if(inStrictMode){if(node.operator===41||node.operator===42){checkStrictModeEvalOrArguments(node,node.operand)}}}function checkStrictModeWithStatement(node){if(inStrictMode){grammarErrorOnFirstToken(node,ts.Diagnostics.with_statements_are_not_allowed_in_strict_mode)}}function grammarErrorOnFirstToken(node,message,arg0,arg1,arg2){var span=ts.getSpanOfTokenAtPosition(file,node.pos);file.bindDiagnostics.push(ts.createFileDiagnostic(file,span.start,span.length,message,arg0,arg1,arg2))}function getDestructuringParameterName(node){return"__"+ts.indexOf(node.parent.parameters,node)}function bind(node){node.parent=parent;var savedInStrictMode=inStrictMode;if(!savedInStrictMode){updateStrictMode(node)}bindWorker(node);bindChildren(node);inStrictMode=savedInStrictMode}function updateStrictMode(node){switch(node.kind){case 248:case 219:updateStrictModeStatementList(node.statements);return;case 192:if(ts.isFunctionLike(node.parent)){updateStrictModeStatementList(node.statements)}return;case 214:case 186:inStrictMode=true;return}}function updateStrictModeStatementList(statements){for(var _i=0;_i<statements.length;_i++){var statement=statements[_i];if(!ts.isPrologueDirective(statement)){return}if(isUseStrictPrologueDirective(statement)){inStrictMode=true;return}}}function isUseStrictPrologueDirective(node){var nodeText=ts.getTextOfNodeFromSourceText(file.text,node.expression);return nodeText==='"use strict"'||nodeText==="'use strict'"}function bindWorker(node){switch(node.kind){case 69:return checkStrictModeIdentifier(node);case 181:return checkStrictModeBinaryExpression(node);case 244:return checkStrictModeCatchClause(node);case 175:return checkStrictModeDeleteExpression(node);case 8:return checkStrictModeNumericLiteral(node);case 180:return checkStrictModePostfixUnaryExpression(node);case 179:return checkStrictModePrefixUnaryExpression(node);case 205:return checkStrictModeWithStatement(node);case 97:seenThisKeyword=true;return;case 137:return declareSymbolAndAddToSymbolTable(node,262144,530912);case 138:return bindParameter(node);case 211:case 163:return bindVariableDeclarationOrBindingElement(node);case 141:case 140:return bindPropertyOrMethodOrAccessor(node,4|(node.questionToken?536870912:0),107455);case 245:case 246:return bindPropertyOrMethodOrAccessor(node,4,107455);case 247:return bindPropertyOrMethodOrAccessor(node,8,107455);case 147:case 148:case 149:return declareSymbolAndAddToSymbolTable(node,131072,0);case 143:case 142:return bindPropertyOrMethodOrAccessor(node,8192|(node.questionToken?536870912:0),ts.isObjectLiteralMethod(node)?107455:99263);case 213:checkStrictModeFunctionName(node);return declareSymbolAndAddToSymbolTable(node,16,106927);case 144:return declareSymbolAndAddToSymbolTable(node,16384,0);case 145:return bindPropertyOrMethodOrAccessor(node,32768,41919);case 146:return bindPropertyOrMethodOrAccessor(node,65536,74687);case 152:case 153:return bindFunctionOrConstructorType(node);case 155:return bindAnonymousDeclaration(node,2048,"__type");case 165:return bindObjectLiteralExpression(node);case 173:case 174:checkStrictModeFunctionName(node);var bindingName=node.name?node.name.text:"__function";return bindAnonymousDeclaration(node,16,bindingName);case 186:case 214:return bindClassLikeDeclaration(node);case 215:return bindBlockScopedDeclaration(node,64,792960);case 216:return bindBlockScopedDeclaration(node,524288,793056);case 217:return bindEnumDeclaration(node);case 218:return bindModuleDeclaration(node);case 221:case 224:case 226:case 230:return declareSymbolAndAddToSymbolTable(node,8388608,8388608);case 223:return bindImportClause(node);case 228:return bindExportDeclaration(node);case 227:return bindExportAssignment(node);case 248:return bindSourceFileIfExternalModule()}}function bindSourceFileIfExternalModule(){setExportContextFlag(file);if(ts.isExternalModule(file)){bindAnonymousDeclaration(file,512,'"'+ts.removeFileExtension(file.fileName)+'"')}}function bindExportAssignment(node){if(!container.symbol||!container.symbol.exports){bindAnonymousDeclaration(node,8388608,getDeclarationName(node))}else if(node.expression.kind===69){declareSymbol(container.symbol.exports,container.symbol,node,8388608,107455|8388608)}else{declareSymbol(container.symbol.exports,container.symbol,node,4,107455|8388608)}}function bindExportDeclaration(node){if(!container.symbol||!container.symbol.exports){bindAnonymousDeclaration(node,1073741824,getDeclarationName(node))}else if(!node.exportClause){declareSymbol(container.symbol.exports,container.symbol,node,1073741824,0)}}function bindImportClause(node){if(node.name){declareSymbolAndAddToSymbolTable(node,8388608,8388608)}}function bindClassLikeDeclaration(node){if(node.kind===214){bindBlockScopedDeclaration(node,32,899519)}else{var bindingName=node.name?node.name.text:"__class";bindAnonymousDeclaration(node,32,bindingName);if(node.name){classifiableNames[node.name.text]=node.name.text}}var symbol=node.symbol;var prototypeSymbol=createSymbol(4|134217728,"prototype");if(ts.hasProperty(symbol.exports,prototypeSymbol.name)){if(node.name){node.name.parent=node}file.bindDiagnostics.push(ts.createDiagnosticForNode(symbol.exports[prototypeSymbol.name].declarations[0],ts.Diagnostics.Duplicate_identifier_0,prototypeSymbol.name))}symbol.exports[prototypeSymbol.name]=prototypeSymbol;prototypeSymbol.parent=symbol}function bindEnumDeclaration(node){return ts.isConst(node)?bindBlockScopedDeclaration(node,128,899967):bindBlockScopedDeclaration(node,256,899327)}function bindVariableDeclarationOrBindingElement(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.name)}if(!ts.isBindingPattern(node.name)){if(ts.isBlockOrCatchScoped(node)){bindBlockScopedVariableDeclaration(node)}else if(ts.isParameterDeclaration(node)){declareSymbolAndAddToSymbolTable(node,1,107455)}else{declareSymbolAndAddToSymbolTable(node,1,107454)}}}function bindParameter(node){if(inStrictMode){checkStrictModeEvalOrArguments(node,node.name)}if(ts.isBindingPattern(node.name)){bindAnonymousDeclaration(node,1,getDestructuringParameterName(node))}else{declareSymbolAndAddToSymbolTable(node,1,107455)}if(node.flags&112&&node.parent.kind===144&&ts.isClassLike(node.parent.parent)){var classDeclaration=node.parent.parent;declareSymbol(classDeclaration.symbol.members,classDeclaration.symbol,node,4,107455)}}function bindPropertyOrMethodOrAccessor(node,symbolFlags,symbolExcludes){return ts.hasDynamicName(node)?bindAnonymousDeclaration(node,symbolFlags,"__computed"):declareSymbolAndAddToSymbolTable(node,symbolFlags,symbolExcludes)}}})(ts||(ts={}));var ts;(function(ts){function getDeclarationOfKind(symbol,kind){var declarations=symbol.declarations;if(declarations){for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];if(declaration.kind===kind){return declaration}}}return undefined}ts.getDeclarationOfKind=getDeclarationOfKind;var stringWriters=[];function getSingleLineStringWriter(){if(stringWriters.length===0){var str="";var writeText=function(text){return str+=text};return{string:function(){return str},writeKeyword:writeText,writeOperator:writeText,writePunctuation:writeText,writeSpace:writeText,writeStringLiteral:writeText,writeParameter:writeText,writeSymbol:writeText,writeLine:function(){return str+=" "},increaseIndent:function(){},decreaseIndent:function(){},clear:function(){return str=""},trackSymbol:function(){},reportInaccessibleThisError:function(){}}}return stringWriters.pop()}ts.getSingleLineStringWriter=getSingleLineStringWriter;function releaseStringWriter(writer){writer.clear();stringWriters.push(writer)}ts.releaseStringWriter=releaseStringWriter;function getFullWidth(node){return node.end-node.pos}ts.getFullWidth=getFullWidth;function arrayIsEqualTo(arr1,arr2,comparer){if(!arr1||!arr2){return arr1===arr2}if(arr1.length!==arr2.length){return false}for(var i=0;i<arr1.length;++i){var equals=comparer?comparer(arr1[i],arr2[i]):arr1[i]===arr2[i];if(!equals){return false}}return true}ts.arrayIsEqualTo=arrayIsEqualTo;function hasResolvedModule(sourceFile,moduleNameText){return sourceFile.resolvedModules&&ts.hasProperty(sourceFile.resolvedModules,moduleNameText)}ts.hasResolvedModule=hasResolvedModule;function getResolvedModule(sourceFile,moduleNameText){return hasResolvedModule(sourceFile,moduleNameText)?sourceFile.resolvedModules[moduleNameText]:undefined}ts.getResolvedModule=getResolvedModule;function setResolvedModule(sourceFile,moduleNameText,resolvedModule){if(!sourceFile.resolvedModules){sourceFile.resolvedModules={}}sourceFile.resolvedModules[moduleNameText]=resolvedModule}ts.setResolvedModule=setResolvedModule;function containsParseError(node){aggregateChildData(node);return(node.parserContextFlags&64)!==0}ts.containsParseError=containsParseError;function aggregateChildData(node){if(!(node.parserContextFlags&128)){var thisNodeOrAnySubNodesHasError=(node.parserContextFlags&16)!==0||ts.forEachChild(node,containsParseError);if(thisNodeOrAnySubNodesHasError){node.parserContextFlags|=64}node.parserContextFlags|=128}}function getSourceFileOfNode(node){while(node&&node.kind!==248){node=node.parent}return node}ts.getSourceFileOfNode=getSourceFileOfNode;function getStartPositionOfLine(line,sourceFile){ts.Debug.assert(line>=0);return ts.getLineStarts(sourceFile)[line]}ts.getStartPositionOfLine=getStartPositionOfLine;function nodePosToString(node){var file=getSourceFileOfNode(node);var loc=ts.getLineAndCharacterOfPosition(file,node.pos);return file.fileName+"("+(loc.line+1)+","+(loc.character+1)+")"}ts.nodePosToString=nodePosToString;function getStartPosOfNode(node){return node.pos}ts.getStartPosOfNode=getStartPosOfNode;function nodeIsMissing(node){if(!node){return true}return node.pos===node.end&&node.pos>=0&&node.kind!==1}ts.nodeIsMissing=nodeIsMissing;function nodeIsPresent(node){return!nodeIsMissing(node)}ts.nodeIsPresent=nodeIsPresent;function getTokenPosOfNode(node,sourceFile){if(nodeIsMissing(node)){return node.pos}return ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.pos)}ts.getTokenPosOfNode=getTokenPosOfNode;function getNonDecoratorTokenPosOfNode(node,sourceFile){if(nodeIsMissing(node)||!node.decorators){return getTokenPosOfNode(node,sourceFile)}return ts.skipTrivia((sourceFile||getSourceFileOfNode(node)).text,node.decorators.end)}ts.getNonDecoratorTokenPosOfNode=getNonDecoratorTokenPosOfNode;function getSourceTextOfNodeFromSourceFile(sourceFile,node,includeTrivia){if(includeTrivia===void 0){includeTrivia=false}if(nodeIsMissing(node)){return""}var text=sourceFile.text;return text.substring(includeTrivia?node.pos:ts.skipTrivia(text,node.pos),node.end)}ts.getSourceTextOfNodeFromSourceFile=getSourceTextOfNodeFromSourceFile;function getTextOfNodeFromSourceText(sourceText,node){if(nodeIsMissing(node)){return""}return sourceText.substring(ts.skipTrivia(sourceText,node.pos),node.end)}ts.getTextOfNodeFromSourceText=getTextOfNodeFromSourceText;function getTextOfNode(node,includeTrivia){if(includeTrivia===void 0){includeTrivia=false}return getSourceTextOfNodeFromSourceFile(getSourceFileOfNode(node),node,includeTrivia)}ts.getTextOfNode=getTextOfNode;function escapeIdentifier(identifier){return identifier.length>=2&&identifier.charCodeAt(0)===95&&identifier.charCodeAt(1)===95?"_"+identifier:identifier}ts.escapeIdentifier=escapeIdentifier;function unescapeIdentifier(identifier){return identifier.length>=3&&identifier.charCodeAt(0)===95&&identifier.charCodeAt(1)===95&&identifier.charCodeAt(2)===95?identifier.substr(1):identifier}ts.unescapeIdentifier=unescapeIdentifier;function makeIdentifierFromModuleName(moduleName){return ts.getBaseFileName(moduleName).replace(/^(\d)/,"_$1").replace(/\W/g,"_")}ts.makeIdentifierFromModuleName=makeIdentifierFromModuleName;function isBlockOrCatchScoped(declaration){return(getCombinedNodeFlags(declaration)&49152)!==0||isCatchClauseVariableDeclaration(declaration)}ts.isBlockOrCatchScoped=isBlockOrCatchScoped;function getEnclosingBlockScopeContainer(node){var current=node.parent;while(current){if(isFunctionLike(current)){return current}switch(current.kind){case 248:case 220:case 244:case 218:case 199:case 200:case 201:return current;case 192:if(!isFunctionLike(current.parent)){return current}}current=current.parent}}ts.getEnclosingBlockScopeContainer=getEnclosingBlockScopeContainer;function isCatchClauseVariableDeclaration(declaration){return declaration&&declaration.kind===211&&declaration.parent&&declaration.parent.kind===244}ts.isCatchClauseVariableDeclaration=isCatchClauseVariableDeclaration;function declarationNameToString(name){return getFullWidth(name)===0?"(Missing)":getTextOfNode(name)}ts.declarationNameToString=declarationNameToString;function createDiagnosticForNode(node,message,arg0,arg1,arg2){var sourceFile=getSourceFileOfNode(node);var span=getErrorSpanForNode(sourceFile,node);return ts.createFileDiagnostic(sourceFile,span.start,span.length,message,arg0,arg1,arg2)}ts.createDiagnosticForNode=createDiagnosticForNode;function createDiagnosticForNodeFromMessageChain(node,messageChain){var sourceFile=getSourceFileOfNode(node);var span=getErrorSpanForNode(sourceFile,node);return{file:sourceFile,start:span.start,length:span.length,code:messageChain.code,category:messageChain.category,messageText:messageChain.next?messageChain:messageChain.messageText}}ts.createDiagnosticForNodeFromMessageChain=createDiagnosticForNodeFromMessageChain;function getSpanOfTokenAtPosition(sourceFile,pos){var scanner=ts.createScanner(sourceFile.languageVersion,true,sourceFile.languageVariant,sourceFile.text,undefined,pos);scanner.scan();var start=scanner.getTokenPos();return ts.createTextSpanFromBounds(start,scanner.getTextPos())}ts.getSpanOfTokenAtPosition=getSpanOfTokenAtPosition;function getErrorSpanForNode(sourceFile,node){var errorNode=node;switch(node.kind){case 248:var pos_1=ts.skipTrivia(sourceFile.text,0,false);if(pos_1===sourceFile.text.length){return ts.createTextSpan(0,0)}return getSpanOfTokenAtPosition(sourceFile,pos_1);case 211:case 163:case 214:case 186:case 215:case 218:case 217:case 247:case 213:case 173:errorNode=node.name;break}if(errorNode===undefined){return getSpanOfTokenAtPosition(sourceFile,node.pos)}var pos=nodeIsMissing(errorNode)?errorNode.pos:ts.skipTrivia(sourceFile.text,errorNode.pos);return ts.createTextSpanFromBounds(pos,errorNode.end)}ts.getErrorSpanForNode=getErrorSpanForNode;function isExternalModule(file){return file.externalModuleIndicator!==undefined}ts.isExternalModule=isExternalModule;function isDeclarationFile(file){return(file.flags&8192)!==0}ts.isDeclarationFile=isDeclarationFile;function isConstEnumDeclaration(node){return node.kind===217&&isConst(node)}ts.isConstEnumDeclaration=isConstEnumDeclaration;function walkUpBindingElementsAndPatterns(node){while(node&&(node.kind===163||isBindingPattern(node))){node=node.parent}return node}function getCombinedNodeFlags(node){node=walkUpBindingElementsAndPatterns(node);var flags=node.flags;if(node.kind===211){node=node.parent}if(node&&node.kind===212){flags|=node.flags;node=node.parent}if(node&&node.kind===193){flags|=node.flags}return flags}ts.getCombinedNodeFlags=getCombinedNodeFlags;function isConst(node){return!!(getCombinedNodeFlags(node)&32768)}ts.isConst=isConst;function isLet(node){return!!(getCombinedNodeFlags(node)&16384)}ts.isLet=isLet;function isPrologueDirective(node){return node.kind===195&&node.expression.kind===9}ts.isPrologueDirective=isPrologueDirective;function getLeadingCommentRangesOfNode(node,sourceFileOfNode){return ts.getLeadingCommentRanges(sourceFileOfNode.text,node.pos)}ts.getLeadingCommentRangesOfNode=getLeadingCommentRangesOfNode;function getJsDocComments(node,sourceFileOfNode){var commentRanges=node.kind===138||node.kind===137?ts.concatenate(ts.getTrailingCommentRanges(sourceFileOfNode.text,node.pos),ts.getLeadingCommentRanges(sourceFileOfNode.text,node.pos)):getLeadingCommentRangesOfNode(node,sourceFileOfNode);return ts.filter(commentRanges,isJsDocComment);function isJsDocComment(comment){return sourceFileOfNode.text.charCodeAt(comment.pos+1)===42&&sourceFileOfNode.text.charCodeAt(comment.pos+2)===42&&sourceFileOfNode.text.charCodeAt(comment.pos+3)!==47}}ts.getJsDocComments=getJsDocComments;ts.fullTripleSlashReferencePathRegEx=/^(\/\/\/\s*<reference\s+path\s*=\s*)('|")(.+?)\2.*?\/>/;ts.fullTripleSlashAMDReferencePathRegEx=/^(\/\/\/\s*<amd-dependency\s+path\s*=\s*)('|")(.+?)\2.*?\/>/;function isTypeNode(node){if(151<=node.kind&&node.kind<=160){return true}switch(node.kind){case 117:case 128:case 130:case 120:case 131:return true;case 103:return node.parent.kind!==177;case 9:return node.parent.kind===138;case 188:return!isExpressionWithTypeArgumentsInClassExtendsClause(node);case 69:if(node.parent.kind===135&&node.parent.right===node){node=node.parent}else if(node.parent.kind===166&&node.parent.name===node){node=node.parent}ts.Debug.assert(node.kind===69||node.kind===135||node.kind===166,"'node' was expected to be a qualified name, identifier or property access in 'isTypeNode'.");case 135:case 166:case 97:var parent_1=node.parent;if(parent_1.kind===154){return false}if(151<=parent_1.kind&&parent_1.kind<=160){return true}switch(parent_1.kind){case 188:return!isExpressionWithTypeArgumentsInClassExtendsClause(parent_1);case 137:return node===parent_1.constraint;case 141:case 140:case 138:case 211:return node===parent_1.type;case 213:case 173:case 174:case 144:case 143:case 142:case 145:case 146:return node===parent_1.type;case 147:case 148:case 149:return node===parent_1.type;case 171:return node===parent_1.type;case 168:case 169:return parent_1.typeArguments&&ts.indexOf(parent_1.typeArguments,node)>=0;case 170:return false}}return false}ts.isTypeNode=isTypeNode;function forEachReturnStatement(body,visitor){return traverse(body);function traverse(node){switch(node.kind){case 204:return visitor(node);case 220:case 192:case 196:case 197:case 198:case 199:case 200:case 201:case 205:case 206:case 241:case 242:case 207:case 209:case 244:return ts.forEachChild(node,traverse)}}}ts.forEachReturnStatement=forEachReturnStatement;function forEachYieldExpression(body,visitor){return traverse(body);function traverse(node){switch(node.kind){case 184:visitor(node);var operand=node.expression;if(operand){traverse(operand)}case 217:case 215:case 218:case 216:case 214:case 186:return;default:if(isFunctionLike(node)){var name_5=node.name;if(name_5&&name_5.kind===136){traverse(name_5.expression);return}}else if(!isTypeNode(node)){ts.forEachChild(node,traverse)}}}}ts.forEachYieldExpression=forEachYieldExpression;function isVariableLike(node){if(node){switch(node.kind){case 163:case 247:case 138:case 245:case 141:case 140:case 246:case 211:return true}}return false}ts.isVariableLike=isVariableLike;function isAccessor(node){return node&&(node.kind===145||node.kind===146)}ts.isAccessor=isAccessor;function isClassLike(node){return node&&(node.kind===214||node.kind===186)}ts.isClassLike=isClassLike;function isFunctionLike(node){if(node){switch(node.kind){case 144:case 173:case 213:case 174:case 143:case 142:case 145:case 146:case 147:case 148:case 149:case 152:case 153:return true}}return false}ts.isFunctionLike=isFunctionLike;function introducesArgumentsExoticObject(node){switch(node.kind){case 143:case 142:case 144:case 145:case 146:case 213:case 173:return true}return false}ts.introducesArgumentsExoticObject=introducesArgumentsExoticObject;function isFunctionBlock(node){return node&&node.kind===192&&isFunctionLike(node.parent)}ts.isFunctionBlock=isFunctionBlock;function isObjectLiteralMethod(node){return node&&node.kind===143&&node.parent.kind===165}ts.isObjectLiteralMethod=isObjectLiteralMethod;function getContainingFunction(node){while(true){node=node.parent;if(!node||isFunctionLike(node)){return node}}}ts.getContainingFunction=getContainingFunction;function getContainingClass(node){while(true){node=node.parent;if(!node||isClassLike(node)){return node}}}ts.getContainingClass=getContainingClass;function getThisContainer(node,includeArrowFunctions){while(true){node=node.parent;if(!node){return undefined}switch(node.kind){case 136:if(isClassLike(node.parent.parent)){return node}node=node.parent;break;case 139:if(node.parent.kind===138&&isClassElement(node.parent.parent)){node=node.parent.parent}else if(isClassElement(node.parent)){node=node.parent}break;case 174:if(!includeArrowFunctions){continue}case 213:case 173:case 218:case 141:case 140:case 143:case 142:case 144:case 145:case 146:case 147:case 148:case 149:case 217:case 248:return node}}}ts.getThisContainer=getThisContainer;function getSuperContainer(node,includeFunctions){while(true){node=node.parent;if(!node)return node;switch(node.kind){case 136:if(isClassLike(node.parent.parent)){return node}node=node.parent;break;case 139:if(node.parent.kind===138&&isClassElement(node.parent.parent)){node=node.parent.parent}else if(isClassElement(node.parent)){node=node.parent}break;case 213:case 173:case 174:if(!includeFunctions){continue}case 141:case 140:case 143:case 142:case 144:case 145:case 146:return node}}}ts.getSuperContainer=getSuperContainer;function getEntityNameFromTypeNode(node){if(node){switch(node.kind){case 151:return node.typeName;case 188:return node.expression;case 69:case 135:return node}}return undefined}ts.getEntityNameFromTypeNode=getEntityNameFromTypeNode;function getInvokedExpression(node){if(node.kind===170){return node.tag}return node.expression}ts.getInvokedExpression=getInvokedExpression;function nodeCanBeDecorated(node){switch(node.kind){case 214:return true;case 141:return node.parent.kind===214;case 138:return node.parent.body&&node.parent.parent.kind===214;case 145:case 146:case 143:return node.body&&node.parent.kind===214}return false}ts.nodeCanBeDecorated=nodeCanBeDecorated;function nodeIsDecorated(node){switch(node.kind){case 214:if(node.decorators){return true}return false;case 141:case 138:if(node.decorators){return true}return false;case 145:if(node.body&&node.decorators){return true}return false;case 143:case 146:if(node.body&&node.decorators){return true}return false}return false}ts.nodeIsDecorated=nodeIsDecorated;function childIsDecorated(node){switch(node.kind){case 214:return ts.forEach(node.members,nodeOrChildIsDecorated);case 143:case 146:return ts.forEach(node.parameters,nodeIsDecorated)}return false}ts.childIsDecorated=childIsDecorated;function nodeOrChildIsDecorated(node){return nodeIsDecorated(node)||childIsDecorated(node)}ts.nodeOrChildIsDecorated=nodeOrChildIsDecorated;function isPropertyAccessExpression(node){return node.kind===166}ts.isPropertyAccessExpression=isPropertyAccessExpression;function isElementAccessExpression(node){return node.kind===167}ts.isElementAccessExpression=isElementAccessExpression;function isExpression(node){switch(node.kind){case 95:case 93:case 99:case 84:case 10:case 164:case 165:case 166:case 167:case 168:case 169:case 170:case 189:case 171:case 172:case 173:case 186:case 174:case 177:case 175:case 176:case 179:case 180:case 181:case 182:case 185:case 183:case 11:case 187:case 233:case 234:case 184:case 178:return true;case 135:while(node.parent.kind===135){node=node.parent}return node.parent.kind===154;case 69:if(node.parent.kind===154){return true}case 8:case 9:case 97:var parent_2=node.parent;switch(parent_2.kind){case 211:case 138:case 141:case 140:case 247:case 245:case 163:return parent_2.initializer===node;case 195:case 196:case 197:case 198:case 204:case 205:case 206:case 241:case 208:case 206:return parent_2.expression===node;case 199:var forStatement=parent_2;return forStatement.initializer===node&&forStatement.initializer.kind!==212||forStatement.condition===node||forStatement.incrementor===node;case 200:case 201:var forInStatement=parent_2;return forInStatement.initializer===node&&forInStatement.initializer.kind!==212||forInStatement.expression===node;
case 171:case 189:return node===parent_2.expression;case 190:return node===parent_2.expression;case 136:return node===parent_2.expression;case 139:case 240:case 239:return true;case 188:return parent_2.expression===node&&isExpressionWithTypeArgumentsInClassExtendsClause(parent_2);default:if(isExpression(parent_2)){return true}}}return false}ts.isExpression=isExpression;function isExternalModuleNameRelative(moduleName){return moduleName.substr(0,2)==="./"||moduleName.substr(0,3)==="../"||moduleName.substr(0,2)===".\\"||moduleName.substr(0,3)==="..\\"}ts.isExternalModuleNameRelative=isExternalModuleNameRelative;function isInstantiatedModule(node,preserveConstEnums){var moduleState=ts.getModuleInstanceState(node);return moduleState===1||preserveConstEnums&&moduleState===2}ts.isInstantiatedModule=isInstantiatedModule;function isExternalModuleImportEqualsDeclaration(node){return node.kind===221&&node.moduleReference.kind===232}ts.isExternalModuleImportEqualsDeclaration=isExternalModuleImportEqualsDeclaration;function getExternalModuleImportEqualsDeclarationExpression(node){ts.Debug.assert(isExternalModuleImportEqualsDeclaration(node));return node.moduleReference.expression}ts.getExternalModuleImportEqualsDeclarationExpression=getExternalModuleImportEqualsDeclarationExpression;function isInternalModuleImportEqualsDeclaration(node){return node.kind===221&&node.moduleReference.kind!==232}ts.isInternalModuleImportEqualsDeclaration=isInternalModuleImportEqualsDeclaration;function getExternalModuleName(node){if(node.kind===222){return node.moduleSpecifier}if(node.kind===221){var reference=node.moduleReference;if(reference.kind===232){return reference.expression}}if(node.kind===228){return node.moduleSpecifier}}ts.getExternalModuleName=getExternalModuleName;function hasQuestionToken(node){if(node){switch(node.kind){case 138:case 143:case 142:case 246:case 245:case 141:case 140:return node.questionToken!==undefined}}return false}ts.hasQuestionToken=hasQuestionToken;function isJSDocConstructSignature(node){return node.kind===261&&node.parameters.length>0&&node.parameters[0].type.kind===263}ts.isJSDocConstructSignature=isJSDocConstructSignature;function getJSDocTag(node,kind){if(node&&node.jsDocComment){for(var _i=0,_a=node.jsDocComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.kind===kind){return tag}}}}function getJSDocTypeTag(node){return getJSDocTag(node,269)}ts.getJSDocTypeTag=getJSDocTypeTag;function getJSDocReturnTag(node){return getJSDocTag(node,268)}ts.getJSDocReturnTag=getJSDocReturnTag;function getJSDocTemplateTag(node){return getJSDocTag(node,270)}ts.getJSDocTemplateTag=getJSDocTemplateTag;function getCorrespondingJSDocParameterTag(parameter){if(parameter.name&&parameter.name.kind===69){var parameterName=parameter.name.text;var docComment=parameter.parent.jsDocComment;if(docComment){return ts.forEach(docComment.tags,function(t){if(t.kind===267){var parameterTag=t;var name_6=parameterTag.preParameterName||parameterTag.postParameterName;if(name_6.text===parameterName){return t}}})}}}ts.getCorrespondingJSDocParameterTag=getCorrespondingJSDocParameterTag;function hasRestParameter(s){return isRestParameter(ts.lastOrUndefined(s.parameters))}ts.hasRestParameter=hasRestParameter;function isRestParameter(node){if(node){if(node.parserContextFlags&32){if(node.type&&node.type.kind===262){return true}var paramTag=getCorrespondingJSDocParameterTag(node);if(paramTag&&paramTag.typeExpression){return paramTag.typeExpression.type.kind===262}}return node.dotDotDotToken!==undefined}return false}ts.isRestParameter=isRestParameter;function isLiteralKind(kind){return 8<=kind&&kind<=11}ts.isLiteralKind=isLiteralKind;function isTextualLiteralKind(kind){return kind===9||kind===11}ts.isTextualLiteralKind=isTextualLiteralKind;function isTemplateLiteralKind(kind){return 11<=kind&&kind<=14}ts.isTemplateLiteralKind=isTemplateLiteralKind;function isBindingPattern(node){return!!node&&(node.kind===162||node.kind===161)}ts.isBindingPattern=isBindingPattern;function isNodeDescendentOf(node,ancestor){while(node){if(node===ancestor)return true;node=node.parent}return false}ts.isNodeDescendentOf=isNodeDescendentOf;function isInAmbientContext(node){while(node){if(node.flags&(2|8192)){return true}node=node.parent}return false}ts.isInAmbientContext=isInAmbientContext;function isDeclaration(node){switch(node.kind){case 174:case 163:case 214:case 186:case 144:case 217:case 247:case 230:case 213:case 173:case 145:case 223:case 221:case 226:case 215:case 143:case 142:case 218:case 224:case 138:case 245:case 141:case 140:case 146:case 246:case 216:case 137:case 211:return true}return false}ts.isDeclaration=isDeclaration;function isStatement(n){switch(n.kind){case 203:case 202:case 210:case 197:case 195:case 194:case 200:case 201:case 199:case 196:case 207:case 204:case 206:case 98:case 209:case 193:case 198:case 205:case 227:return true;default:return false}}ts.isStatement=isStatement;function isClassElement(n){switch(n.kind){case 144:case 141:case 143:case 145:case 146:case 142:case 149:return true;default:return false}}ts.isClassElement=isClassElement;function isDeclarationName(name){if(name.kind!==69&&name.kind!==9&&name.kind!==8){return false}var parent=name.parent;if(parent.kind===226||parent.kind===230){if(parent.propertyName){return true}}if(isDeclaration(parent)){return parent.name===name}return false}ts.isDeclarationName=isDeclarationName;function isIdentifierName(node){var parent=node.parent;switch(parent.kind){case 141:case 140:case 143:case 142:case 145:case 146:case 247:case 245:case 166:return parent.name===node;case 135:if(parent.right===node){while(parent.kind===135){parent=parent.parent}return parent.kind===154}return false;case 163:case 226:return parent.propertyName===node;case 230:return true}return false}ts.isIdentifierName=isIdentifierName;function isAliasSymbolDeclaration(node){return node.kind===221||node.kind===223&&!!node.name||node.kind===224||node.kind===226||node.kind===230||node.kind===227&&node.expression.kind===69}ts.isAliasSymbolDeclaration=isAliasSymbolDeclaration;function getClassExtendsHeritageClauseElement(node){var heritageClause=getHeritageClause(node.heritageClauses,83);return heritageClause&&heritageClause.types.length>0?heritageClause.types[0]:undefined}ts.getClassExtendsHeritageClauseElement=getClassExtendsHeritageClauseElement;function getClassImplementsHeritageClauseElements(node){var heritageClause=getHeritageClause(node.heritageClauses,106);return heritageClause?heritageClause.types:undefined}ts.getClassImplementsHeritageClauseElements=getClassImplementsHeritageClauseElements;function getInterfaceBaseTypeNodes(node){var heritageClause=getHeritageClause(node.heritageClauses,83);return heritageClause?heritageClause.types:undefined}ts.getInterfaceBaseTypeNodes=getInterfaceBaseTypeNodes;function getHeritageClause(clauses,kind){if(clauses){for(var _i=0;_i<clauses.length;_i++){var clause=clauses[_i];if(clause.token===kind){return clause}}}return undefined}ts.getHeritageClause=getHeritageClause;function tryResolveScriptReference(host,sourceFile,reference){if(!host.getCompilerOptions().noResolve){var referenceFileName=ts.isRootedDiskPath(reference.fileName)?reference.fileName:ts.combinePaths(ts.getDirectoryPath(sourceFile.fileName),reference.fileName);referenceFileName=ts.getNormalizedAbsolutePath(referenceFileName,host.getCurrentDirectory());return host.getSourceFile(referenceFileName)}}ts.tryResolveScriptReference=tryResolveScriptReference;function getAncestor(node,kind){while(node){if(node.kind===kind){return node}node=node.parent}return undefined}ts.getAncestor=getAncestor;function getFileReferenceFromReferencePath(comment,commentRange){var simpleReferenceRegEx=/^\/\/\/\s*<reference\s+/gim;var isNoDefaultLibRegEx=/^(\/\/\/\s*<reference\s+no-default-lib\s*=\s*)('|")(.+?)\2\s*\/>/gim;if(simpleReferenceRegEx.exec(comment)){if(isNoDefaultLibRegEx.exec(comment)){return{isNoDefaultLib:true}}else{var matchResult=ts.fullTripleSlashReferencePathRegEx.exec(comment);if(matchResult){var start=commentRange.pos;var end=commentRange.end;return{fileReference:{pos:start,end:end,fileName:matchResult[3]},isNoDefaultLib:false}}else{return{diagnosticMessage:ts.Diagnostics.Invalid_reference_directive_syntax,isNoDefaultLib:false}}}}return undefined}ts.getFileReferenceFromReferencePath=getFileReferenceFromReferencePath;function isKeyword(token){return 70<=token&&token<=134}ts.isKeyword=isKeyword;function isTrivia(token){return 2<=token&&token<=7}ts.isTrivia=isTrivia;function isAsyncFunctionLike(node){return isFunctionLike(node)&&(node.flags&512)!==0&&!isAccessor(node)}ts.isAsyncFunctionLike=isAsyncFunctionLike;function hasDynamicName(declaration){return declaration.name&&declaration.name.kind===136&&!isWellKnownSymbolSyntactically(declaration.name.expression)}ts.hasDynamicName=hasDynamicName;function isWellKnownSymbolSyntactically(node){return isPropertyAccessExpression(node)&&isESSymbolIdentifier(node.expression)}ts.isWellKnownSymbolSyntactically=isWellKnownSymbolSyntactically;function getPropertyNameForPropertyNameNode(name){if(name.kind===69||name.kind===9||name.kind===8){return name.text}if(name.kind===136){var nameExpression=name.expression;if(isWellKnownSymbolSyntactically(nameExpression)){var rightHandSideName=nameExpression.name.text;return getPropertyNameForKnownSymbolName(rightHandSideName)}}return undefined}ts.getPropertyNameForPropertyNameNode=getPropertyNameForPropertyNameNode;function getPropertyNameForKnownSymbolName(symbolName){return"__@"+symbolName}ts.getPropertyNameForKnownSymbolName=getPropertyNameForKnownSymbolName;function isESSymbolIdentifier(node){return node.kind===69&&node.text==="Symbol"}ts.isESSymbolIdentifier=isESSymbolIdentifier;function isModifier(token){switch(token){case 115:case 118:case 74:case 122:case 77:case 82:case 112:case 110:case 111:case 113:return true}return false}ts.isModifier=isModifier;function isParameterDeclaration(node){var root=getRootDeclaration(node);return root.kind===138}ts.isParameterDeclaration=isParameterDeclaration;function getRootDeclaration(node){while(node.kind===163){node=node.parent.parent}return node}ts.getRootDeclaration=getRootDeclaration;function nodeStartsNewLexicalEnvironment(n){return isFunctionLike(n)||n.kind===218||n.kind===248}ts.nodeStartsNewLexicalEnvironment=nodeStartsNewLexicalEnvironment;function cloneEntityName(node){if(node.kind===69){var clone_1=createSynthesizedNode(69);clone_1.text=node.text;return clone_1}else{var clone_2=createSynthesizedNode(135);clone_2.left=cloneEntityName(node.left);clone_2.left.parent=clone_2;clone_2.right=cloneEntityName(node.right);clone_2.right.parent=clone_2;return clone_2}}ts.cloneEntityName=cloneEntityName;function nodeIsSynthesized(node){return node.pos===-1}ts.nodeIsSynthesized=nodeIsSynthesized;function createSynthesizedNode(kind,startsOnNewLine){var node=ts.createNode(kind);node.startsOnNewLine=startsOnNewLine;return node}ts.createSynthesizedNode=createSynthesizedNode;function createSynthesizedNodeArray(){var array=[];array.pos=-1;array.end=-1;return array}ts.createSynthesizedNodeArray=createSynthesizedNodeArray;function createDiagnosticCollection(){var nonFileDiagnostics=[];var fileDiagnostics={};var diagnosticsModified=false;var modificationCount=0;return{add:add,getGlobalDiagnostics:getGlobalDiagnostics,getDiagnostics:getDiagnostics,getModificationCount:getModificationCount,reattachFileDiagnostics:reattachFileDiagnostics};function getModificationCount(){return modificationCount}function reattachFileDiagnostics(newFile){if(!ts.hasProperty(fileDiagnostics,newFile.fileName)){return}for(var _i=0,_a=fileDiagnostics[newFile.fileName];_i<_a.length;_i++){var diagnostic=_a[_i];diagnostic.file=newFile}}function add(diagnostic){var diagnostics;if(diagnostic.file){diagnostics=fileDiagnostics[diagnostic.file.fileName];if(!diagnostics){diagnostics=[];fileDiagnostics[diagnostic.file.fileName]=diagnostics}}else{diagnostics=nonFileDiagnostics}diagnostics.push(diagnostic);diagnosticsModified=true;modificationCount++}function getGlobalDiagnostics(){sortAndDeduplicate();return nonFileDiagnostics}function getDiagnostics(fileName){sortAndDeduplicate();if(fileName){return fileDiagnostics[fileName]||[]}var allDiagnostics=[];function pushDiagnostic(d){allDiagnostics.push(d)}ts.forEach(nonFileDiagnostics,pushDiagnostic);for(var key in fileDiagnostics){if(ts.hasProperty(fileDiagnostics,key)){ts.forEach(fileDiagnostics[key],pushDiagnostic)}}return ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function sortAndDeduplicate(){if(!diagnosticsModified){return}diagnosticsModified=false;nonFileDiagnostics=ts.sortAndDeduplicateDiagnostics(nonFileDiagnostics);for(var key in fileDiagnostics){if(ts.hasProperty(fileDiagnostics,key)){fileDiagnostics[key]=ts.sortAndDeduplicateDiagnostics(fileDiagnostics[key])}}}}ts.createDiagnosticCollection=createDiagnosticCollection;var escapedCharsRegExp=/[\\\"\u0000-\u001f\t\v\f\b\r\n\u2028\u2029\u0085]/g;var escapedCharsMap={"\x00":"\\0","	":"\\t","":"\\v","\f":"\\f","\b":"\\b","\r":"\\r","\n":"\\n","\\":"\\\\",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029","":"\\u0085"};function escapeString(s){s=escapedCharsRegExp.test(s)?s.replace(escapedCharsRegExp,getReplacement):s;return s;function getReplacement(c){return escapedCharsMap[c]||get16BitUnicodeEscapeSequence(c.charCodeAt(0))}}ts.escapeString=escapeString;function isIntrinsicJsxName(name){var ch=name.substr(0,1);return ch.toLowerCase()===ch}ts.isIntrinsicJsxName=isIntrinsicJsxName;function get16BitUnicodeEscapeSequence(charCode){var hexCharCode=charCode.toString(16).toUpperCase();var paddedHexCode=("0000"+hexCharCode).slice(-4);return"\\u"+paddedHexCode}var nonAsciiCharacters=/[^\u0000-\u007F]/g;function escapeNonAsciiCharacters(s){return nonAsciiCharacters.test(s)?s.replace(nonAsciiCharacters,function(c){return get16BitUnicodeEscapeSequence(c.charCodeAt(0))}):s}ts.escapeNonAsciiCharacters=escapeNonAsciiCharacters;var indentStrings=["","    "];function getIndentString(level){if(indentStrings[level]===undefined){indentStrings[level]=getIndentString(level-1)+indentStrings[1]}return indentStrings[level]}ts.getIndentString=getIndentString;function getIndentSize(){return indentStrings[1].length}ts.getIndentSize=getIndentSize;function createTextWriter(newLine){var output="";var indent=0;var lineStart=true;var lineCount=0;var linePos=0;function write(s){if(s&&s.length){if(lineStart){output+=getIndentString(indent);lineStart=false}output+=s}}function rawWrite(s){if(s!==undefined){if(lineStart){lineStart=false}output+=s}}function writeLiteral(s){if(s&&s.length){write(s);var lineStartsOfS=ts.computeLineStarts(s);if(lineStartsOfS.length>1){lineCount=lineCount+lineStartsOfS.length-1;linePos=output.length-s.length+ts.lastOrUndefined(lineStartsOfS)}}}function writeLine(){if(!lineStart){output+=newLine;lineCount++;linePos=output.length;lineStart=true}}function writeTextOfNode(sourceFile,node){write(getSourceTextOfNodeFromSourceFile(sourceFile,node))}return{write:write,rawWrite:rawWrite,writeTextOfNode:writeTextOfNode,writeLiteral:writeLiteral,writeLine:writeLine,increaseIndent:function(){return indent++},decreaseIndent:function(){return indent--},getIndent:function(){return indent},getTextPos:function(){return output.length},getLine:function(){return lineCount+1},getColumn:function(){return lineStart?indent*getIndentSize()+1:output.length-linePos+1},getText:function(){return output}}}ts.createTextWriter=createTextWriter;function getOwnEmitOutputFilePath(sourceFile,host,extension){var compilerOptions=host.getCompilerOptions();var emitOutputFilePathWithoutExtension;if(compilerOptions.outDir){emitOutputFilePathWithoutExtension=ts.removeFileExtension(getSourceFilePathInNewDir(sourceFile,host,compilerOptions.outDir))}else{emitOutputFilePathWithoutExtension=ts.removeFileExtension(sourceFile.fileName)}return emitOutputFilePathWithoutExtension+extension}ts.getOwnEmitOutputFilePath=getOwnEmitOutputFilePath;function getSourceFilePathInNewDir(sourceFile,host,newDirPath){var sourceFilePath=ts.getNormalizedAbsolutePath(sourceFile.fileName,host.getCurrentDirectory());sourceFilePath=sourceFilePath.replace(host.getCommonSourceDirectory(),"");return ts.combinePaths(newDirPath,sourceFilePath)}ts.getSourceFilePathInNewDir=getSourceFilePathInNewDir;function writeFile(host,diagnostics,fileName,data,writeByteOrderMark){host.writeFile(fileName,data,writeByteOrderMark,function(hostErrorMessage){diagnostics.push(ts.createCompilerDiagnostic(ts.Diagnostics.Could_not_write_file_0_Colon_1,fileName,hostErrorMessage))})}ts.writeFile=writeFile;function getLineOfLocalPosition(currentSourceFile,pos){return ts.getLineAndCharacterOfPosition(currentSourceFile,pos).line}ts.getLineOfLocalPosition=getLineOfLocalPosition;function getFirstConstructorWithBody(node){return ts.forEach(node.members,function(member){if(member.kind===144&&nodeIsPresent(member.body)){return member}})}ts.getFirstConstructorWithBody=getFirstConstructorWithBody;function getSetAccessorTypeAnnotationNode(accessor){return accessor&&accessor.parameters.length>0&&accessor.parameters[0].type}ts.getSetAccessorTypeAnnotationNode=getSetAccessorTypeAnnotationNode;function shouldEmitToOwnFile(sourceFile,compilerOptions){if(!isDeclarationFile(sourceFile)){if(isExternalModule(sourceFile)||!(compilerOptions.outFile||compilerOptions.out)){return compilerOptions.isolatedModules||!ts.fileExtensionIs(sourceFile.fileName,".js")}return false}return false}ts.shouldEmitToOwnFile=shouldEmitToOwnFile;function getAllAccessorDeclarations(declarations,accessor){var firstAccessor;var secondAccessor;var getAccessor;var setAccessor;if(hasDynamicName(accessor)){firstAccessor=accessor;if(accessor.kind===145){getAccessor=accessor}else if(accessor.kind===146){setAccessor=accessor}else{ts.Debug.fail("Accessor has wrong kind")}}else{ts.forEach(declarations,function(member){if((member.kind===145||member.kind===146)&&(member.flags&128)===(accessor.flags&128)){var memberName=getPropertyNameForPropertyNameNode(member.name);var accessorName=getPropertyNameForPropertyNameNode(accessor.name);if(memberName===accessorName){if(!firstAccessor){firstAccessor=member}else if(!secondAccessor){secondAccessor=member}if(member.kind===145&&!getAccessor){getAccessor=member}if(member.kind===146&&!setAccessor){setAccessor=member}}}})}return{firstAccessor:firstAccessor,secondAccessor:secondAccessor,getAccessor:getAccessor,setAccessor:setAccessor}}ts.getAllAccessorDeclarations=getAllAccessorDeclarations;function emitNewLineBeforeLeadingComments(currentSourceFile,writer,node,leadingComments){if(leadingComments&&leadingComments.length&&node.pos!==leadingComments[0].pos&&getLineOfLocalPosition(currentSourceFile,node.pos)!==getLineOfLocalPosition(currentSourceFile,leadingComments[0].pos)){writer.writeLine()}}ts.emitNewLineBeforeLeadingComments=emitNewLineBeforeLeadingComments;function emitComments(currentSourceFile,writer,comments,trailingSeparator,newLine,writeComment){var emitLeadingSpace=!trailingSeparator;ts.forEach(comments,function(comment){if(emitLeadingSpace){writer.write(" ");emitLeadingSpace=false}writeComment(currentSourceFile,writer,comment,newLine);if(comment.hasTrailingNewLine){writer.writeLine()}else if(trailingSeparator){writer.write(" ")}else{emitLeadingSpace=true}})}ts.emitComments=emitComments;function writeCommentRange(currentSourceFile,writer,comment,newLine){if(currentSourceFile.text.charCodeAt(comment.pos+1)===42){var firstCommentLineAndCharacter=ts.getLineAndCharacterOfPosition(currentSourceFile,comment.pos);var lineCount=ts.getLineStarts(currentSourceFile).length;var firstCommentLineIndent;for(var pos=comment.pos,currentLine=firstCommentLineAndCharacter.line;pos<comment.end;currentLine++){var nextLineStart=currentLine+1===lineCount?currentSourceFile.text.length+1:getStartPositionOfLine(currentLine+1,currentSourceFile);if(pos!==comment.pos){if(firstCommentLineIndent===undefined){firstCommentLineIndent=calculateIndent(getStartPositionOfLine(firstCommentLineAndCharacter.line,currentSourceFile),comment.pos)}var currentWriterIndentSpacing=writer.getIndent()*getIndentSize();var spacesToEmit=currentWriterIndentSpacing-firstCommentLineIndent+calculateIndent(pos,nextLineStart);if(spacesToEmit>0){var numberOfSingleSpacesToEmit=spacesToEmit%getIndentSize();var indentSizeSpaceString=getIndentString((spacesToEmit-numberOfSingleSpacesToEmit)/getIndentSize());writer.rawWrite(indentSizeSpaceString);while(numberOfSingleSpacesToEmit){writer.rawWrite(" ");numberOfSingleSpacesToEmit--}}else{writer.rawWrite("")}}writeTrimmedCurrentLine(pos,nextLineStart);pos=nextLineStart}}else{writer.write(currentSourceFile.text.substring(comment.pos,comment.end))}function writeTrimmedCurrentLine(pos,nextLineStart){var end=Math.min(comment.end,nextLineStart-1);var currentLineText=currentSourceFile.text.substring(pos,end).replace(/^\s+|\s+$/g,"");if(currentLineText){writer.write(currentLineText);if(end!==comment.end){writer.writeLine()}}else{writer.writeLiteral(newLine)}}function calculateIndent(pos,end){var currentLineIndent=0;for(;pos<end&&ts.isWhiteSpace(currentSourceFile.text.charCodeAt(pos));pos++){if(currentSourceFile.text.charCodeAt(pos)===9){currentLineIndent+=getIndentSize()-currentLineIndent%getIndentSize()}else{currentLineIndent++}}return currentLineIndent}}ts.writeCommentRange=writeCommentRange;function modifierToFlag(token){switch(token){case 113:return 128;case 112:return 16;case 111:return 64;case 110:return 32;case 115:return 256;case 82:return 1;case 122:return 2;case 74:return 32768;case 77:return 1024;case 118:return 512}return 0}ts.modifierToFlag=modifierToFlag;function isLeftHandSideExpression(expr){if(expr){switch(expr.kind){case 166:case 167:case 169:case 168:case 233:case 234:case 170:case 164:case 172:case 165:case 186:case 173:case 69:case 10:case 8:case 9:case 11:case 183:case 84:case 93:case 97:case 99:case 95:return true}}return false}ts.isLeftHandSideExpression=isLeftHandSideExpression;function isAssignmentOperator(token){return token>=56&&token<=68}ts.isAssignmentOperator=isAssignmentOperator;function isExpressionWithTypeArgumentsInClassExtendsClause(node){return node.kind===188&&node.parent.token===83&&isClassLike(node.parent.parent)}ts.isExpressionWithTypeArgumentsInClassExtendsClause=isExpressionWithTypeArgumentsInClassExtendsClause;function isSupportedExpressionWithTypeArguments(node){return isSupportedExpressionWithTypeArgumentsRest(node.expression)}ts.isSupportedExpressionWithTypeArguments=isSupportedExpressionWithTypeArguments;function isSupportedExpressionWithTypeArgumentsRest(node){if(node.kind===69){return true}else if(isPropertyAccessExpression(node)){return isSupportedExpressionWithTypeArgumentsRest(node.expression)}else{return false}}function isRightSideOfQualifiedNameOrPropertyAccess(node){return node.parent.kind===135&&node.parent.right===node||node.parent.kind===166&&node.parent.name===node}ts.isRightSideOfQualifiedNameOrPropertyAccess=isRightSideOfQualifiedNameOrPropertyAccess;function isEmptyObjectLiteralOrArrayLiteral(expression){var kind=expression.kind;if(kind===165){return expression.properties.length===0}if(kind===164){return expression.elements.length===0}return false}ts.isEmptyObjectLiteralOrArrayLiteral=isEmptyObjectLiteralOrArrayLiteral;function getLocalSymbolForExportDefault(symbol){return symbol&&symbol.valueDeclaration&&symbol.valueDeclaration.flags&1024?symbol.valueDeclaration.localSymbol:undefined}ts.getLocalSymbolForExportDefault=getLocalSymbolForExportDefault;function isJavaScript(fileName){return ts.fileExtensionIs(fileName,".js")}ts.isJavaScript=isJavaScript;function isTsx(fileName){return ts.fileExtensionIs(fileName,".tsx")}ts.isTsx=isTsx;function getExpandedCharCodes(input){var output=[];var length=input.length;for(var i=0;i<length;i++){var charCode=input.charCodeAt(i);if(charCode<128){output.push(charCode)}else if(charCode<2048){output.push(charCode>>6|192);output.push(charCode&63|128)}else if(charCode<65536){output.push(charCode>>12|224);output.push(charCode>>6&63|128);output.push(charCode&63|128)}else if(charCode<131072){output.push(charCode>>18|240);output.push(charCode>>12&63|128);output.push(charCode>>6&63|128);output.push(charCode&63|128)}else{ts.Debug.assert(false,"Unexpected code point")}}return output}var base64Digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function convertToBase64(input){var result="";var charCodes=getExpandedCharCodes(input);var i=0;var length=charCodes.length;var byte1,byte2,byte3,byte4;while(i<length){byte1=charCodes[i]>>2;byte2=(charCodes[i]&3)<<4|charCodes[i+1]>>4;byte3=(charCodes[i+1]&15)<<2|charCodes[i+2]>>6;byte4=charCodes[i+2]&63;if(i+1>=length){byte3=byte4=64}else if(i+2>=length){byte4=64}result+=base64Digits.charAt(byte1)+base64Digits.charAt(byte2)+base64Digits.charAt(byte3)+base64Digits.charAt(byte4);i+=3}return result}ts.convertToBase64=convertToBase64;var carriageReturnLineFeed="\r\n";var lineFeed="\n";function getNewLineCharacter(options){if(options.newLine===0){return carriageReturnLineFeed}else if(options.newLine===1){return lineFeed}else if(ts.sys){return ts.sys.newLine}return carriageReturnLineFeed}ts.getNewLineCharacter=getNewLineCharacter})(ts||(ts={}));var ts;(function(ts){function getDefaultLibFileName(options){return options.target===2?"lib.es6.d.ts":"lib.d.ts"}ts.getDefaultLibFileName=getDefaultLibFileName;function textSpanEnd(span){return span.start+span.length}ts.textSpanEnd=textSpanEnd;function textSpanIsEmpty(span){return span.length===0}ts.textSpanIsEmpty=textSpanIsEmpty;function textSpanContainsPosition(span,position){return position>=span.start&&position<textSpanEnd(span)}ts.textSpanContainsPosition=textSpanContainsPosition;function textSpanContainsTextSpan(span,other){return other.start>=span.start&&textSpanEnd(other)<=textSpanEnd(span)}ts.textSpanContainsTextSpan=textSpanContainsTextSpan;function textSpanOverlapsWith(span,other){var overlapStart=Math.max(span.start,other.start);var overlapEnd=Math.min(textSpanEnd(span),textSpanEnd(other));return overlapStart<overlapEnd}ts.textSpanOverlapsWith=textSpanOverlapsWith;function textSpanOverlap(span1,span2){var overlapStart=Math.max(span1.start,span2.start);var overlapEnd=Math.min(textSpanEnd(span1),textSpanEnd(span2));if(overlapStart<overlapEnd){return createTextSpanFromBounds(overlapStart,overlapEnd)}return undefined}ts.textSpanOverlap=textSpanOverlap;function textSpanIntersectsWithTextSpan(span,other){return other.start<=textSpanEnd(span)&&textSpanEnd(other)>=span.start}ts.textSpanIntersectsWithTextSpan=textSpanIntersectsWithTextSpan;function textSpanIntersectsWith(span,start,length){var end=start+length;return start<=textSpanEnd(span)&&end>=span.start}ts.textSpanIntersectsWith=textSpanIntersectsWith;function decodedTextSpanIntersectsWith(start1,length1,start2,length2){var end1=start1+length1;var end2=start2+length2;return start2<=end1&&end2>=start1}ts.decodedTextSpanIntersectsWith=decodedTextSpanIntersectsWith;function textSpanIntersectsWithPosition(span,position){return position<=textSpanEnd(span)&&position>=span.start}ts.textSpanIntersectsWithPosition=textSpanIntersectsWithPosition;function textSpanIntersection(span1,span2){var intersectStart=Math.max(span1.start,span2.start);var intersectEnd=Math.min(textSpanEnd(span1),textSpanEnd(span2));if(intersectStart<=intersectEnd){return createTextSpanFromBounds(intersectStart,intersectEnd)}return undefined}ts.textSpanIntersection=textSpanIntersection;function createTextSpan(start,length){if(start<0){throw new Error("start < 0")}if(length<0){throw new Error("length < 0")}return{start:start,length:length}}ts.createTextSpan=createTextSpan;function createTextSpanFromBounds(start,end){return createTextSpan(start,end-start)}ts.createTextSpanFromBounds=createTextSpanFromBounds;function textChangeRangeNewSpan(range){return createTextSpan(range.span.start,range.newLength)}ts.textChangeRangeNewSpan=textChangeRangeNewSpan;function textChangeRangeIsUnchanged(range){return textSpanIsEmpty(range.span)&&range.newLength===0}ts.textChangeRangeIsUnchanged=textChangeRangeIsUnchanged;function createTextChangeRange(span,newLength){if(newLength<0){throw new Error("newLength < 0")}return{span:span,newLength:newLength}}ts.createTextChangeRange=createTextChangeRange;ts.unchangedTextChangeRange=createTextChangeRange(createTextSpan(0,0),0);function collapseTextChangeRangesAcrossMultipleVersions(changes){if(changes.length===0){return ts.unchangedTextChangeRange}if(changes.length===1){return changes[0]}var change0=changes[0];var oldStartN=change0.span.start;var oldEndN=textSpanEnd(change0.span);var newEndN=oldStartN+change0.newLength;for(var i=1;i<changes.length;i++){var nextChange=changes[i];var oldStart1=oldStartN;var oldEnd1=oldEndN;var newEnd1=newEndN;var oldStart2=nextChange.span.start;var oldEnd2=textSpanEnd(nextChange.span);var newEnd2=oldStart2+nextChange.newLength;oldStartN=Math.min(oldStart1,oldStart2);oldEndN=Math.max(oldEnd1,oldEnd1+(oldEnd2-newEnd1));newEndN=Math.max(newEnd2,newEnd2+(newEnd1-oldEnd2))}return createTextChangeRange(createTextSpanFromBounds(oldStartN,oldEndN),newEndN-oldStartN)}ts.collapseTextChangeRangesAcrossMultipleVersions=collapseTextChangeRangesAcrossMultipleVersions;function getTypeParameterOwner(d){if(d&&d.kind===137){for(var current=d;current;current=current.parent){if(ts.isFunctionLike(current)||ts.isClassLike(current)||current.kind===215){return current}}}}ts.getTypeParameterOwner=getTypeParameterOwner;function arrayStructurallyIsEqualTo(array1,array2){if(!array1||!array2){return false}if(array1.length!==array2.length){return false}return ts.arrayIsEqualTo(array1.sort(),array2.sort())}ts.arrayStructurallyIsEqualTo=arrayStructurallyIsEqualTo})(ts||(ts={}));var ts;(function(ts){var nodeConstructors=new Array(272);ts.parseTime=0;function getNodeConstructor(kind){return nodeConstructors[kind]||(nodeConstructors[kind]=ts.objectAllocator.getNodeConstructor(kind))}ts.getNodeConstructor=getNodeConstructor;function createNode(kind){return new(getNodeConstructor(kind))}ts.createNode=createNode;function visitNode(cbNode,node){if(node){return cbNode(node)}}function visitNodeArray(cbNodes,nodes){if(nodes){return cbNodes(nodes)}}function visitEachNode(cbNode,nodes){if(nodes){for(var _i=0;_i<nodes.length;_i++){var node=nodes[_i];var result=cbNode(node);if(result){return result}}}}function forEachChild(node,cbNode,cbNodeArray){if(!node){return}var visitNodes=cbNodeArray?visitNodeArray:visitEachNode;var cbNodes=cbNodeArray||cbNode;switch(node.kind){case 135:return visitNode(cbNode,node.left)||visitNode(cbNode,node.right);case 137:return visitNode(cbNode,node.name)||visitNode(cbNode,node.constraint)||visitNode(cbNode,node.expression);case 246:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.equalsToken)||visitNode(cbNode,node.objectAssignmentInitializer);case 138:case 141:case 140:case 245:case 211:case 163:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.propertyName)||visitNode(cbNode,node.dotDotDotToken)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.type)||visitNode(cbNode,node.initializer);case 152:case 153:case 147:case 148:case 149:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type);case 143:case 142:case 144:case 145:case 146:case 173:case 213:case 174:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.asteriskToken)||visitNode(cbNode,node.name)||visitNode(cbNode,node.questionToken)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type)||visitNode(cbNode,node.equalsGreaterThanToken)||visitNode(cbNode,node.body);case 151:return visitNode(cbNode,node.typeName)||visitNodes(cbNodes,node.typeArguments);case 150:
return visitNode(cbNode,node.parameterName)||visitNode(cbNode,node.type);case 154:return visitNode(cbNode,node.exprName);case 155:return visitNodes(cbNodes,node.members);case 156:return visitNode(cbNode,node.elementType);case 157:return visitNodes(cbNodes,node.elementTypes);case 158:case 159:return visitNodes(cbNodes,node.types);case 160:return visitNode(cbNode,node.type);case 161:case 162:return visitNodes(cbNodes,node.elements);case 164:return visitNodes(cbNodes,node.elements);case 165:return visitNodes(cbNodes,node.properties);case 166:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.dotToken)||visitNode(cbNode,node.name);case 167:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.argumentExpression);case 168:case 169:return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.typeArguments)||visitNodes(cbNodes,node.arguments);case 170:return visitNode(cbNode,node.tag)||visitNode(cbNode,node.template);case 171:return visitNode(cbNode,node.type)||visitNode(cbNode,node.expression);case 172:return visitNode(cbNode,node.expression);case 175:return visitNode(cbNode,node.expression);case 176:return visitNode(cbNode,node.expression);case 177:return visitNode(cbNode,node.expression);case 179:return visitNode(cbNode,node.operand);case 184:return visitNode(cbNode,node.asteriskToken)||visitNode(cbNode,node.expression);case 178:return visitNode(cbNode,node.expression);case 180:return visitNode(cbNode,node.operand);case 181:return visitNode(cbNode,node.left)||visitNode(cbNode,node.operatorToken)||visitNode(cbNode,node.right);case 189:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.type);case 182:return visitNode(cbNode,node.condition)||visitNode(cbNode,node.questionToken)||visitNode(cbNode,node.whenTrue)||visitNode(cbNode,node.colonToken)||visitNode(cbNode,node.whenFalse);case 185:return visitNode(cbNode,node.expression);case 192:case 219:return visitNodes(cbNodes,node.statements);case 248:return visitNodes(cbNodes,node.statements)||visitNode(cbNode,node.endOfFileToken);case 193:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.declarationList);case 212:return visitNodes(cbNodes,node.declarations);case 195:return visitNode(cbNode,node.expression);case 196:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.thenStatement)||visitNode(cbNode,node.elseStatement);case 197:return visitNode(cbNode,node.statement)||visitNode(cbNode,node.expression);case 198:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 199:return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.condition)||visitNode(cbNode,node.incrementor)||visitNode(cbNode,node.statement);case 200:return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 201:return visitNode(cbNode,node.initializer)||visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 202:case 203:return visitNode(cbNode,node.label);case 204:return visitNode(cbNode,node.expression);case 205:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.statement);case 206:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.caseBlock);case 220:return visitNodes(cbNodes,node.clauses);case 241:return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.statements);case 242:return visitNodes(cbNodes,node.statements);case 207:return visitNode(cbNode,node.label)||visitNode(cbNode,node.statement);case 208:return visitNode(cbNode,node.expression);case 209:return visitNode(cbNode,node.tryBlock)||visitNode(cbNode,node.catchClause)||visitNode(cbNode,node.finallyBlock);case 244:return visitNode(cbNode,node.variableDeclaration)||visitNode(cbNode,node.block);case 139:return visitNode(cbNode,node.expression);case 214:case 186:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.heritageClauses)||visitNodes(cbNodes,node.members);case 215:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNodes(cbNodes,node.heritageClauses)||visitNodes(cbNodes,node.members);case 216:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeParameters)||visitNode(cbNode,node.type);case 217:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNodes(cbNodes,node.members);case 247:return visitNode(cbNode,node.name)||visitNode(cbNode,node.initializer);case 218:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.body);case 221:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.name)||visitNode(cbNode,node.moduleReference);case 222:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.importClause)||visitNode(cbNode,node.moduleSpecifier);case 223:return visitNode(cbNode,node.name)||visitNode(cbNode,node.namedBindings);case 224:return visitNode(cbNode,node.name);case 225:case 229:return visitNodes(cbNodes,node.elements);case 228:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.exportClause)||visitNode(cbNode,node.moduleSpecifier);case 226:case 230:return visitNode(cbNode,node.propertyName)||visitNode(cbNode,node.name);case 227:return visitNodes(cbNodes,node.decorators)||visitNodes(cbNodes,node.modifiers)||visitNode(cbNode,node.expression);case 183:return visitNode(cbNode,node.head)||visitNodes(cbNodes,node.templateSpans);case 190:return visitNode(cbNode,node.expression)||visitNode(cbNode,node.literal);case 136:return visitNode(cbNode,node.expression);case 243:return visitNodes(cbNodes,node.types);case 188:return visitNode(cbNode,node.expression)||visitNodes(cbNodes,node.typeArguments);case 232:return visitNode(cbNode,node.expression);case 231:return visitNodes(cbNodes,node.decorators);case 233:return visitNode(cbNode,node.openingElement)||visitNodes(cbNodes,node.children)||visitNode(cbNode,node.closingElement);case 234:case 235:return visitNode(cbNode,node.tagName)||visitNodes(cbNodes,node.attributes);case 238:return visitNode(cbNode,node.name)||visitNode(cbNode,node.initializer);case 239:return visitNode(cbNode,node.expression);case 240:return visitNode(cbNode,node.expression);case 237:return visitNode(cbNode,node.tagName);case 249:return visitNode(cbNode,node.type);case 253:return visitNodes(cbNodes,node.types);case 254:return visitNodes(cbNodes,node.types);case 252:return visitNode(cbNode,node.elementType);case 256:return visitNode(cbNode,node.type);case 255:return visitNode(cbNode,node.type);case 257:return visitNodes(cbNodes,node.members);case 259:return visitNode(cbNode,node.name)||visitNodes(cbNodes,node.typeArguments);case 260:return visitNode(cbNode,node.type);case 261:return visitNodes(cbNodes,node.parameters)||visitNode(cbNode,node.type);case 262:return visitNode(cbNode,node.type);case 263:return visitNode(cbNode,node.type);case 264:return visitNode(cbNode,node.type);case 258:return visitNode(cbNode,node.name)||visitNode(cbNode,node.type);case 265:return visitNodes(cbNodes,node.tags);case 267:return visitNode(cbNode,node.preParameterName)||visitNode(cbNode,node.typeExpression)||visitNode(cbNode,node.postParameterName);case 268:return visitNode(cbNode,node.typeExpression);case 269:return visitNode(cbNode,node.typeExpression);case 270:return visitNodes(cbNodes,node.typeParameters)}}ts.forEachChild=forEachChild;function createSourceFile(fileName,sourceText,languageVersion,setParentNodes){if(setParentNodes===void 0){setParentNodes=false}var start=(new Date).getTime();var result=Parser.parseSourceFile(fileName,sourceText,languageVersion,undefined,setParentNodes);ts.parseTime+=(new Date).getTime()-start;return result}ts.createSourceFile=createSourceFile;function updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks){return IncrementalParser.updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks)}ts.updateSourceFile=updateSourceFile;function parseIsolatedJSDocComment(content,start,length){return Parser.JSDocParser.parseIsolatedJSDocComment(content,start,length)}ts.parseIsolatedJSDocComment=parseIsolatedJSDocComment;function parseJSDocTypeExpressionForTests(content,start,length){return Parser.JSDocParser.parseJSDocTypeExpressionForTests(content,start,length)}ts.parseJSDocTypeExpressionForTests=parseJSDocTypeExpressionForTests;var Parser;(function(Parser){var scanner=ts.createScanner(2,true);var disallowInAndDecoratorContext=1|4;var sourceFile;var parseDiagnostics;var syntaxCursor;var token;var sourceText;var nodeCount;var identifiers;var identifierCount;var parsingContext;var contextFlags;var parseErrorBeforeNextFinishedNode=false;function parseSourceFile(fileName,_sourceText,languageVersion,_syntaxCursor,setParentNodes){initializeState(fileName,_sourceText,languageVersion,_syntaxCursor);var result=parseSourceFileWorker(fileName,languageVersion,setParentNodes);clearState();return result}Parser.parseSourceFile=parseSourceFile;function initializeState(fileName,_sourceText,languageVersion,_syntaxCursor){sourceText=_sourceText;syntaxCursor=_syntaxCursor;parseDiagnostics=[];parsingContext=0;identifiers={};identifierCount=0;nodeCount=0;contextFlags=ts.isJavaScript(fileName)?32:0;parseErrorBeforeNextFinishedNode=false;scanner.setText(sourceText);scanner.setOnError(scanError);scanner.setScriptTarget(languageVersion);scanner.setLanguageVariant(ts.isTsx(fileName)?1:0)}function clearState(){scanner.setText("");scanner.setOnError(undefined);parseDiagnostics=undefined;sourceFile=undefined;identifiers=undefined;syntaxCursor=undefined;sourceText=undefined}function parseSourceFileWorker(fileName,languageVersion,setParentNodes){sourceFile=createSourceFile(fileName,languageVersion);token=nextToken();processReferenceComments(sourceFile);sourceFile.statements=parseList(0,parseStatement);ts.Debug.assert(token===1);sourceFile.endOfFileToken=parseTokenNode();setExternalModuleIndicator(sourceFile);sourceFile.nodeCount=nodeCount;sourceFile.identifierCount=identifierCount;sourceFile.identifiers=identifiers;sourceFile.parseDiagnostics=parseDiagnostics;if(setParentNodes){fixupParentReferences(sourceFile)}if(ts.isJavaScript(fileName)){addJSDocComments()}return sourceFile}function addJSDocComments(){forEachChild(sourceFile,visit);return;function visit(node){switch(node.kind){case 193:case 213:case 138:addJSDocComment(node)}forEachChild(node,visit)}}function addJSDocComment(node){var comments=ts.getLeadingCommentRangesOfNode(node,sourceFile);if(comments){for(var _i=0;_i<comments.length;_i++){var comment=comments[_i];var jsDocComment=JSDocParser.parseJSDocComment(node,comment.pos,comment.end-comment.pos);if(jsDocComment){node.jsDocComment=jsDocComment}}}}function fixupParentReferences(sourceFile){var parent=sourceFile;forEachChild(sourceFile,visitNode);return;function visitNode(n){if(n.parent!==parent){n.parent=parent;var saveParent=parent;parent=n;forEachChild(n,visitNode);parent=saveParent}}}Parser.fixupParentReferences=fixupParentReferences;function createSourceFile(fileName,languageVersion){var sourceFile=createNode(248,0);sourceFile.pos=0;sourceFile.end=sourceText.length;sourceFile.text=sourceText;sourceFile.bindDiagnostics=[];sourceFile.languageVersion=languageVersion;sourceFile.fileName=ts.normalizePath(fileName);sourceFile.flags=ts.fileExtensionIs(sourceFile.fileName,".d.ts")?8192:0;sourceFile.languageVariant=ts.isTsx(sourceFile.fileName)?1:0;return sourceFile}function setContextFlag(val,flag){if(val){contextFlags|=flag}else{contextFlags&=~flag}}function setDisallowInContext(val){setContextFlag(val,1)}function setYieldContext(val){setContextFlag(val,2)}function setDecoratorContext(val){setContextFlag(val,4)}function setAwaitContext(val){setContextFlag(val,8)}function doOutsideOfContext(context,func){var contextFlagsToClear=context&contextFlags;if(contextFlagsToClear){setContextFlag(false,contextFlagsToClear);var result=func();setContextFlag(true,contextFlagsToClear);return result}return func()}function doInsideOfContext(context,func){var contextFlagsToSet=context&~contextFlags;if(contextFlagsToSet){setContextFlag(true,contextFlagsToSet);var result=func();setContextFlag(false,contextFlagsToSet);return result}return func()}function allowInAnd(func){return doOutsideOfContext(1,func)}function disallowInAnd(func){return doInsideOfContext(1,func)}function doInYieldContext(func){return doInsideOfContext(2,func)}function doOutsideOfYieldContext(func){return doOutsideOfContext(2,func)}function doInDecoratorContext(func){return doInsideOfContext(4,func)}function doInAwaitContext(func){return doInsideOfContext(8,func)}function doOutsideOfAwaitContext(func){return doOutsideOfContext(8,func)}function doInYieldAndAwaitContext(func){return doInsideOfContext(2|8,func)}function doOutsideOfYieldAndAwaitContext(func){return doOutsideOfContext(2|8,func)}function inContext(flags){return(contextFlags&flags)!==0}function inYieldContext(){return inContext(2)}function inDisallowInContext(){return inContext(1)}function inDecoratorContext(){return inContext(4)}function inAwaitContext(){return inContext(8)}function parseErrorAtCurrentToken(message,arg0){var start=scanner.getTokenPos();var length=scanner.getTextPos()-start;parseErrorAtPosition(start,length,message,arg0)}function parseErrorAtPosition(start,length,message,arg0){var lastError=ts.lastOrUndefined(parseDiagnostics);if(!lastError||start!==lastError.start){parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,start,length,message,arg0))}parseErrorBeforeNextFinishedNode=true}function scanError(message,length){var pos=scanner.getTextPos();parseErrorAtPosition(pos,length||0,message)}function getNodePos(){return scanner.getStartPos()}function getNodeEnd(){return scanner.getStartPos()}function nextToken(){return token=scanner.scan()}function getTokenPos(pos){return ts.skipTrivia(sourceText,pos)}function reScanGreaterToken(){return token=scanner.reScanGreaterToken()}function reScanSlashToken(){return token=scanner.reScanSlashToken()}function reScanTemplateToken(){return token=scanner.reScanTemplateToken()}function scanJsxIdentifier(){return token=scanner.scanJsxIdentifier()}function scanJsxText(){return token=scanner.scanJsxToken()}function speculationHelper(callback,isLookAhead){var saveToken=token;var saveParseDiagnosticsLength=parseDiagnostics.length;var saveParseErrorBeforeNextFinishedNode=parseErrorBeforeNextFinishedNode;var saveContextFlags=contextFlags;var result=isLookAhead?scanner.lookAhead(callback):scanner.tryScan(callback);ts.Debug.assert(saveContextFlags===contextFlags);if(!result||isLookAhead){token=saveToken;parseDiagnostics.length=saveParseDiagnosticsLength;parseErrorBeforeNextFinishedNode=saveParseErrorBeforeNextFinishedNode}return result}function lookAhead(callback){return speculationHelper(callback,true)}function tryParse(callback){return speculationHelper(callback,false)}function isIdentifier(){if(token===69){return true}if(token===114&&inYieldContext()){return false}if(token===119&&inAwaitContext()){return false}return token>105}function parseExpected(kind,diagnosticMessage,shouldAdvance){if(shouldAdvance===void 0){shouldAdvance=true}if(token===kind){if(shouldAdvance){nextToken()}return true}if(diagnosticMessage){parseErrorAtCurrentToken(diagnosticMessage)}else{parseErrorAtCurrentToken(ts.Diagnostics._0_expected,ts.tokenToString(kind))}return false}function parseOptional(t){if(token===t){nextToken();return true}return false}function parseOptionalToken(t){if(token===t){return parseTokenNode()}return undefined}function parseExpectedToken(t,reportAtCurrentPosition,diagnosticMessage,arg0){return parseOptionalToken(t)||createMissingNode(t,reportAtCurrentPosition,diagnosticMessage,arg0)}function parseTokenNode(){var node=createNode(token);nextToken();return finishNode(node)}function canParseSemicolon(){if(token===23){return true}return token===16||token===1||scanner.hasPrecedingLineBreak()}function parseSemicolon(){if(canParseSemicolon()){if(token===23){nextToken()}return true}else{return parseExpected(23)}}function createNode(kind,pos){nodeCount++;var node=new(nodeConstructors[kind]||(nodeConstructors[kind]=ts.objectAllocator.getNodeConstructor(kind)));if(!(pos>=0)){pos=scanner.getStartPos()}node.pos=pos;node.end=pos;return node}function finishNode(node,end){node.end=end===undefined?scanner.getStartPos():end;if(contextFlags){node.parserContextFlags=contextFlags}if(parseErrorBeforeNextFinishedNode){parseErrorBeforeNextFinishedNode=false;node.parserContextFlags|=16}return node}function createMissingNode(kind,reportAtCurrentPosition,diagnosticMessage,arg0){if(reportAtCurrentPosition){parseErrorAtPosition(scanner.getStartPos(),0,diagnosticMessage,arg0)}else{parseErrorAtCurrentToken(diagnosticMessage,arg0)}var result=createNode(kind,scanner.getStartPos());result.text="";return finishNode(result)}function internIdentifier(text){text=ts.escapeIdentifier(text);return ts.hasProperty(identifiers,text)?identifiers[text]:identifiers[text]=text}function createIdentifier(isIdentifier,diagnosticMessage){identifierCount++;if(isIdentifier){var node=createNode(69);if(token!==69){node.originalKeywordKind=token}node.text=internIdentifier(scanner.getTokenValue());nextToken();return finishNode(node)}return createMissingNode(69,false,diagnosticMessage||ts.Diagnostics.Identifier_expected)}function parseIdentifier(diagnosticMessage){return createIdentifier(isIdentifier(),diagnosticMessage)}function parseIdentifierName(){return createIdentifier(ts.tokenIsIdentifierOrKeyword(token))}function isLiteralPropertyName(){return ts.tokenIsIdentifierOrKeyword(token)||token===9||token===8}function parsePropertyNameWorker(allowComputedPropertyNames){if(token===9||token===8){return parseLiteralNode(true)}if(allowComputedPropertyNames&&token===19){return parseComputedPropertyName()}return parseIdentifierName()}function parsePropertyName(){return parsePropertyNameWorker(true)}function parseSimplePropertyName(){return parsePropertyNameWorker(false)}function isSimplePropertyName(){return token===9||token===8||ts.tokenIsIdentifierOrKeyword(token)}function parseComputedPropertyName(){var node=createNode(136);parseExpected(19);node.expression=allowInAnd(parseExpression);parseExpected(20);return finishNode(node)}function parseContextualModifier(t){return token===t&&tryParse(nextTokenCanFollowModifier)}function nextTokenCanFollowModifier(){if(token===74){return nextToken()===81}if(token===82){nextToken();if(token===77){return lookAhead(nextTokenIsClassOrFunction)}return token!==37&&token!==15&&canFollowModifier()}if(token===77){return nextTokenIsClassOrFunction()}if(token===113){nextToken();return canFollowModifier()}nextToken();if(scanner.hasPrecedingLineBreak()){return false}return canFollowModifier()}function parseAnyContextualModifier(){return ts.isModifier(token)&&tryParse(nextTokenCanFollowModifier)}function canFollowModifier(){return token===19||token===15||token===37||isLiteralPropertyName()}function nextTokenIsClassOrFunction(){nextToken();return token===73||token===87}function isListElement(parsingContext,inErrorRecovery){var node=currentNode(parsingContext);if(node){return true}switch(parsingContext){case 0:case 1:case 3:return!(token===23&&inErrorRecovery)&&isStartOfStatement();case 2:return token===71||token===77;case 4:return isStartOfTypeMember();case 5:return lookAhead(isClassMemberStart)||token===23&&!inErrorRecovery;case 6:return token===19||isLiteralPropertyName();case 12:return token===19||token===37||isLiteralPropertyName();case 9:return isLiteralPropertyName();case 7:if(token===15){return lookAhead(isValidHeritageClauseObjectLiteral)}if(!inErrorRecovery){return isStartOfLeftHandSideExpression()&&!isHeritageClauseExtendsOrImplementsKeyword()}else{return isIdentifier()&&!isHeritageClauseExtendsOrImplementsKeyword()}case 8:return isIdentifierOrPattern();case 10:return token===24||token===22||isIdentifierOrPattern();case 17:return isIdentifier();case 11:case 15:return token===24||token===22||isStartOfExpression();case 16:return isStartOfParameter();case 18:case 19:return token===24||isStartOfType();case 20:return isHeritageClause();case 21:return ts.tokenIsIdentifierOrKeyword(token);case 13:return ts.tokenIsIdentifierOrKeyword(token)||token===15;case 14:return true;case 22:case 23:case 25:return JSDocParser.isJSDocType();case 24:return isSimplePropertyName()}ts.Debug.fail("Non-exhaustive case in 'isListElement'.")}function isValidHeritageClauseObjectLiteral(){ts.Debug.assert(token===15);if(nextToken()===16){var next=nextToken();return next===24||next===15||next===83||next===106}return true}function nextTokenIsIdentifier(){nextToken();return isIdentifier()}function nextTokenIsIdentifierOrKeyword(){nextToken();return ts.tokenIsIdentifierOrKeyword(token)}function isHeritageClauseExtendsOrImplementsKeyword(){if(token===106||token===83){return lookAhead(nextTokenIsStartOfExpression)}return false}function nextTokenIsStartOfExpression(){nextToken();return isStartOfExpression()}function isListTerminator(kind){if(token===1){return true}switch(kind){case 1:case 2:case 4:case 5:case 6:case 12:case 9:case 21:return token===16;case 3:return token===16||token===71||token===77;case 7:return token===15||token===83||token===106;case 8:return isVariableDeclaratorListTerminator();case 17:return token===27||token===17||token===15||token===83||token===106;case 11:return token===18||token===23;case 15:case 19:case 10:return token===20;case 16:return token===18||token===20;case 18:return token===27||token===17;case 20:return token===15||token===16;case 13:return token===27||token===39;case 14:return token===25&&lookAhead(nextTokenIsSlash);case 22:return token===18||token===54||token===16;case 23:return token===27||token===16;case 25:return token===20||token===16;case 24:return token===16}}function isVariableDeclaratorListTerminator(){if(canParseSemicolon()){return true}if(isInOrOfKeyword(token)){return true}if(token===34){return true}return false}function isInSomeParsingContext(){for(var kind=0;kind<26;kind++){if(parsingContext&1<<kind){if(isListElement(kind,true)||isListTerminator(kind)){return true}}}return false}function parseList(kind,parseElement){var saveParsingContext=parsingContext;parsingContext|=1<<kind;var result=[];result.pos=getNodePos();while(!isListTerminator(kind)){if(isListElement(kind,false)){var element=parseListElement(kind,parseElement);result.push(element);continue}if(abortParsingListOrMoveToNextToken(kind)){break}}result.end=getNodeEnd();parsingContext=saveParsingContext;return result}function parseListElement(parsingContext,parseElement){var node=currentNode(parsingContext);if(node){return consumeNode(node)}return parseElement()}function currentNode(parsingContext){if(parseErrorBeforeNextFinishedNode){return undefined}if(!syntaxCursor){return undefined}var node=syntaxCursor.currentNode(scanner.getStartPos());if(ts.nodeIsMissing(node)){return undefined}if(node.intersectsChange){return undefined}if(ts.containsParseError(node)){return undefined}var nodeContextFlags=node.parserContextFlags&31;if(nodeContextFlags!==contextFlags){return undefined}if(!canReuseNode(node,parsingContext)){return undefined}return node}function consumeNode(node){scanner.setTextPos(node.end);nextToken();return node}function canReuseNode(node,parsingContext){switch(parsingContext){case 5:return isReusableClassMember(node);case 2:return isReusableSwitchClause(node);case 0:case 1:case 3:return isReusableStatement(node);case 6:return isReusableEnumMember(node);case 4:return isReusableTypeMember(node);case 8:return isReusableVariableDeclaration(node);case 16:return isReusableParameter(node);case 20:case 17:case 19:case 18:case 11:case 12:case 7:case 13:case 14:}return false}function isReusableClassMember(node){if(node){switch(node.kind){case 144:case 149:case 145:case 146:case 141:case 191:return true;case 143:var methodDeclaration=node;var nameIsConstructor=methodDeclaration.name.kind===69&&methodDeclaration.name.originalKeywordKind===121;return!nameIsConstructor}}return false}function isReusableSwitchClause(node){if(node){switch(node.kind){case 241:case 242:return true}}return false}function isReusableStatement(node){if(node){switch(node.kind){case 213:case 193:case 192:case 196:case 195:case 208:case 204:case 206:case 203:case 202:case 200:case 201:case 199:case 198:case 205:case 194:case 209:case 207:case 197:case 210:case 222:case 221:case 228:case 227:case 218:case 214:case 215:case 217:case 216:return true}}return false}function isReusableEnumMember(node){return node.kind===247}function isReusableTypeMember(node){if(node){switch(node.kind){case 148:case 142:case 149:case 140:case 147:return true}}return false}function isReusableVariableDeclaration(node){if(node.kind!==211){return false}var variableDeclarator=node;return variableDeclarator.initializer===undefined}function isReusableParameter(node){if(node.kind!==138){return false}var parameter=node;return parameter.initializer===undefined}function abortParsingListOrMoveToNextToken(kind){parseErrorAtCurrentToken(parsingContextErrors(kind));if(isInSomeParsingContext()){return true}nextToken();return false}function parsingContextErrors(context){switch(context){case 0:return ts.Diagnostics.Declaration_or_statement_expected;case 1:return ts.Diagnostics.Declaration_or_statement_expected;case 2:return ts.Diagnostics.case_or_default_expected;case 3:return ts.Diagnostics.Statement_expected;case 4:return ts.Diagnostics.Property_or_signature_expected;case 5:return ts.Diagnostics.Unexpected_token_A_constructor_method_accessor_or_property_was_expected;case 6:return ts.Diagnostics.Enum_member_expected;case 7:return ts.Diagnostics.Expression_expected;case 8:return ts.Diagnostics.Variable_declaration_expected;case 9:return ts.Diagnostics.Property_destructuring_pattern_expected;case 10:return ts.Diagnostics.Array_element_destructuring_pattern_expected;case 11:return ts.Diagnostics.Argument_expression_expected;case 12:return ts.Diagnostics.Property_assignment_expected;case 15:return ts.Diagnostics.Expression_or_comma_expected;case 16:return ts.Diagnostics.Parameter_declaration_expected;case 17:return ts.Diagnostics.Type_parameter_declaration_expected;case 18:return ts.Diagnostics.Type_argument_expected;case 19:return ts.Diagnostics.Type_expected;case 20:return ts.Diagnostics.Unexpected_token_expected;case 21:return ts.Diagnostics.Identifier_expected;case 13:return ts.Diagnostics.Identifier_expected;case 14:return ts.Diagnostics.Identifier_expected;case 22:return ts.Diagnostics.Parameter_declaration_expected;case 23:return ts.Diagnostics.Type_argument_expected;case 25:return ts.Diagnostics.Type_expected;case 24:return ts.Diagnostics.Property_assignment_expected}}function parseDelimitedList(kind,parseElement,considerSemicolonAsDelimeter){var saveParsingContext=parsingContext;parsingContext|=1<<kind;var result=[];result.pos=getNodePos();var commaStart=-1;while(true){if(isListElement(kind,false)){result.push(parseListElement(kind,parseElement));commaStart=scanner.getTokenPos();if(parseOptional(24)){continue}commaStart=-1;if(isListTerminator(kind)){break}parseExpected(24);if(considerSemicolonAsDelimeter&&token===23&&!scanner.hasPrecedingLineBreak()){nextToken()}continue}if(isListTerminator(kind)){break}if(abortParsingListOrMoveToNextToken(kind)){break}}if(commaStart>=0){result.hasTrailingComma=true}result.end=getNodeEnd();parsingContext=saveParsingContext;return result}function createMissingList(){var pos=getNodePos();var result=[];result.pos=pos;result.end=pos;return result}function parseBracketedList(kind,parseElement,open,close){if(parseExpected(open)){var result=parseDelimitedList(kind,parseElement);parseExpected(close);return result}return createMissingList()}function parseEntityName(allowReservedWords,diagnosticMessage){var entity=parseIdentifier(diagnosticMessage);while(parseOptional(21)){var node=createNode(135,entity.pos);node.left=entity;node.right=parseRightSideOfDot(allowReservedWords);entity=finishNode(node)}return entity}function parseRightSideOfDot(allowIdentifierNames){if(scanner.hasPrecedingLineBreak()&&ts.tokenIsIdentifierOrKeyword(token)){var matchesPattern=lookAhead(nextTokenIsIdentifierOrKeywordOnSameLine);if(matchesPattern){return createMissingNode(69,true,ts.Diagnostics.Identifier_expected)}}return allowIdentifierNames?parseIdentifierName():parseIdentifier()}function parseTemplateExpression(){var template=createNode(183);template.head=parseLiteralNode();ts.Debug.assert(template.head.kind===12,"Template head has wrong token kind");var templateSpans=[];templateSpans.pos=getNodePos();do{templateSpans.push(parseTemplateSpan())}while(ts.lastOrUndefined(templateSpans).literal.kind===13);templateSpans.end=getNodeEnd();template.templateSpans=templateSpans;return finishNode(template)}function parseTemplateSpan(){var span=createNode(190);span.expression=allowInAnd(parseExpression);var literal;if(token===16){reScanTemplateToken();literal=parseLiteralNode()}else{literal=parseExpectedToken(14,false,ts.Diagnostics._0_expected,ts.tokenToString(16))}span.literal=literal;return finishNode(span)}function parseLiteralNode(internName){var node=createNode(token);var text=scanner.getTokenValue();node.text=internName?internIdentifier(text):text;if(scanner.hasExtendedUnicodeEscape()){node.hasExtendedUnicodeEscape=true}if(scanner.isUnterminated()){node.isUnterminated=true}var tokenPos=scanner.getTokenPos();nextToken();finishNode(node);if(node.kind===8&&sourceText.charCodeAt(tokenPos)===48&&ts.isOctalDigit(sourceText.charCodeAt(tokenPos+1))){node.flags|=65536}return node}function parseTypeReferenceOrTypePredicate(){var typeName=parseEntityName(false,ts.Diagnostics.Type_expected);if(typeName.kind===69&&token===124&&!scanner.hasPrecedingLineBreak()){nextToken();var node_1=createNode(150,typeName.pos);node_1.parameterName=typeName;node_1.type=parseType();return finishNode(node_1)}var node=createNode(151,typeName.pos);node.typeName=typeName;if(!scanner.hasPrecedingLineBreak()&&token===25){node.typeArguments=parseBracketedList(18,parseType,25,27)}return finishNode(node)}function parseTypeQuery(){var node=createNode(154);parseExpected(101);node.exprName=parseEntityName(true);return finishNode(node)}function parseTypeParameter(){var node=createNode(137);node.name=parseIdentifier();if(parseOptional(83)){if(isStartOfType()||!isStartOfExpression()){node.constraint=parseType()}else{node.expression=parseUnaryExpressionOrHigher()}}return finishNode(node)}function parseTypeParameters(){if(token===25){return parseBracketedList(17,parseTypeParameter,25,27)}}function parseParameterType(){if(parseOptional(54)){return token===9?parseLiteralNode(true):parseType()}return undefined}function isStartOfParameter(){return token===22||isIdentifierOrPattern()||ts.isModifier(token)||token===55}function setModifiers(node,modifiers){if(modifiers){node.flags|=modifiers.flags;node.modifiers=modifiers}}function parseParameter(){var node=createNode(138);node.decorators=parseDecorators();setModifiers(node,parseModifiers());node.dotDotDotToken=parseOptionalToken(22);node.name=parseIdentifierOrPattern();if(ts.getFullWidth(node.name)===0&&node.flags===0&&ts.isModifier(token)){nextToken()}node.questionToken=parseOptionalToken(53);node.type=parseParameterType();node.initializer=parseBindingElementInitializer(true);return finishNode(node)}function parseBindingElementInitializer(inParameter){return inParameter?parseParameterInitializer():parseNonParameterInitializer()}function parseParameterInitializer(){return parseInitializer(true)}function fillSignature(returnToken,yieldContext,awaitContext,requireCompleteParameterList,signature){var returnTokenRequired=returnToken===34;signature.typeParameters=parseTypeParameters();
signature.parameters=parseParameterList(yieldContext,awaitContext,requireCompleteParameterList);if(returnTokenRequired){parseExpected(returnToken);signature.type=parseType()}else if(parseOptional(returnToken)){signature.type=parseType()}}function parseParameterList(yieldContext,awaitContext,requireCompleteParameterList){if(parseExpected(17)){var savedYieldContext=inYieldContext();var savedAwaitContext=inAwaitContext();setYieldContext(yieldContext);setAwaitContext(awaitContext);var result=parseDelimitedList(16,parseParameter);setYieldContext(savedYieldContext);setAwaitContext(savedAwaitContext);if(!parseExpected(18)&&requireCompleteParameterList){return undefined}return result}return requireCompleteParameterList?undefined:createMissingList()}function parseTypeMemberSemicolon(){if(parseOptional(24)){return}parseSemicolon()}function parseSignatureMember(kind){var node=createNode(kind);if(kind===148){parseExpected(92)}fillSignature(54,false,false,false,node);parseTypeMemberSemicolon();return finishNode(node)}function isIndexSignature(){if(token!==19){return false}return lookAhead(isUnambiguouslyIndexSignature)}function isUnambiguouslyIndexSignature(){nextToken();if(token===22||token===20){return true}if(ts.isModifier(token)){nextToken();if(isIdentifier()){return true}}else if(!isIdentifier()){return false}else{nextToken()}if(token===54||token===24){return true}if(token!==53){return false}nextToken();return token===54||token===24||token===20}function parseIndexSignatureDeclaration(fullStart,decorators,modifiers){var node=createNode(149,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.parameters=parseBracketedList(16,parseParameter,19,20);node.type=parseTypeAnnotation();parseTypeMemberSemicolon();return finishNode(node)}function parsePropertyOrMethodSignature(){var fullStart=scanner.getStartPos();var name=parsePropertyName();var questionToken=parseOptionalToken(53);if(token===17||token===25){var method=createNode(142,fullStart);method.name=name;method.questionToken=questionToken;fillSignature(54,false,false,false,method);parseTypeMemberSemicolon();return finishNode(method)}else{var property=createNode(140,fullStart);property.name=name;property.questionToken=questionToken;property.type=parseTypeAnnotation();parseTypeMemberSemicolon();return finishNode(property)}}function isStartOfTypeMember(){switch(token){case 17:case 25:case 19:return true;default:if(ts.isModifier(token)){var result=lookAhead(isStartOfIndexSignatureDeclaration);if(result){return result}}return isLiteralPropertyName()&&lookAhead(isTypeMemberWithLiteralPropertyName)}}function isStartOfIndexSignatureDeclaration(){while(ts.isModifier(token)){nextToken()}return isIndexSignature()}function isTypeMemberWithLiteralPropertyName(){nextToken();return token===17||token===25||token===53||token===54||canParseSemicolon()}function parseTypeMember(){switch(token){case 17:case 25:return parseSignatureMember(147);case 19:return isIndexSignature()?parseIndexSignatureDeclaration(scanner.getStartPos(),undefined,undefined):parsePropertyOrMethodSignature();case 92:if(lookAhead(isStartOfConstructSignature)){return parseSignatureMember(148)}case 9:case 8:return parsePropertyOrMethodSignature();default:if(ts.isModifier(token)){var result=tryParse(parseIndexSignatureWithModifiers);if(result){return result}}if(ts.tokenIsIdentifierOrKeyword(token)){return parsePropertyOrMethodSignature()}}}function parseIndexSignatureWithModifiers(){var fullStart=scanner.getStartPos();var decorators=parseDecorators();var modifiers=parseModifiers();return isIndexSignature()?parseIndexSignatureDeclaration(fullStart,decorators,modifiers):undefined}function isStartOfConstructSignature(){nextToken();return token===17||token===25}function parseTypeLiteral(){var node=createNode(155);node.members=parseObjectTypeMembers();return finishNode(node)}function parseObjectTypeMembers(){var members;if(parseExpected(15)){members=parseList(4,parseTypeMember);parseExpected(16)}else{members=createMissingList()}return members}function parseTupleType(){var node=createNode(157);node.elementTypes=parseBracketedList(19,parseType,19,20);return finishNode(node)}function parseParenthesizedType(){var node=createNode(160);parseExpected(17);node.type=parseType();parseExpected(18);return finishNode(node)}function parseFunctionOrConstructorType(kind){var node=createNode(kind);if(kind===153){parseExpected(92)}fillSignature(34,false,false,false,node);return finishNode(node)}function parseKeywordAndNoDot(){var node=parseTokenNode();return token===21?undefined:node}function parseNonArrayType(){switch(token){case 117:case 130:case 128:case 120:case 131:var node=tryParse(parseKeywordAndNoDot);return node||parseTypeReferenceOrTypePredicate();case 103:case 97:return parseTokenNode();case 101:return parseTypeQuery();case 15:return parseTypeLiteral();case 19:return parseTupleType();case 17:return parseParenthesizedType();default:return parseTypeReferenceOrTypePredicate()}}function isStartOfType(){switch(token){case 117:case 130:case 128:case 120:case 131:case 103:case 97:case 101:case 15:case 19:case 25:case 92:return true;case 17:return lookAhead(isStartOfParenthesizedOrFunctionType);default:return isIdentifier()}}function isStartOfParenthesizedOrFunctionType(){nextToken();return token===18||isStartOfParameter()||isStartOfType()}function parseArrayTypeOrHigher(){var type=parseNonArrayType();while(!scanner.hasPrecedingLineBreak()&&parseOptional(19)){parseExpected(20);var node=createNode(156,type.pos);node.elementType=type;type=finishNode(node)}return type}function parseUnionOrIntersectionType(kind,parseConstituentType,operator){var type=parseConstituentType();if(token===operator){var types=[type];types.pos=type.pos;while(parseOptional(operator)){types.push(parseConstituentType())}types.end=getNodeEnd();var node=createNode(kind,type.pos);node.types=types;type=finishNode(node)}return type}function parseIntersectionTypeOrHigher(){return parseUnionOrIntersectionType(159,parseArrayTypeOrHigher,46)}function parseUnionTypeOrHigher(){return parseUnionOrIntersectionType(158,parseIntersectionTypeOrHigher,47)}function isStartOfFunctionType(){if(token===25){return true}return token===17&&lookAhead(isUnambiguouslyStartOfFunctionType)}function isUnambiguouslyStartOfFunctionType(){nextToken();if(token===18||token===22){return true}if(isIdentifier()||ts.isModifier(token)){nextToken();if(token===54||token===24||token===53||token===56||isIdentifier()||ts.isModifier(token)){return true}if(token===18){nextToken();if(token===34){return true}}}return false}function parseType(){return doOutsideOfContext(10,parseTypeWorker)}function parseTypeWorker(){if(isStartOfFunctionType()){return parseFunctionOrConstructorType(152)}if(token===92){return parseFunctionOrConstructorType(153)}return parseUnionTypeOrHigher()}function parseTypeAnnotation(){return parseOptional(54)?parseType():undefined}function isStartOfLeftHandSideExpression(){switch(token){case 97:case 95:case 93:case 99:case 84:case 8:case 9:case 11:case 12:case 17:case 19:case 15:case 87:case 73:case 92:case 39:case 61:case 69:return true;default:return isIdentifier()}}function isStartOfExpression(){if(isStartOfLeftHandSideExpression()){return true}switch(token){case 35:case 36:case 50:case 49:case 78:case 101:case 103:case 41:case 42:case 25:case 119:case 114:return true;default:if(isBinaryOperator()){return true}return isIdentifier()}}function isStartOfExpressionStatement(){return token!==15&&token!==87&&token!==73&&token!==55&&isStartOfExpression()}function allowInAndParseExpression(){return allowInAnd(parseExpression)}function parseExpression(){var saveDecoratorContext=inDecoratorContext();if(saveDecoratorContext){setDecoratorContext(false)}var expr=parseAssignmentExpressionOrHigher();var operatorToken;while(operatorToken=parseOptionalToken(24)){expr=makeBinaryExpression(expr,operatorToken,parseAssignmentExpressionOrHigher())}if(saveDecoratorContext){setDecoratorContext(true)}return expr}function parseInitializer(inParameter){if(token!==56){if(scanner.hasPrecedingLineBreak()||inParameter&&token===15||!isStartOfExpression()){return undefined}}parseExpected(56);return parseAssignmentExpressionOrHigher()}function parseAssignmentExpressionOrHigher(){if(isYieldExpression()){return parseYieldExpression()}var arrowExpression=tryParseParenthesizedArrowFunctionExpression();if(arrowExpression){return arrowExpression}var expr=parseBinaryExpressionOrHigher(0);if(expr.kind===69&&token===34){return parseSimpleArrowFunctionExpression(expr)}if(ts.isLeftHandSideExpression(expr)&&ts.isAssignmentOperator(reScanGreaterToken())){return makeBinaryExpression(expr,parseTokenNode(),parseAssignmentExpressionOrHigher())}return parseConditionalExpressionRest(expr)}function isYieldExpression(){if(token===114){if(inYieldContext()){return true}return lookAhead(nextTokenIsIdentifierOrKeywordOrNumberOnSameLine)}return false}function nextTokenIsIdentifierOnSameLine(){nextToken();return!scanner.hasPrecedingLineBreak()&&isIdentifier()}function parseYieldExpression(){var node=createNode(184);nextToken();if(!scanner.hasPrecedingLineBreak()&&(token===37||isStartOfExpression())){node.asteriskToken=parseOptionalToken(37);node.expression=parseAssignmentExpressionOrHigher();return finishNode(node)}else{return finishNode(node)}}function parseSimpleArrowFunctionExpression(identifier){ts.Debug.assert(token===34,"parseSimpleArrowFunctionExpression should only have been called if we had a =>");var node=createNode(174,identifier.pos);var parameter=createNode(138,identifier.pos);parameter.name=identifier;finishNode(parameter);node.parameters=[parameter];node.parameters.pos=parameter.pos;node.parameters.end=parameter.end;node.equalsGreaterThanToken=parseExpectedToken(34,false,ts.Diagnostics._0_expected,"=>");node.body=parseArrowFunctionExpressionBody(false);return finishNode(node)}function tryParseParenthesizedArrowFunctionExpression(){var triState=isParenthesizedArrowFunctionExpression();if(triState===0){return undefined}var arrowFunction=triState===1?parseParenthesizedArrowFunctionExpressionHead(true):tryParse(parsePossibleParenthesizedArrowFunctionExpressionHead);if(!arrowFunction){return undefined}var isAsync=!!(arrowFunction.flags&512);var lastToken=token;arrowFunction.equalsGreaterThanToken=parseExpectedToken(34,false,ts.Diagnostics._0_expected,"=>");arrowFunction.body=lastToken===34||lastToken===15?parseArrowFunctionExpressionBody(isAsync):parseIdentifier();return finishNode(arrowFunction)}function isParenthesizedArrowFunctionExpression(){if(token===17||token===25||token===118){return lookAhead(isParenthesizedArrowFunctionExpressionWorker)}if(token===34){return 1}return 0}function isParenthesizedArrowFunctionExpressionWorker(){if(token===118){nextToken();if(scanner.hasPrecedingLineBreak()){return 0}if(token!==17&&token!==25){return 0}}var first=token;var second=nextToken();if(first===17){if(second===18){var third=nextToken();switch(third){case 34:case 54:case 15:return 1;default:return 0}}if(second===19||second===15){return 2}if(second===22){return 1}if(!isIdentifier()){return 0}if(nextToken()===54){return 1}return 2}else{ts.Debug.assert(first===25);if(!isIdentifier()){return 0}if(sourceFile.languageVariant===1){var isArrowFunctionInJsx=lookAhead(function(){var third=nextToken();if(third===83){var fourth=nextToken();switch(fourth){case 56:case 27:return false;default:return true}}else if(third===24){return true}return false});if(isArrowFunctionInJsx){return 1}return 0}return 2}}function parsePossibleParenthesizedArrowFunctionExpressionHead(){return parseParenthesizedArrowFunctionExpressionHead(false)}function parseParenthesizedArrowFunctionExpressionHead(allowAmbiguity){var node=createNode(174);setModifiers(node,parseModifiersForArrowFunction());var isAsync=!!(node.flags&512);fillSignature(54,false,isAsync,!allowAmbiguity,node);if(!node.parameters){return undefined}if(!allowAmbiguity&&token!==34&&token!==15){return undefined}return node}function parseArrowFunctionExpressionBody(isAsync){if(token===15){return parseFunctionBlock(false,isAsync,false)}if(token!==23&&token!==87&&token!==73&&isStartOfStatement()&&!isStartOfExpressionStatement()){return parseFunctionBlock(false,isAsync,true)}return isAsync?doInAwaitContext(parseAssignmentExpressionOrHigher):doOutsideOfAwaitContext(parseAssignmentExpressionOrHigher)}function parseConditionalExpressionRest(leftOperand){var questionToken=parseOptionalToken(53);if(!questionToken){return leftOperand}var node=createNode(182,leftOperand.pos);node.condition=leftOperand;node.questionToken=questionToken;node.whenTrue=doOutsideOfContext(disallowInAndDecoratorContext,parseAssignmentExpressionOrHigher);node.colonToken=parseExpectedToken(54,false,ts.Diagnostics._0_expected,ts.tokenToString(54));node.whenFalse=parseAssignmentExpressionOrHigher();return finishNode(node)}function parseBinaryExpressionOrHigher(precedence){var leftOperand=parseUnaryExpressionOrHigher();return parseBinaryExpressionRest(precedence,leftOperand)}function isInOrOfKeyword(t){return t===90||t===134}function parseBinaryExpressionRest(precedence,leftOperand){while(true){reScanGreaterToken();var newPrecedence=getBinaryOperatorPrecedence();var consumeCurrentOperator=token===38?newPrecedence>=precedence:newPrecedence>precedence;if(!consumeCurrentOperator){break}if(token===90&&inDisallowInContext()){break}if(token===116){if(scanner.hasPrecedingLineBreak()){break}else{nextToken();leftOperand=makeAsExpression(leftOperand,parseType())}}else{leftOperand=makeBinaryExpression(leftOperand,parseTokenNode(),parseBinaryExpressionOrHigher(newPrecedence))}}return leftOperand}function isBinaryOperator(){if(inDisallowInContext()&&token===90){return false}return getBinaryOperatorPrecedence()>0}function getBinaryOperatorPrecedence(){switch(token){case 52:return 1;case 51:return 2;case 47:return 3;case 48:return 4;case 46:return 5;case 30:case 31:case 32:case 33:return 6;case 25:case 27:case 28:case 29:case 91:case 90:case 116:return 7;case 43:case 44:case 45:return 8;case 35:case 36:return 9;case 37:case 39:case 40:return 10;case 38:return 11}return-1}function makeBinaryExpression(left,operatorToken,right){var node=createNode(181,left.pos);node.left=left;node.operatorToken=operatorToken;node.right=right;return finishNode(node)}function makeAsExpression(left,right){var node=createNode(189,left.pos);node.expression=left;node.type=right;return finishNode(node)}function parsePrefixUnaryExpression(){var node=createNode(179);node.operator=token;nextToken();node.operand=parseSimpleUnaryExpression();return finishNode(node)}function parseDeleteExpression(){var node=createNode(175);nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node)}function parseTypeOfExpression(){var node=createNode(176);nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node)}function parseVoidExpression(){var node=createNode(177);nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node)}function isAwaitExpression(){if(token===119){if(inAwaitContext()){return true}return lookAhead(nextTokenIsIdentifierOnSameLine)}return false}function parseAwaitExpression(){var node=createNode(178);nextToken();node.expression=parseSimpleUnaryExpression();return finishNode(node)}function parseUnaryExpressionOrHigher(){if(isAwaitExpression()){return parseAwaitExpression()}if(isIncrementExpression()){var incrementExpression=parseIncrementExpression();return token===38?parseBinaryExpressionRest(getBinaryOperatorPrecedence(),incrementExpression):incrementExpression}var unaryOperator=token;var simpleUnaryExpression=parseSimpleUnaryExpression();if(token===38){var diagnostic;var start=ts.skipTrivia(sourceText,simpleUnaryExpression.pos);if(simpleUnaryExpression.kind===171){parseErrorAtPosition(start,simpleUnaryExpression.end-start,ts.Diagnostics.A_type_assertion_expression_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses)}else{parseErrorAtPosition(start,simpleUnaryExpression.end-start,ts.Diagnostics.An_unary_expression_with_the_0_operator_is_not_allowed_in_the_left_hand_side_of_an_exponentiation_expression_Consider_enclosing_the_expression_in_parentheses,ts.tokenToString(unaryOperator))}}return simpleUnaryExpression}function parseSimpleUnaryExpression(){switch(token){case 35:case 36:case 50:case 49:return parsePrefixUnaryExpression();case 78:return parseDeleteExpression();case 101:return parseTypeOfExpression();case 103:return parseVoidExpression();case 25:return parseTypeAssertion();default:return parseIncrementExpression()}}function isIncrementExpression(){switch(token){case 35:case 36:case 50:case 49:case 78:case 101:case 103:return false;case 25:if(sourceFile.languageVariant!==1){return false}default:return true}}function parseIncrementExpression(){if(token===41||token===42){var node=createNode(179);node.operator=token;nextToken();node.operand=parseLeftHandSideExpressionOrHigher();return finishNode(node)}else if(sourceFile.languageVariant===1&&token===25&&lookAhead(nextTokenIsIdentifierOrKeyword)){return parseJsxElementOrSelfClosingElement(true)}var expression=parseLeftHandSideExpressionOrHigher();ts.Debug.assert(ts.isLeftHandSideExpression(expression));if((token===41||token===42)&&!scanner.hasPrecedingLineBreak()){var node=createNode(180,expression.pos);node.operand=expression;node.operator=token;nextToken();return finishNode(node)}return expression}function parseLeftHandSideExpressionOrHigher(){var expression=token===95?parseSuperExpression():parseMemberExpressionOrHigher();return parseCallExpressionRest(expression)}function parseMemberExpressionOrHigher(){var expression=parsePrimaryExpression();return parseMemberExpressionRest(expression)}function parseSuperExpression(){var expression=parseTokenNode();if(token===17||token===21||token===19){return expression}var node=createNode(166,expression.pos);node.expression=expression;node.dotToken=parseExpectedToken(21,false,ts.Diagnostics.super_must_be_followed_by_an_argument_list_or_member_access);node.name=parseRightSideOfDot(true);return finishNode(node)}function parseJsxElementOrSelfClosingElement(inExpressionContext){var opening=parseJsxOpeningOrSelfClosingElement(inExpressionContext);if(opening.kind===235){var node=createNode(233,opening.pos);node.openingElement=opening;node.children=parseJsxChildren(node.openingElement.tagName);node.closingElement=parseJsxClosingElement(inExpressionContext);return finishNode(node)}else{ts.Debug.assert(opening.kind===234);return opening}}function parseJsxText(){var node=createNode(236,scanner.getStartPos());token=scanner.scanJsxToken();return finishNode(node)}function parseJsxChild(){switch(token){case 236:return parseJsxText();case 15:return parseJsxExpression(false);case 25:return parseJsxElementOrSelfClosingElement(false)}ts.Debug.fail("Unknown JSX child kind "+token)}function parseJsxChildren(openingTagName){var result=[];result.pos=scanner.getStartPos();var saveParsingContext=parsingContext;parsingContext|=1<<14;while(true){token=scanner.reScanJsxToken();if(token===26){break}else if(token===1){parseErrorAtCurrentToken(ts.Diagnostics.Expected_corresponding_JSX_closing_tag_for_0,ts.getTextOfNodeFromSourceText(sourceText,openingTagName));break}result.push(parseJsxChild())}result.end=scanner.getTokenPos();parsingContext=saveParsingContext;return result}function parseJsxOpeningOrSelfClosingElement(inExpressionContext){var fullStart=scanner.getStartPos();parseExpected(25);var tagName=parseJsxElementName();var attributes=parseList(13,parseJsxAttribute);var node;if(token===27){node=createNode(235,fullStart);scanJsxText()}else{parseExpected(39);if(inExpressionContext){parseExpected(27)}else{parseExpected(27,undefined,false);scanJsxText()}node=createNode(234,fullStart)}node.tagName=tagName;node.attributes=attributes;return finishNode(node)}function parseJsxElementName(){scanJsxIdentifier();var elementName=parseIdentifierName();while(parseOptional(21)){scanJsxIdentifier();var node=createNode(135,elementName.pos);node.left=elementName;node.right=parseIdentifierName();elementName=finishNode(node)}return elementName}function parseJsxExpression(inExpressionContext){var node=createNode(240);parseExpected(15);if(token!==16){node.expression=parseExpression()}if(inExpressionContext){parseExpected(16)}else{parseExpected(16,undefined,false);scanJsxText()}return finishNode(node)}function parseJsxAttribute(){if(token===15){return parseJsxSpreadAttribute()}scanJsxIdentifier();var node=createNode(238);node.name=parseIdentifierName();if(parseOptional(56)){switch(token){case 9:node.initializer=parseLiteralNode();break;default:node.initializer=parseJsxExpression(true);break}}return finishNode(node)}function parseJsxSpreadAttribute(){var node=createNode(239);parseExpected(15);parseExpected(22);node.expression=parseExpression();parseExpected(16);return finishNode(node)}function parseJsxClosingElement(inExpressionContext){var node=createNode(237);parseExpected(26);node.tagName=parseJsxElementName();if(inExpressionContext){parseExpected(27)}else{parseExpected(27,undefined,false);scanJsxText()}return finishNode(node)}function parseTypeAssertion(){var node=createNode(171);parseExpected(25);node.type=parseType();parseExpected(27);node.expression=parseSimpleUnaryExpression();return finishNode(node)}function parseMemberExpressionRest(expression){while(true){var dotToken=parseOptionalToken(21);if(dotToken){var propertyAccess=createNode(166,expression.pos);propertyAccess.expression=expression;propertyAccess.dotToken=dotToken;propertyAccess.name=parseRightSideOfDot(true);expression=finishNode(propertyAccess);continue}if(!inDecoratorContext()&&parseOptional(19)){var indexedAccess=createNode(167,expression.pos);indexedAccess.expression=expression;if(token!==20){indexedAccess.argumentExpression=allowInAnd(parseExpression);if(indexedAccess.argumentExpression.kind===9||indexedAccess.argumentExpression.kind===8){var literal=indexedAccess.argumentExpression;literal.text=internIdentifier(literal.text)}}parseExpected(20);expression=finishNode(indexedAccess);continue}if(token===11||token===12){var tagExpression=createNode(170,expression.pos);tagExpression.tag=expression;tagExpression.template=token===11?parseLiteralNode():parseTemplateExpression();expression=finishNode(tagExpression);continue}return expression}}function parseCallExpressionRest(expression){while(true){expression=parseMemberExpressionRest(expression);if(token===25){var typeArguments=tryParse(parseTypeArgumentsInExpression);if(!typeArguments){return expression}var callExpr=createNode(168,expression.pos);callExpr.expression=expression;callExpr.typeArguments=typeArguments;callExpr.arguments=parseArgumentList();expression=finishNode(callExpr);continue}else if(token===17){var callExpr=createNode(168,expression.pos);callExpr.expression=expression;callExpr.arguments=parseArgumentList();expression=finishNode(callExpr);continue}return expression}}function parseArgumentList(){parseExpected(17);var result=parseDelimitedList(11,parseArgumentExpression);parseExpected(18);return result}function parseTypeArgumentsInExpression(){if(!parseOptional(25)){return undefined}var typeArguments=parseDelimitedList(18,parseType);if(!parseExpected(27)){return undefined}return typeArguments&&canFollowTypeArgumentsInExpression()?typeArguments:undefined}function canFollowTypeArgumentsInExpression(){switch(token){case 17:case 21:case 18:case 20:case 54:case 23:case 53:case 30:case 32:case 31:case 33:case 51:case 52:case 48:case 46:case 47:case 16:case 1:return true;case 24:case 15:default:return false}}function parsePrimaryExpression(){switch(token){case 8:case 9:case 11:return parseLiteralNode();case 97:case 95:case 93:case 99:case 84:return parseTokenNode();case 17:return parseParenthesizedExpression();case 19:return parseArrayLiteralExpression();case 15:return parseObjectLiteralExpression();case 118:if(!lookAhead(nextTokenIsFunctionKeywordOnSameLine)){break}return parseFunctionExpression();case 73:return parseClassExpression();case 87:return parseFunctionExpression();case 92:return parseNewExpression();case 39:case 61:if(reScanSlashToken()===10){return parseLiteralNode()}break;case 12:return parseTemplateExpression()}return parseIdentifier(ts.Diagnostics.Expression_expected)}function parseParenthesizedExpression(){var node=createNode(172);parseExpected(17);node.expression=allowInAnd(parseExpression);parseExpected(18);return finishNode(node)}function parseSpreadElement(){var node=createNode(185);parseExpected(22);node.expression=parseAssignmentExpressionOrHigher();return finishNode(node)}function parseArgumentOrArrayLiteralElement(){return token===22?parseSpreadElement():token===24?createNode(187):parseAssignmentExpressionOrHigher()}function parseArgumentExpression(){return doOutsideOfContext(disallowInAndDecoratorContext,parseArgumentOrArrayLiteralElement)}function parseArrayLiteralExpression(){var node=createNode(164);parseExpected(19);if(scanner.hasPrecedingLineBreak())node.flags|=2048;node.elements=parseDelimitedList(15,parseArgumentOrArrayLiteralElement);parseExpected(20);return finishNode(node)}function tryParseAccessorDeclaration(fullStart,decorators,modifiers){if(parseContextualModifier(123)){return parseAccessorDeclaration(145,fullStart,decorators,modifiers)}else if(parseContextualModifier(129)){return parseAccessorDeclaration(146,fullStart,decorators,modifiers)}return undefined}function parseObjectLiteralElement(){var fullStart=scanner.getStartPos();var decorators=parseDecorators();var modifiers=parseModifiers();var accessor=tryParseAccessorDeclaration(fullStart,decorators,modifiers);if(accessor){return accessor}var asteriskToken=parseOptionalToken(37);var tokenIsIdentifier=isIdentifier();var nameToken=token;var propertyName=parsePropertyName();var questionToken=parseOptionalToken(53);if(asteriskToken||token===17||token===25){return parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,propertyName,questionToken)}var isShorthandPropertyAssignment=tokenIsIdentifier&&(token===24||token===16||token===56);if(isShorthandPropertyAssignment){var shorthandDeclaration=createNode(246,fullStart);shorthandDeclaration.name=propertyName;shorthandDeclaration.questionToken=questionToken;var equalsToken=parseOptionalToken(56);if(equalsToken){shorthandDeclaration.equalsToken=equalsToken;shorthandDeclaration.objectAssignmentInitializer=allowInAnd(parseAssignmentExpressionOrHigher)}return finishNode(shorthandDeclaration)}else{var propertyAssignment=createNode(245,fullStart);propertyAssignment.name=propertyName;propertyAssignment.questionToken=questionToken;parseExpected(54);propertyAssignment.initializer=allowInAnd(parseAssignmentExpressionOrHigher);return finishNode(propertyAssignment)}}function parseObjectLiteralExpression(){var node=createNode(165);parseExpected(15);if(scanner.hasPrecedingLineBreak()){node.flags|=2048}node.properties=parseDelimitedList(12,parseObjectLiteralElement,true);parseExpected(16);return finishNode(node)}function parseFunctionExpression(){var saveDecoratorContext=inDecoratorContext();if(saveDecoratorContext){setDecoratorContext(false)}var node=createNode(173);setModifiers(node,parseModifiers());parseExpected(87);node.asteriskToken=parseOptionalToken(37);var isGenerator=!!node.asteriskToken;var isAsync=!!(node.flags&512);node.name=isGenerator&&isAsync?doInYieldAndAwaitContext(parseOptionalIdentifier):isGenerator?doInYieldContext(parseOptionalIdentifier):isAsync?doInAwaitContext(parseOptionalIdentifier):parseOptionalIdentifier();fillSignature(54,isGenerator,isAsync,false,node);node.body=parseFunctionBlock(isGenerator,isAsync,false);if(saveDecoratorContext){setDecoratorContext(true)}return finishNode(node)}function parseOptionalIdentifier(){return isIdentifier()?parseIdentifier():undefined}function parseNewExpression(){var node=createNode(169);parseExpected(92);node.expression=parseMemberExpressionOrHigher();node.typeArguments=tryParse(parseTypeArgumentsInExpression);if(node.typeArguments||token===17){node.arguments=parseArgumentList()}return finishNode(node)}function parseBlock(ignoreMissingOpenBrace,diagnosticMessage){var node=createNode(192);if(parseExpected(15,diagnosticMessage)||ignoreMissingOpenBrace){node.statements=parseList(1,parseStatement);parseExpected(16)}else{node.statements=createMissingList()}return finishNode(node)}function parseFunctionBlock(allowYield,allowAwait,ignoreMissingOpenBrace,diagnosticMessage){var savedYieldContext=inYieldContext();setYieldContext(allowYield);var savedAwaitContext=inAwaitContext();setAwaitContext(allowAwait);var saveDecoratorContext=inDecoratorContext();if(saveDecoratorContext){setDecoratorContext(false)}var block=parseBlock(ignoreMissingOpenBrace,diagnosticMessage);if(saveDecoratorContext){setDecoratorContext(true)}setYieldContext(savedYieldContext);setAwaitContext(savedAwaitContext);return block}function parseEmptyStatement(){var node=createNode(194);parseExpected(23);return finishNode(node)}function parseIfStatement(){var node=createNode(196);parseExpected(88);parseExpected(17);node.expression=allowInAnd(parseExpression);parseExpected(18);node.thenStatement=parseStatement();node.elseStatement=parseOptional(80)?parseStatement():undefined;return finishNode(node)}function parseDoStatement(){var node=createNode(197);parseExpected(79);node.statement=parseStatement();parseExpected(104);parseExpected(17);node.expression=allowInAnd(parseExpression);parseExpected(18);parseOptional(23);return finishNode(node)}function parseWhileStatement(){var node=createNode(198);parseExpected(104);parseExpected(17);node.expression=allowInAnd(parseExpression);parseExpected(18);node.statement=parseStatement();return finishNode(node)}function parseForOrForInOrForOfStatement(){var pos=getNodePos();parseExpected(86);parseExpected(17);var initializer=undefined;if(token!==23){if(token===102||token===108||token===74){initializer=parseVariableDeclarationList(true)}else{initializer=disallowInAnd(parseExpression)}}var forOrForInOrForOfStatement;if(parseOptional(90)){var forInStatement=createNode(200,pos);forInStatement.initializer=initializer;forInStatement.expression=allowInAnd(parseExpression);parseExpected(18);forOrForInOrForOfStatement=forInStatement}else if(parseOptional(134)){var forOfStatement=createNode(201,pos);forOfStatement.initializer=initializer;forOfStatement.expression=allowInAnd(parseAssignmentExpressionOrHigher);parseExpected(18);forOrForInOrForOfStatement=forOfStatement}else{var forStatement=createNode(199,pos);forStatement.initializer=initializer;parseExpected(23);if(token!==23&&token!==18){forStatement.condition=allowInAnd(parseExpression)}parseExpected(23);if(token!==18){forStatement.incrementor=allowInAnd(parseExpression)}parseExpected(18);forOrForInOrForOfStatement=forStatement}forOrForInOrForOfStatement.statement=parseStatement();return finishNode(forOrForInOrForOfStatement)}function parseBreakOrContinueStatement(kind){var node=createNode(kind);parseExpected(kind===203?70:75);if(!canParseSemicolon()){node.label=parseIdentifier()}parseSemicolon();return finishNode(node)}function parseReturnStatement(){var node=createNode(204);parseExpected(94);if(!canParseSemicolon()){node.expression=allowInAnd(parseExpression)}parseSemicolon();return finishNode(node)}function parseWithStatement(){var node=createNode(205);parseExpected(105);parseExpected(17);node.expression=allowInAnd(parseExpression);parseExpected(18);node.statement=parseStatement();return finishNode(node)}function parseCaseClause(){var node=createNode(241);parseExpected(71);node.expression=allowInAnd(parseExpression);parseExpected(54);node.statements=parseList(3,parseStatement);return finishNode(node)}function parseDefaultClause(){var node=createNode(242);parseExpected(77);parseExpected(54);node.statements=parseList(3,parseStatement);return finishNode(node)}function parseCaseOrDefaultClause(){return token===71?parseCaseClause():parseDefaultClause()}function parseSwitchStatement(){var node=createNode(206);parseExpected(96);parseExpected(17);node.expression=allowInAnd(parseExpression);
parseExpected(18);var caseBlock=createNode(220,scanner.getStartPos());parseExpected(15);caseBlock.clauses=parseList(2,parseCaseOrDefaultClause);parseExpected(16);node.caseBlock=finishNode(caseBlock);return finishNode(node)}function parseThrowStatement(){var node=createNode(208);parseExpected(98);node.expression=scanner.hasPrecedingLineBreak()?undefined:allowInAnd(parseExpression);parseSemicolon();return finishNode(node)}function parseTryStatement(){var node=createNode(209);parseExpected(100);node.tryBlock=parseBlock(false);node.catchClause=token===72?parseCatchClause():undefined;if(!node.catchClause||token===85){parseExpected(85);node.finallyBlock=parseBlock(false)}return finishNode(node)}function parseCatchClause(){var result=createNode(244);parseExpected(72);if(parseExpected(17)){result.variableDeclaration=parseVariableDeclaration()}parseExpected(18);result.block=parseBlock(false);return finishNode(result)}function parseDebuggerStatement(){var node=createNode(210);parseExpected(76);parseSemicolon();return finishNode(node)}function parseExpressionOrLabeledStatement(){var fullStart=scanner.getStartPos();var expression=allowInAnd(parseExpression);if(expression.kind===69&&parseOptional(54)){var labeledStatement=createNode(207,fullStart);labeledStatement.label=expression;labeledStatement.statement=parseStatement();return finishNode(labeledStatement)}else{var expressionStatement=createNode(195,fullStart);expressionStatement.expression=expression;parseSemicolon();return finishNode(expressionStatement)}}function nextTokenIsIdentifierOrKeywordOnSameLine(){nextToken();return ts.tokenIsIdentifierOrKeyword(token)&&!scanner.hasPrecedingLineBreak()}function nextTokenIsFunctionKeywordOnSameLine(){nextToken();return token===87&&!scanner.hasPrecedingLineBreak()}function nextTokenIsIdentifierOrKeywordOrNumberOnSameLine(){nextToken();return(ts.tokenIsIdentifierOrKeyword(token)||token===8)&&!scanner.hasPrecedingLineBreak()}function isDeclaration(){while(true){switch(token){case 102:case 108:case 74:case 87:case 73:case 81:return true;case 107:case 132:return nextTokenIsIdentifierOnSameLine();case 125:case 126:return nextTokenIsIdentifierOrStringLiteralOnSameLine();case 115:case 118:case 122:case 110:case 111:case 112:nextToken();if(scanner.hasPrecedingLineBreak()){return false}continue;case 89:nextToken();return token===9||token===37||token===15||ts.tokenIsIdentifierOrKeyword(token);case 82:nextToken();if(token===56||token===37||token===15||token===77){return true}continue;case 113:nextToken();continue;default:return false}}}function isStartOfDeclaration(){return lookAhead(isDeclaration)}function isStartOfStatement(){switch(token){case 55:case 23:case 15:case 102:case 108:case 87:case 73:case 81:case 88:case 79:case 104:case 86:case 75:case 70:case 94:case 105:case 96:case 98:case 100:case 76:case 72:case 85:return true;case 74:case 82:case 89:return isStartOfDeclaration();case 118:case 122:case 107:case 125:case 126:case 132:return true;case 112:case 110:case 111:case 113:return isStartOfDeclaration()||!lookAhead(nextTokenIsIdentifierOrKeywordOnSameLine);default:return isStartOfExpression()}}function nextTokenIsIdentifierOrStartOfDestructuring(){nextToken();return isIdentifier()||token===15||token===19}function isLetDeclaration(){return lookAhead(nextTokenIsIdentifierOrStartOfDestructuring)}function parseStatement(){switch(token){case 23:return parseEmptyStatement();case 15:return parseBlock(false);case 102:return parseVariableStatement(scanner.getStartPos(),undefined,undefined);case 108:if(isLetDeclaration()){return parseVariableStatement(scanner.getStartPos(),undefined,undefined)}break;case 87:return parseFunctionDeclaration(scanner.getStartPos(),undefined,undefined);case 73:return parseClassDeclaration(scanner.getStartPos(),undefined,undefined);case 88:return parseIfStatement();case 79:return parseDoStatement();case 104:return parseWhileStatement();case 86:return parseForOrForInOrForOfStatement();case 75:return parseBreakOrContinueStatement(202);case 70:return parseBreakOrContinueStatement(203);case 94:return parseReturnStatement();case 105:return parseWithStatement();case 96:return parseSwitchStatement();case 98:return parseThrowStatement();case 100:case 72:case 85:return parseTryStatement();case 76:return parseDebuggerStatement();case 55:return parseDeclaration();case 118:case 107:case 132:case 125:case 126:case 122:case 74:case 81:case 82:case 89:case 110:case 111:case 112:case 115:case 113:if(isStartOfDeclaration()){return parseDeclaration()}break}return parseExpressionOrLabeledStatement()}function parseDeclaration(){var fullStart=getNodePos();var decorators=parseDecorators();var modifiers=parseModifiers();switch(token){case 102:case 108:case 74:return parseVariableStatement(fullStart,decorators,modifiers);case 87:return parseFunctionDeclaration(fullStart,decorators,modifiers);case 73:return parseClassDeclaration(fullStart,decorators,modifiers);case 107:return parseInterfaceDeclaration(fullStart,decorators,modifiers);case 132:return parseTypeAliasDeclaration(fullStart,decorators,modifiers);case 81:return parseEnumDeclaration(fullStart,decorators,modifiers);case 125:case 126:return parseModuleDeclaration(fullStart,decorators,modifiers);case 89:return parseImportDeclarationOrImportEqualsDeclaration(fullStart,decorators,modifiers);case 82:nextToken();return token===77||token===56?parseExportAssignment(fullStart,decorators,modifiers):parseExportDeclaration(fullStart,decorators,modifiers);default:if(decorators||modifiers){var node=createMissingNode(231,true,ts.Diagnostics.Declaration_expected);node.pos=fullStart;node.decorators=decorators;setModifiers(node,modifiers);return finishNode(node)}}}function nextTokenIsIdentifierOrStringLiteralOnSameLine(){nextToken();return!scanner.hasPrecedingLineBreak()&&(isIdentifier()||token===9)}function parseFunctionBlockOrSemicolon(isGenerator,isAsync,diagnosticMessage){if(token!==15&&canParseSemicolon()){parseSemicolon();return}return parseFunctionBlock(isGenerator,isAsync,false,diagnosticMessage)}function parseArrayBindingElement(){if(token===24){return createNode(187)}var node=createNode(163);node.dotDotDotToken=parseOptionalToken(22);node.name=parseIdentifierOrPattern();node.initializer=parseBindingElementInitializer(false);return finishNode(node)}function parseObjectBindingElement(){var node=createNode(163);var tokenIsIdentifier=isIdentifier();var propertyName=parsePropertyName();if(tokenIsIdentifier&&token!==54){node.name=propertyName}else{parseExpected(54);node.propertyName=propertyName;node.name=parseIdentifierOrPattern()}node.initializer=parseBindingElementInitializer(false);return finishNode(node)}function parseObjectBindingPattern(){var node=createNode(161);parseExpected(15);node.elements=parseDelimitedList(9,parseObjectBindingElement);parseExpected(16);return finishNode(node)}function parseArrayBindingPattern(){var node=createNode(162);parseExpected(19);node.elements=parseDelimitedList(10,parseArrayBindingElement);parseExpected(20);return finishNode(node)}function isIdentifierOrPattern(){return token===15||token===19||isIdentifier()}function parseIdentifierOrPattern(){if(token===19){return parseArrayBindingPattern()}if(token===15){return parseObjectBindingPattern()}return parseIdentifier()}function parseVariableDeclaration(){var node=createNode(211);node.name=parseIdentifierOrPattern();node.type=parseTypeAnnotation();if(!isInOrOfKeyword(token)){node.initializer=parseInitializer(false)}return finishNode(node)}function parseVariableDeclarationList(inForStatementInitializer){var node=createNode(212);switch(token){case 102:break;case 108:node.flags|=16384;break;case 74:node.flags|=32768;break;default:ts.Debug.fail()}nextToken();if(token===134&&lookAhead(canFollowContextualOfKeyword)){node.declarations=createMissingList()}else{var savedDisallowIn=inDisallowInContext();setDisallowInContext(inForStatementInitializer);node.declarations=parseDelimitedList(8,parseVariableDeclaration);setDisallowInContext(savedDisallowIn)}return finishNode(node)}function canFollowContextualOfKeyword(){return nextTokenIsIdentifier()&&nextToken()===18}function parseVariableStatement(fullStart,decorators,modifiers){var node=createNode(193,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.declarationList=parseVariableDeclarationList(false);parseSemicolon();return finishNode(node)}function parseFunctionDeclaration(fullStart,decorators,modifiers){var node=createNode(213,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(87);node.asteriskToken=parseOptionalToken(37);node.name=node.flags&1024?parseOptionalIdentifier():parseIdentifier();var isGenerator=!!node.asteriskToken;var isAsync=!!(node.flags&512);fillSignature(54,isGenerator,isAsync,false,node);node.body=parseFunctionBlockOrSemicolon(isGenerator,isAsync,ts.Diagnostics.or_expected);return finishNode(node)}function parseConstructorDeclaration(pos,decorators,modifiers){var node=createNode(144,pos);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(121);fillSignature(54,false,false,false,node);node.body=parseFunctionBlockOrSemicolon(false,false,ts.Diagnostics.or_expected);return finishNode(node)}function parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,name,questionToken,diagnosticMessage){var method=createNode(143,fullStart);method.decorators=decorators;setModifiers(method,modifiers);method.asteriskToken=asteriskToken;method.name=name;method.questionToken=questionToken;var isGenerator=!!asteriskToken;var isAsync=!!(method.flags&512);fillSignature(54,isGenerator,isAsync,false,method);method.body=parseFunctionBlockOrSemicolon(isGenerator,isAsync,diagnosticMessage);return finishNode(method)}function parsePropertyDeclaration(fullStart,decorators,modifiers,name,questionToken){var property=createNode(141,fullStart);property.decorators=decorators;setModifiers(property,modifiers);property.name=name;property.questionToken=questionToken;property.type=parseTypeAnnotation();property.initializer=modifiers&&modifiers.flags&128?allowInAnd(parseNonParameterInitializer):doOutsideOfContext(2|1,parseNonParameterInitializer);parseSemicolon();return finishNode(property)}function parsePropertyOrMethodDeclaration(fullStart,decorators,modifiers){var asteriskToken=parseOptionalToken(37);var name=parsePropertyName();var questionToken=parseOptionalToken(53);if(asteriskToken||token===17||token===25){return parseMethodDeclaration(fullStart,decorators,modifiers,asteriskToken,name,questionToken,ts.Diagnostics.or_expected)}else{return parsePropertyDeclaration(fullStart,decorators,modifiers,name,questionToken)}}function parseNonParameterInitializer(){return parseInitializer(false)}function parseAccessorDeclaration(kind,fullStart,decorators,modifiers){var node=createNode(kind,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.name=parsePropertyName();fillSignature(54,false,false,false,node);node.body=parseFunctionBlockOrSemicolon(false,false);return finishNode(node)}function isClassMemberModifier(idToken){switch(idToken){case 112:case 110:case 111:case 113:return true;default:return false}}function isClassMemberStart(){var idToken;if(token===55){return true}while(ts.isModifier(token)){idToken=token;if(isClassMemberModifier(idToken)){return true}nextToken()}if(token===37){return true}if(isLiteralPropertyName()){idToken=token;nextToken()}if(token===19){return true}if(idToken!==undefined){if(!ts.isKeyword(idToken)||idToken===129||idToken===123){return true}switch(token){case 17:case 25:case 54:case 56:case 53:return true;default:return canParseSemicolon()}}return false}function parseDecorators(){var decorators;while(true){var decoratorStart=getNodePos();if(!parseOptional(55)){break}if(!decorators){decorators=[];decorators.pos=scanner.getStartPos()}var decorator=createNode(139,decoratorStart);decorator.expression=doInDecoratorContext(parseLeftHandSideExpressionOrHigher);decorators.push(finishNode(decorator))}if(decorators){decorators.end=getNodeEnd()}return decorators}function parseModifiers(){var flags=0;var modifiers;while(true){var modifierStart=scanner.getStartPos();var modifierKind=token;if(!parseAnyContextualModifier()){break}if(!modifiers){modifiers=[];modifiers.pos=modifierStart}flags|=ts.modifierToFlag(modifierKind);modifiers.push(finishNode(createNode(modifierKind,modifierStart)))}if(modifiers){modifiers.flags=flags;modifiers.end=scanner.getStartPos()}return modifiers}function parseModifiersForArrowFunction(){var flags=0;var modifiers;if(token===118){var modifierStart=scanner.getStartPos();var modifierKind=token;nextToken();modifiers=[];modifiers.pos=modifierStart;flags|=ts.modifierToFlag(modifierKind);modifiers.push(finishNode(createNode(modifierKind,modifierStart)));modifiers.flags=flags;modifiers.end=scanner.getStartPos()}return modifiers}function parseClassElement(){if(token===23){var result=createNode(191);nextToken();return finishNode(result)}var fullStart=getNodePos();var decorators=parseDecorators();var modifiers=parseModifiers();var accessor=tryParseAccessorDeclaration(fullStart,decorators,modifiers);if(accessor){return accessor}if(token===121){return parseConstructorDeclaration(fullStart,decorators,modifiers)}if(isIndexSignature()){return parseIndexSignatureDeclaration(fullStart,decorators,modifiers)}if(ts.tokenIsIdentifierOrKeyword(token)||token===9||token===8||token===37||token===19){return parsePropertyOrMethodDeclaration(fullStart,decorators,modifiers)}if(decorators||modifiers){var name_7=createMissingNode(69,true,ts.Diagnostics.Declaration_expected);return parsePropertyDeclaration(fullStart,decorators,modifiers,name_7,undefined)}ts.Debug.fail("Should not have attempted to parse class member declaration.")}function parseClassExpression(){return parseClassDeclarationOrExpression(scanner.getStartPos(),undefined,undefined,186)}function parseClassDeclaration(fullStart,decorators,modifiers){return parseClassDeclarationOrExpression(fullStart,decorators,modifiers,214)}function parseClassDeclarationOrExpression(fullStart,decorators,modifiers,kind){var node=createNode(kind,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(73);node.name=parseNameOfClassDeclarationOrExpression();node.typeParameters=parseTypeParameters();node.heritageClauses=parseHeritageClauses(true);if(parseExpected(15)){node.members=parseClassMembers();parseExpected(16)}else{node.members=createMissingList()}return finishNode(node)}function parseNameOfClassDeclarationOrExpression(){return isIdentifier()&&!isImplementsClause()?parseIdentifier():undefined}function isImplementsClause(){return token===106&&lookAhead(nextTokenIsIdentifierOrKeyword)}function parseHeritageClauses(isClassHeritageClause){if(isHeritageClause()){return parseList(20,parseHeritageClause)}return undefined}function parseHeritageClausesWorker(){return parseList(20,parseHeritageClause)}function parseHeritageClause(){if(token===83||token===106){var node=createNode(243);node.token=token;nextToken();node.types=parseDelimitedList(7,parseExpressionWithTypeArguments);return finishNode(node)}return undefined}function parseExpressionWithTypeArguments(){var node=createNode(188);node.expression=parseLeftHandSideExpressionOrHigher();if(token===25){node.typeArguments=parseBracketedList(18,parseType,25,27)}return finishNode(node)}function isHeritageClause(){return token===83||token===106}function parseClassMembers(){return parseList(5,parseClassElement)}function parseInterfaceDeclaration(fullStart,decorators,modifiers){var node=createNode(215,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(107);node.name=parseIdentifier();node.typeParameters=parseTypeParameters();node.heritageClauses=parseHeritageClauses(false);node.members=parseObjectTypeMembers();return finishNode(node)}function parseTypeAliasDeclaration(fullStart,decorators,modifiers){var node=createNode(216,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(132);node.name=parseIdentifier();node.typeParameters=parseTypeParameters();parseExpected(56);node.type=parseType();parseSemicolon();return finishNode(node)}function parseEnumMember(){var node=createNode(247,scanner.getStartPos());node.name=parsePropertyName();node.initializer=allowInAnd(parseNonParameterInitializer);return finishNode(node)}function parseEnumDeclaration(fullStart,decorators,modifiers){var node=createNode(217,fullStart);node.decorators=decorators;setModifiers(node,modifiers);parseExpected(81);node.name=parseIdentifier();if(parseExpected(15)){node.members=parseDelimitedList(6,parseEnumMember);parseExpected(16)}else{node.members=createMissingList()}return finishNode(node)}function parseModuleBlock(){var node=createNode(219,scanner.getStartPos());if(parseExpected(15)){node.statements=parseList(1,parseStatement);parseExpected(16)}else{node.statements=createMissingList()}return finishNode(node)}function parseModuleOrNamespaceDeclaration(fullStart,decorators,modifiers,flags){var node=createNode(218,fullStart);var namespaceFlag=flags&131072;node.decorators=decorators;setModifiers(node,modifiers);node.flags|=flags;node.name=parseIdentifier();node.body=parseOptional(21)?parseModuleOrNamespaceDeclaration(getNodePos(),undefined,undefined,1|namespaceFlag):parseModuleBlock();return finishNode(node)}function parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers){var node=createNode(218,fullStart);node.decorators=decorators;setModifiers(node,modifiers);node.name=parseLiteralNode(true);node.body=parseModuleBlock();return finishNode(node)}function parseModuleDeclaration(fullStart,decorators,modifiers){var flags=modifiers?modifiers.flags:0;if(parseOptional(126)){flags|=131072}else{parseExpected(125);if(token===9){return parseAmbientExternalModuleDeclaration(fullStart,decorators,modifiers)}}return parseModuleOrNamespaceDeclaration(fullStart,decorators,modifiers,flags)}function isExternalModuleReference(){return token===127&&lookAhead(nextTokenIsOpenParen)}function nextTokenIsOpenParen(){return nextToken()===17}function nextTokenIsSlash(){return nextToken()===39}function nextTokenIsCommaOrFromKeyword(){nextToken();return token===24||token===133}function parseImportDeclarationOrImportEqualsDeclaration(fullStart,decorators,modifiers){parseExpected(89);var afterImportPos=scanner.getStartPos();var identifier;if(isIdentifier()){identifier=parseIdentifier();if(token!==24&&token!==133){var importEqualsDeclaration=createNode(221,fullStart);importEqualsDeclaration.decorators=decorators;setModifiers(importEqualsDeclaration,modifiers);importEqualsDeclaration.name=identifier;parseExpected(56);importEqualsDeclaration.moduleReference=parseModuleReference();parseSemicolon();return finishNode(importEqualsDeclaration)}}var importDeclaration=createNode(222,fullStart);importDeclaration.decorators=decorators;setModifiers(importDeclaration,modifiers);if(identifier||token===37||token===15){importDeclaration.importClause=parseImportClause(identifier,afterImportPos);parseExpected(133)}importDeclaration.moduleSpecifier=parseModuleSpecifier();parseSemicolon();return finishNode(importDeclaration)}function parseImportClause(identifier,fullStart){var importClause=createNode(223,fullStart);if(identifier){importClause.name=identifier}if(!importClause.name||parseOptional(24)){importClause.namedBindings=token===37?parseNamespaceImport():parseNamedImportsOrExports(225)}return finishNode(importClause)}function parseModuleReference(){return isExternalModuleReference()?parseExternalModuleReference():parseEntityName(false)}function parseExternalModuleReference(){var node=createNode(232);parseExpected(127);parseExpected(17);node.expression=parseModuleSpecifier();parseExpected(18);return finishNode(node)}function parseModuleSpecifier(){var result=parseExpression();if(result.kind===9){internIdentifier(result.text)}return result}function parseNamespaceImport(){var namespaceImport=createNode(224);parseExpected(37);parseExpected(116);namespaceImport.name=parseIdentifier();return finishNode(namespaceImport)}function parseNamedImportsOrExports(kind){var node=createNode(kind);node.elements=parseBracketedList(21,kind===225?parseImportSpecifier:parseExportSpecifier,15,16);return finishNode(node)}function parseExportSpecifier(){return parseImportOrExportSpecifier(230)}function parseImportSpecifier(){return parseImportOrExportSpecifier(226)}function parseImportOrExportSpecifier(kind){var node=createNode(kind);var checkIdentifierIsKeyword=ts.isKeyword(token)&&!isIdentifier();var checkIdentifierStart=scanner.getTokenPos();var checkIdentifierEnd=scanner.getTextPos();var identifierName=parseIdentifierName();if(token===116){node.propertyName=identifierName;parseExpected(116);checkIdentifierIsKeyword=ts.isKeyword(token)&&!isIdentifier();checkIdentifierStart=scanner.getTokenPos();checkIdentifierEnd=scanner.getTextPos();node.name=parseIdentifierName()}else{node.name=identifierName}if(kind===226&&checkIdentifierIsKeyword){parseErrorAtPosition(checkIdentifierStart,checkIdentifierEnd-checkIdentifierStart,ts.Diagnostics.Identifier_expected)}return finishNode(node)}function parseExportDeclaration(fullStart,decorators,modifiers){var node=createNode(228,fullStart);node.decorators=decorators;setModifiers(node,modifiers);if(parseOptional(37)){parseExpected(133);node.moduleSpecifier=parseModuleSpecifier()}else{node.exportClause=parseNamedImportsOrExports(229);if(token===133||token===9&&!scanner.hasPrecedingLineBreak()){parseExpected(133);node.moduleSpecifier=parseModuleSpecifier()}}parseSemicolon();return finishNode(node)}function parseExportAssignment(fullStart,decorators,modifiers){var node=createNode(227,fullStart);node.decorators=decorators;setModifiers(node,modifiers);if(parseOptional(56)){node.isExportEquals=true}else{parseExpected(77)}node.expression=parseAssignmentExpressionOrHigher();parseSemicolon();return finishNode(node)}function processReferenceComments(sourceFile){var triviaScanner=ts.createScanner(sourceFile.languageVersion,false,0,sourceText);var referencedFiles=[];var amdDependencies=[];var amdModuleName;while(true){var kind=triviaScanner.scan();if(kind===5||kind===4||kind===3){continue}if(kind!==2){break}var range={pos:triviaScanner.getTokenPos(),end:triviaScanner.getTextPos(),kind:triviaScanner.getToken()};var comment=sourceText.substring(range.pos,range.end);var referencePathMatchResult=ts.getFileReferenceFromReferencePath(comment,range);if(referencePathMatchResult){var fileReference=referencePathMatchResult.fileReference;sourceFile.hasNoDefaultLib=referencePathMatchResult.isNoDefaultLib;var diagnosticMessage=referencePathMatchResult.diagnosticMessage;if(fileReference){referencedFiles.push(fileReference)}if(diagnosticMessage){parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,range.pos,range.end-range.pos,diagnosticMessage))}}else{var amdModuleNameRegEx=/^\/\/\/\s*<amd-module\s+name\s*=\s*('|")(.+?)\1/gim;var amdModuleNameMatchResult=amdModuleNameRegEx.exec(comment);if(amdModuleNameMatchResult){if(amdModuleName){parseDiagnostics.push(ts.createFileDiagnostic(sourceFile,range.pos,range.end-range.pos,ts.Diagnostics.An_AMD_module_cannot_have_multiple_name_assignments))}amdModuleName=amdModuleNameMatchResult[2]}var amdDependencyRegEx=/^\/\/\/\s*<amd-dependency\s/gim;var pathRegex=/\spath\s*=\s*('|")(.+?)\1/gim;var nameRegex=/\sname\s*=\s*('|")(.+?)\1/gim;var amdDependencyMatchResult=amdDependencyRegEx.exec(comment);if(amdDependencyMatchResult){var pathMatchResult=pathRegex.exec(comment);var nameMatchResult=nameRegex.exec(comment);if(pathMatchResult){var amdDependency={path:pathMatchResult[2],name:nameMatchResult?nameMatchResult[2]:undefined};amdDependencies.push(amdDependency)}}}}sourceFile.referencedFiles=referencedFiles;sourceFile.amdDependencies=amdDependencies;sourceFile.moduleName=amdModuleName}function setExternalModuleIndicator(sourceFile){sourceFile.externalModuleIndicator=ts.forEach(sourceFile.statements,function(node){return node.flags&1||node.kind===221&&node.moduleReference.kind===232||node.kind===222||node.kind===227||node.kind===228?node:undefined})}var ParsingContext;(function(ParsingContext){ParsingContext[ParsingContext["SourceElements"]=0]="SourceElements";ParsingContext[ParsingContext["BlockStatements"]=1]="BlockStatements";ParsingContext[ParsingContext["SwitchClauses"]=2]="SwitchClauses";ParsingContext[ParsingContext["SwitchClauseStatements"]=3]="SwitchClauseStatements";ParsingContext[ParsingContext["TypeMembers"]=4]="TypeMembers";ParsingContext[ParsingContext["ClassMembers"]=5]="ClassMembers";ParsingContext[ParsingContext["EnumMembers"]=6]="EnumMembers";ParsingContext[ParsingContext["HeritageClauseElement"]=7]="HeritageClauseElement";ParsingContext[ParsingContext["VariableDeclarations"]=8]="VariableDeclarations";ParsingContext[ParsingContext["ObjectBindingElements"]=9]="ObjectBindingElements";ParsingContext[ParsingContext["ArrayBindingElements"]=10]="ArrayBindingElements";ParsingContext[ParsingContext["ArgumentExpressions"]=11]="ArgumentExpressions";ParsingContext[ParsingContext["ObjectLiteralMembers"]=12]="ObjectLiteralMembers";ParsingContext[ParsingContext["JsxAttributes"]=13]="JsxAttributes";ParsingContext[ParsingContext["JsxChildren"]=14]="JsxChildren";ParsingContext[ParsingContext["ArrayLiteralMembers"]=15]="ArrayLiteralMembers";ParsingContext[ParsingContext["Parameters"]=16]="Parameters";ParsingContext[ParsingContext["TypeParameters"]=17]="TypeParameters";ParsingContext[ParsingContext["TypeArguments"]=18]="TypeArguments";ParsingContext[ParsingContext["TupleElementTypes"]=19]="TupleElementTypes";ParsingContext[ParsingContext["HeritageClauses"]=20]="HeritageClauses";ParsingContext[ParsingContext["ImportOrExportSpecifiers"]=21]="ImportOrExportSpecifiers";ParsingContext[ParsingContext["JSDocFunctionParameters"]=22]="JSDocFunctionParameters";ParsingContext[ParsingContext["JSDocTypeArguments"]=23]="JSDocTypeArguments";ParsingContext[ParsingContext["JSDocRecordMembers"]=24]="JSDocRecordMembers";ParsingContext[ParsingContext["JSDocTupleTypes"]=25]="JSDocTupleTypes";ParsingContext[ParsingContext["Count"]=26]="Count"})(ParsingContext||(ParsingContext={}));var Tristate;(function(Tristate){Tristate[Tristate["False"]=0]="False";Tristate[Tristate["True"]=1]="True";Tristate[Tristate["Unknown"]=2]="Unknown"})(Tristate||(Tristate={}));var JSDocParser;(function(JSDocParser){function isJSDocType(){switch(token){case 37:case 53:case 17:case 19:case 49:case 15:case 87:case 22:case 92:case 97:return true}return ts.tokenIsIdentifierOrKeyword(token)}JSDocParser.isJSDocType=isJSDocType;function parseJSDocTypeExpressionForTests(content,start,length){initializeState("file.js",content,2,undefined);var jsDocTypeExpression=parseJSDocTypeExpression(start,length);var diagnostics=parseDiagnostics;clearState();return jsDocTypeExpression?{jsDocTypeExpression:jsDocTypeExpression,diagnostics:diagnostics}:undefined}JSDocParser.parseJSDocTypeExpressionForTests=parseJSDocTypeExpressionForTests;function parseJSDocTypeExpression(start,length){scanner.setText(sourceText,start,length);token=nextToken();var result=createNode(249);parseExpected(15);result.type=parseJSDocTopLevelType();parseExpected(16);fixupParentReferences(result);return finishNode(result)}JSDocParser.parseJSDocTypeExpression=parseJSDocTypeExpression;function parseJSDocTopLevelType(){var type=parseJSDocType();if(token===47){var unionType=createNode(253,type.pos);unionType.types=parseJSDocTypeList(type);type=finishNode(unionType)}if(token===56){var optionalType=createNode(260,type.pos);nextToken();optionalType.type=type;type=finishNode(optionalType)}return type}function parseJSDocType(){var type=parseBasicTypeExpression();while(true){if(token===19){var arrayType=createNode(252,type.pos);arrayType.elementType=type;nextToken();parseExpected(20);type=finishNode(arrayType)}else if(token===53){var nullableType=createNode(255,type.pos);nullableType.type=type;nextToken();type=finishNode(nullableType)}else if(token===49){var nonNullableType=createNode(256,type.pos);nonNullableType.type=type;nextToken();type=finishNode(nonNullableType)}else{break}}return type}function parseBasicTypeExpression(){switch(token){case 37:return parseJSDocAllType();case 53:return parseJSDocUnknownOrNullableType();case 17:return parseJSDocUnionType();case 19:return parseJSDocTupleType();case 49:return parseJSDocNonNullableType();case 15:return parseJSDocRecordType();case 87:return parseJSDocFunctionType();case 22:return parseJSDocVariadicType();case 92:return parseJSDocConstructorType();case 97:return parseJSDocThisType();case 117:case 130:case 128:case 120:case 131:case 103:return parseTokenNode()}return parseJSDocTypeReference()}function parseJSDocThisType(){var result=createNode(264);nextToken();parseExpected(54);result.type=parseJSDocType();return finishNode(result)}function parseJSDocConstructorType(){var result=createNode(263);nextToken();parseExpected(54);result.type=parseJSDocType();return finishNode(result)}function parseJSDocVariadicType(){var result=createNode(262);nextToken();result.type=parseJSDocType();return finishNode(result)}function parseJSDocFunctionType(){var result=createNode(261);nextToken();parseExpected(17);result.parameters=parseDelimitedList(22,parseJSDocParameter);checkForTrailingComma(result.parameters);parseExpected(18);if(token===54){nextToken();result.type=parseJSDocType()}return finishNode(result)}function parseJSDocParameter(){var parameter=createNode(138);parameter.type=parseJSDocType();return finishNode(parameter)}function parseJSDocOptionalType(type){var result=createNode(260,type.pos);nextToken();result.type=type;return finishNode(result)}function parseJSDocTypeReference(){var result=createNode(259);result.name=parseSimplePropertyName();while(parseOptional(21)){if(token===25){result.typeArguments=parseTypeArguments();break}else{result.name=parseQualifiedName(result.name)}}return finishNode(result)}function parseTypeArguments(){nextToken();var typeArguments=parseDelimitedList(23,parseJSDocType);checkForTrailingComma(typeArguments);checkForEmptyTypeArgumentList(typeArguments);parseExpected(27);return typeArguments}function checkForEmptyTypeArgumentList(typeArguments){if(parseDiagnostics.length===0&&typeArguments&&typeArguments.length===0){var start=typeArguments.pos-"<".length;var end=ts.skipTrivia(sourceText,typeArguments.end)+">".length;return parseErrorAtPosition(start,end-start,ts.Diagnostics.Type_argument_list_cannot_be_empty)}}function parseQualifiedName(left){var result=createNode(135,left.pos);result.left=left;result.right=parseIdentifierName();return finishNode(result)}function parseJSDocRecordType(){var result=createNode(257);nextToken();result.members=parseDelimitedList(24,parseJSDocRecordMember);checkForTrailingComma(result.members);parseExpected(16);return finishNode(result)}function parseJSDocRecordMember(){var result=createNode(258);result.name=parseSimplePropertyName();if(token===54){nextToken();result.type=parseJSDocType()}return finishNode(result)}function parseJSDocNonNullableType(){var result=createNode(256);nextToken();result.type=parseJSDocType();return finishNode(result)}function parseJSDocTupleType(){var result=createNode(254);nextToken();result.types=parseDelimitedList(25,parseJSDocType);checkForTrailingComma(result.types);parseExpected(20);return finishNode(result)}function checkForTrailingComma(list){if(parseDiagnostics.length===0&&list.hasTrailingComma){var start=list.end-",".length;parseErrorAtPosition(start,",".length,ts.Diagnostics.Trailing_comma_not_allowed)}}function parseJSDocUnionType(){var result=createNode(253);nextToken();result.types=parseJSDocTypeList(parseJSDocType());parseExpected(18);return finishNode(result)}function parseJSDocTypeList(firstType){ts.Debug.assert(!!firstType);var types=[];types.pos=firstType.pos;types.push(firstType);while(parseOptional(47)){types.push(parseJSDocType())}types.end=scanner.getStartPos();return types}function parseJSDocAllType(){var result=createNode(250);nextToken();return finishNode(result)}function parseJSDocUnknownOrNullableType(){var pos=scanner.getStartPos();
nextToken();if(token===24||token===16||token===18||token===27||token===56||token===47){var result=createNode(251,pos);return finishNode(result)}else{var result=createNode(255,pos);result.type=parseJSDocType();return finishNode(result)}}function parseIsolatedJSDocComment(content,start,length){initializeState("file.js",content,2,undefined);var jsDocComment=parseJSDocComment(undefined,start,length);var diagnostics=parseDiagnostics;clearState();return jsDocComment?{jsDocComment:jsDocComment,diagnostics:diagnostics}:undefined}JSDocParser.parseIsolatedJSDocComment=parseIsolatedJSDocComment;function parseJSDocComment(parent,start,length){var comment=parseJSDocCommentWorker(start,length);if(comment){fixupParentReferences(comment);comment.parent=parent}return comment}JSDocParser.parseJSDocComment=parseJSDocComment;function parseJSDocCommentWorker(start,length){var content=sourceText;start=start||0;var end=length===undefined?content.length:start+length;length=end-start;ts.Debug.assert(start>=0);ts.Debug.assert(start<=end);ts.Debug.assert(end<=content.length);var tags;var pos;if(length>="/** */".length){if(content.charCodeAt(start)===47&&content.charCodeAt(start+1)===42&&content.charCodeAt(start+2)===42&&content.charCodeAt(start+3)!==42){var canParseTag=true;var seenAsterisk=true;for(pos=start+"/**".length;pos<end;){var ch=content.charCodeAt(pos);pos++;if(ch===64&&canParseTag){parseTag();canParseTag=false;continue}if(ts.isLineBreak(ch)){canParseTag=true;seenAsterisk=false;continue}if(ts.isWhiteSpace(ch)){continue}if(ch===42){if(seenAsterisk){canParseTag=false}seenAsterisk=true;continue}canParseTag=false}}}return createJSDocComment();function createJSDocComment(){if(!tags){return undefined}var result=createNode(265,start);result.tags=tags;return finishNode(result,end)}function skipWhitespace(){while(pos<end&&ts.isWhiteSpace(content.charCodeAt(pos))){pos++}}function parseTag(){ts.Debug.assert(content.charCodeAt(pos-1)===64);var atToken=createNode(55,pos-1);atToken.end=pos;var tagName=scanIdentifier();if(!tagName){return}var tag=handleTag(atToken,tagName)||handleUnknownTag(atToken,tagName);addTag(tag)}function handleTag(atToken,tagName){if(tagName){switch(tagName.text){case"param":return handleParamTag(atToken,tagName);case"return":case"returns":return handleReturnTag(atToken,tagName);case"template":return handleTemplateTag(atToken,tagName);case"type":return handleTypeTag(atToken,tagName)}}return undefined}function handleUnknownTag(atToken,tagName){var result=createNode(266,atToken.pos);result.atToken=atToken;result.tagName=tagName;return finishNode(result,pos)}function addTag(tag){if(tag){if(!tags){tags=[];tags.pos=tag.pos}tags.push(tag);tags.end=tag.end}}function tryParseTypeExpression(){skipWhitespace();if(content.charCodeAt(pos)!==123){return undefined}var typeExpression=parseJSDocTypeExpression(pos,end-pos);pos=typeExpression.end;return typeExpression}function handleParamTag(atToken,tagName){var typeExpression=tryParseTypeExpression();skipWhitespace();var name;var isBracketed;if(content.charCodeAt(pos)===91){pos++;skipWhitespace();name=scanIdentifier();isBracketed=true}else{name=scanIdentifier()}if(!name){parseErrorAtPosition(pos,0,ts.Diagnostics.Identifier_expected)}var preName,postName;if(typeExpression){postName=name}else{preName=name}if(!typeExpression){typeExpression=tryParseTypeExpression()}var result=createNode(267,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.preParameterName=preName;result.typeExpression=typeExpression;result.postParameterName=postName;result.isBracketed=isBracketed;return finishNode(result,pos)}function handleReturnTag(atToken,tagName){if(ts.forEach(tags,function(t){return t.kind===268})){parseErrorAtPosition(tagName.pos,pos-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text)}var result=createNode(268,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.typeExpression=tryParseTypeExpression();return finishNode(result,pos)}function handleTypeTag(atToken,tagName){if(ts.forEach(tags,function(t){return t.kind===269})){parseErrorAtPosition(tagName.pos,pos-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text)}var result=createNode(269,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.typeExpression=tryParseTypeExpression();return finishNode(result,pos)}function handleTemplateTag(atToken,tagName){if(ts.forEach(tags,function(t){return t.kind===270})){parseErrorAtPosition(tagName.pos,pos-tagName.pos,ts.Diagnostics._0_tag_already_specified,tagName.text)}var typeParameters=[];typeParameters.pos=pos;while(true){skipWhitespace();var startPos=pos;var name_8=scanIdentifier();if(!name_8){parseErrorAtPosition(startPos,0,ts.Diagnostics.Identifier_expected);return undefined}var typeParameter=createNode(137,name_8.pos);typeParameter.name=name_8;finishNode(typeParameter,pos);typeParameters.push(typeParameter);skipWhitespace();if(content.charCodeAt(pos)!==44){break}pos++}typeParameters.end=pos;var result=createNode(270,atToken.pos);result.atToken=atToken;result.tagName=tagName;result.typeParameters=typeParameters;return finishNode(result,pos)}function scanIdentifier(){var startPos=pos;for(;pos<end;pos++){var ch=content.charCodeAt(pos);if(pos===startPos&&ts.isIdentifierStart(ch,2)){continue}else if(pos>startPos&&ts.isIdentifierPart(ch,2)){continue}break}if(startPos===pos){return undefined}var result=createNode(69,startPos);result.text=content.substring(startPos,pos);return finishNode(result,pos)}}JSDocParser.parseJSDocCommentWorker=parseJSDocCommentWorker})(JSDocParser=Parser.JSDocParser||(Parser.JSDocParser={}))})(Parser||(Parser={}));var IncrementalParser;(function(IncrementalParser){function updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks){aggressiveChecks=aggressiveChecks||ts.Debug.shouldAssert(2);checkChangeRange(sourceFile,newText,textChangeRange,aggressiveChecks);if(ts.textChangeRangeIsUnchanged(textChangeRange)){return sourceFile}if(sourceFile.statements.length===0){return Parser.parseSourceFile(sourceFile.fileName,newText,sourceFile.languageVersion,undefined,true)}var incrementalSourceFile=sourceFile;ts.Debug.assert(!incrementalSourceFile.hasBeenIncrementallyParsed);incrementalSourceFile.hasBeenIncrementallyParsed=true;var oldText=sourceFile.text;var syntaxCursor=createSyntaxCursor(sourceFile);var changeRange=extendToAffectedRange(sourceFile,textChangeRange);checkChangeRange(sourceFile,newText,changeRange,aggressiveChecks);ts.Debug.assert(changeRange.span.start<=textChangeRange.span.start);ts.Debug.assert(ts.textSpanEnd(changeRange.span)===ts.textSpanEnd(textChangeRange.span));ts.Debug.assert(ts.textSpanEnd(ts.textChangeRangeNewSpan(changeRange))===ts.textSpanEnd(ts.textChangeRangeNewSpan(textChangeRange)));var delta=ts.textChangeRangeNewSpan(changeRange).length-changeRange.span.length;updateTokenPositionsAndMarkElements(incrementalSourceFile,changeRange.span.start,ts.textSpanEnd(changeRange.span),ts.textSpanEnd(ts.textChangeRangeNewSpan(changeRange)),delta,oldText,newText,aggressiveChecks);var result=Parser.parseSourceFile(sourceFile.fileName,newText,sourceFile.languageVersion,syntaxCursor,true);return result}IncrementalParser.updateSourceFile=updateSourceFile;function moveElementEntirelyPastChangeRange(element,isArray,delta,oldText,newText,aggressiveChecks){if(isArray){visitArray(element)}else{visitNode(element)}return;function visitNode(node){var text="";if(aggressiveChecks&&shouldCheckNode(node)){text=oldText.substring(node.pos,node.end)}if(node._children){node._children=undefined}if(node.jsDocComment){node.jsDocComment=undefined}node.pos+=delta;node.end+=delta;if(aggressiveChecks&&shouldCheckNode(node)){ts.Debug.assert(text===newText.substring(node.pos,node.end))}forEachChild(node,visitNode,visitArray);checkNodePositions(node,aggressiveChecks)}function visitArray(array){array._children=undefined;array.pos+=delta;array.end+=delta;for(var _i=0;_i<array.length;_i++){var node=array[_i];visitNode(node)}}}function shouldCheckNode(node){switch(node.kind){case 9:case 8:case 69:return true}return false}function adjustIntersectingElement(element,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta){ts.Debug.assert(element.end>=changeStart,"Adjusting an element that was entirely before the change range");ts.Debug.assert(element.pos<=changeRangeOldEnd,"Adjusting an element that was entirely after the change range");ts.Debug.assert(element.pos<=element.end);element.pos=Math.min(element.pos,changeRangeNewEnd);if(element.end>=changeRangeOldEnd){element.end+=delta}else{element.end=Math.min(element.end,changeRangeNewEnd)}ts.Debug.assert(element.pos<=element.end);if(element.parent){ts.Debug.assert(element.pos>=element.parent.pos);ts.Debug.assert(element.end<=element.parent.end)}}function checkNodePositions(node,aggressiveChecks){if(aggressiveChecks){var pos=node.pos;forEachChild(node,function(child){ts.Debug.assert(child.pos>=pos);pos=child.end});ts.Debug.assert(pos<=node.end)}}function updateTokenPositionsAndMarkElements(sourceFile,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta,oldText,newText,aggressiveChecks){visitNode(sourceFile);return;function visitNode(child){ts.Debug.assert(child.pos<=child.end);if(child.pos>changeRangeOldEnd){moveElementEntirelyPastChangeRange(child,false,delta,oldText,newText,aggressiveChecks);return}var fullEnd=child.end;if(fullEnd>=changeStart){child.intersectsChange=true;child._children=undefined;adjustIntersectingElement(child,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta);forEachChild(child,visitNode,visitArray);checkNodePositions(child,aggressiveChecks);return}ts.Debug.assert(fullEnd<changeStart)}function visitArray(array){ts.Debug.assert(array.pos<=array.end);if(array.pos>changeRangeOldEnd){moveElementEntirelyPastChangeRange(array,true,delta,oldText,newText,aggressiveChecks);return}var fullEnd=array.end;if(fullEnd>=changeStart){array.intersectsChange=true;array._children=undefined;adjustIntersectingElement(array,changeStart,changeRangeOldEnd,changeRangeNewEnd,delta);for(var _i=0;_i<array.length;_i++){var node=array[_i];visitNode(node)}return}ts.Debug.assert(fullEnd<changeStart)}}function extendToAffectedRange(sourceFile,changeRange){var maxLookahead=1;var start=changeRange.span.start;for(var i=0;start>0&&i<=maxLookahead;i++){var nearestNode=findNearestNodeStartingBeforeOrAtPosition(sourceFile,start);ts.Debug.assert(nearestNode.pos<=start);var position=nearestNode.pos;start=Math.max(0,position-1)}var finalSpan=ts.createTextSpanFromBounds(start,ts.textSpanEnd(changeRange.span));var finalLength=changeRange.newLength+(changeRange.span.start-start);return ts.createTextChangeRange(finalSpan,finalLength)}function findNearestNodeStartingBeforeOrAtPosition(sourceFile,position){var bestResult=sourceFile;var lastNodeEntirelyBeforePosition;forEachChild(sourceFile,visit);if(lastNodeEntirelyBeforePosition){var lastChildOfLastEntireNodeBeforePosition=getLastChild(lastNodeEntirelyBeforePosition);if(lastChildOfLastEntireNodeBeforePosition.pos>bestResult.pos){bestResult=lastChildOfLastEntireNodeBeforePosition}}return bestResult;function getLastChild(node){while(true){var lastChild=getLastChildWorker(node);if(lastChild){node=lastChild}else{return node}}}function getLastChildWorker(node){var last=undefined;forEachChild(node,function(child){if(ts.nodeIsPresent(child)){last=child}});return last}function visit(child){if(ts.nodeIsMissing(child)){return}if(child.pos<=position){if(child.pos>=bestResult.pos){bestResult=child}if(position<child.end){forEachChild(child,visit);return true}else{ts.Debug.assert(child.end<=position);lastNodeEntirelyBeforePosition=child}}else{ts.Debug.assert(child.pos>position);return true}}}function checkChangeRange(sourceFile,newText,textChangeRange,aggressiveChecks){var oldText=sourceFile.text;if(textChangeRange){ts.Debug.assert(oldText.length-textChangeRange.span.length+textChangeRange.newLength===newText.length);if(aggressiveChecks||ts.Debug.shouldAssert(3)){var oldTextPrefix=oldText.substr(0,textChangeRange.span.start);var newTextPrefix=newText.substr(0,textChangeRange.span.start);ts.Debug.assert(oldTextPrefix===newTextPrefix);var oldTextSuffix=oldText.substring(ts.textSpanEnd(textChangeRange.span),oldText.length);var newTextSuffix=newText.substring(ts.textSpanEnd(ts.textChangeRangeNewSpan(textChangeRange)),newText.length);ts.Debug.assert(oldTextSuffix===newTextSuffix)}}}function createSyntaxCursor(sourceFile){var currentArray=sourceFile.statements;var currentArrayIndex=0;ts.Debug.assert(currentArrayIndex<currentArray.length);var current=currentArray[currentArrayIndex];var lastQueriedPosition=-1;return{currentNode:function(position){if(position!==lastQueriedPosition){if(current&&current.end===position&&currentArrayIndex<currentArray.length-1){currentArrayIndex++;current=currentArray[currentArrayIndex]}if(!current||current.pos!==position){findHighestListElementThatStartsAtPosition(position)}}lastQueriedPosition=position;ts.Debug.assert(!current||current.pos===position);return current}};function findHighestListElementThatStartsAtPosition(position){currentArray=undefined;currentArrayIndex=-1;current=undefined;forEachChild(sourceFile,visitNode,visitArray);return;function visitNode(node){if(position>=node.pos&&position<node.end){forEachChild(node,visitNode,visitArray);return true}return false}function visitArray(array){if(position>=array.pos&&position<array.end){for(var i=0,n=array.length;i<n;i++){var child=array[i];if(child){if(child.pos===position){currentArray=array;currentArrayIndex=i;current=child;return true}else{if(child.pos<position&&position<child.end){forEachChild(child,visitNode,visitArray);return true}}}}}return false}}}var InvalidPosition;(function(InvalidPosition){InvalidPosition[InvalidPosition["Value"]=-1]="Value"})(InvalidPosition||(InvalidPosition={}))})(IncrementalParser||(IncrementalParser={}))})(ts||(ts={}));var ts;(function(ts){var nextSymbolId=1;var nextNodeId=1;var nextMergeId=1;function getNodeId(node){if(!node.id)node.id=nextNodeId++;return node.id}ts.getNodeId=getNodeId;ts.checkTime=0;function getSymbolId(symbol){if(!symbol.id){symbol.id=nextSymbolId++}return symbol.id}ts.getSymbolId=getSymbolId;function createTypeChecker(host,produceDiagnostics){var cancellationToken;var Symbol=ts.objectAllocator.getSymbolConstructor();var Type=ts.objectAllocator.getTypeConstructor();var Signature=ts.objectAllocator.getSignatureConstructor();var typeCount=0;var symbolCount=0;var emptyArray=[];var emptySymbols={};var compilerOptions=host.getCompilerOptions();var languageVersion=compilerOptions.target||0;var modulekind=compilerOptions.module?compilerOptions.module:languageVersion===2?5:0;var emitResolver=createResolver();var undefinedSymbol=createSymbol(4|67108864,"undefined");var argumentsSymbol=createSymbol(4|67108864,"arguments");var checker={getNodeCount:function(){return ts.sum(host.getSourceFiles(),"nodeCount")},getIdentifierCount:function(){return ts.sum(host.getSourceFiles(),"identifierCount")},getSymbolCount:function(){return ts.sum(host.getSourceFiles(),"symbolCount")+symbolCount},getTypeCount:function(){return typeCount},isUndefinedSymbol:function(symbol){return symbol===undefinedSymbol},isArgumentsSymbol:function(symbol){return symbol===argumentsSymbol},getDiagnostics:getDiagnostics,getGlobalDiagnostics:getGlobalDiagnostics,getTypeOfSymbolAtLocation:getNarrowedTypeOfSymbol,getDeclaredTypeOfSymbol:getDeclaredTypeOfSymbol,getPropertiesOfType:getPropertiesOfType,getPropertyOfType:getPropertyOfType,getSignaturesOfType:getSignaturesOfType,getIndexTypeOfType:getIndexTypeOfType,getBaseTypes:getBaseTypes,getReturnTypeOfSignature:getReturnTypeOfSignature,getSymbolsInScope:getSymbolsInScope,getSymbolAtLocation:getSymbolAtLocation,getShorthandAssignmentValueSymbol:getShorthandAssignmentValueSymbol,getTypeAtLocation:getTypeOfNode,typeToString:typeToString,getSymbolDisplayBuilder:getSymbolDisplayBuilder,symbolToString:symbolToString,getAugmentedPropertiesOfType:getAugmentedPropertiesOfType,getRootSymbols:getRootSymbols,getContextualType:getContextualType,getFullyQualifiedName:getFullyQualifiedName,getResolvedSignature:getResolvedSignature,getConstantValue:getConstantValue,isValidPropertyAccess:isValidPropertyAccess,getSignatureFromDeclaration:getSignatureFromDeclaration,isImplementationOfOverload:isImplementationOfOverload,getAliasedSymbol:resolveAlias,getEmitResolver:getEmitResolver,getExportsOfModule:getExportsOfModuleAsArray,getJsxElementAttributesType:getJsxElementAttributesType,getJsxIntrinsicTagNames:getJsxIntrinsicTagNames,isOptionalParameter:isOptionalParameter};var unknownSymbol=createSymbol(4|67108864,"unknown");var resolvingSymbol=createSymbol(67108864,"__resolving__");var anyType=createIntrinsicType(1,"any");var stringType=createIntrinsicType(2,"string");var numberType=createIntrinsicType(4,"number");var booleanType=createIntrinsicType(8,"boolean");var esSymbolType=createIntrinsicType(16777216,"symbol");var voidType=createIntrinsicType(16,"void");var undefinedType=createIntrinsicType(32|2097152,"undefined");var nullType=createIntrinsicType(64|2097152,"null");var unknownType=createIntrinsicType(1,"unknown");var circularType=createIntrinsicType(1,"__circular__");var emptyObjectType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);var emptyGenericType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);emptyGenericType.instantiations={};var anyFunctionType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);anyFunctionType.flags|=8388608;var noConstraintType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);var anySignature=createSignature(undefined,undefined,emptyArray,anyType,undefined,0,false,false);var unknownSignature=createSignature(undefined,undefined,emptyArray,unknownType,undefined,0,false,false);var globals={};var globalESSymbolConstructorSymbol;var getGlobalPromiseConstructorSymbol;var globalObjectType;var globalFunctionType;var globalArrayType;var globalStringType;var globalNumberType;var globalBooleanType;var globalRegExpType;var globalTemplateStringsArrayType;var globalESSymbolType;var jsxElementType;var jsxIntrinsicElementsType;var globalIterableType;var globalIteratorType;var globalIterableIteratorType;var anyArrayType;var getGlobalClassDecoratorType;var getGlobalParameterDecoratorType;var getGlobalPropertyDecoratorType;var getGlobalMethodDecoratorType;var getGlobalTypedPropertyDescriptorType;var getGlobalPromiseType;var tryGetGlobalPromiseType;var getGlobalPromiseLikeType;var getInstantiatedGlobalPromiseLikeType;var getGlobalPromiseConstructorLikeType;var getGlobalThenableType;var tupleTypes={};var unionTypes={};var intersectionTypes={};var stringLiteralTypes={};var emitExtends=false;var emitDecorate=false;var emitParam=false;var emitAwaiter=false;var emitGenerator=false;var resolutionTargets=[];var resolutionResults=[];var resolutionPropertyNames=[];var mergedSymbols=[];var symbolLinks=[];var nodeLinks=[];var potentialThisCollisions=[];var awaitedTypeStack=[];var diagnostics=ts.createDiagnosticCollection();var primitiveTypeInfo={string:{type:stringType,flags:258},number:{type:numberType,flags:132},"boolean":{type:booleanType,flags:8},symbol:{type:esSymbolType,flags:16777216}};var JsxNames={JSX:"JSX",IntrinsicElements:"IntrinsicElements",ElementClass:"ElementClass",ElementAttributesPropertyNameContainer:"ElementAttributesProperty",Element:"Element"};var subtypeRelation={};var assignableRelation={};var identityRelation={};var _displayBuilder;var TypeSystemPropertyName;(function(TypeSystemPropertyName){TypeSystemPropertyName[TypeSystemPropertyName["Type"]=0]="Type";TypeSystemPropertyName[TypeSystemPropertyName["ResolvedBaseConstructorType"]=1]="ResolvedBaseConstructorType";TypeSystemPropertyName[TypeSystemPropertyName["DeclaredType"]=2]="DeclaredType";TypeSystemPropertyName[TypeSystemPropertyName["ResolvedReturnType"]=3]="ResolvedReturnType"})(TypeSystemPropertyName||(TypeSystemPropertyName={}));initializeTypeChecker();return checker;function getEmitResolver(sourceFile,cancellationToken){getDiagnostics(sourceFile,cancellationToken);return emitResolver}function error(location,message,arg0,arg1,arg2){var diagnostic=location?ts.createDiagnosticForNode(location,message,arg0,arg1,arg2):ts.createCompilerDiagnostic(message,arg0,arg1,arg2);diagnostics.add(diagnostic)}function createSymbol(flags,name){symbolCount++;return new Symbol(flags,name)}function getExcludedSymbolFlags(flags){var result=0;if(flags&2)result|=107455;if(flags&1)result|=107454;if(flags&4)result|=107455;if(flags&8)result|=107455;if(flags&16)result|=106927;if(flags&32)result|=899519;if(flags&64)result|=792960;if(flags&256)result|=899327;if(flags&128)result|=899967;if(flags&512)result|=106639;if(flags&8192)result|=99263;if(flags&32768)result|=41919;if(flags&65536)result|=74687;if(flags&262144)result|=530912;if(flags&524288)result|=793056;if(flags&8388608)result|=8388608;return result}function recordMergedSymbol(target,source){if(!source.mergeId)source.mergeId=nextMergeId++;mergedSymbols[source.mergeId]=target}function cloneSymbol(symbol){var result=createSymbol(symbol.flags|33554432,symbol.name);result.declarations=symbol.declarations.slice(0);result.parent=symbol.parent;if(symbol.valueDeclaration)result.valueDeclaration=symbol.valueDeclaration;if(symbol.constEnumOnlyModule)result.constEnumOnlyModule=true;if(symbol.members)result.members=cloneSymbolTable(symbol.members);if(symbol.exports)result.exports=cloneSymbolTable(symbol.exports);recordMergedSymbol(result,symbol);return result}function mergeSymbol(target,source){if(!(target.flags&getExcludedSymbolFlags(source.flags))){if(source.flags&512&&target.flags&512&&target.constEnumOnlyModule&&!source.constEnumOnlyModule){target.constEnumOnlyModule=false}target.flags|=source.flags;if(!target.valueDeclaration&&source.valueDeclaration)target.valueDeclaration=source.valueDeclaration;ts.forEach(source.declarations,function(node){target.declarations.push(node)});if(source.members){if(!target.members)target.members={};mergeSymbolTable(target.members,source.members)}if(source.exports){if(!target.exports)target.exports={};mergeSymbolTable(target.exports,source.exports)}recordMergedSymbol(target,source)}else{var message=target.flags&2||source.flags&2?ts.Diagnostics.Cannot_redeclare_block_scoped_variable_0:ts.Diagnostics.Duplicate_identifier_0;ts.forEach(source.declarations,function(node){error(node.name?node.name:node,message,symbolToString(source))});ts.forEach(target.declarations,function(node){error(node.name?node.name:node,message,symbolToString(source))})}}function cloneSymbolTable(symbolTable){var result={};for(var id in symbolTable){if(ts.hasProperty(symbolTable,id)){result[id]=symbolTable[id]}}return result}function mergeSymbolTable(target,source){for(var id in source){if(ts.hasProperty(source,id)){if(!ts.hasProperty(target,id)){target[id]=source[id]}else{var symbol=target[id];if(!(symbol.flags&33554432)){target[id]=symbol=cloneSymbol(symbol)}mergeSymbol(symbol,source[id])}}}}function getSymbolLinks(symbol){if(symbol.flags&67108864)return symbol;var id=getSymbolId(symbol);return symbolLinks[id]||(symbolLinks[id]={})}function getNodeLinks(node){var nodeId=getNodeId(node);return nodeLinks[nodeId]||(nodeLinks[nodeId]={})}function getSourceFile(node){return ts.getAncestor(node,248)}function isGlobalSourceFile(node){return node.kind===248&&!ts.isExternalModule(node)}function getSymbol(symbols,name,meaning){if(meaning&&ts.hasProperty(symbols,name)){var symbol=symbols[name];ts.Debug.assert((symbol.flags&16777216)===0,"Should never get an instantiated symbol here.");if(symbol.flags&meaning){return symbol}if(symbol.flags&8388608){var target=resolveAlias(symbol);if(target===unknownSymbol||target.flags&meaning){return symbol}}}}function isBlockScopedNameDeclaredBeforeUse(declaration,usage){var declarationFile=ts.getSourceFileOfNode(declaration);var useFile=ts.getSourceFileOfNode(usage);if(declarationFile!==useFile){if(modulekind||!compilerOptions.outFile&&!compilerOptions.out){return true}var sourceFiles=host.getSourceFiles();return ts.indexOf(sourceFiles,declarationFile)<=ts.indexOf(sourceFiles,useFile)}if(declaration.pos<=usage.pos){return declaration.kind!==211||!isImmediatelyUsedInInitializerOfBlockScopedVariable(declaration,usage)}return isUsedInFunctionOrNonStaticProperty(declaration,usage);function isImmediatelyUsedInInitializerOfBlockScopedVariable(declaration,usage){var container=ts.getEnclosingBlockScopeContainer(declaration);if(declaration.parent.parent.kind===193||declaration.parent.parent.kind===199){return isSameScopeDescendentOf(usage,declaration,container)}else if(declaration.parent.parent.kind===201||declaration.parent.parent.kind===200){var expression=declaration.parent.parent.expression;return isSameScopeDescendentOf(usage,expression,container)}}function isUsedInFunctionOrNonStaticProperty(declaration,usage){var container=ts.getEnclosingBlockScopeContainer(declaration);var current=usage;while(current){if(current===container){return false}if(ts.isFunctionLike(current)){return true}var initializerOfNonStaticProperty=current.parent&&current.parent.kind===141&&(current.parent.flags&128)===0&&current.parent.initializer===current;if(initializerOfNonStaticProperty){return true}current=current.parent}return false}}function resolveName(location,name,meaning,nameNotFoundMessage,nameArg){var result;var lastLocation;var propertyWithInvalidInitializer;var errorLocation=location;var grandparent;loop:while(location){if(location.locals&&!isGlobalSourceFile(location)){if(result=getSymbol(location.locals,name,meaning)){if(!(meaning&793056)||!(result.flags&(793056&~262144))||!ts.isFunctionLike(location)||lastLocation===location.body){break loop}result=undefined}}switch(location.kind){case 248:if(!ts.isExternalModule(location))break;case 218:var moduleExports=getSymbolOfNode(location).exports;if(location.kind===248||location.kind===218&&location.name.kind===9){if(ts.hasProperty(moduleExports,name)&&moduleExports[name].flags===8388608&&ts.getDeclarationOfKind(moduleExports[name],230)){break}result=moduleExports["default"];var localSymbol=ts.getLocalSymbolForExportDefault(result);if(result&&localSymbol&&result.flags&meaning&&localSymbol.name===name){break loop}result=undefined}if(result=getSymbol(moduleExports,name,meaning&8914931)){break loop}break;case 217:if(result=getSymbol(getSymbolOfNode(location).exports,name,meaning&8)){break loop}break;case 141:case 140:if(ts.isClassLike(location.parent)&&!(location.flags&128)){var ctor=findConstructorDeclaration(location.parent);if(ctor&&ctor.locals){if(getSymbol(ctor.locals,name,meaning&107455)){propertyWithInvalidInitializer=location}}}break;case 214:case 186:case 215:if(result=getSymbol(getSymbolOfNode(location).members,name,meaning&793056)){if(lastLocation&&lastLocation.flags&128){error(errorLocation,ts.Diagnostics.Static_members_cannot_reference_class_type_parameters);return undefined}break loop}if(location.kind===186&&meaning&32){var className=location.name;if(className&&name===className.text){result=location.symbol;break loop}}break;case 136:grandparent=location.parent.parent;if(ts.isClassLike(grandparent)||grandparent.kind===215){if(result=getSymbol(getSymbolOfNode(grandparent).members,name,meaning&793056)){error(errorLocation,ts.Diagnostics.A_computed_property_name_cannot_reference_a_type_parameter_from_its_containing_type);return undefined}}break;case 143:case 142:case 144:case 145:case 146:case 213:case 174:if(meaning&3&&name==="arguments"){result=argumentsSymbol;break loop}break;case 173:if(meaning&3&&name==="arguments"){result=argumentsSymbol;break loop}if(meaning&16){var functionName=location.name;if(functionName&&name===functionName.text){result=location.symbol;break loop}}break;case 139:if(location.parent&&location.parent.kind===138){location=location.parent}if(location.parent&&ts.isClassElement(location.parent)){location=location.parent}break}lastLocation=location;location=location.parent}if(!result){result=getSymbol(globals,name,meaning)}if(!result){if(nameNotFoundMessage){error(errorLocation,nameNotFoundMessage,typeof nameArg==="string"?nameArg:ts.declarationNameToString(nameArg))}return undefined}if(nameNotFoundMessage){if(propertyWithInvalidInitializer){var propertyName=propertyWithInvalidInitializer.name;error(errorLocation,ts.Diagnostics.Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor,ts.declarationNameToString(propertyName),typeof nameArg==="string"?nameArg:ts.declarationNameToString(nameArg));return undefined}if(meaning&2){var exportOrLocalSymbol=getExportSymbolOfValueSymbolIfExported(result);if(exportOrLocalSymbol.flags&2){checkResolvedBlockScopedVariable(exportOrLocalSymbol,errorLocation)}}}return result}function checkResolvedBlockScopedVariable(result,errorLocation){ts.Debug.assert((result.flags&2)!==0);var declaration=ts.forEach(result.declarations,function(d){return ts.isBlockOrCatchScoped(d)?d:undefined});ts.Debug.assert(declaration!==undefined,"Block-scoped variable declaration is undefined");if(!isBlockScopedNameDeclaredBeforeUse(ts.getAncestor(declaration,211),errorLocation)){error(errorLocation,ts.Diagnostics.Block_scoped_variable_0_used_before_its_declaration,ts.declarationNameToString(declaration.name))}}function isSameScopeDescendentOf(initial,parent,stopAt){if(!parent){return false}for(var current=initial;current&&current!==stopAt&&!ts.isFunctionLike(current);current=current.parent){if(current===parent){return true}}return false}function getAnyImportSyntax(node){if(ts.isAliasSymbolDeclaration(node)){if(node.kind===221){return node}while(node&&node.kind!==222){node=node.parent}return node}}function getDeclarationOfAliasSymbol(symbol){return ts.forEach(symbol.declarations,function(d){return ts.isAliasSymbolDeclaration(d)?d:undefined})}function getTargetOfImportEqualsDeclaration(node){if(node.moduleReference.kind===232){return resolveExternalModuleSymbol(resolveExternalModuleName(node,ts.getExternalModuleImportEqualsDeclarationExpression(node)))}return getSymbolOfPartOfRightHandSideOfImportEquals(node.moduleReference,node)}function getTargetOfImportClause(node){var moduleSymbol=resolveExternalModuleName(node,node.parent.moduleSpecifier);if(moduleSymbol){var exportDefaultSymbol=resolveSymbol(moduleSymbol.exports["default"]);if(!exportDefaultSymbol){error(node.name,ts.Diagnostics.Module_0_has_no_default_export,symbolToString(moduleSymbol))}return exportDefaultSymbol}}function getTargetOfNamespaceImport(node){var moduleSpecifier=node.parent.parent.moduleSpecifier;return resolveESModuleSymbol(resolveExternalModuleName(node,moduleSpecifier),moduleSpecifier)}function getMemberOfModuleVariable(moduleSymbol,name){if(moduleSymbol.flags&3){var typeAnnotation=moduleSymbol.valueDeclaration.type;if(typeAnnotation){return getPropertyOfType(getTypeFromTypeNode(typeAnnotation),name)}}}function combineValueAndTypeSymbols(valueSymbol,typeSymbol){if(valueSymbol.flags&(793056|1536)){return valueSymbol}var result=createSymbol(valueSymbol.flags|typeSymbol.flags,valueSymbol.name);result.declarations=ts.concatenate(valueSymbol.declarations,typeSymbol.declarations);result.parent=valueSymbol.parent||typeSymbol.parent;if(valueSymbol.valueDeclaration)result.valueDeclaration=valueSymbol.valueDeclaration;if(typeSymbol.members)result.members=typeSymbol.members;if(valueSymbol.exports)result.exports=valueSymbol.exports;return result}function getExportOfModule(symbol,name){if(symbol.flags&1536){var exports=getExportsOfSymbol(symbol);if(ts.hasProperty(exports,name)){return resolveSymbol(exports[name])}}}function getPropertyOfVariable(symbol,name){if(symbol.flags&3){var typeAnnotation=symbol.valueDeclaration.type;if(typeAnnotation){return resolveSymbol(getPropertyOfType(getTypeFromTypeNode(typeAnnotation),name))}}}function getExternalModuleMember(node,specifier){var moduleSymbol=resolveExternalModuleName(node,node.moduleSpecifier);var targetSymbol=resolveESModuleSymbol(moduleSymbol,node.moduleSpecifier);
if(targetSymbol){var name_9=specifier.propertyName||specifier.name;if(name_9.text){var symbolFromModule=getExportOfModule(targetSymbol,name_9.text);var symbolFromVariable=getPropertyOfVariable(targetSymbol,name_9.text);var symbol=symbolFromModule&&symbolFromVariable?combineValueAndTypeSymbols(symbolFromVariable,symbolFromModule):symbolFromModule||symbolFromVariable;if(!symbol){error(name_9,ts.Diagnostics.Module_0_has_no_exported_member_1,getFullyQualifiedName(moduleSymbol),ts.declarationNameToString(name_9))}return symbol}}}function getTargetOfImportSpecifier(node){return getExternalModuleMember(node.parent.parent.parent,node)}function getTargetOfExportSpecifier(node){return node.parent.parent.moduleSpecifier?getExternalModuleMember(node.parent.parent,node):resolveEntityName(node.propertyName||node.name,107455|793056|1536)}function getTargetOfExportAssignment(node){return resolveEntityName(node.expression,107455|793056|1536)}function getTargetOfAliasDeclaration(node){switch(node.kind){case 221:return getTargetOfImportEqualsDeclaration(node);case 223:return getTargetOfImportClause(node);case 224:return getTargetOfNamespaceImport(node);case 226:return getTargetOfImportSpecifier(node);case 230:return getTargetOfExportSpecifier(node);case 227:return getTargetOfExportAssignment(node)}}function resolveSymbol(symbol){return symbol&&symbol.flags&8388608&&!(symbol.flags&(107455|793056|1536))?resolveAlias(symbol):symbol}function resolveAlias(symbol){ts.Debug.assert((symbol.flags&8388608)!==0,"Should only get Alias here.");var links=getSymbolLinks(symbol);if(!links.target){links.target=resolvingSymbol;var node=getDeclarationOfAliasSymbol(symbol);var target=getTargetOfAliasDeclaration(node);if(links.target===resolvingSymbol){links.target=target||unknownSymbol}else{error(node,ts.Diagnostics.Circular_definition_of_import_alias_0,symbolToString(symbol))}}else if(links.target===resolvingSymbol){links.target=unknownSymbol}return links.target}function markExportAsReferenced(node){var symbol=getSymbolOfNode(node);var target=resolveAlias(symbol);if(target){var markAlias=target===unknownSymbol&&compilerOptions.isolatedModules||target!==unknownSymbol&&target.flags&107455&&!isConstEnumOrConstEnumOnlyModule(target);if(markAlias){markAliasSymbolAsReferenced(symbol)}}}function markAliasSymbolAsReferenced(symbol){var links=getSymbolLinks(symbol);if(!links.referenced){links.referenced=true;var node=getDeclarationOfAliasSymbol(symbol);if(node.kind===227){checkExpressionCached(node.expression)}else if(node.kind===230){checkExpressionCached(node.propertyName||node.name)}else if(ts.isInternalModuleImportEqualsDeclaration(node)){checkExpressionCached(node.moduleReference)}}}function getSymbolOfPartOfRightHandSideOfImportEquals(entityName,importDeclaration){if(!importDeclaration){importDeclaration=ts.getAncestor(entityName,221);ts.Debug.assert(importDeclaration!==undefined)}if(entityName.kind===69&&ts.isRightSideOfQualifiedNameOrPropertyAccess(entityName)){entityName=entityName.parent}if(entityName.kind===69||entityName.parent.kind===135){return resolveEntityName(entityName,1536)}else{ts.Debug.assert(entityName.parent.kind===221);return resolveEntityName(entityName,107455|793056|1536)}}function getFullyQualifiedName(symbol){return symbol.parent?getFullyQualifiedName(symbol.parent)+"."+symbolToString(symbol):symbolToString(symbol)}function resolveEntityName(name,meaning,ignoreErrors){if(ts.nodeIsMissing(name)){return undefined}var symbol;if(name.kind===69){var message=meaning===1536?ts.Diagnostics.Cannot_find_namespace_0:ts.Diagnostics.Cannot_find_name_0;symbol=resolveName(name,name.text,meaning,ignoreErrors?undefined:message,name);if(!symbol){return undefined}}else if(name.kind===135||name.kind===166){var left=name.kind===135?name.left:name.expression;var right=name.kind===135?name.right:name.name;var namespace=resolveEntityName(left,1536,ignoreErrors);if(!namespace||namespace===unknownSymbol||ts.nodeIsMissing(right)){return undefined}symbol=getSymbol(getExportsOfSymbol(namespace),right.text,meaning);if(!symbol){if(!ignoreErrors){error(right,ts.Diagnostics.Module_0_has_no_exported_member_1,getFullyQualifiedName(namespace),ts.declarationNameToString(right))}return undefined}}else{ts.Debug.fail("Unknown entity name kind.")}ts.Debug.assert((symbol.flags&16777216)===0,"Should never get an instantiated symbol here.");return symbol.flags&meaning?symbol:resolveAlias(symbol)}function resolveExternalModuleName(location,moduleReferenceExpression){if(moduleReferenceExpression.kind!==9){return}var moduleReferenceLiteral=moduleReferenceExpression;var searchPath=ts.getDirectoryPath(getSourceFile(location).fileName);var moduleName=ts.escapeIdentifier(moduleReferenceLiteral.text);if(moduleName===undefined){return}var isRelative=ts.isExternalModuleNameRelative(moduleName);if(!isRelative){var symbol=getSymbol(globals,'"'+moduleName+'"',512);if(symbol){return symbol}}var resolvedModule=ts.getResolvedModule(getSourceFile(location),moduleReferenceLiteral.text);var sourceFile=resolvedModule&&host.getSourceFile(resolvedModule.resolvedFileName);if(sourceFile){if(sourceFile.symbol){return sourceFile.symbol}error(moduleReferenceLiteral,ts.Diagnostics.File_0_is_not_a_module,sourceFile.fileName);return}error(moduleReferenceLiteral,ts.Diagnostics.Cannot_find_module_0,moduleName)}function resolveExternalModuleSymbol(moduleSymbol){return moduleSymbol&&resolveSymbol(moduleSymbol.exports["export="])||moduleSymbol}function resolveESModuleSymbol(moduleSymbol,moduleReferenceExpression){var symbol=resolveExternalModuleSymbol(moduleSymbol);if(symbol&&!(symbol.flags&(1536|3))){error(moduleReferenceExpression,ts.Diagnostics.Module_0_resolves_to_a_non_module_entity_and_cannot_be_imported_using_this_construct,symbolToString(moduleSymbol));symbol=undefined}return symbol}function getExportAssignmentSymbol(moduleSymbol){return moduleSymbol.exports["export="]}function getExportsOfModuleAsArray(moduleSymbol){return symbolsToArray(getExportsOfModule(moduleSymbol))}function getExportsOfSymbol(symbol){return symbol.flags&1536?getExportsOfModule(symbol):symbol.exports||emptySymbols}function getExportsOfModule(moduleSymbol){var links=getSymbolLinks(moduleSymbol);return links.resolvedExports||(links.resolvedExports=getExportsForModule(moduleSymbol))}function extendExportSymbols(target,source){for(var id in source){if(id!=="default"&&!ts.hasProperty(target,id)){target[id]=source[id]}}}function getExportsForModule(moduleSymbol){var result;var visitedSymbols=[];visit(moduleSymbol);return result||moduleSymbol.exports;function visit(symbol){if(symbol&&symbol.flags&1952&&!ts.contains(visitedSymbols,symbol)){visitedSymbols.push(symbol);if(symbol!==moduleSymbol){if(!result){result=cloneSymbolTable(moduleSymbol.exports)}extendExportSymbols(result,symbol.exports)}var exportStars=symbol.exports["__export"];if(exportStars){for(var _i=0,_a=exportStars.declarations;_i<_a.length;_i++){var node=_a[_i];visit(resolveExternalModuleName(node,node.moduleSpecifier))}}}}}function getMergedSymbol(symbol){var merged;return symbol&&symbol.mergeId&&(merged=mergedSymbols[symbol.mergeId])?merged:symbol}function getSymbolOfNode(node){return getMergedSymbol(node.symbol)}function getParentOfSymbol(symbol){return getMergedSymbol(symbol.parent)}function getExportSymbolOfValueSymbolIfExported(symbol){return symbol&&(symbol.flags&1048576)!==0?getMergedSymbol(symbol.exportSymbol):symbol}function symbolIsValue(symbol){if(symbol.flags&16777216){return symbolIsValue(getSymbolLinks(symbol).target)}if(symbol.flags&107455){return true}if(symbol.flags&8388608){return(resolveAlias(symbol).flags&107455)!==0}return false}function findConstructorDeclaration(node){var members=node.members;for(var _i=0;_i<members.length;_i++){var member=members[_i];if(member.kind===144&&ts.nodeIsPresent(member.body)){return member}}}function createType(flags){var result=new Type(checker,flags);result.id=typeCount++;return result}function createIntrinsicType(kind,intrinsicName){var type=createType(kind);type.intrinsicName=intrinsicName;return type}function createObjectType(kind,symbol){var type=createType(kind);type.symbol=symbol;return type}function isReservedMemberName(name){return name.charCodeAt(0)===95&&name.charCodeAt(1)===95&&name.charCodeAt(2)!==95&&name.charCodeAt(2)!==64}function getNamedMembers(members){var result;for(var id in members){if(ts.hasProperty(members,id)){if(!isReservedMemberName(id)){if(!result)result=[];var symbol=members[id];if(symbolIsValue(symbol)){result.push(symbol)}}}}return result||emptyArray}function setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType){type.members=members;type.properties=getNamedMembers(members);type.callSignatures=callSignatures;type.constructSignatures=constructSignatures;if(stringIndexType)type.stringIndexType=stringIndexType;if(numberIndexType)type.numberIndexType=numberIndexType;return type}function createAnonymousType(symbol,members,callSignatures,constructSignatures,stringIndexType,numberIndexType){return setObjectTypeMembers(createObjectType(65536,symbol),members,callSignatures,constructSignatures,stringIndexType,numberIndexType)}function forEachSymbolTableInScope(enclosingDeclaration,callback){var result;for(var location_1=enclosingDeclaration;location_1;location_1=location_1.parent){if(location_1.locals&&!isGlobalSourceFile(location_1)){if(result=callback(location_1.locals)){return result}}switch(location_1.kind){case 248:if(!ts.isExternalModule(location_1)){break}case 218:if(result=callback(getSymbolOfNode(location_1).exports)){return result}break;case 214:case 215:if(result=callback(getSymbolOfNode(location_1).members)){return result}break}}return callback(globals)}function getQualifiedLeftMeaning(rightMeaning){return rightMeaning===107455?107455:1536}function getAccessibleSymbolChain(symbol,enclosingDeclaration,meaning,useOnlyExternalAliasing){function getAccessibleSymbolChainFromSymbolTable(symbols){function canQualifySymbol(symbolFromSymbolTable,meaning){if(!needsQualification(symbolFromSymbolTable,enclosingDeclaration,meaning)){return true}var accessibleParent=getAccessibleSymbolChain(symbolFromSymbolTable.parent,enclosingDeclaration,getQualifiedLeftMeaning(meaning),useOnlyExternalAliasing);return!!accessibleParent}function isAccessible(symbolFromSymbolTable,resolvedAliasSymbol){if(symbol===(resolvedAliasSymbol||symbolFromSymbolTable)){return!ts.forEach(symbolFromSymbolTable.declarations,hasExternalModuleSymbol)&&canQualifySymbol(symbolFromSymbolTable,meaning)}}if(isAccessible(ts.lookUp(symbols,symbol.name))){return[symbol]}return ts.forEachValue(symbols,function(symbolFromSymbolTable){if(symbolFromSymbolTable.flags&8388608&&symbolFromSymbolTable.name!=="export="&&!ts.getDeclarationOfKind(symbolFromSymbolTable,230)){if(!useOnlyExternalAliasing||ts.forEach(symbolFromSymbolTable.declarations,ts.isExternalModuleImportEqualsDeclaration)){var resolvedImportedSymbol=resolveAlias(symbolFromSymbolTable);if(isAccessible(symbolFromSymbolTable,resolveAlias(symbolFromSymbolTable))){return[symbolFromSymbolTable]}var accessibleSymbolsFromExports=resolvedImportedSymbol.exports?getAccessibleSymbolChainFromSymbolTable(resolvedImportedSymbol.exports):undefined;if(accessibleSymbolsFromExports&&canQualifySymbol(symbolFromSymbolTable,getQualifiedLeftMeaning(meaning))){return[symbolFromSymbolTable].concat(accessibleSymbolsFromExports)}}}})}if(symbol){return forEachSymbolTableInScope(enclosingDeclaration,getAccessibleSymbolChainFromSymbolTable)}}function needsQualification(symbol,enclosingDeclaration,meaning){var qualify=false;forEachSymbolTableInScope(enclosingDeclaration,function(symbolTable){if(!ts.hasProperty(symbolTable,symbol.name)){return false}var symbolFromSymbolTable=symbolTable[symbol.name];if(symbolFromSymbolTable===symbol){return true}symbolFromSymbolTable=symbolFromSymbolTable.flags&8388608&&!ts.getDeclarationOfKind(symbolFromSymbolTable,230)?resolveAlias(symbolFromSymbolTable):symbolFromSymbolTable;if(symbolFromSymbolTable.flags&meaning){qualify=true;return true}return false});return qualify}function isSymbolAccessible(symbol,enclosingDeclaration,meaning){if(symbol&&enclosingDeclaration&&!(symbol.flags&262144)){var initialSymbol=symbol;var meaningToLook=meaning;while(symbol){var accessibleSymbolChain=getAccessibleSymbolChain(symbol,enclosingDeclaration,meaningToLook,false);if(accessibleSymbolChain){var hasAccessibleDeclarations=hasVisibleDeclarations(accessibleSymbolChain[0]);if(!hasAccessibleDeclarations){return{accessibility:1,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning),errorModuleName:symbol!==initialSymbol?symbolToString(symbol,enclosingDeclaration,1536):undefined}}return hasAccessibleDeclarations}meaningToLook=getQualifiedLeftMeaning(meaning);symbol=getParentOfSymbol(symbol)}var symbolExternalModule=ts.forEach(initialSymbol.declarations,getExternalModuleContainer);if(symbolExternalModule){var enclosingExternalModule=getExternalModuleContainer(enclosingDeclaration);if(symbolExternalModule!==enclosingExternalModule){return{accessibility:2,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning),errorModuleName:symbolToString(symbolExternalModule)}}}return{accessibility:1,errorSymbolName:symbolToString(initialSymbol,enclosingDeclaration,meaning)}}return{accessibility:0};function getExternalModuleContainer(declaration){for(;declaration;declaration=declaration.parent){if(hasExternalModuleSymbol(declaration)){return getSymbolOfNode(declaration)}}}}function hasExternalModuleSymbol(declaration){return declaration.kind===218&&declaration.name.kind===9||declaration.kind===248&&ts.isExternalModule(declaration)}function hasVisibleDeclarations(symbol){var aliasesToMakeVisible;if(ts.forEach(symbol.declarations,function(declaration){return!getIsDeclarationVisible(declaration)})){return undefined}return{accessibility:0,aliasesToMakeVisible:aliasesToMakeVisible};function getIsDeclarationVisible(declaration){if(!isDeclarationVisible(declaration)){var anyImportSyntax=getAnyImportSyntax(declaration);if(anyImportSyntax&&!(anyImportSyntax.flags&1)&&isDeclarationVisible(anyImportSyntax.parent)){getNodeLinks(declaration).isVisible=true;if(aliasesToMakeVisible){if(!ts.contains(aliasesToMakeVisible,anyImportSyntax)){aliasesToMakeVisible.push(anyImportSyntax)}}else{aliasesToMakeVisible=[anyImportSyntax]}return true}return false}return true}}function isEntityNameVisible(entityName,enclosingDeclaration){var meaning;if(entityName.parent.kind===154){meaning=107455|1048576}else if(entityName.kind===135||entityName.kind===166||entityName.parent.kind===221){meaning=1536}else{meaning=793056}var firstIdentifier=getFirstIdentifier(entityName);var symbol=resolveName(enclosingDeclaration,firstIdentifier.text,meaning,undefined,undefined);return symbol&&hasVisibleDeclarations(symbol)||{accessibility:1,errorSymbolName:ts.getTextOfNode(firstIdentifier),errorNode:firstIdentifier}}function writeKeyword(writer,kind){writer.writeKeyword(ts.tokenToString(kind))}function writePunctuation(writer,kind){writer.writePunctuation(ts.tokenToString(kind))}function writeSpace(writer){writer.writeSpace(" ")}function symbolToString(symbol,enclosingDeclaration,meaning){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning);var result=writer.string();ts.releaseStringWriter(writer);return result}function signatureToString(signature,enclosingDeclaration,flags){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildSignatureDisplay(signature,writer,enclosingDeclaration,flags);var result=writer.string();ts.releaseStringWriter(writer);return result}function typeToString(type,enclosingDeclaration,flags){var writer=ts.getSingleLineStringWriter();getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags);var result=writer.string();ts.releaseStringWriter(writer);var maxLength=compilerOptions.noErrorTruncation||flags&4?undefined:100;if(maxLength&&result.length>=maxLength){result=result.substr(0,maxLength-"...".length)+"..."}return result}function getTypeAliasForTypeLiteral(type){if(type.symbol&&type.symbol.flags&2048){var node=type.symbol.declarations[0].parent;while(node.kind===160){node=node.parent}if(node.kind===216){return getSymbolOfNode(node)}}return undefined}function getSymbolDisplayBuilder(){function getNameOfSymbol(symbol){if(symbol.declarations&&symbol.declarations.length){var declaration=symbol.declarations[0];if(declaration.name){return ts.declarationNameToString(declaration.name)}switch(declaration.kind){case 186:return"(Anonymous class)";case 173:case 174:return"(Anonymous function)"}}return symbol.name}function appendSymbolNameOnly(symbol,writer){writer.writeSymbol(getNameOfSymbol(symbol),symbol)}function buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning,flags,typeFlags){var parentSymbol;function appendParentTypeArgumentsAndSymbolName(symbol){if(parentSymbol){if(flags&1){if(symbol.flags&16777216){buildDisplayForTypeArgumentsAndDelimiters(getTypeParametersOfClassOrInterface(parentSymbol),symbol.mapper,writer,enclosingDeclaration)}else{buildTypeParameterDisplayFromSymbol(parentSymbol,writer,enclosingDeclaration)}}writePunctuation(writer,21)}parentSymbol=symbol;appendSymbolNameOnly(symbol,writer)}writer.trackSymbol(symbol,enclosingDeclaration,meaning);function walkSymbol(symbol,meaning){if(symbol){var accessibleSymbolChain=getAccessibleSymbolChain(symbol,enclosingDeclaration,meaning,!!(flags&2));if(!accessibleSymbolChain||needsQualification(accessibleSymbolChain[0],enclosingDeclaration,accessibleSymbolChain.length===1?meaning:getQualifiedLeftMeaning(meaning))){walkSymbol(getParentOfSymbol(accessibleSymbolChain?accessibleSymbolChain[0]:symbol),getQualifiedLeftMeaning(meaning))}if(accessibleSymbolChain){for(var _i=0;_i<accessibleSymbolChain.length;_i++){var accessibleSymbol=accessibleSymbolChain[_i];appendParentTypeArgumentsAndSymbolName(accessibleSymbol)}}else{if(!parentSymbol&&ts.forEach(symbol.declarations,hasExternalModuleSymbol)){return}if(symbol.flags&2048||symbol.flags&4096){return}appendParentTypeArgumentsAndSymbolName(symbol)}}}var isTypeParameter=symbol.flags&262144;var typeFormatFlag=128&typeFlags;if(!isTypeParameter&&(enclosingDeclaration||typeFormatFlag)){walkSymbol(symbol,meaning);return}return appendParentTypeArgumentsAndSymbolName(symbol)}function buildTypeDisplay(type,writer,enclosingDeclaration,globalFlags,symbolStack){var globalFlagsToPass=globalFlags&16;var inObjectTypeLiteral=false;return writeType(type,globalFlags);function writeType(type,flags){if(type.flags&16777343){writer.writeKeyword(!(globalFlags&16)&&isTypeAny(type)?"any":type.intrinsicName)}else if(type.flags&33554432){if(inObjectTypeLiteral){writer.reportInaccessibleThisError()}writer.writeKeyword("this")}else if(type.flags&4096){writeTypeReference(type,flags)}else if(type.flags&(1024|2048|128|512)){buildSymbolDisplay(type.symbol,writer,enclosingDeclaration,793056,0,flags)}else if(type.flags&8192){writeTupleType(type)}else if(type.flags&49152){writeUnionOrIntersectionType(type,flags)}else if(type.flags&65536){writeAnonymousType(type,flags)}else if(type.flags&256){writer.writeStringLiteral(type.text)}else{writePunctuation(writer,15);writeSpace(writer);writePunctuation(writer,22);writeSpace(writer);writePunctuation(writer,16)}}function writeTypeList(types,delimiter){for(var i=0;i<types.length;i++){if(i>0){if(delimiter!==24){writeSpace(writer)}writePunctuation(writer,delimiter);writeSpace(writer)}writeType(types[i],delimiter===24?0:64)}}function writeSymbolTypeReference(symbol,typeArguments,pos,end,flags){if(symbol.flags&32||!isReservedMemberName(symbol.name)){buildSymbolDisplay(symbol,writer,enclosingDeclaration,793056,0,flags)}if(pos<end){writePunctuation(writer,25);writeType(typeArguments[pos++],0);while(pos<end){writePunctuation(writer,24);writeSpace(writer);writeType(typeArguments[pos++],0)}writePunctuation(writer,27)}}function writeTypeReference(type,flags){var typeArguments=type.typeArguments||emptyArray;if(type.target===globalArrayType&&!(flags&1)){writeType(typeArguments[0],64);writePunctuation(writer,19);writePunctuation(writer,20)}else{var outerTypeParameters=type.target.outerTypeParameters;var i=0;if(outerTypeParameters){var length_1=outerTypeParameters.length;while(i<length_1){var start=i;var parent_3=getParentSymbolOfTypeParameter(outerTypeParameters[i]);do{i++}while(i<length_1&&getParentSymbolOfTypeParameter(outerTypeParameters[i])===parent_3);if(!ts.rangeEquals(outerTypeParameters,typeArguments,start,i)){writeSymbolTypeReference(parent_3,typeArguments,start,i,flags);writePunctuation(writer,21)}}}var typeParameterCount=(type.target.typeParameters||emptyArray).length;writeSymbolTypeReference(type.symbol,typeArguments,i,typeParameterCount,flags)}}function writeTupleType(type){writePunctuation(writer,19);writeTypeList(type.elementTypes,24);writePunctuation(writer,20)}function writeUnionOrIntersectionType(type,flags){if(flags&64){writePunctuation(writer,17)}writeTypeList(type.types,type.flags&16384?47:46);if(flags&64){writePunctuation(writer,18)}}function writeAnonymousType(type,flags){var symbol=type.symbol;if(symbol){if(symbol.flags&(32|384|512)){writeTypeofSymbol(type,flags)}else if(shouldWriteTypeOfFunctionSymbol()){writeTypeofSymbol(type,flags)}else if(ts.contains(symbolStack,symbol)){var typeAlias=getTypeAliasForTypeLiteral(type);if(typeAlias){buildSymbolDisplay(typeAlias,writer,enclosingDeclaration,793056,0,flags)}else{writeKeyword(writer,117)}}else{if(!symbolStack){symbolStack=[]}symbolStack.push(symbol);writeLiteralType(type,flags);symbolStack.pop()}}else{writeLiteralType(type,flags)}function shouldWriteTypeOfFunctionSymbol(){var isStaticMethodSymbol=!!(symbol.flags&8192&&ts.forEach(symbol.declarations,function(declaration){return declaration.flags&128}));var isNonLocalFunctionSymbol=!!(symbol.flags&16)&&(symbol.parent||ts.forEach(symbol.declarations,function(declaration){return declaration.parent.kind===248||declaration.parent.kind===219}));if(isStaticMethodSymbol||isNonLocalFunctionSymbol){return!!(flags&2)||ts.contains(symbolStack,symbol)}}}function writeTypeofSymbol(type,typeFormatFlags){writeKeyword(writer,101);writeSpace(writer);buildSymbolDisplay(type.symbol,writer,enclosingDeclaration,107455,0,typeFormatFlags)}function getIndexerParameterName(type,indexKind,fallbackName){var declaration=getIndexDeclarationOfSymbol(type.symbol,indexKind);if(!declaration){return fallbackName}ts.Debug.assert(declaration.parameters.length!==0);return ts.declarationNameToString(declaration.parameters[0].name)}function writeLiteralType(type,flags){var resolved=resolveStructuredTypeMembers(type);if(!resolved.properties.length&&!resolved.stringIndexType&&!resolved.numberIndexType){if(!resolved.callSignatures.length&&!resolved.constructSignatures.length){writePunctuation(writer,15);writePunctuation(writer,16);return}if(resolved.callSignatures.length===1&&!resolved.constructSignatures.length){if(flags&64){writePunctuation(writer,17)}buildSignatureDisplay(resolved.callSignatures[0],writer,enclosingDeclaration,globalFlagsToPass|8,symbolStack);if(flags&64){writePunctuation(writer,18)}return}if(resolved.constructSignatures.length===1&&!resolved.callSignatures.length){if(flags&64){writePunctuation(writer,17)}writeKeyword(writer,92);writeSpace(writer);buildSignatureDisplay(resolved.constructSignatures[0],writer,enclosingDeclaration,globalFlagsToPass|8,symbolStack);if(flags&64){writePunctuation(writer,18)}return}}var saveInObjectTypeLiteral=inObjectTypeLiteral;inObjectTypeLiteral=true;writePunctuation(writer,15);writer.writeLine();writer.increaseIndent();for(var _i=0,_a=resolved.callSignatures;_i<_a.length;_i++){var signature=_a[_i];buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,symbolStack);writePunctuation(writer,23);writer.writeLine()}for(var _b=0,_c=resolved.constructSignatures;_b<_c.length;_b++){var signature=_c[_b];writeKeyword(writer,92);writeSpace(writer);buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,symbolStack);writePunctuation(writer,23);writer.writeLine()}if(resolved.stringIndexType){writePunctuation(writer,19);writer.writeParameter(getIndexerParameterName(resolved,0,"x"));writePunctuation(writer,54);writeSpace(writer);writeKeyword(writer,130);writePunctuation(writer,20);writePunctuation(writer,54);writeSpace(writer);writeType(resolved.stringIndexType,0);writePunctuation(writer,23);writer.writeLine()}if(resolved.numberIndexType){writePunctuation(writer,19);writer.writeParameter(getIndexerParameterName(resolved,1,"x"));writePunctuation(writer,54);writeSpace(writer);writeKeyword(writer,128);writePunctuation(writer,20);writePunctuation(writer,54);writeSpace(writer);writeType(resolved.numberIndexType,0);writePunctuation(writer,23);writer.writeLine()}for(var _d=0,_e=resolved.properties;_d<_e.length;_d++){var p=_e[_d];var t=getTypeOfSymbol(p);if(p.flags&(16|8192)&&!getPropertiesOfObjectType(t).length){var signatures=getSignaturesOfType(t,0);for(var _f=0;_f<signatures.length;_f++){var signature=signatures[_f];buildSymbolDisplay(p,writer);if(p.flags&536870912){writePunctuation(writer,53)}buildSignatureDisplay(signature,writer,enclosingDeclaration,globalFlagsToPass,symbolStack);writePunctuation(writer,23);writer.writeLine()}}else{buildSymbolDisplay(p,writer);if(p.flags&536870912){writePunctuation(writer,53)}writePunctuation(writer,54);writeSpace(writer);writeType(t,0);writePunctuation(writer,23);writer.writeLine()}}writer.decreaseIndent();writePunctuation(writer,16);inObjectTypeLiteral=saveInObjectTypeLiteral}}function buildTypeParameterDisplayFromSymbol(symbol,writer,enclosingDeclaraiton,flags){var targetSymbol=getTargetSymbol(symbol);if(targetSymbol.flags&32||targetSymbol.flags&64||targetSymbol.flags&524288){buildDisplayForTypeParametersAndDelimiters(getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol),writer,enclosingDeclaraiton,flags)}}function buildTypeParameterDisplay(tp,writer,enclosingDeclaration,flags,symbolStack){appendSymbolNameOnly(tp.symbol,writer);var constraint=getConstraintOfTypeParameter(tp);if(constraint){writeSpace(writer);writeKeyword(writer,83);writeSpace(writer);buildTypeDisplay(constraint,writer,enclosingDeclaration,flags,symbolStack)}}function buildParameterDisplay(p,writer,enclosingDeclaration,flags,symbolStack){var parameterNode=p.valueDeclaration;if(ts.isRestParameter(parameterNode)){writePunctuation(writer,22)}appendSymbolNameOnly(p,writer);if(isOptionalParameter(parameterNode)){writePunctuation(writer,53)}writePunctuation(writer,54);writeSpace(writer);buildTypeDisplay(getTypeOfSymbol(p),writer,enclosingDeclaration,flags,symbolStack)}function buildDisplayForTypeParametersAndDelimiters(typeParameters,writer,enclosingDeclaration,flags,symbolStack){if(typeParameters&&typeParameters.length){writePunctuation(writer,25);for(var i=0;i<typeParameters.length;i++){if(i>0){writePunctuation(writer,24);writeSpace(writer)}buildTypeParameterDisplay(typeParameters[i],writer,enclosingDeclaration,flags,symbolStack)}writePunctuation(writer,27)}}function buildDisplayForTypeArgumentsAndDelimiters(typeParameters,mapper,writer,enclosingDeclaration,flags,symbolStack){if(typeParameters&&typeParameters.length){writePunctuation(writer,25);for(var i=0;i<typeParameters.length;i++){if(i>0){writePunctuation(writer,24);writeSpace(writer)}buildTypeDisplay(mapper(typeParameters[i]),writer,enclosingDeclaration,0)}writePunctuation(writer,27)}}function buildDisplayForParametersAndDelimiters(parameters,writer,enclosingDeclaration,flags,symbolStack){writePunctuation(writer,17);for(var i=0;i<parameters.length;i++){if(i>0){writePunctuation(writer,24);writeSpace(writer)}buildParameterDisplay(parameters[i],writer,enclosingDeclaration,flags,symbolStack)}writePunctuation(writer,18)}function buildReturnTypeDisplay(signature,writer,enclosingDeclaration,flags,symbolStack){if(flags&8){writeSpace(writer);writePunctuation(writer,34)}else{writePunctuation(writer,54)}writeSpace(writer);var returnType;if(signature.typePredicate){writer.writeParameter(signature.typePredicate.parameterName);writeSpace(writer);writeKeyword(writer,124);writeSpace(writer);returnType=signature.typePredicate.type}else{returnType=getReturnTypeOfSignature(signature)}buildTypeDisplay(returnType,writer,enclosingDeclaration,flags,symbolStack)}function buildSignatureDisplay(signature,writer,enclosingDeclaration,flags,symbolStack){if(signature.target&&flags&32){buildDisplayForTypeArgumentsAndDelimiters(signature.target.typeParameters,signature.mapper,writer,enclosingDeclaration)}else{buildDisplayForTypeParametersAndDelimiters(signature.typeParameters,writer,enclosingDeclaration,flags,symbolStack)}buildDisplayForParametersAndDelimiters(signature.parameters,writer,enclosingDeclaration,flags,symbolStack);buildReturnTypeDisplay(signature,writer,enclosingDeclaration,flags,symbolStack)}return _displayBuilder||(_displayBuilder={buildSymbolDisplay:buildSymbolDisplay,buildTypeDisplay:buildTypeDisplay,buildTypeParameterDisplay:buildTypeParameterDisplay,buildParameterDisplay:buildParameterDisplay,buildDisplayForParametersAndDelimiters:buildDisplayForParametersAndDelimiters,buildDisplayForTypeParametersAndDelimiters:buildDisplayForTypeParametersAndDelimiters,buildTypeParameterDisplayFromSymbol:buildTypeParameterDisplayFromSymbol,buildSignatureDisplay:buildSignatureDisplay,buildReturnTypeDisplay:buildReturnTypeDisplay})}function isDeclarationVisible(node){function getContainingExternalModule(node){for(;node;node=node.parent){if(node.kind===218){if(node.name.kind===9){return node}}else if(node.kind===248){return ts.isExternalModule(node)?node:undefined}}ts.Debug.fail("getContainingModule cant reach here")}function isUsedInExportAssignment(node){var externalModule=getContainingExternalModule(node);var exportAssignmentSymbol;var resolvedExportSymbol;if(externalModule){var externalModuleSymbol=getSymbolOfNode(externalModule);exportAssignmentSymbol=getExportAssignmentSymbol(externalModuleSymbol);var symbolOfNode=getSymbolOfNode(node);if(isSymbolUsedInExportAssignment(symbolOfNode)){return true}if(symbolOfNode.flags&8388608){return isSymbolUsedInExportAssignment(resolveAlias(symbolOfNode))}}function isSymbolUsedInExportAssignment(symbol){if(exportAssignmentSymbol===symbol){return true}if(exportAssignmentSymbol&&!!(exportAssignmentSymbol.flags&8388608)){resolvedExportSymbol=resolvedExportSymbol||resolveAlias(exportAssignmentSymbol);if(resolvedExportSymbol===symbol){return true}return ts.forEach(resolvedExportSymbol.declarations,function(current){while(current){if(current===node){return true}current=current.parent}})}}}function determineIfDeclarationIsVisible(){switch(node.kind){case 163:return isDeclarationVisible(node.parent.parent);case 211:if(ts.isBindingPattern(node.name)&&!node.name.elements.length){return false}case 218:case 214:case 215:case 216:case 213:case 217:case 221:var parent_4=getDeclarationContainer(node);if(!(ts.getCombinedNodeFlags(node)&1)&&!(node.kind!==221&&parent_4.kind!==248&&ts.isInAmbientContext(parent_4))){return isGlobalSourceFile(parent_4)}return isDeclarationVisible(parent_4);case 141:case 140:case 145:case 146:case 143:case 142:if(node.flags&(32|64)){return false}case 144:case 148:case 147:case 149:case 138:case 219:case 152:case 153:case 155:case 151:case 156:case 157:case 158:case 159:case 160:return isDeclarationVisible(node.parent);case 223:case 224:case 226:return false;case 137:case 248:return true;case 227:return false;default:ts.Debug.fail("isDeclarationVisible unknown: SyntaxKind: "+node.kind)}}if(node){var links=getNodeLinks(node);if(links.isVisible===undefined){links.isVisible=!!determineIfDeclarationIsVisible()}return links.isVisible}}function collectLinkedAliases(node){var exportSymbol;if(node.parent&&node.parent.kind===227){exportSymbol=resolveName(node.parent,node.text,107455|793056|1536|8388608,ts.Diagnostics.Cannot_find_name_0,node)}else if(node.parent.kind===230){var exportSpecifier=node.parent;
exportSymbol=exportSpecifier.parent.parent.moduleSpecifier?getExternalModuleMember(exportSpecifier.parent.parent,exportSpecifier):resolveEntityName(exportSpecifier.propertyName||exportSpecifier.name,107455|793056|1536|8388608)}var result=[];if(exportSymbol){buildVisibleNodeList(exportSymbol.declarations)}return result;function buildVisibleNodeList(declarations){ts.forEach(declarations,function(declaration){getNodeLinks(declaration).isVisible=true;var resultNode=getAnyImportSyntax(declaration)||declaration;if(!ts.contains(result,resultNode)){result.push(resultNode)}if(ts.isInternalModuleImportEqualsDeclaration(declaration)){var internalModuleReference=declaration.moduleReference;var firstIdentifier=getFirstIdentifier(internalModuleReference);var importSymbol=resolveName(declaration,firstIdentifier.text,107455|793056|1536,ts.Diagnostics.Cannot_find_name_0,firstIdentifier);buildVisibleNodeList(importSymbol.declarations)}})}}function pushTypeResolution(target,propertyName){var resolutionCycleStartIndex=findResolutionCycleStartIndex(target,propertyName);if(resolutionCycleStartIndex>=0){var length_2=resolutionTargets.length;for(var i=resolutionCycleStartIndex;i<length_2;i++){resolutionResults[i]=false}return false}resolutionTargets.push(target);resolutionResults.push(true);resolutionPropertyNames.push(propertyName);return true}function findResolutionCycleStartIndex(target,propertyName){for(var i=resolutionTargets.length-1;i>=0;i--){if(hasType(resolutionTargets[i],resolutionPropertyNames[i])){return-1}if(resolutionTargets[i]===target&&resolutionPropertyNames[i]===propertyName){return i}}return-1}function hasType(target,propertyName){if(propertyName===0){return getSymbolLinks(target).type}if(propertyName===2){return getSymbolLinks(target).declaredType}if(propertyName===1){ts.Debug.assert(!!(target.flags&1024));return target.resolvedBaseConstructorType}if(propertyName===3){return target.resolvedReturnType}ts.Debug.fail("Unhandled TypeSystemPropertyName "+propertyName)}function popTypeResolution(){resolutionTargets.pop();resolutionPropertyNames.pop();return resolutionResults.pop()}function getDeclarationContainer(node){node=ts.getRootDeclaration(node);return node.kind===211?node.parent.parent.parent:node.parent}function getTypeOfPrototypeProperty(prototype){var classType=getDeclaredTypeOfSymbol(prototype.parent);return classType.typeParameters?createTypeReference(classType,ts.map(classType.typeParameters,function(_){return anyType})):classType}function getTypeOfPropertyOfType(type,name){var prop=getPropertyOfType(type,name);return prop?getTypeOfSymbol(prop):undefined}function isTypeAny(type){return type&&(type.flags&1)!==0}function getTypeForBindingElementParent(node){var symbol=getSymbolOfNode(node);return symbol&&getSymbolLinks(symbol).type||getTypeForVariableLikeDeclaration(node)}function getTypeForBindingElement(declaration){var pattern=declaration.parent;var parentType=getTypeForBindingElementParent(pattern.parent);if(parentType===unknownType){return unknownType}if(!parentType||isTypeAny(parentType)){if(declaration.initializer){return checkExpressionCached(declaration.initializer)}return parentType}var type;if(pattern.kind===161){var name_10=declaration.propertyName||declaration.name;type=getTypeOfPropertyOfType(parentType,name_10.text)||isNumericLiteralName(name_10.text)&&getIndexTypeOfType(parentType,1)||getIndexTypeOfType(parentType,0);if(!type){error(name_10,ts.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,typeToString(parentType),ts.declarationNameToString(name_10));return unknownType}}else{var elementType=checkIteratedTypeOrElementType(parentType,pattern,false);if(!declaration.dotDotDotToken){var propName=""+ts.indexOf(pattern.elements,declaration);type=isTupleLikeType(parentType)?getTypeOfPropertyOfType(parentType,propName):elementType;if(!type){if(isTupleType(parentType)){error(declaration,ts.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,typeToString(parentType),parentType.elementTypes.length,pattern.elements.length)}else{error(declaration,ts.Diagnostics.Type_0_has_no_property_1,typeToString(parentType),propName)}return unknownType}}else{type=createArrayType(elementType)}}return type}function getTypeForVariableLikeDeclaration(declaration){if(declaration.parent.parent.kind===200){return anyType}if(declaration.parent.parent.kind===201){return checkRightHandSideOfForOf(declaration.parent.parent.expression)||anyType}if(ts.isBindingPattern(declaration.parent)){return getTypeForBindingElement(declaration)}if(declaration.type){return getTypeFromTypeNode(declaration.type)}if(declaration.kind===138){var func=declaration.parent;if(func.kind===146&&!ts.hasDynamicName(func)){var getter=ts.getDeclarationOfKind(declaration.parent.symbol,145);if(getter){return getReturnTypeOfSignature(getSignatureFromDeclaration(getter))}}var type=getContextuallyTypedParameterType(declaration);if(type){return type}}if(declaration.initializer){return checkExpressionCached(declaration.initializer)}if(declaration.kind===246){return checkIdentifier(declaration.name)}if(ts.isBindingPattern(declaration.name)){return getTypeFromBindingPattern(declaration.name,false)}return undefined}function getTypeFromBindingElement(element,includePatternInType){if(element.initializer){return getWidenedType(checkExpressionCached(element.initializer))}if(ts.isBindingPattern(element.name)){return getTypeFromBindingPattern(element.name,includePatternInType)}return anyType}function getTypeFromObjectBindingPattern(pattern,includePatternInType){var members={};ts.forEach(pattern.elements,function(e){var flags=4|67108864|(e.initializer?536870912:0);var name=e.propertyName||e.name;var symbol=createSymbol(flags,name.text);symbol.type=getTypeFromBindingElement(e,includePatternInType);symbol.bindingElement=e;members[symbol.name]=symbol});var result=createAnonymousType(undefined,members,emptyArray,emptyArray,undefined,undefined);if(includePatternInType){result.pattern=pattern}return result}function getTypeFromArrayBindingPattern(pattern,includePatternInType){var elements=pattern.elements;if(elements.length===0||elements[elements.length-1].dotDotDotToken){return languageVersion>=2?createIterableType(anyType):anyArrayType}var elementTypes=ts.map(elements,function(e){return e.kind===187?anyType:getTypeFromBindingElement(e,includePatternInType)});if(includePatternInType){var result=createNewTupleType(elementTypes);result.pattern=pattern;return result}return createTupleType(elementTypes)}function getTypeFromBindingPattern(pattern,includePatternInType){return pattern.kind===161?getTypeFromObjectBindingPattern(pattern,includePatternInType):getTypeFromArrayBindingPattern(pattern,includePatternInType)}function getWidenedTypeForVariableLikeDeclaration(declaration,reportErrors){var type=getTypeForVariableLikeDeclaration(declaration);if(type){if(reportErrors){reportErrorsFromWidening(declaration,type)}return declaration.kind!==245?getWidenedType(type):type}type=declaration.dotDotDotToken?anyArrayType:anyType;if(reportErrors&&compilerOptions.noImplicitAny){var root=ts.getRootDeclaration(declaration);if(!isPrivateWithinAmbient(root)&&!(root.kind===138&&isPrivateWithinAmbient(root.parent))){reportImplicitAnyError(declaration,type)}}return type}function getTypeOfVariableOrParameterOrProperty(symbol){var links=getSymbolLinks(symbol);if(!links.type){if(symbol.flags&134217728){return links.type=getTypeOfPrototypeProperty(symbol)}var declaration=symbol.valueDeclaration;if(declaration.parent.kind===244){return links.type=anyType}if(declaration.kind===227){return links.type=checkExpression(declaration.expression)}if(!pushTypeResolution(symbol,0)){return unknownType}var type=getWidenedTypeForVariableLikeDeclaration(declaration,true);if(!popTypeResolution()){if(symbol.valueDeclaration.type){type=unknownType;error(symbol.valueDeclaration,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_type_annotation,symbolToString(symbol))}else{type=anyType;if(compilerOptions.noImplicitAny){error(symbol.valueDeclaration,ts.Diagnostics._0_implicitly_has_type_any_because_it_does_not_have_a_type_annotation_and_is_referenced_directly_or_indirectly_in_its_own_initializer,symbolToString(symbol))}}}links.type=type}return links.type}function getAnnotatedAccessorType(accessor){if(accessor){if(accessor.kind===145){return accessor.type&&getTypeFromTypeNode(accessor.type)}else{var setterTypeAnnotation=ts.getSetAccessorTypeAnnotationNode(accessor);return setterTypeAnnotation&&getTypeFromTypeNode(setterTypeAnnotation)}}return undefined}function getTypeOfAccessors(symbol){var links=getSymbolLinks(symbol);if(!links.type){if(!pushTypeResolution(symbol,0)){return unknownType}var getter=ts.getDeclarationOfKind(symbol,145);var setter=ts.getDeclarationOfKind(symbol,146);var type;var getterReturnType=getAnnotatedAccessorType(getter);if(getterReturnType){type=getterReturnType}else{var setterParameterType=getAnnotatedAccessorType(setter);if(setterParameterType){type=setterParameterType}else{if(getter&&getter.body){type=getReturnTypeFromBody(getter)}else{if(compilerOptions.noImplicitAny){error(setter,ts.Diagnostics.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_type_annotation,symbolToString(symbol))}type=anyType}}}if(!popTypeResolution()){type=anyType;if(compilerOptions.noImplicitAny){var getter_1=ts.getDeclarationOfKind(symbol,145);error(getter_1,ts.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,symbolToString(symbol))}}links.type=type}return links.type}function getTypeOfFuncClassEnumModule(symbol){var links=getSymbolLinks(symbol);if(!links.type){links.type=createObjectType(65536,symbol)}return links.type}function getTypeOfEnumMember(symbol){var links=getSymbolLinks(symbol);if(!links.type){links.type=getDeclaredTypeOfEnum(getParentOfSymbol(symbol))}return links.type}function getTypeOfAlias(symbol){var links=getSymbolLinks(symbol);if(!links.type){var targetSymbol=resolveAlias(symbol);links.type=targetSymbol.flags&107455?getTypeOfSymbol(targetSymbol):unknownType}return links.type}function getTypeOfInstantiatedSymbol(symbol){var links=getSymbolLinks(symbol);if(!links.type){links.type=instantiateType(getTypeOfSymbol(links.target),links.mapper)}return links.type}function getTypeOfSymbol(symbol){if(symbol.flags&16777216){return getTypeOfInstantiatedSymbol(symbol)}if(symbol.flags&(3|4)){return getTypeOfVariableOrParameterOrProperty(symbol)}if(symbol.flags&(16|8192|32|384|512)){return getTypeOfFuncClassEnumModule(symbol)}if(symbol.flags&8){return getTypeOfEnumMember(symbol)}if(symbol.flags&98304){return getTypeOfAccessors(symbol)}if(symbol.flags&8388608){return getTypeOfAlias(symbol)}return unknownType}function getTargetType(type){return type.flags&4096?type.target:type}function hasBaseType(type,checkBase){return check(type);function check(type){var target=getTargetType(type);return target===checkBase||ts.forEach(getBaseTypes(target),check)}}function appendTypeParameters(typeParameters,declarations){for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];var tp=getDeclaredTypeOfTypeParameter(getSymbolOfNode(declaration));if(!typeParameters){typeParameters=[tp]}else if(!ts.contains(typeParameters,tp)){typeParameters.push(tp)}}return typeParameters}function appendOuterTypeParameters(typeParameters,node){while(true){node=node.parent;if(!node){return typeParameters}if(node.kind===214||node.kind===186||node.kind===213||node.kind===173||node.kind===143||node.kind===174){var declarations=node.typeParameters;if(declarations){return appendTypeParameters(appendOuterTypeParameters(typeParameters,node),declarations)}}}}function getOuterTypeParametersOfClassOrInterface(symbol){var declaration=symbol.flags&32?symbol.valueDeclaration:ts.getDeclarationOfKind(symbol,215);return appendOuterTypeParameters(undefined,declaration)}function getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol){var result;for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var node=_a[_i];if(node.kind===215||node.kind===214||node.kind===186||node.kind===216){var declaration=node;if(declaration.typeParameters){result=appendTypeParameters(result,declaration.typeParameters)}}}return result}function getTypeParametersOfClassOrInterface(symbol){return ts.concatenate(getOuterTypeParametersOfClassOrInterface(symbol),getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol))}function isConstructorType(type){return type.flags&80896&&getSignaturesOfType(type,1).length>0}function getBaseTypeNodeOfClass(type){return ts.getClassExtendsHeritageClauseElement(type.symbol.valueDeclaration)}function getConstructorsForTypeArguments(type,typeArgumentNodes){var typeArgCount=typeArgumentNodes?typeArgumentNodes.length:0;return ts.filter(getSignaturesOfType(type,1),function(sig){return(sig.typeParameters?sig.typeParameters.length:0)===typeArgCount})}function getInstantiatedConstructorsForTypeArguments(type,typeArgumentNodes){var signatures=getConstructorsForTypeArguments(type,typeArgumentNodes);if(typeArgumentNodes){var typeArguments=ts.map(typeArgumentNodes,getTypeFromTypeNode);signatures=ts.map(signatures,function(sig){return getSignatureInstantiation(sig,typeArguments)})}return signatures}function getBaseConstructorTypeOfClass(type){if(!type.resolvedBaseConstructorType){var baseTypeNode=getBaseTypeNodeOfClass(type);if(!baseTypeNode){return type.resolvedBaseConstructorType=undefinedType}if(!pushTypeResolution(type,1)){return unknownType}var baseConstructorType=checkExpression(baseTypeNode.expression);if(baseConstructorType.flags&80896){resolveStructuredTypeMembers(baseConstructorType)}if(!popTypeResolution()){error(type.symbol.valueDeclaration,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_its_own_base_expression,symbolToString(type.symbol));return type.resolvedBaseConstructorType=unknownType}if(baseConstructorType!==unknownType&&baseConstructorType!==nullType&&!isConstructorType(baseConstructorType)){error(baseTypeNode.expression,ts.Diagnostics.Type_0_is_not_a_constructor_function_type,typeToString(baseConstructorType));return type.resolvedBaseConstructorType=unknownType}type.resolvedBaseConstructorType=baseConstructorType}return type.resolvedBaseConstructorType}function hasClassBaseType(type){return!!ts.forEach(getBaseTypes(type),function(t){return!!(t.symbol.flags&32)})}function getBaseTypes(type){var isClass=type.symbol.flags&32;var isInterface=type.symbol.flags&64;if(!type.resolvedBaseTypes){if(!isClass&&!isInterface){ts.Debug.fail("type must be class or interface")}if(isClass){resolveBaseTypesOfClass(type)}if(isInterface){resolveBaseTypesOfInterface(type)}}return type.resolvedBaseTypes}function resolveBaseTypesOfClass(type){type.resolvedBaseTypes=type.resolvedBaseTypes||emptyArray;var baseContructorType=getBaseConstructorTypeOfClass(type);if(!(baseContructorType.flags&80896)){return}var baseTypeNode=getBaseTypeNodeOfClass(type);var baseType;if(baseContructorType.symbol&&baseContructorType.symbol.flags&32){baseType=getTypeFromClassOrInterfaceReference(baseTypeNode,baseContructorType.symbol)}else{var constructors=getInstantiatedConstructorsForTypeArguments(baseContructorType,baseTypeNode.typeArguments);if(!constructors.length){error(baseTypeNode.expression,ts.Diagnostics.No_base_constructor_has_the_specified_number_of_type_arguments);return}baseType=getReturnTypeOfSignature(constructors[0])}if(baseType===unknownType){return}if(!(getTargetType(baseType).flags&(1024|2048))){error(baseTypeNode.expression,ts.Diagnostics.Base_constructor_return_type_0_is_not_a_class_or_interface_type,typeToString(baseType));return}if(type===baseType||hasBaseType(baseType,type)){error(type.symbol.valueDeclaration,ts.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,typeToString(type,undefined,1));return}if(type.resolvedBaseTypes===emptyArray){type.resolvedBaseTypes=[baseType]}else{type.resolvedBaseTypes.push(baseType)}}function resolveBaseTypesOfInterface(type){type.resolvedBaseTypes=type.resolvedBaseTypes||emptyArray;for(var _i=0,_a=type.symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(declaration.kind===215&&ts.getInterfaceBaseTypeNodes(declaration)){for(var _b=0,_c=ts.getInterfaceBaseTypeNodes(declaration);_b<_c.length;_b++){var node=_c[_b];var baseType=getTypeFromTypeNode(node);if(baseType!==unknownType){if(getTargetType(baseType).flags&(1024|2048)){if(type!==baseType&&!hasBaseType(baseType,type)){if(type.resolvedBaseTypes===emptyArray){type.resolvedBaseTypes=[baseType]}else{type.resolvedBaseTypes.push(baseType)}}else{error(declaration,ts.Diagnostics.Type_0_recursively_references_itself_as_a_base_type,typeToString(type,undefined,1))}}else{error(node,ts.Diagnostics.An_interface_may_only_extend_a_class_or_another_interface)}}}}}}function isIndependentInterface(symbol){for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var declaration=_a[_i];if(declaration.kind===215){if(declaration.flags&524288){return false}var baseTypeNodes=ts.getInterfaceBaseTypeNodes(declaration);if(baseTypeNodes){for(var _b=0;_b<baseTypeNodes.length;_b++){var node=baseTypeNodes[_b];if(ts.isSupportedExpressionWithTypeArguments(node)){var baseSymbol=resolveEntityName(node.expression,793056,true);if(!baseSymbol||!(baseSymbol.flags&64)||getDeclaredTypeOfClassOrInterface(baseSymbol).thisType){return false}}}}}}return true}function getDeclaredTypeOfClassOrInterface(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var kind=symbol.flags&32?1024:2048;var type=links.declaredType=createObjectType(kind,symbol);var outerTypeParameters=getOuterTypeParametersOfClassOrInterface(symbol);var localTypeParameters=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol);if(outerTypeParameters||localTypeParameters||kind===1024||!isIndependentInterface(symbol)){type.flags|=4096;type.typeParameters=ts.concatenate(outerTypeParameters,localTypeParameters);type.outerTypeParameters=outerTypeParameters;type.localTypeParameters=localTypeParameters;type.instantiations={};type.instantiations[getTypeListId(type.typeParameters)]=type;type.target=type;type.typeArguments=type.typeParameters;type.thisType=createType(512|33554432);type.thisType.symbol=symbol;type.thisType.constraint=getTypeWithThisArgument(type)}}return links.declaredType}function getDeclaredTypeOfTypeAlias(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){if(!pushTypeResolution(symbol,2)){return unknownType}var declaration=ts.getDeclarationOfKind(symbol,216);var type=getTypeFromTypeNode(declaration.type);if(popTypeResolution()){links.typeParameters=getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(symbol);if(links.typeParameters){links.instantiations={};links.instantiations[getTypeListId(links.typeParameters)]=type}}else{type=unknownType;error(declaration.name,ts.Diagnostics.Type_alias_0_circularly_references_itself,symbolToString(symbol))}links.declaredType=type}return links.declaredType}function getDeclaredTypeOfEnum(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var type=createType(128);type.symbol=symbol;links.declaredType=type}return links.declaredType}function getDeclaredTypeOfTypeParameter(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){var type=createType(512);type.symbol=symbol;if(!ts.getDeclarationOfKind(symbol,137).constraint){type.constraint=noConstraintType}links.declaredType=type}return links.declaredType}function getDeclaredTypeOfAlias(symbol){var links=getSymbolLinks(symbol);if(!links.declaredType){links.declaredType=getDeclaredTypeOfSymbol(resolveAlias(symbol))}return links.declaredType}function getDeclaredTypeOfSymbol(symbol){ts.Debug.assert((symbol.flags&16777216)===0);if(symbol.flags&(32|64)){return getDeclaredTypeOfClassOrInterface(symbol)}if(symbol.flags&524288){return getDeclaredTypeOfTypeAlias(symbol)}if(symbol.flags&384){return getDeclaredTypeOfEnum(symbol)}if(symbol.flags&262144){return getDeclaredTypeOfTypeParameter(symbol)}if(symbol.flags&8388608){return getDeclaredTypeOfAlias(symbol)}return unknownType}function isIndependentTypeReference(node){if(node.typeArguments){for(var _i=0,_a=node.typeArguments;_i<_a.length;_i++){var typeNode=_a[_i];if(!isIndependentType(typeNode)){return false}}}return true}function isIndependentType(node){switch(node.kind){case 117:case 130:case 128:case 120:case 131:case 103:case 9:return true;case 156:return isIndependentType(node.elementType);case 151:return isIndependentTypeReference(node)}return false}function isIndependentVariableLikeDeclaration(node){return node.type&&isIndependentType(node.type)||!node.type&&!node.initializer}function isIndependentFunctionLikeDeclaration(node){if(node.kind!==144&&(!node.type||!isIndependentType(node.type))){return false}for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var parameter=_a[_i];if(!isIndependentVariableLikeDeclaration(parameter)){return false}}return true}function isIndependentMember(symbol){if(symbol.declarations&&symbol.declarations.length===1){var declaration=symbol.declarations[0];if(declaration){switch(declaration.kind){case 141:case 140:return isIndependentVariableLikeDeclaration(declaration);case 143:case 142:case 144:return isIndependentFunctionLikeDeclaration(declaration)}}}return false}function createSymbolTable(symbols){var result={};for(var _i=0;_i<symbols.length;_i++){var symbol=symbols[_i];result[symbol.name]=symbol}return result}function createInstantiatedSymbolTable(symbols,mapper,mappingThisOnly){var result={};for(var _i=0;_i<symbols.length;_i++){var symbol=symbols[_i];result[symbol.name]=mappingThisOnly&&isIndependentMember(symbol)?symbol:instantiateSymbol(symbol,mapper)}return result}function addInheritedMembers(symbols,baseSymbols){for(var _i=0;_i<baseSymbols.length;_i++){var s=baseSymbols[_i];if(!ts.hasProperty(symbols,s.name)){symbols[s.name]=s}}}function addInheritedSignatures(signatures,baseSignatures){if(baseSignatures){for(var _i=0;_i<baseSignatures.length;_i++){var signature=baseSignatures[_i];signatures.push(signature)}}}function resolveDeclaredMembers(type){if(!type.declaredProperties){var symbol=type.symbol;type.declaredProperties=getNamedMembers(symbol.members);type.declaredCallSignatures=getSignaturesOfSymbol(symbol.members["__call"]);type.declaredConstructSignatures=getSignaturesOfSymbol(symbol.members["__new"]);type.declaredStringIndexType=getIndexTypeOfSymbol(symbol,0);type.declaredNumberIndexType=getIndexTypeOfSymbol(symbol,1)}return type}function getTypeWithThisArgument(type,thisArgument){if(type.flags&4096){return createTypeReference(type.target,ts.concatenate(type.typeArguments,[thisArgument||type.target.thisType]))}return type}function resolveObjectTypeMembers(type,source,typeParameters,typeArguments){var mapper=identityMapper;var members=source.symbol.members;var callSignatures=source.declaredCallSignatures;var constructSignatures=source.declaredConstructSignatures;var stringIndexType=source.declaredStringIndexType;var numberIndexType=source.declaredNumberIndexType;if(!ts.rangeEquals(typeParameters,typeArguments,0,typeParameters.length)){mapper=createTypeMapper(typeParameters,typeArguments);members=createInstantiatedSymbolTable(source.declaredProperties,mapper,typeParameters.length===1);callSignatures=instantiateList(source.declaredCallSignatures,mapper,instantiateSignature);constructSignatures=instantiateList(source.declaredConstructSignatures,mapper,instantiateSignature);stringIndexType=instantiateType(source.declaredStringIndexType,mapper);numberIndexType=instantiateType(source.declaredNumberIndexType,mapper)}var baseTypes=getBaseTypes(source);if(baseTypes.length){if(members===source.symbol.members){members=createSymbolTable(source.declaredProperties)}var thisArgument=ts.lastOrUndefined(typeArguments);for(var _i=0;_i<baseTypes.length;_i++){var baseType=baseTypes[_i];var instantiatedBaseType=thisArgument?getTypeWithThisArgument(instantiateType(baseType,mapper),thisArgument):baseType;addInheritedMembers(members,getPropertiesOfObjectType(instantiatedBaseType));callSignatures=ts.concatenate(callSignatures,getSignaturesOfType(instantiatedBaseType,0));constructSignatures=ts.concatenate(constructSignatures,getSignaturesOfType(instantiatedBaseType,1));stringIndexType=stringIndexType||getIndexTypeOfType(instantiatedBaseType,0);numberIndexType=numberIndexType||getIndexTypeOfType(instantiatedBaseType,1)}}setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType)}function resolveClassOrInterfaceMembers(type){resolveObjectTypeMembers(type,resolveDeclaredMembers(type),emptyArray,emptyArray)}function resolveTypeReferenceMembers(type){var source=resolveDeclaredMembers(type.target);var typeParameters=ts.concatenate(source.typeParameters,[source.thisType]);var typeArguments=type.typeArguments&&type.typeArguments.length===typeParameters.length?type.typeArguments:ts.concatenate(type.typeArguments,[type]);resolveObjectTypeMembers(type,source,typeParameters,typeArguments)}function createSignature(declaration,typeParameters,parameters,resolvedReturnType,typePredicate,minArgumentCount,hasRestParameter,hasStringLiterals){var sig=new Signature(checker);sig.declaration=declaration;sig.typeParameters=typeParameters;sig.parameters=parameters;sig.resolvedReturnType=resolvedReturnType;sig.typePredicate=typePredicate;sig.minArgumentCount=minArgumentCount;sig.hasRestParameter=hasRestParameter;sig.hasStringLiterals=hasStringLiterals;return sig}function cloneSignature(sig){return createSignature(sig.declaration,sig.typeParameters,sig.parameters,sig.resolvedReturnType,sig.typePredicate,sig.minArgumentCount,sig.hasRestParameter,sig.hasStringLiterals)}function getDefaultConstructSignatures(classType){if(!hasClassBaseType(classType)){return[createSignature(undefined,classType.localTypeParameters,emptyArray,classType,undefined,0,false,false)]}var baseConstructorType=getBaseConstructorTypeOfClass(classType);var baseSignatures=getSignaturesOfType(baseConstructorType,1);var baseTypeNode=getBaseTypeNodeOfClass(classType);var typeArguments=ts.map(baseTypeNode.typeArguments,getTypeFromTypeNode);var typeArgCount=typeArguments?typeArguments.length:0;var result=[];for(var _i=0;_i<baseSignatures.length;_i++){var baseSig=baseSignatures[_i];var typeParamCount=baseSig.typeParameters?baseSig.typeParameters.length:0;if(typeParamCount===typeArgCount){var sig=typeParamCount?getSignatureInstantiation(baseSig,typeArguments):cloneSignature(baseSig);sig.typeParameters=classType.localTypeParameters;sig.resolvedReturnType=classType;result.push(sig)}}return result}function createTupleTypeMemberSymbols(memberTypes){var members={};for(var i=0;i<memberTypes.length;i++){var symbol=createSymbol(4|67108864,""+i);symbol.type=memberTypes[i];members[i]=symbol}return members}function resolveTupleTypeMembers(type){var arrayElementType=getUnionType(type.elementTypes,true);var arrayType=resolveStructuredTypeMembers(createTypeFromGenericGlobalType(globalArrayType,[arrayElementType,type]));var members=createTupleTypeMemberSymbols(type.elementTypes);addInheritedMembers(members,arrayType.properties);setObjectTypeMembers(type,members,arrayType.callSignatures,arrayType.constructSignatures,arrayType.stringIndexType,arrayType.numberIndexType)}function findMatchingSignature(signatureList,signature,partialMatch,ignoreReturnTypes){for(var _i=0;_i<signatureList.length;_i++){var s=signatureList[_i];if(compareSignatures(s,signature,partialMatch,ignoreReturnTypes,compareTypes)){return s}}}function findMatchingSignatures(signatureLists,signature,listIndex){if(signature.typeParameters){if(listIndex>0){return undefined}for(var i=1;i<signatureLists.length;i++){if(!findMatchingSignature(signatureLists[i],signature,false,false)){return undefined}}return[signature]}var result=undefined;for(var i=0;i<signatureLists.length;i++){var match=i===listIndex?signature:findMatchingSignature(signatureLists[i],signature,true,true);if(!match){return undefined}if(!ts.contains(result,match)){(result||(result=[])).push(match)}}return result}function getUnionSignatures(types,kind){var signatureLists=ts.map(types,function(t){return getSignaturesOfType(t,kind)});var result=undefined;for(var i=0;i<signatureLists.length;i++){for(var _i=0,_a=signatureLists[i];_i<_a.length;_i++){var signature=_a[_i];if(!result||!findMatchingSignature(result,signature,false,true)){var unionSignatures=findMatchingSignatures(signatureLists,signature,i);if(unionSignatures){var s=signature;if(unionSignatures.length>1){s=cloneSignature(signature);s.resolvedReturnType=undefined;s.unionSignatures=unionSignatures}(result||(result=[])).push(s)}}}}return result||emptyArray}function getUnionIndexType(types,kind){var indexTypes=[];for(var _i=0;_i<types.length;_i++){var type=types[_i];var indexType=getIndexTypeOfType(type,kind);if(!indexType){return undefined}indexTypes.push(indexType)}return getUnionType(indexTypes)}function resolveUnionTypeMembers(type){var callSignatures=getUnionSignatures(type.types,0);var constructSignatures=getUnionSignatures(type.types,1);var stringIndexType=getUnionIndexType(type.types,0);var numberIndexType=getUnionIndexType(type.types,1);setObjectTypeMembers(type,emptySymbols,callSignatures,constructSignatures,stringIndexType,numberIndexType)}function intersectTypes(type1,type2){return!type1?type2:!type2?type1:getIntersectionType([type1,type2])}function resolveIntersectionTypeMembers(type){var callSignatures=emptyArray;var constructSignatures=emptyArray;var stringIndexType=undefined;var numberIndexType=undefined;for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];callSignatures=ts.concatenate(callSignatures,getSignaturesOfType(t,0));constructSignatures=ts.concatenate(constructSignatures,getSignaturesOfType(t,1));stringIndexType=intersectTypes(stringIndexType,getIndexTypeOfType(t,0));numberIndexType=intersectTypes(numberIndexType,getIndexTypeOfType(t,1))}setObjectTypeMembers(type,emptySymbols,callSignatures,constructSignatures,stringIndexType,numberIndexType)}function resolveAnonymousTypeMembers(type){var symbol=type.symbol;var members;var callSignatures;var constructSignatures;var stringIndexType;var numberIndexType;if(type.target){members=createInstantiatedSymbolTable(getPropertiesOfObjectType(type.target),type.mapper,false);callSignatures=instantiateList(getSignaturesOfType(type.target,0),type.mapper,instantiateSignature);constructSignatures=instantiateList(getSignaturesOfType(type.target,1),type.mapper,instantiateSignature);stringIndexType=instantiateType(getIndexTypeOfType(type.target,0),type.mapper);numberIndexType=instantiateType(getIndexTypeOfType(type.target,1),type.mapper)}else if(symbol.flags&2048){members=symbol.members;callSignatures=getSignaturesOfSymbol(members["__call"]);constructSignatures=getSignaturesOfSymbol(members["__new"]);stringIndexType=getIndexTypeOfSymbol(symbol,0);numberIndexType=getIndexTypeOfSymbol(symbol,1)}else{members=emptySymbols;callSignatures=emptyArray;constructSignatures=emptyArray;if(symbol.flags&1952){members=getExportsOfSymbol(symbol)}if(symbol.flags&(16|8192)){callSignatures=getSignaturesOfSymbol(symbol)}if(symbol.flags&32){var classType=getDeclaredTypeOfClassOrInterface(symbol);constructSignatures=getSignaturesOfSymbol(symbol.members["__constructor"]);if(!constructSignatures.length){constructSignatures=getDefaultConstructSignatures(classType)}var baseConstructorType=getBaseConstructorTypeOfClass(classType);if(baseConstructorType.flags&80896){members=createSymbolTable(getNamedMembers(members));addInheritedMembers(members,getPropertiesOfObjectType(baseConstructorType))}}stringIndexType=undefined;numberIndexType=symbol.flags&384?stringType:undefined}setObjectTypeMembers(type,members,callSignatures,constructSignatures,stringIndexType,numberIndexType)}function resolveStructuredTypeMembers(type){if(!type.members){if(type.flags&4096){resolveTypeReferenceMembers(type)}else if(type.flags&(1024|2048)){resolveClassOrInterfaceMembers(type)}else if(type.flags&65536){resolveAnonymousTypeMembers(type)}else if(type.flags&8192){resolveTupleTypeMembers(type);
}else if(type.flags&16384){resolveUnionTypeMembers(type)}else if(type.flags&32768){resolveIntersectionTypeMembers(type)}}return type}function getPropertiesOfObjectType(type){if(type.flags&80896){return resolveStructuredTypeMembers(type).properties}return emptyArray}function getPropertyOfObjectType(type,name){if(type.flags&80896){var resolved=resolveStructuredTypeMembers(type);if(ts.hasProperty(resolved.members,name)){var symbol=resolved.members[name];if(symbolIsValue(symbol)){return symbol}}}}function getPropertiesOfUnionOrIntersectionType(type){for(var _i=0,_a=type.types;_i<_a.length;_i++){var current=_a[_i];for(var _b=0,_c=getPropertiesOfType(current);_b<_c.length;_b++){var prop=_c[_b];getPropertyOfUnionOrIntersectionType(type,prop.name)}if(type.flags&16384){break}}return type.resolvedProperties?symbolsToArray(type.resolvedProperties):emptyArray}function getPropertiesOfType(type){type=getApparentType(type);return type.flags&49152?getPropertiesOfUnionOrIntersectionType(type):getPropertiesOfObjectType(type)}function getApparentType(type){if(type.flags&512){do{type=getConstraintOfTypeParameter(type)}while(type&&type.flags&512);if(!type){type=emptyObjectType}}if(type.flags&258){type=globalStringType}else if(type.flags&132){type=globalNumberType}else if(type.flags&8){type=globalBooleanType}else if(type.flags&16777216){type=globalESSymbolType}return type}function createUnionOrIntersectionProperty(containingType,name){var types=containingType.types;var props;for(var _i=0;_i<types.length;_i++){var current=types[_i];var type=getApparentType(current);if(type!==unknownType){var prop=getPropertyOfType(type,name);if(prop&&!(getDeclarationFlagsFromSymbol(prop)&(32|64))){if(!props){props=[prop]}else if(!ts.contains(props,prop)){props.push(prop)}}else if(containingType.flags&16384){return undefined}}}if(!props){return undefined}if(props.length===1){return props[0]}var propTypes=[];var declarations=[];for(var _a=0;_a<props.length;_a++){var prop=props[_a];if(prop.declarations){ts.addRange(declarations,prop.declarations)}propTypes.push(getTypeOfSymbol(prop))}var result=createSymbol(4|67108864|268435456,name);result.containingType=containingType;result.declarations=declarations;result.type=containingType.flags&16384?getUnionType(propTypes):getIntersectionType(propTypes);return result}function getPropertyOfUnionOrIntersectionType(type,name){var properties=type.resolvedProperties||(type.resolvedProperties={});if(ts.hasProperty(properties,name)){return properties[name]}var property=createUnionOrIntersectionProperty(type,name);if(property){properties[name]=property}return property}function getPropertyOfType(type,name){type=getApparentType(type);if(type.flags&80896){var resolved=resolveStructuredTypeMembers(type);if(ts.hasProperty(resolved.members,name)){var symbol=resolved.members[name];if(symbolIsValue(symbol)){return symbol}}if(resolved===anyFunctionType||resolved.callSignatures.length||resolved.constructSignatures.length){var symbol=getPropertyOfObjectType(globalFunctionType,name);if(symbol){return symbol}}return getPropertyOfObjectType(globalObjectType,name)}if(type.flags&49152){return getPropertyOfUnionOrIntersectionType(type,name)}return undefined}function getSignaturesOfStructuredType(type,kind){if(type.flags&130048){var resolved=resolveStructuredTypeMembers(type);return kind===0?resolved.callSignatures:resolved.constructSignatures}return emptyArray}function getSignaturesOfType(type,kind){return getSignaturesOfStructuredType(getApparentType(type),kind)}function typeHasConstructSignatures(type){var apparentType=getApparentType(type);if(apparentType.flags&(80896|16384)){var resolved=resolveStructuredTypeMembers(type);return resolved.constructSignatures.length>0}return false}function typeHasCallOrConstructSignatures(type){var apparentType=getApparentType(type);if(apparentType.flags&130048){var resolved=resolveStructuredTypeMembers(type);return resolved.callSignatures.length>0||resolved.constructSignatures.length>0}return false}function getIndexTypeOfStructuredType(type,kind){if(type.flags&130048){var resolved=resolveStructuredTypeMembers(type);return kind===0?resolved.stringIndexType:resolved.numberIndexType}}function getIndexTypeOfType(type,kind){return getIndexTypeOfStructuredType(getApparentType(type),kind)}function getTypeParametersFromDeclaration(typeParameterDeclarations){var result=[];ts.forEach(typeParameterDeclarations,function(node){var tp=getDeclaredTypeOfTypeParameter(node.symbol);if(!ts.contains(result,tp)){result.push(tp)}});return result}function symbolsToArray(symbols){var result=[];for(var id in symbols){if(!isReservedMemberName(id)){result.push(symbols[id])}}return result}function isOptionalParameter(node){if(ts.hasQuestionToken(node)){return true}if(node.initializer){var signatureDeclaration=node.parent;var signature=getSignatureFromDeclaration(signatureDeclaration);var parameterIndex=signatureDeclaration.parameters.indexOf(node);ts.Debug.assert(parameterIndex>=0);return parameterIndex>=signature.minArgumentCount}return false}function getSignatureFromDeclaration(declaration){var links=getNodeLinks(declaration);if(!links.resolvedSignature){var classType=declaration.kind===144?getDeclaredTypeOfClassOrInterface(getMergedSymbol(declaration.parent.symbol)):undefined;var typeParameters=classType?classType.localTypeParameters:declaration.typeParameters?getTypeParametersFromDeclaration(declaration.typeParameters):undefined;var parameters=[];var hasStringLiterals=false;var minArgumentCount=-1;for(var i=0,n=declaration.parameters.length;i<n;i++){var param=declaration.parameters[i];parameters.push(param.symbol);if(param.type&&param.type.kind===9){hasStringLiterals=true}if(param.initializer||param.questionToken||param.dotDotDotToken){if(minArgumentCount<0){minArgumentCount=i}}else{minArgumentCount=-1}}if(minArgumentCount<0){minArgumentCount=declaration.parameters.length}var returnType;var typePredicate;if(classType){returnType=classType}else if(declaration.type){returnType=getTypeFromTypeNode(declaration.type);if(declaration.type.kind===150){var typePredicateNode=declaration.type;typePredicate={parameterName:typePredicateNode.parameterName?typePredicateNode.parameterName.text:undefined,parameterIndex:typePredicateNode.parameterName?getTypePredicateParameterIndex(declaration.parameters,typePredicateNode.parameterName):undefined,type:getTypeFromTypeNode(typePredicateNode.type)}}}else{if(declaration.kind===145&&!ts.hasDynamicName(declaration)){var setter=ts.getDeclarationOfKind(declaration.symbol,146);returnType=getAnnotatedAccessorType(setter)}if(!returnType&&ts.nodeIsMissing(declaration.body)){returnType=anyType}}links.resolvedSignature=createSignature(declaration,typeParameters,parameters,returnType,typePredicate,minArgumentCount,ts.hasRestParameter(declaration),hasStringLiterals)}return links.resolvedSignature}function getSignaturesOfSymbol(symbol){if(!symbol)return emptyArray;var result=[];for(var i=0,len=symbol.declarations.length;i<len;i++){var node=symbol.declarations[i];switch(node.kind){case 152:case 153:case 213:case 143:case 142:case 144:case 147:case 148:case 149:case 145:case 146:case 173:case 174:if(i>0&&node.body){var previous=symbol.declarations[i-1];if(node.parent===previous.parent&&node.kind===previous.kind&&node.pos===previous.end){break}}result.push(getSignatureFromDeclaration(node))}}return result}function getReturnTypeOfSignature(signature){if(!signature.resolvedReturnType){if(!pushTypeResolution(signature,3)){return unknownType}var type;if(signature.target){type=instantiateType(getReturnTypeOfSignature(signature.target),signature.mapper)}else if(signature.unionSignatures){type=getUnionType(ts.map(signature.unionSignatures,getReturnTypeOfSignature))}else{type=getReturnTypeFromBody(signature.declaration)}if(!popTypeResolution()){type=anyType;if(compilerOptions.noImplicitAny){var declaration=signature.declaration;if(declaration.name){error(declaration.name,ts.Diagnostics._0_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions,ts.declarationNameToString(declaration.name))}else{error(declaration,ts.Diagnostics.Function_implicitly_has_return_type_any_because_it_does_not_have_a_return_type_annotation_and_is_referenced_directly_or_indirectly_in_one_of_its_return_expressions)}}}signature.resolvedReturnType=type}return signature.resolvedReturnType}function getRestTypeOfSignature(signature){if(signature.hasRestParameter){var type=getTypeOfSymbol(ts.lastOrUndefined(signature.parameters));if(type.flags&4096&&type.target===globalArrayType){return type.typeArguments[0]}}return anyType}function getSignatureInstantiation(signature,typeArguments){return instantiateSignature(signature,createTypeMapper(signature.typeParameters,typeArguments),true)}function getErasedSignature(signature){if(!signature.typeParameters)return signature;if(!signature.erasedSignatureCache){if(signature.target){signature.erasedSignatureCache=instantiateSignature(getErasedSignature(signature.target),signature.mapper)}else{signature.erasedSignatureCache=instantiateSignature(signature,createTypeEraser(signature.typeParameters),true)}}return signature.erasedSignatureCache}function getOrCreateTypeFromSignature(signature){if(!signature.isolatedSignatureType){var isConstructor=signature.declaration.kind===144||signature.declaration.kind===148;var type=createObjectType(65536|262144);type.members=emptySymbols;type.properties=emptyArray;type.callSignatures=!isConstructor?[signature]:emptyArray;type.constructSignatures=isConstructor?[signature]:emptyArray;signature.isolatedSignatureType=type}return signature.isolatedSignatureType}function getIndexSymbol(symbol){return symbol.members["__index"]}function getIndexDeclarationOfSymbol(symbol,kind){var syntaxKind=kind===1?128:130;var indexSymbol=getIndexSymbol(symbol);if(indexSymbol){for(var _i=0,_a=indexSymbol.declarations;_i<_a.length;_i++){var decl=_a[_i];var node=decl;if(node.parameters.length===1){var parameter=node.parameters[0];if(parameter&&parameter.type&&parameter.type.kind===syntaxKind){return node}}}}return undefined}function getIndexTypeOfSymbol(symbol,kind){var declaration=getIndexDeclarationOfSymbol(symbol,kind);return declaration?declaration.type?getTypeFromTypeNode(declaration.type):anyType:undefined}function getConstraintOfTypeParameter(type){if(!type.constraint){if(type.target){var targetConstraint=getConstraintOfTypeParameter(type.target);type.constraint=targetConstraint?instantiateType(targetConstraint,type.mapper):noConstraintType}else{type.constraint=getTypeFromTypeNode(ts.getDeclarationOfKind(type.symbol,137).constraint)}}return type.constraint===noConstraintType?undefined:type.constraint}function getParentSymbolOfTypeParameter(typeParameter){return getSymbolOfNode(ts.getDeclarationOfKind(typeParameter.symbol,137).parent)}function getTypeListId(types){if(types){switch(types.length){case 1:return""+types[0].id;case 2:return types[0].id+","+types[1].id;default:var result="";for(var i=0;i<types.length;i++){if(i>0){result+=","}result+=types[i].id}return result}}return""}function getPropagatingFlagsOfTypes(types){var result=0;for(var _i=0;_i<types.length;_i++){var type=types[_i];result|=type.flags}return result&14680064}function createTypeReference(target,typeArguments){var id=getTypeListId(typeArguments);var type=target.instantiations[id];if(!type){var flags=4096|(typeArguments?getPropagatingFlagsOfTypes(typeArguments):0);type=target.instantiations[id]=createObjectType(flags,target.symbol);type.target=target;type.typeArguments=typeArguments}return type}function isTypeParameterReferenceIllegalInConstraint(typeReferenceNode,typeParameterSymbol){var links=getNodeLinks(typeReferenceNode);if(links.isIllegalTypeReferenceInConstraint!==undefined){return links.isIllegalTypeReferenceInConstraint}var currentNode=typeReferenceNode;while(!ts.forEach(typeParameterSymbol.declarations,function(d){return d.parent===currentNode.parent})){currentNode=currentNode.parent}links.isIllegalTypeReferenceInConstraint=currentNode.kind===137;return links.isIllegalTypeReferenceInConstraint}function checkTypeParameterHasIllegalReferencesInConstraint(typeParameter){var typeParameterSymbol;function check(n){if(n.kind===151&&n.typeName.kind===69){var links=getNodeLinks(n);if(links.isIllegalTypeReferenceInConstraint===undefined){var symbol=resolveName(typeParameter,n.typeName.text,793056,undefined,undefined);if(symbol&&symbol.flags&262144){links.isIllegalTypeReferenceInConstraint=ts.forEach(symbol.declarations,function(d){return d.parent===typeParameter.parent})}}if(links.isIllegalTypeReferenceInConstraint){error(typeParameter,ts.Diagnostics.Constraint_of_a_type_parameter_cannot_reference_any_type_parameter_from_the_same_type_parameter_list)}}ts.forEachChild(n,check)}if(typeParameter.constraint){typeParameterSymbol=getSymbolOfNode(typeParameter);check(typeParameter.constraint)}}function getTypeFromClassOrInterfaceReference(node,symbol){var type=getDeclaredTypeOfSymbol(symbol);var typeParameters=type.localTypeParameters;if(typeParameters){if(!node.typeArguments||node.typeArguments.length!==typeParameters.length){error(node,ts.Diagnostics.Generic_type_0_requires_1_type_argument_s,typeToString(type,undefined,1),typeParameters.length);return unknownType}return createTypeReference(type,ts.concatenate(type.outerTypeParameters,ts.map(node.typeArguments,getTypeFromTypeNode)))}if(node.typeArguments){error(node,ts.Diagnostics.Type_0_is_not_generic,typeToString(type));return unknownType}return type}function getTypeFromTypeAliasReference(node,symbol){var type=getDeclaredTypeOfSymbol(symbol);var links=getSymbolLinks(symbol);var typeParameters=links.typeParameters;if(typeParameters){if(!node.typeArguments||node.typeArguments.length!==typeParameters.length){error(node,ts.Diagnostics.Generic_type_0_requires_1_type_argument_s,symbolToString(symbol),typeParameters.length);return unknownType}var typeArguments=ts.map(node.typeArguments,getTypeFromTypeNode);var id=getTypeListId(typeArguments);return links.instantiations[id]||(links.instantiations[id]=instantiateType(type,createTypeMapper(typeParameters,typeArguments)))}if(node.typeArguments){error(node,ts.Diagnostics.Type_0_is_not_generic,symbolToString(symbol));return unknownType}return type}function getTypeFromNonGenericTypeReference(node,symbol){if(symbol.flags&262144&&isTypeParameterReferenceIllegalInConstraint(node,symbol)){return unknownType}if(node.typeArguments){error(node,ts.Diagnostics.Type_0_is_not_generic,symbolToString(symbol));return unknownType}return getDeclaredTypeOfSymbol(symbol)}function getTypeFromTypeReference(node){var links=getNodeLinks(node);if(!links.resolvedType){var typeNameOrExpression=node.kind===151?node.typeName:ts.isSupportedExpressionWithTypeArguments(node)?node.expression:undefined;var symbol=typeNameOrExpression&&resolveEntityName(typeNameOrExpression,793056)||unknownSymbol;var type=symbol===unknownSymbol?unknownType:symbol.flags&(32|64)?getTypeFromClassOrInterfaceReference(node,symbol):symbol.flags&524288?getTypeFromTypeAliasReference(node,symbol):getTypeFromNonGenericTypeReference(node,symbol);links.resolvedSymbol=symbol;links.resolvedType=type}return links.resolvedType}function getTypeFromTypeQueryNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getWidenedType(checkExpression(node.exprName))}return links.resolvedType}function getTypeOfGlobalSymbol(symbol,arity){function getTypeDeclaration(symbol){var declarations=symbol.declarations;for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];switch(declaration.kind){case 214:case 215:case 217:return declaration}}}if(!symbol){return arity?emptyGenericType:emptyObjectType}var type=getDeclaredTypeOfSymbol(symbol);if(!(type.flags&80896)){error(getTypeDeclaration(symbol),ts.Diagnostics.Global_type_0_must_be_a_class_or_interface_type,symbol.name);return arity?emptyGenericType:emptyObjectType}if((type.typeParameters?type.typeParameters.length:0)!==arity){error(getTypeDeclaration(symbol),ts.Diagnostics.Global_type_0_must_have_1_type_parameter_s,symbol.name,arity);return arity?emptyGenericType:emptyObjectType}return type}function getGlobalValueSymbol(name){return getGlobalSymbol(name,107455,ts.Diagnostics.Cannot_find_global_value_0)}function getGlobalTypeSymbol(name){return getGlobalSymbol(name,793056,ts.Diagnostics.Cannot_find_global_type_0)}function getGlobalSymbol(name,meaning,diagnostic){return resolveName(undefined,name,meaning,diagnostic,name)}function getGlobalType(name,arity){if(arity===void 0){arity=0}return getTypeOfGlobalSymbol(getGlobalTypeSymbol(name),arity)}function tryGetGlobalType(name,arity){if(arity===void 0){arity=0}return getTypeOfGlobalSymbol(getGlobalSymbol(name,793056,undefined),arity)}function getExportedTypeFromNamespace(namespace,name){var namespaceSymbol=getGlobalSymbol(namespace,1536,undefined);var typeSymbol=namespaceSymbol&&getSymbol(namespaceSymbol.exports,name,793056);return typeSymbol&&getDeclaredTypeOfSymbol(typeSymbol)}function getGlobalESSymbolConstructorSymbol(){return globalESSymbolConstructorSymbol||(globalESSymbolConstructorSymbol=getGlobalValueSymbol("Symbol"))}function createTypedPropertyDescriptorType(propertyType){var globalTypedPropertyDescriptorType=getGlobalTypedPropertyDescriptorType();return globalTypedPropertyDescriptorType!==emptyGenericType?createTypeReference(globalTypedPropertyDescriptorType,[propertyType]):emptyObjectType}function createTypeFromGenericGlobalType(genericGlobalType,typeArguments){return genericGlobalType!==emptyGenericType?createTypeReference(genericGlobalType,typeArguments):emptyObjectType}function createIterableType(elementType){return createTypeFromGenericGlobalType(globalIterableType,[elementType])}function createIterableIteratorType(elementType){return createTypeFromGenericGlobalType(globalIterableIteratorType,[elementType])}function createArrayType(elementType){return createTypeFromGenericGlobalType(globalArrayType,[elementType])}function getTypeFromArrayTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=createArrayType(getTypeFromTypeNode(node.elementType))}return links.resolvedType}function createTupleType(elementTypes){var id=getTypeListId(elementTypes);return tupleTypes[id]||(tupleTypes[id]=createNewTupleType(elementTypes))}function createNewTupleType(elementTypes){var type=createObjectType(8192|getPropagatingFlagsOfTypes(elementTypes));type.elementTypes=elementTypes;return type}function getTypeFromTupleTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=createTupleType(ts.map(node.elementTypes,getTypeFromTypeNode))}return links.resolvedType}function addTypeToSet(typeSet,type,typeSetKind){if(type.flags&typeSetKind){addTypesToSet(typeSet,type.types,typeSetKind)}else if(!ts.contains(typeSet,type)){typeSet.push(type)}}function addTypesToSet(typeSet,types,typeSetKind){for(var _i=0;_i<types.length;_i++){var type=types[_i];addTypeToSet(typeSet,type,typeSetKind)}}function isSubtypeOfAny(candidate,types){for(var i=0,len=types.length;i<len;i++){if(candidate!==types[i]&&isTypeSubtypeOf(candidate,types[i])){return true}}return false}function removeSubtypes(types){var i=types.length;while(i>0){i--;if(isSubtypeOfAny(types[i],types)){types.splice(i,1)}}}function containsTypeAny(types){for(var _i=0;_i<types.length;_i++){var type=types[_i];if(isTypeAny(type)){return true}}return false}function removeAllButLast(types,typeToRemove){var i=types.length;while(i>0&&types.length>1){i--;if(types[i]===typeToRemove){types.splice(i,1)}}}function getUnionType(types,noSubtypeReduction){if(types.length===0){return emptyObjectType}var typeSet=[];addTypesToSet(typeSet,types,16384);if(containsTypeAny(typeSet)){return anyType}if(noSubtypeReduction){removeAllButLast(typeSet,undefinedType);removeAllButLast(typeSet,nullType)}else{removeSubtypes(typeSet)}if(typeSet.length===1){return typeSet[0]}var id=getTypeListId(typeSet);var type=unionTypes[id];if(!type){type=unionTypes[id]=createObjectType(16384|getPropagatingFlagsOfTypes(typeSet));type.types=typeSet}return type}function getTypeFromUnionTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getUnionType(ts.map(node.types,getTypeFromTypeNode),true)}return links.resolvedType}function getIntersectionType(types){if(types.length===0){return emptyObjectType}var typeSet=[];addTypesToSet(typeSet,types,32768);if(containsTypeAny(typeSet)){return anyType}if(typeSet.length===1){return typeSet[0]}var id=getTypeListId(typeSet);var type=intersectionTypes[id];if(!type){type=intersectionTypes[id]=createObjectType(32768|getPropagatingFlagsOfTypes(typeSet));type.types=typeSet}return type}function getTypeFromIntersectionTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getIntersectionType(ts.map(node.types,getTypeFromTypeNode))}return links.resolvedType}function getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=createObjectType(65536,node.symbol)}return links.resolvedType}function getStringLiteralType(node){if(ts.hasProperty(stringLiteralTypes,node.text)){return stringLiteralTypes[node.text]}var type=stringLiteralTypes[node.text]=createType(256);type.text=ts.getTextOfNode(node);return type}function getTypeFromStringLiteral(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getStringLiteralType(node)}return links.resolvedType}function getThisType(node){var container=ts.getThisContainer(node,false);var parent=container&&container.parent;if(parent&&(ts.isClassLike(parent)||parent.kind===215)){if(!(container.flags&128)&&(container.kind!==144||ts.isNodeDescendentOf(node,container.body))){return getDeclaredTypeOfClassOrInterface(getSymbolOfNode(parent)).thisType}}error(node,ts.Diagnostics.A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface);return unknownType}function getTypeFromThisTypeNode(node){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=getThisType(node)}return links.resolvedType}function getTypeFromTypeNode(node){switch(node.kind){case 117:return anyType;case 130:return stringType;case 128:return numberType;case 120:return booleanType;case 131:return esSymbolType;case 103:return voidType;case 97:return getTypeFromThisTypeNode(node);case 9:return getTypeFromStringLiteral(node);case 151:return getTypeFromTypeReference(node);case 150:return booleanType;case 188:return getTypeFromTypeReference(node);case 154:return getTypeFromTypeQueryNode(node);case 156:return getTypeFromArrayTypeNode(node);case 157:return getTypeFromTupleTypeNode(node);case 158:return getTypeFromUnionTypeNode(node);case 159:return getTypeFromIntersectionTypeNode(node);case 160:return getTypeFromTypeNode(node.type);case 152:case 153:case 155:return getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node);case 69:case 135:var symbol=getSymbolAtLocation(node);return symbol&&getDeclaredTypeOfSymbol(symbol);default:return unknownType}}function instantiateList(items,mapper,instantiator){if(items&&items.length){var result=[];for(var _i=0;_i<items.length;_i++){var v=items[_i];result.push(instantiator(v,mapper))}return result}return items}function createUnaryTypeMapper(source,target){return function(t){return t===source?target:t}}function createBinaryTypeMapper(source1,target1,source2,target2){return function(t){return t===source1?target1:t===source2?target2:t}}function createTypeMapper(sources,targets){switch(sources.length){case 1:return createUnaryTypeMapper(sources[0],targets[0]);case 2:return createBinaryTypeMapper(sources[0],targets[0],sources[1],targets[1])}return function(t){for(var i=0;i<sources.length;i++){if(t===sources[i]){return targets[i]}}return t}}function createUnaryTypeEraser(source){return function(t){return t===source?anyType:t}}function createBinaryTypeEraser(source1,source2){return function(t){return t===source1||t===source2?anyType:t}}function createTypeEraser(sources){switch(sources.length){case 1:return createUnaryTypeEraser(sources[0]);case 2:return createBinaryTypeEraser(sources[0],sources[1])}return function(t){for(var _i=0;_i<sources.length;_i++){var source=sources[_i];if(t===source){return anyType}}return t}}function createInferenceMapper(context){var mapper=function(t){for(var i=0;i<context.typeParameters.length;i++){if(t===context.typeParameters[i]){context.inferences[i].isFixed=true;return getInferredType(context,i)}}return t};mapper.context=context;return mapper}function identityMapper(type){return type}function combineTypeMappers(mapper1,mapper2){return function(t){return instantiateType(mapper1(t),mapper2)}}function instantiateTypeParameter(typeParameter,mapper){var result=createType(512);result.symbol=typeParameter.symbol;if(typeParameter.constraint){result.constraint=instantiateType(typeParameter.constraint,mapper)}else{result.target=typeParameter;result.mapper=mapper}return result}function instantiateSignature(signature,mapper,eraseTypeParameters){var freshTypeParameters;var freshTypePredicate;if(signature.typeParameters&&!eraseTypeParameters){freshTypeParameters=instantiateList(signature.typeParameters,mapper,instantiateTypeParameter);mapper=combineTypeMappers(createTypeMapper(signature.typeParameters,freshTypeParameters),mapper)}if(signature.typePredicate){freshTypePredicate={parameterName:signature.typePredicate.parameterName,parameterIndex:signature.typePredicate.parameterIndex,type:instantiateType(signature.typePredicate.type,mapper)}}var result=createSignature(signature.declaration,freshTypeParameters,instantiateList(signature.parameters,mapper,instantiateSymbol),instantiateType(signature.resolvedReturnType,mapper),freshTypePredicate,signature.minArgumentCount,signature.hasRestParameter,signature.hasStringLiterals);result.target=signature;result.mapper=mapper;return result}function instantiateSymbol(symbol,mapper){if(symbol.flags&16777216){var links=getSymbolLinks(symbol);symbol=links.target;mapper=combineTypeMappers(links.mapper,mapper)}var result=createSymbol(16777216|67108864|symbol.flags,symbol.name);result.declarations=symbol.declarations;result.parent=symbol.parent;result.target=symbol;result.mapper=mapper;if(symbol.valueDeclaration){result.valueDeclaration=symbol.valueDeclaration}return result}function instantiateAnonymousType(type,mapper){if(mapper.instantiations){var cachedType=mapper.instantiations[type.id];if(cachedType){return cachedType}}else{mapper.instantiations=[]}var result=createObjectType(65536|131072,type.symbol);result.target=type;result.mapper=mapper;mapper.instantiations[type.id]=result;return result}function instantiateType(type,mapper){if(type&&mapper!==identityMapper){if(type.flags&512){return mapper(type)}if(type.flags&65536){return type.symbol&&type.symbol.flags&(16|8192|32|2048|4096)?instantiateAnonymousType(type,mapper):type}if(type.flags&4096){return createTypeReference(type.target,instantiateList(type.typeArguments,mapper,instantiateType))}if(type.flags&8192){return createTupleType(instantiateList(type.elementTypes,mapper,instantiateType))}if(type.flags&16384){return getUnionType(instantiateList(type.types,mapper,instantiateType),true)}if(type.flags&32768){return getIntersectionType(instantiateList(type.types,mapper,instantiateType))}}return type}function isContextSensitive(node){ts.Debug.assert(node.kind!==143||ts.isObjectLiteralMethod(node));switch(node.kind){case 173:case 174:return isContextSensitiveFunctionLikeDeclaration(node);case 165:return ts.forEach(node.properties,isContextSensitive);case 164:return ts.forEach(node.elements,isContextSensitive);case 182:return isContextSensitive(node.whenTrue)||isContextSensitive(node.whenFalse);case 181:return node.operatorToken.kind===52&&(isContextSensitive(node.left)||isContextSensitive(node.right));case 245:return isContextSensitive(node.initializer);case 143:case 142:return isContextSensitiveFunctionLikeDeclaration(node);case 172:return isContextSensitive(node.expression)}return false}function isContextSensitiveFunctionLikeDeclaration(node){return!node.typeParameters&&node.parameters.length&&!ts.forEach(node.parameters,function(p){return p.type})}function getTypeWithoutSignatures(type){if(type.flags&80896){var resolved=resolveStructuredTypeMembers(type);if(resolved.constructSignatures.length){var result=createObjectType(65536,type.symbol);result.members=resolved.members;result.properties=resolved.properties;result.callSignatures=emptyArray;result.constructSignatures=emptyArray;type=result}}return type}function isTypeIdenticalTo(source,target){return checkTypeRelatedTo(source,target,identityRelation,undefined)}function compareTypes(source,target){return checkTypeRelatedTo(source,target,identityRelation,undefined)?-1:0}function isTypeSubtypeOf(source,target){return checkTypeSubtypeOf(source,target,undefined)}function isTypeAssignableTo(source,target){return checkTypeAssignableTo(source,target,undefined)}function checkTypeSubtypeOf(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,subtypeRelation,errorNode,headMessage,containingMessageChain)}function checkTypeAssignableTo(source,target,errorNode,headMessage,containingMessageChain){return checkTypeRelatedTo(source,target,assignableRelation,errorNode,headMessage,containingMessageChain)}function isSignatureAssignableTo(source,target){var sourceType=getOrCreateTypeFromSignature(source);var targetType=getOrCreateTypeFromSignature(target);return checkTypeRelatedTo(sourceType,targetType,assignableRelation,undefined)}function checkTypeRelatedTo(source,target,relation,errorNode,headMessage,containingMessageChain){var errorInfo;var sourceStack;var targetStack;var maybeStack;var expandingFlags;var depth=0;var overflow=false;var elaborateErrors=false;ts.Debug.assert(relation!==identityRelation||!errorNode,"no error reporting in identity checking");var result=isRelatedTo(source,target,errorNode!==undefined,headMessage);if(overflow){error(errorNode,ts.Diagnostics.Excessive_stack_depth_comparing_types_0_and_1,typeToString(source),typeToString(target))}else if(errorInfo){if(errorInfo.next===undefined){errorInfo=undefined;elaborateErrors=true;isRelatedTo(source,target,errorNode!==undefined,headMessage)}if(containingMessageChain){errorInfo=ts.concatenateDiagnosticMessageChains(containingMessageChain,errorInfo)}diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(errorNode,errorInfo))}return result!==0;function reportError(message,arg0,arg1,arg2){errorInfo=ts.chainDiagnosticMessages(errorInfo,message,arg0,arg1,arg2)}function reportRelationError(message,source,target){var sourceType=typeToString(source);var targetType=typeToString(target);if(sourceType===targetType){sourceType=typeToString(source,undefined,128);targetType=typeToString(target,undefined,128)}reportError(message||ts.Diagnostics.Type_0_is_not_assignable_to_type_1,sourceType,targetType)}function isRelatedTo(source,target,reportErrors,headMessage){var result;if(source===target)return-1;if(relation===identityRelation){return isIdenticalTo(source,target)}if(isTypeAny(target))return-1;if(source===undefinedType)return-1;if(source===nullType&&target!==undefinedType)return-1;if(source.flags&128&&target===numberType)return-1;if(source.flags&256&&target===stringType)return-1;if(relation===assignableRelation){if(isTypeAny(source))return-1;if(source===numberType&&target.flags&128)return-1}if(source.flags&1048576){if(hasExcessProperties(source,target,reportErrors)){if(reportErrors){reportRelationError(headMessage,source,target)}return 0}if(target.flags&49152){source=getRegularTypeOfObjectLiteral(source)}}var saveErrorInfo=errorInfo;if(source.flags&16384){if(result=eachTypeRelatedToType(source,target,reportErrors)){return result}}else if(target.flags&32768){if(result=typeRelatedToEachType(source,target,reportErrors)){return result}}else{if(source.flags&32768){if(result=someTypeRelatedToType(source,target,reportErrors&&!(target.flags&16384))){return result;
}}if(target.flags&16384){if(result=typeRelatedToSomeType(source,target,reportErrors)){return result}}}if(source.flags&512){var constraint=getConstraintOfTypeParameter(source);if(!constraint||constraint.flags&1){constraint=emptyObjectType}var reportConstraintErrors=reportErrors&&constraint!==emptyObjectType;if(result=isRelatedTo(constraint,target,reportConstraintErrors)){errorInfo=saveErrorInfo;return result}}else{if(source.flags&4096&&target.flags&4096&&source.target===target.target){if(result=typeArgumentsRelatedTo(source,target,reportErrors)){return result}}var apparentType=getApparentType(source);if(apparentType.flags&(80896|32768)&&target.flags&80896){var reportStructuralErrors=reportErrors&&errorInfo===saveErrorInfo;if(result=objectTypeRelatedTo(apparentType,target,reportStructuralErrors)){errorInfo=saveErrorInfo;return result}}}if(reportErrors){reportRelationError(headMessage,source,target)}return 0}function isIdenticalTo(source,target){var result;if(source.flags&80896&&target.flags&80896){if(source.flags&4096&&target.flags&4096&&source.target===target.target){if(result=typeArgumentsRelatedTo(source,target,false)){return result}}return objectTypeRelatedTo(source,target,false)}if(source.flags&512&&target.flags&512){return typeParameterIdenticalTo(source,target)}if(source.flags&16384&&target.flags&16384||source.flags&32768&&target.flags&32768){if(result=eachTypeRelatedToSomeType(source,target)){if(result&=eachTypeRelatedToSomeType(target,source)){return result}}}return 0}function isKnownProperty(type,name){if(type.flags&80896){var resolved=resolveStructuredTypeMembers(type);if(relation===assignableRelation&&(type===globalObjectType||resolved.properties.length===0)||resolved.stringIndexType||resolved.numberIndexType||getPropertyOfType(type,name)){return true}return false}if(type.flags&49152){for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(isKnownProperty(t,name)){return true}}return false}return true}function hasExcessProperties(source,target,reportErrors){for(var _i=0,_a=getPropertiesOfObjectType(source);_i<_a.length;_i++){var prop=_a[_i];if(!isKnownProperty(target,prop.name)){if(reportErrors){errorNode=prop.valueDeclaration;reportError(ts.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,symbolToString(prop),typeToString(target))}return true}}}function eachTypeRelatedToSomeType(source,target){var result=-1;var sourceTypes=source.types;for(var _i=0;_i<sourceTypes.length;_i++){var sourceType=sourceTypes[_i];var related=typeRelatedToSomeType(sourceType,target,false);if(!related){return 0}result&=related}return result}function typeRelatedToSomeType(source,target,reportErrors){var targetTypes=target.types;for(var i=0,len=targetTypes.length;i<len;i++){var related=isRelatedTo(source,targetTypes[i],reportErrors&&i===len-1);if(related){return related}}return 0}function typeRelatedToEachType(source,target,reportErrors){var result=-1;var targetTypes=target.types;for(var _i=0;_i<targetTypes.length;_i++){var targetType=targetTypes[_i];var related=isRelatedTo(source,targetType,reportErrors);if(!related){return 0}result&=related}return result}function someTypeRelatedToType(source,target,reportErrors){var sourceTypes=source.types;for(var i=0,len=sourceTypes.length;i<len;i++){var related=isRelatedTo(sourceTypes[i],target,reportErrors&&i===len-1);if(related){return related}}return 0}function eachTypeRelatedToType(source,target,reportErrors){var result=-1;var sourceTypes=source.types;for(var _i=0;_i<sourceTypes.length;_i++){var sourceType=sourceTypes[_i];var related=isRelatedTo(sourceType,target,reportErrors);if(!related){return 0}result&=related}return result}function typeArgumentsRelatedTo(source,target,reportErrors){var sources=source.typeArguments||emptyArray;var targets=target.typeArguments||emptyArray;if(sources.length!==targets.length&&relation===identityRelation){return 0}var result=-1;for(var i=0;i<targets.length;i++){var related=isRelatedTo(sources[i],targets[i],reportErrors);if(!related){return 0}result&=related}return result}function typeParameterIdenticalTo(source,target){if(source.symbol.name!==target.symbol.name){return 0}if(source.constraint===target.constraint){return-1}if(source.constraint===noConstraintType||target.constraint===noConstraintType){return 0}return isIdenticalTo(source.constraint,target.constraint)}function objectTypeRelatedTo(source,target,reportErrors){if(overflow){return 0}var id=relation!==identityRelation||source.id<target.id?source.id+","+target.id:target.id+","+source.id;var related=relation[id];if(related!==undefined){if(!elaborateErrors||related===3){return related===1?-1:0}}if(depth>0){for(var i=0;i<depth;i++){if(maybeStack[i][id]){return 1}}if(depth===100){overflow=true;return 0}}else{sourceStack=[];targetStack=[];maybeStack=[];expandingFlags=0}sourceStack[depth]=source;targetStack[depth]=target;maybeStack[depth]={};maybeStack[depth][id]=1;depth++;var saveExpandingFlags=expandingFlags;if(!(expandingFlags&1)&&isDeeplyNestedGeneric(source,sourceStack,depth))expandingFlags|=1;if(!(expandingFlags&2)&&isDeeplyNestedGeneric(target,targetStack,depth))expandingFlags|=2;var result;if(expandingFlags===3){result=1}else{result=propertiesRelatedTo(source,target,reportErrors);if(result){result&=signaturesRelatedTo(source,target,0,reportErrors);if(result){result&=signaturesRelatedTo(source,target,1,reportErrors);if(result){result&=stringIndexTypesRelatedTo(source,target,reportErrors);if(result){result&=numberIndexTypesRelatedTo(source,target,reportErrors)}}}}}expandingFlags=saveExpandingFlags;depth--;if(result){var maybeCache=maybeStack[depth];var destinationCache=result===-1||depth===0?relation:maybeStack[depth-1];ts.copyMap(maybeCache,destinationCache)}else{relation[id]=reportErrors?3:2}return result}function propertiesRelatedTo(source,target,reportErrors){if(relation===identityRelation){return propertiesIdenticalTo(source,target)}var result=-1;var properties=getPropertiesOfObjectType(target);var requireOptionalProperties=relation===subtypeRelation&&!(source.flags&524288);for(var _i=0;_i<properties.length;_i++){var targetProp=properties[_i];var sourceProp=getPropertyOfType(source,targetProp.name);if(sourceProp!==targetProp){if(!sourceProp){if(!(targetProp.flags&536870912)||requireOptionalProperties){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_missing_in_type_1,symbolToString(targetProp),typeToString(source))}return 0}}else if(!(targetProp.flags&134217728)){var sourcePropFlags=getDeclarationFlagsFromSymbol(sourceProp);var targetPropFlags=getDeclarationFlagsFromSymbol(targetProp);if(sourcePropFlags&32||targetPropFlags&32){if(sourceProp.valueDeclaration!==targetProp.valueDeclaration){if(reportErrors){if(sourcePropFlags&32&&targetPropFlags&32){reportError(ts.Diagnostics.Types_have_separate_declarations_of_a_private_property_0,symbolToString(targetProp))}else{reportError(ts.Diagnostics.Property_0_is_private_in_type_1_but_not_in_type_2,symbolToString(targetProp),typeToString(sourcePropFlags&32?source:target),typeToString(sourcePropFlags&32?target:source))}}return 0}}else if(targetPropFlags&64){var sourceDeclaredInClass=sourceProp.parent&&sourceProp.parent.flags&32;var sourceClass=sourceDeclaredInClass?getDeclaredTypeOfSymbol(sourceProp.parent):undefined;var targetClass=getDeclaredTypeOfSymbol(targetProp.parent);if(!sourceClass||!hasBaseType(sourceClass,targetClass)){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2,symbolToString(targetProp),typeToString(sourceClass||source),typeToString(targetClass))}return 0}}else if(sourcePropFlags&64){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_protected_in_type_1_but_public_in_type_2,symbolToString(targetProp),typeToString(source),typeToString(target))}return 0}var related=isRelatedTo(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp),reportErrors);if(!related){if(reportErrors){reportError(ts.Diagnostics.Types_of_property_0_are_incompatible,symbolToString(targetProp))}return 0}result&=related;if(sourceProp.flags&536870912&&!(targetProp.flags&536870912)){if(reportErrors){reportError(ts.Diagnostics.Property_0_is_optional_in_type_1_but_required_in_type_2,symbolToString(targetProp),typeToString(source),typeToString(target))}return 0}}}}return result}function propertiesIdenticalTo(source,target){if(!(source.flags&80896&&target.flags&80896)){return 0}var sourceProperties=getPropertiesOfObjectType(source);var targetProperties=getPropertiesOfObjectType(target);if(sourceProperties.length!==targetProperties.length){return 0}var result=-1;for(var _i=0;_i<sourceProperties.length;_i++){var sourceProp=sourceProperties[_i];var targetProp=getPropertyOfObjectType(target,sourceProp.name);if(!targetProp){return 0}var related=compareProperties(sourceProp,targetProp,isRelatedTo);if(!related){return 0}result&=related}return result}function signaturesRelatedTo(source,target,kind,reportErrors){if(relation===identityRelation){return signaturesIdenticalTo(source,target,kind)}if(target===anyFunctionType||source===anyFunctionType){return-1}var sourceSignatures=getSignaturesOfType(source,kind);var targetSignatures=getSignaturesOfType(target,kind);var result=-1;var saveErrorInfo=errorInfo;if(kind===1){var sourceSig=sourceSignatures[0];var targetSig=targetSignatures[0];result&=abstractSignatureRelatedTo(source,sourceSig,target,targetSig);if(result!==-1){return result}}outer:for(var _i=0;_i<targetSignatures.length;_i++){var t=targetSignatures[_i];if(!t.hasStringLiterals||target.flags&262144){var localErrors=reportErrors;var checkedAbstractAssignability=false;for(var _a=0;_a<sourceSignatures.length;_a++){var s=sourceSignatures[_a];if(!s.hasStringLiterals||source.flags&262144){var related=signatureRelatedTo(s,t,localErrors);if(related){result&=related;errorInfo=saveErrorInfo;continue outer}localErrors=false}}return 0}}return result;function abstractSignatureRelatedTo(source,sourceSig,target,targetSig){if(sourceSig&&targetSig){var sourceDecl=source.symbol&&getClassLikeDeclarationOfSymbol(source.symbol);var targetDecl=target.symbol&&getClassLikeDeclarationOfSymbol(target.symbol);if(!sourceDecl){return-1}var sourceErasedSignature=getErasedSignature(sourceSig);var targetErasedSignature=getErasedSignature(targetSig);var sourceReturnType=sourceErasedSignature&&getReturnTypeOfSignature(sourceErasedSignature);var targetReturnType=targetErasedSignature&&getReturnTypeOfSignature(targetErasedSignature);var sourceReturnDecl=sourceReturnType&&sourceReturnType.symbol&&getClassLikeDeclarationOfSymbol(sourceReturnType.symbol);var targetReturnDecl=targetReturnType&&targetReturnType.symbol&&getClassLikeDeclarationOfSymbol(targetReturnType.symbol);var sourceIsAbstract=sourceReturnDecl&&sourceReturnDecl.flags&256;var targetIsAbstract=targetReturnDecl&&targetReturnDecl.flags&256;if(sourceIsAbstract&&!(targetIsAbstract&&targetDecl)){if(reportErrors){reportError(ts.Diagnostics.Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type)}return 0}}return-1}}function signatureRelatedTo(source,target,reportErrors){if(source===target){return-1}if(!target.hasRestParameter&&source.minArgumentCount>target.parameters.length){return 0}var sourceMax=source.parameters.length;var targetMax=target.parameters.length;var checkCount;if(source.hasRestParameter&&target.hasRestParameter){checkCount=sourceMax>targetMax?sourceMax:targetMax;sourceMax--;targetMax--}else if(source.hasRestParameter){sourceMax--;checkCount=targetMax}else if(target.hasRestParameter){targetMax--;checkCount=sourceMax}else{checkCount=sourceMax<targetMax?sourceMax:targetMax}source=getErasedSignature(source);target=getErasedSignature(target);var result=-1;for(var i=0;i<checkCount;i++){var s=i<sourceMax?getTypeOfSymbol(source.parameters[i]):getRestTypeOfSignature(source);var t=i<targetMax?getTypeOfSymbol(target.parameters[i]):getRestTypeOfSignature(target);var saveErrorInfo=errorInfo;var related=isRelatedTo(s,t,reportErrors);if(!related){related=isRelatedTo(t,s,false);if(!related){if(reportErrors){reportError(ts.Diagnostics.Types_of_parameters_0_and_1_are_incompatible,source.parameters[i<sourceMax?i:sourceMax].name,target.parameters[i<targetMax?i:targetMax].name)}return 0}errorInfo=saveErrorInfo}result&=related}if(source.typePredicate&&target.typePredicate){var hasDifferentParameterIndex=source.typePredicate.parameterIndex!==target.typePredicate.parameterIndex;var hasDifferentTypes;if(hasDifferentParameterIndex||(hasDifferentTypes=!isTypeIdenticalTo(source.typePredicate.type,target.typePredicate.type))){if(reportErrors){var sourceParamText=source.typePredicate.parameterName;var targetParamText=target.typePredicate.parameterName;var sourceTypeText=typeToString(source.typePredicate.type);var targetTypeText=typeToString(target.typePredicate.type);if(hasDifferentParameterIndex){reportError(ts.Diagnostics.Parameter_0_is_not_in_the_same_position_as_parameter_1,sourceParamText,targetParamText)}else if(hasDifferentTypes){reportError(ts.Diagnostics.Type_0_is_not_assignable_to_type_1,sourceTypeText,targetTypeText)}reportError(ts.Diagnostics.Type_predicate_0_is_not_assignable_to_1,sourceParamText+" is "+sourceTypeText,targetParamText+" is "+targetTypeText)}return 0}}else if(!source.typePredicate&&target.typePredicate){if(reportErrors){reportError(ts.Diagnostics.Signature_0_must_have_a_type_predicate,signatureToString(source))}return 0}var targetReturnType=getReturnTypeOfSignature(target);if(targetReturnType===voidType)return result;var sourceReturnType=getReturnTypeOfSignature(source);return result&isRelatedTo(sourceReturnType,targetReturnType,reportErrors)}function signaturesIdenticalTo(source,target,kind){var sourceSignatures=getSignaturesOfType(source,kind);var targetSignatures=getSignaturesOfType(target,kind);if(sourceSignatures.length!==targetSignatures.length){return 0}var result=-1;for(var i=0,len=sourceSignatures.length;i<len;++i){var related=compareSignatures(sourceSignatures[i],targetSignatures[i],false,false,isRelatedTo);if(!related){return 0}result&=related}return result}function stringIndexTypesRelatedTo(source,target,reportErrors){if(relation===identityRelation){return indexTypesIdenticalTo(0,source,target)}var targetType=getIndexTypeOfType(target,0);if(targetType&&!(targetType.flags&1)){var sourceType=getIndexTypeOfType(source,0);if(!sourceType){if(reportErrors){reportError(ts.Diagnostics.Index_signature_is_missing_in_type_0,typeToString(source))}return 0}var related=isRelatedTo(sourceType,targetType,reportErrors);if(!related){if(reportErrors){reportError(ts.Diagnostics.Index_signatures_are_incompatible)}return 0}return related}return-1}function numberIndexTypesRelatedTo(source,target,reportErrors){if(relation===identityRelation){return indexTypesIdenticalTo(1,source,target)}var targetType=getIndexTypeOfType(target,1);if(targetType&&!(targetType.flags&1)){var sourceStringType=getIndexTypeOfType(source,0);var sourceNumberType=getIndexTypeOfType(source,1);if(!(sourceStringType||sourceNumberType)){if(reportErrors){reportError(ts.Diagnostics.Index_signature_is_missing_in_type_0,typeToString(source))}return 0}var related;if(sourceStringType&&sourceNumberType){related=isRelatedTo(sourceStringType,targetType,false)||isRelatedTo(sourceNumberType,targetType,reportErrors)}else{related=isRelatedTo(sourceStringType||sourceNumberType,targetType,reportErrors)}if(!related){if(reportErrors){reportError(ts.Diagnostics.Index_signatures_are_incompatible)}return 0}return related}return-1}function indexTypesIdenticalTo(indexKind,source,target){var targetType=getIndexTypeOfType(target,indexKind);var sourceType=getIndexTypeOfType(source,indexKind);if(!sourceType&&!targetType){return-1}if(sourceType&&targetType){return isRelatedTo(sourceType,targetType)}return 0}}function isDeeplyNestedGeneric(type,stack,depth){if(type.flags&(4096|131072)&&depth>=5){var symbol=type.symbol;var count=0;for(var i=0;i<depth;i++){var t=stack[i];if(t.flags&(4096|131072)&&t.symbol===symbol){count++;if(count>=5)return true}}}return false}function isPropertyIdenticalTo(sourceProp,targetProp){return compareProperties(sourceProp,targetProp,compareTypes)!==0}function compareProperties(sourceProp,targetProp,compareTypes){if(sourceProp===targetProp){return-1}var sourcePropAccessibility=getDeclarationFlagsFromSymbol(sourceProp)&(32|64);var targetPropAccessibility=getDeclarationFlagsFromSymbol(targetProp)&(32|64);if(sourcePropAccessibility!==targetPropAccessibility){return 0}if(sourcePropAccessibility){if(getTargetSymbol(sourceProp)!==getTargetSymbol(targetProp)){return 0}}else{if((sourceProp.flags&536870912)!==(targetProp.flags&536870912)){return 0}}return compareTypes(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp))}function compareSignatures(source,target,partialMatch,ignoreReturnTypes,compareTypes){if(source===target){return-1}if(source.parameters.length!==target.parameters.length||source.minArgumentCount!==target.minArgumentCount||source.hasRestParameter!==target.hasRestParameter){if(!partialMatch||source.parameters.length<target.parameters.length&&!source.hasRestParameter||source.minArgumentCount>target.minArgumentCount){return 0}}var result=-1;if(source.typeParameters&&target.typeParameters){if(source.typeParameters.length!==target.typeParameters.length){return 0}for(var i=0,len=source.typeParameters.length;i<len;++i){var related=compareTypes(source.typeParameters[i],target.typeParameters[i]);if(!related){return 0}result&=related}}else if(source.typeParameters||target.typeParameters){return 0}source=getErasedSignature(source);target=getErasedSignature(target);var targetLen=target.parameters.length;for(var i=0;i<targetLen;i++){var s=isRestParameterIndex(source,i)?getRestTypeOfSignature(source):getTypeOfSymbol(source.parameters[i]);var t=isRestParameterIndex(target,i)?getRestTypeOfSignature(target):getTypeOfSymbol(target.parameters[i]);var related=compareTypes(s,t);if(!related){return 0}result&=related}if(!ignoreReturnTypes){result&=compareTypes(getReturnTypeOfSignature(source),getReturnTypeOfSignature(target))}return result}function isRestParameterIndex(signature,parameterIndex){return signature.hasRestParameter&&parameterIndex>=signature.parameters.length-1}function isSupertypeOfEach(candidate,types){for(var _i=0;_i<types.length;_i++){var type=types[_i];if(candidate!==type&&!isTypeSubtypeOf(type,candidate))return false}return true}function getCommonSupertype(types){return ts.forEach(types,function(t){return isSupertypeOfEach(t,types)?t:undefined})}function reportNoCommonSupertypeError(types,errorLocation,errorMessageChainHead){var bestSupertype;var bestSupertypeDownfallType;var bestSupertypeScore=0;for(var i=0;i<types.length;i++){var score=0;var downfallType=undefined;for(var j=0;j<types.length;j++){if(isTypeSubtypeOf(types[j],types[i])){score++}else if(!downfallType){downfallType=types[j]}}ts.Debug.assert(!!downfallType,"If there is no common supertype, each type should have a downfallType");if(score>bestSupertypeScore){bestSupertype=types[i];bestSupertypeDownfallType=downfallType;bestSupertypeScore=score}if(bestSupertypeScore===types.length-1){break}}checkTypeSubtypeOf(bestSupertypeDownfallType,bestSupertype,errorLocation,ts.Diagnostics.Type_argument_candidate_1_is_not_a_valid_type_argument_because_it_is_not_a_supertype_of_candidate_0,errorMessageChainHead)}function isArrayType(type){return type.flags&4096&&type.target===globalArrayType}function isArrayLikeType(type){return!(type.flags&(32|64))&&isTypeAssignableTo(type,anyArrayType)}function isTupleLikeType(type){return!!getPropertyOfType(type,"0")}function isTupleType(type){return!!(type.flags&8192)}function getRegularTypeOfObjectLiteral(type){if(type.flags&1048576){var regularType=type.regularType;if(!regularType){regularType=createType(type.flags&~1048576);regularType.symbol=type.symbol;regularType.members=type.members;regularType.properties=type.properties;regularType.callSignatures=type.callSignatures;regularType.constructSignatures=type.constructSignatures;regularType.stringIndexType=type.stringIndexType;regularType.numberIndexType=type.numberIndexType;type.regularType=regularType}return regularType}return type}function getWidenedTypeOfObjectLiteral(type){var properties=getPropertiesOfObjectType(type);var members={};ts.forEach(properties,function(p){var propType=getTypeOfSymbol(p);var widenedType=getWidenedType(propType);if(propType!==widenedType){var symbol=createSymbol(p.flags|67108864,p.name);symbol.declarations=p.declarations;symbol.parent=p.parent;symbol.type=widenedType;symbol.target=p;if(p.valueDeclaration)symbol.valueDeclaration=p.valueDeclaration;p=symbol}members[p.name]=p});var stringIndexType=getIndexTypeOfType(type,0);var numberIndexType=getIndexTypeOfType(type,1);if(stringIndexType)stringIndexType=getWidenedType(stringIndexType);if(numberIndexType)numberIndexType=getWidenedType(numberIndexType);return createAnonymousType(type.symbol,members,emptyArray,emptyArray,stringIndexType,numberIndexType)}function getWidenedType(type){if(type.flags&6291456){if(type.flags&(32|64)){return anyType}if(type.flags&524288){return getWidenedTypeOfObjectLiteral(type)}if(type.flags&16384){return getUnionType(ts.map(type.types,getWidenedType),true)}if(isArrayType(type)){return createArrayType(getWidenedType(type.typeArguments[0]))}if(isTupleType(type)){return createTupleType(ts.map(type.elementTypes,getWidenedType))}}return type}function reportWideningErrorsInType(type){var errorReported=false;if(type.flags&16384){for(var _i=0,_a=type.types;_i<_a.length;_i++){var t=_a[_i];if(reportWideningErrorsInType(t)){errorReported=true}}}if(isArrayType(type)){return reportWideningErrorsInType(type.typeArguments[0])}if(isTupleType(type)){for(var _b=0,_c=type.elementTypes;_b<_c.length;_b++){var t=_c[_b];if(reportWideningErrorsInType(t)){errorReported=true}}}if(type.flags&524288){for(var _d=0,_e=getPropertiesOfObjectType(type);_d<_e.length;_d++){var p=_e[_d];var t=getTypeOfSymbol(p);if(t.flags&2097152){if(!reportWideningErrorsInType(t)){error(p.valueDeclaration,ts.Diagnostics.Object_literal_s_property_0_implicitly_has_an_1_type,p.name,typeToString(getWidenedType(t)))}errorReported=true}}}return errorReported}function reportImplicitAnyError(declaration,type){var typeAsString=typeToString(getWidenedType(type));var diagnostic;switch(declaration.kind){case 141:case 140:diagnostic=ts.Diagnostics.Member_0_implicitly_has_an_1_type;break;case 138:diagnostic=declaration.dotDotDotToken?ts.Diagnostics.Rest_parameter_0_implicitly_has_an_any_type:ts.Diagnostics.Parameter_0_implicitly_has_an_1_type;break;case 213:case 143:case 142:case 145:case 146:case 173:case 174:if(!declaration.name){error(declaration,ts.Diagnostics.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,typeAsString);return}diagnostic=ts.Diagnostics._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type;break;default:diagnostic=ts.Diagnostics.Variable_0_implicitly_has_an_1_type}error(declaration,diagnostic,ts.declarationNameToString(declaration.name),typeAsString)}function reportErrorsFromWidening(declaration,type){if(produceDiagnostics&&compilerOptions.noImplicitAny&&type.flags&2097152){if(!reportWideningErrorsInType(type)){reportImplicitAnyError(declaration,type)}}}function forEachMatchingParameterType(source,target,callback){var sourceMax=source.parameters.length;var targetMax=target.parameters.length;var count;if(source.hasRestParameter&&target.hasRestParameter){count=sourceMax>targetMax?sourceMax:targetMax;sourceMax--;targetMax--}else if(source.hasRestParameter){sourceMax--;count=targetMax}else if(target.hasRestParameter){targetMax--;count=sourceMax}else{count=sourceMax<targetMax?sourceMax:targetMax}for(var i=0;i<count;i++){var s=i<sourceMax?getTypeOfSymbol(source.parameters[i]):getRestTypeOfSignature(source);var t=i<targetMax?getTypeOfSymbol(target.parameters[i]):getRestTypeOfSignature(target);callback(s,t)}}function createInferenceContext(typeParameters,inferUnionTypes){var inferences=[];for(var _i=0;_i<typeParameters.length;_i++){var unused=typeParameters[_i];inferences.push({primary:undefined,secondary:undefined,isFixed:false})}return{typeParameters:typeParameters,inferUnionTypes:inferUnionTypes,inferences:inferences,inferredTypes:new Array(typeParameters.length)}}function inferTypes(context,source,target){var sourceStack;var targetStack;var depth=0;var inferiority=0;inferFromTypes(source,target);function isInProcess(source,target){for(var i=0;i<depth;i++){if(source===sourceStack[i]&&target===targetStack[i]){return true}}return false}function inferFromTypes(source,target){if(target.flags&512){if(source.flags&8388608){return}var typeParameters=context.typeParameters;for(var i=0;i<typeParameters.length;i++){if(target===typeParameters[i]){var inferences=context.inferences[i];if(!inferences.isFixed){var candidates=inferiority?inferences.secondary||(inferences.secondary=[]):inferences.primary||(inferences.primary=[]);if(!ts.contains(candidates,source)){candidates.push(source)}}return}}}else if(source.flags&4096&&target.flags&4096&&source.target===target.target){var sourceTypes=source.typeArguments||emptyArray;var targetTypes=target.typeArguments||emptyArray;var count=sourceTypes.length<targetTypes.length?sourceTypes.length:targetTypes.length;for(var i=0;i<count;i++){inferFromTypes(sourceTypes[i],targetTypes[i])}}else if(source.flags&8192&&target.flags&8192&&source.elementTypes.length===target.elementTypes.length){var sourceTypes=source.elementTypes;var targetTypes=target.elementTypes;for(var i=0;i<sourceTypes.length;i++){inferFromTypes(sourceTypes[i],targetTypes[i])}}else if(target.flags&49152){var targetTypes=target.types;var typeParameterCount=0;var typeParameter;for(var _i=0;_i<targetTypes.length;_i++){var t=targetTypes[_i];if(t.flags&512&&ts.contains(context.typeParameters,t)){typeParameter=t;typeParameterCount++}else{inferFromTypes(source,t)}}if(target.flags&16384&&typeParameterCount===1){inferiority++;inferFromTypes(source,typeParameter);inferiority--}}else if(source.flags&49152){var sourceTypes=source.types;for(var _a=0;_a<sourceTypes.length;_a++){var sourceType=sourceTypes[_a];inferFromTypes(sourceType,target)}}else{source=getApparentType(source);if(source.flags&80896&&(target.flags&4096&&target.typeArguments||target.flags&8192||target.flags&65536&&target.symbol&&target.symbol.flags&(8192|2048|32))){if(isInProcess(source,target)){return}if(isDeeplyNestedGeneric(source,sourceStack,depth)&&isDeeplyNestedGeneric(target,targetStack,depth)){return}if(depth===0){sourceStack=[];targetStack=[]}sourceStack[depth]=source;targetStack[depth]=target;depth++;inferFromProperties(source,target);inferFromSignatures(source,target,0);inferFromSignatures(source,target,1);inferFromIndexTypes(source,target,0,0);inferFromIndexTypes(source,target,1,1);inferFromIndexTypes(source,target,0,1);depth--}}}function inferFromProperties(source,target){var properties=getPropertiesOfObjectType(target);for(var _i=0;_i<properties.length;_i++){var targetProp=properties[_i];var sourceProp=getPropertyOfObjectType(source,targetProp.name);if(sourceProp){inferFromTypes(getTypeOfSymbol(sourceProp),getTypeOfSymbol(targetProp))}}}function inferFromSignatures(source,target,kind){var sourceSignatures=getSignaturesOfType(source,kind);var targetSignatures=getSignaturesOfType(target,kind);var sourceLen=sourceSignatures.length;var targetLen=targetSignatures.length;var len=sourceLen<targetLen?sourceLen:targetLen;for(var i=0;i<len;i++){inferFromSignature(getErasedSignature(sourceSignatures[sourceLen-len+i]),getErasedSignature(targetSignatures[targetLen-len+i]))}}function inferFromSignature(source,target){forEachMatchingParameterType(source,target,inferFromTypes);if(source.typePredicate&&target.typePredicate){if(target.typePredicate.parameterIndex===source.typePredicate.parameterIndex){inferFromTypes(source.typePredicate.type,target.typePredicate.type)}}else{inferFromTypes(getReturnTypeOfSignature(source),getReturnTypeOfSignature(target))}}function inferFromIndexTypes(source,target,sourceKind,targetKind){var targetIndexType=getIndexTypeOfType(target,targetKind);if(targetIndexType){var sourceIndexType=getIndexTypeOfType(source,sourceKind);if(sourceIndexType){inferFromTypes(sourceIndexType,targetIndexType)}}}}function getInferenceCandidates(context,index){var inferences=context.inferences[index];return inferences.primary||inferences.secondary||emptyArray}function getInferredType(context,index){var inferredType=context.inferredTypes[index];var inferenceSucceeded;if(!inferredType){var inferences=getInferenceCandidates(context,index);if(inferences.length){var unionOrSuperType=context.inferUnionTypes?getUnionType(inferences):getCommonSupertype(inferences);inferredType=unionOrSuperType?getWidenedType(unionOrSuperType):unknownType;inferenceSucceeded=!!unionOrSuperType}else{inferredType=emptyObjectType;inferenceSucceeded=true}if(inferenceSucceeded){var constraint=getConstraintOfTypeParameter(context.typeParameters[index]);inferredType=constraint&&!isTypeAssignableTo(inferredType,constraint)?constraint:inferredType}else if(context.failedTypeParameterIndex===undefined||context.failedTypeParameterIndex>index){context.failedTypeParameterIndex=index}context.inferredTypes[index]=inferredType}return inferredType}function getInferredTypes(context){for(var i=0;i<context.inferredTypes.length;i++){getInferredType(context,i)}return context.inferredTypes}function hasAncestor(node,kind){return ts.getAncestor(node,kind)!==undefined}function getResolvedSymbol(node){var links=getNodeLinks(node);if(!links.resolvedSymbol){links.resolvedSymbol=!ts.nodeIsMissing(node)&&resolveName(node,node.text,107455|1048576,ts.Diagnostics.Cannot_find_name_0,node)||unknownSymbol}return links.resolvedSymbol}function isInTypeQuery(node){while(node){switch(node.kind){case 154:return true;case 69:case 135:node=node.parent;continue;default:return false}}ts.Debug.fail("should not get here")}function removeTypesFromUnionType(type,typeKind,isOfTypeKind,allowEmptyUnionResult){if(type.flags&16384){var types=type.types;if(ts.forEach(types,function(t){return!!(t.flags&typeKind)===isOfTypeKind})){var narrowedType=getUnionType(ts.filter(types,function(t){return!(t.flags&typeKind)===isOfTypeKind}));if(allowEmptyUnionResult||narrowedType!==emptyObjectType){return narrowedType}}}else if(allowEmptyUnionResult&&!!(type.flags&typeKind)===isOfTypeKind){return getUnionType(emptyArray)}return type}function hasInitializer(node){return!!(node.initializer||ts.isBindingPattern(node.parent)&&hasInitializer(node.parent.parent))}function isVariableAssignedWithin(symbol,node){var links=getNodeLinks(node);if(links.assignmentChecks){var cachedResult=links.assignmentChecks[symbol.id];if(cachedResult!==undefined){return cachedResult}}else{links.assignmentChecks={}}return links.assignmentChecks[symbol.id]=isAssignedIn(node);function isAssignedInBinaryExpression(node){if(node.operatorToken.kind>=56&&node.operatorToken.kind<=68){var n=node.left;while(n.kind===172){n=n.expression}if(n.kind===69&&getResolvedSymbol(n)===symbol){return true}}return ts.forEachChild(node,isAssignedIn)}function isAssignedInVariableDeclaration(node){if(!ts.isBindingPattern(node.name)&&getSymbolOfNode(node)===symbol&&hasInitializer(node)){return true}return ts.forEachChild(node,isAssignedIn)}function isAssignedIn(node){switch(node.kind){case 181:return isAssignedInBinaryExpression(node);case 211:case 163:return isAssignedInVariableDeclaration(node);case 161:case 162:case 164:case 165:case 166:case 167:case 168:case 169:case 171:case 189:case 172:case 179:case 175:case 178:case 176:case 177:case 180:case 184:case 182:case 185:case 192:case 193:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 204:case 205:case 206:case 241:case 242:case 207:case 208:case 209:case 244:case 233:case 234:case 238:case 239:case 235:case 240:return ts.forEachChild(node,isAssignedIn)}return false}}function getNarrowedTypeOfSymbol(symbol,node){var type=getTypeOfSymbol(symbol);if(node&&symbol.flags&3){if(isTypeAny(type)||type.flags&(80896|16384|512)){
loop:while(node.parent){var child=node;node=node.parent;var narrowedType=type;switch(node.kind){case 196:if(child!==node.expression){narrowedType=narrowType(type,node.expression,child===node.thenStatement)}break;case 182:if(child!==node.condition){narrowedType=narrowType(type,node.condition,child===node.whenTrue)}break;case 181:if(child===node.right){if(node.operatorToken.kind===51){narrowedType=narrowType(type,node.left,true)}else if(node.operatorToken.kind===52){narrowedType=narrowType(type,node.left,false)}}break;case 248:case 218:case 213:case 143:case 142:case 145:case 146:case 144:break loop}if(narrowedType!==type){if(isVariableAssignedWithin(symbol,node)){break}type=narrowedType}}}}return type;function narrowTypeByEquality(type,expr,assumeTrue){if(expr.left.kind!==176||expr.right.kind!==9){return type}var left=expr.left;var right=expr.right;if(left.expression.kind!==69||getResolvedSymbol(left.expression)!==symbol){return type}var typeInfo=primitiveTypeInfo[right.text];if(expr.operatorToken.kind===33){assumeTrue=!assumeTrue}if(assumeTrue){if(!typeInfo){return removeTypesFromUnionType(type,258|132|8|16777216,true,false)}if(isTypeSubtypeOf(typeInfo.type,type)){return typeInfo.type}return removeTypesFromUnionType(type,typeInfo.flags,false,false)}else{if(typeInfo){return removeTypesFromUnionType(type,typeInfo.flags,true,false)}return type}}function narrowTypeByAnd(type,expr,assumeTrue){if(assumeTrue){return narrowType(narrowType(type,expr.left,true),expr.right,true)}else{return getUnionType([narrowType(type,expr.left,false),narrowType(narrowType(type,expr.left,true),expr.right,false)])}}function narrowTypeByOr(type,expr,assumeTrue){if(assumeTrue){return getUnionType([narrowType(type,expr.left,true),narrowType(narrowType(type,expr.left,false),expr.right,true)])}else{return narrowType(narrowType(type,expr.left,false),expr.right,false)}}function narrowTypeByInstanceof(type,expr,assumeTrue){if(isTypeAny(type)||!assumeTrue||expr.left.kind!==69||getResolvedSymbol(expr.left)!==symbol){return type}var rightType=checkExpression(expr.right);if(!isTypeSubtypeOf(rightType,globalFunctionType)){return type}var targetType;var prototypeProperty=getPropertyOfType(rightType,"prototype");if(prototypeProperty){var prototypePropertyType=getTypeOfSymbol(prototypeProperty);if(!isTypeAny(prototypePropertyType)){targetType=prototypePropertyType}}if(!targetType){var constructSignatures;if(rightType.flags&2048){constructSignatures=resolveDeclaredMembers(rightType).declaredConstructSignatures}else if(rightType.flags&65536){constructSignatures=getSignaturesOfType(rightType,1)}if(constructSignatures&&constructSignatures.length){targetType=getUnionType(ts.map(constructSignatures,function(signature){return getReturnTypeOfSignature(getErasedSignature(signature))}))}}if(targetType){return getNarrowedType(type,targetType)}return type}function getNarrowedType(originalType,narrowedTypeCandidate){if(originalType.flags&16384){var assignableConstituents=ts.filter(originalType.types,function(t){return isTypeAssignableTo(t,narrowedTypeCandidate)});if(assignableConstituents.length){return getUnionType(assignableConstituents)}}if(isTypeAssignableTo(narrowedTypeCandidate,originalType)){return narrowedTypeCandidate}return originalType}function narrowTypeByTypePredicate(type,expr,assumeTrue){if(type.flags&1){return type}var signature=getResolvedSignature(expr);if(signature.typePredicate&&expr.arguments[signature.typePredicate.parameterIndex]&&getSymbolAtLocation(expr.arguments[signature.typePredicate.parameterIndex])===symbol){if(!assumeTrue){if(type.flags&16384){return getUnionType(ts.filter(type.types,function(t){return!isTypeSubtypeOf(t,signature.typePredicate.type)}))}return type}return getNarrowedType(type,signature.typePredicate.type)}return type}function narrowType(type,expr,assumeTrue){switch(expr.kind){case 168:return narrowTypeByTypePredicate(type,expr,assumeTrue);case 172:return narrowType(type,expr.expression,assumeTrue);case 181:var operator=expr.operatorToken.kind;if(operator===32||operator===33){return narrowTypeByEquality(type,expr,assumeTrue)}else if(operator===51){return narrowTypeByAnd(type,expr,assumeTrue)}else if(operator===52){return narrowTypeByOr(type,expr,assumeTrue)}else if(operator===91){return narrowTypeByInstanceof(type,expr,assumeTrue)}break;case 179:if(expr.operator===49){return narrowType(type,expr.operand,!assumeTrue)}break}return type}}function checkIdentifier(node){var symbol=getResolvedSymbol(node);if(symbol===argumentsSymbol){var container=ts.getContainingFunction(node);if(container.kind===174){if(languageVersion<2){error(node,ts.Diagnostics.The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES3_and_ES5_Consider_using_a_standard_function_expression)}}if(node.parserContextFlags&8){getNodeLinks(container).flags|=4096;getNodeLinks(node).flags|=2048}}if(symbol.flags&8388608&&!isInTypeQuery(node)&&!isConstEnumOrConstEnumOnlyModule(resolveAlias(symbol))){markAliasSymbolAsReferenced(symbol)}checkCollisionWithCapturedSuperVariable(node,node);checkCollisionWithCapturedThisVariable(node,node);checkBlockScopedBindingCapturedInLoop(node,symbol);return getNarrowedTypeOfSymbol(getExportSymbolOfValueSymbolIfExported(symbol),node)}function isInsideFunction(node,threshold){var current=node;while(current&&current!==threshold){if(ts.isFunctionLike(current)){return true}current=current.parent}return false}function checkBlockScopedBindingCapturedInLoop(node,symbol){if(languageVersion>=2||(symbol.flags&2)===0||symbol.valueDeclaration.parent.kind===244){return}var container=symbol.valueDeclaration;while(container.kind!==212){container=container.parent}container=container.parent;if(container.kind===193){container=container.parent}var inFunction=isInsideFunction(node.parent,container);var current=container;while(current&&!ts.nodeStartsNewLexicalEnvironment(current)){if(isIterationStatement(current,false)){if(inFunction){grammarErrorOnFirstToken(current,ts.Diagnostics.Loop_contains_block_scoped_variable_0_referenced_by_a_function_in_the_loop_This_is_only_supported_in_ECMAScript_6_or_higher,ts.declarationNameToString(node))}getNodeLinks(symbol.valueDeclaration).flags|=16384;break}current=current.parent}}function captureLexicalThis(node,container){getNodeLinks(node).flags|=2;if(container.kind===141||container.kind===144){var classNode=container.parent;getNodeLinks(classNode).flags|=4}else{getNodeLinks(container).flags|=4}}function checkThisExpression(node){var container=ts.getThisContainer(node,true);var needToCaptureLexicalThis=false;if(container.kind===174){container=ts.getThisContainer(container,false);needToCaptureLexicalThis=languageVersion<2}switch(container.kind){case 218:error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_module_or_namespace_body);break;case 217:error(node,ts.Diagnostics.this_cannot_be_referenced_in_current_location);break;case 144:if(isInConstructorArgumentInitializer(node,container)){error(node,ts.Diagnostics.this_cannot_be_referenced_in_constructor_arguments)}break;case 141:case 140:if(container.flags&128){error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_static_property_initializer)}break;case 136:error(node,ts.Diagnostics.this_cannot_be_referenced_in_a_computed_property_name);break}if(needToCaptureLexicalThis){captureLexicalThis(node,container)}if(ts.isClassLike(container.parent)){var symbol=getSymbolOfNode(container.parent);return container.flags&128?getTypeOfSymbol(symbol):getDeclaredTypeOfSymbol(symbol).thisType}return anyType}function isInConstructorArgumentInitializer(node,constructorDecl){for(var n=node;n&&n!==constructorDecl;n=n.parent){if(n.kind===138){return true}}return false}function checkSuperExpression(node){var isCallExpression=node.parent.kind===168&&node.parent.expression===node;var classDeclaration=ts.getContainingClass(node);var classType=classDeclaration&&getDeclaredTypeOfSymbol(getSymbolOfNode(classDeclaration));var baseClassType=classType&&getBaseTypes(classType)[0];var container=ts.getSuperContainer(node,true);var needToCaptureLexicalThis=false;if(!isCallExpression){while(container&&container.kind===174){container=ts.getSuperContainer(container,true);needToCaptureLexicalThis=languageVersion<2}}var canUseSuperExpression=isLegalUsageOfSuperExpression(container);var nodeCheckFlag=0;if(canUseSuperExpression){if(container.flags&128||isCallExpression){nodeCheckFlag=512}else{nodeCheckFlag=256}getNodeLinks(node).flags|=nodeCheckFlag;if(needToCaptureLexicalThis){captureLexicalThis(node.parent,container)}}if(!baseClassType){if(!classDeclaration||!ts.getClassExtendsHeritageClauseElement(classDeclaration)){error(node,ts.Diagnostics.super_can_only_be_referenced_in_a_derived_class)}return unknownType}if(!canUseSuperExpression){if(container&&container.kind===136){error(node,ts.Diagnostics.super_cannot_be_referenced_in_a_computed_property_name)}else if(isCallExpression){error(node,ts.Diagnostics.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors)}else{error(node,ts.Diagnostics.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class)}return unknownType}if(container.kind===144&&isInConstructorArgumentInitializer(node,container)){error(node,ts.Diagnostics.super_cannot_be_referenced_in_constructor_arguments);return unknownType}return nodeCheckFlag===512?getBaseConstructorTypeOfClass(classType):baseClassType;function isLegalUsageOfSuperExpression(container){if(!container){return false}if(isCallExpression){return container.kind===144}else{if(container&&ts.isClassLike(container.parent)){if(container.flags&128){return container.kind===143||container.kind===142||container.kind===145||container.kind===146}else{return container.kind===143||container.kind===142||container.kind===145||container.kind===146||container.kind===141||container.kind===140||container.kind===144}}}return false}}function getContextuallyTypedParameterType(parameter){var func=parameter.parent;if(isFunctionExpressionOrArrowFunction(func)||ts.isObjectLiteralMethod(func)){if(isContextSensitive(func)){var contextualSignature=getContextualSignature(func);if(contextualSignature){var funcHasRestParameters=ts.hasRestParameter(func);var len=func.parameters.length-(funcHasRestParameters?1:0);var indexOfParameter=ts.indexOf(func.parameters,parameter);if(indexOfParameter<len){return getTypeAtPosition(contextualSignature,indexOfParameter)}if(funcHasRestParameters&&indexOfParameter===func.parameters.length-1&&isRestParameterIndex(contextualSignature,func.parameters.length-1)){return getTypeOfSymbol(ts.lastOrUndefined(contextualSignature.parameters))}}}}return undefined}function getContextualTypeForInitializerExpression(node){var declaration=node.parent;if(node===declaration.initializer){if(declaration.type){return getTypeFromTypeNode(declaration.type)}if(declaration.kind===138){var type=getContextuallyTypedParameterType(declaration);if(type){return type}}if(ts.isBindingPattern(declaration.name)){return getTypeFromBindingPattern(declaration.name,true)}}return undefined}function getContextualTypeForReturnExpression(node){var func=ts.getContainingFunction(node);if(func&&!func.asteriskToken){return getContextualReturnType(func)}return undefined}function getContextualTypeForYieldOperand(node){var func=ts.getContainingFunction(node);if(func){var contextualReturnType=getContextualReturnType(func);if(contextualReturnType){return node.asteriskToken?contextualReturnType:getElementTypeOfIterableIterator(contextualReturnType)}}return undefined}function isInParameterInitializerBeforeContainingFunction(node){while(node.parent&&!ts.isFunctionLike(node.parent)){if(node.parent.kind===138&&node.parent.initializer===node){return true}node=node.parent}return false}function getContextualReturnType(functionDecl){if(functionDecl.type||functionDecl.kind===144||functionDecl.kind===145&&ts.getSetAccessorTypeAnnotationNode(ts.getDeclarationOfKind(functionDecl.symbol,146))){return getReturnTypeOfSignature(getSignatureFromDeclaration(functionDecl))}var signature=getContextualSignatureForFunctionLikeDeclaration(functionDecl);if(signature){return getReturnTypeOfSignature(signature)}return undefined}function getContextualTypeForArgument(callTarget,arg){var args=getEffectiveCallArguments(callTarget);var argIndex=ts.indexOf(args,arg);if(argIndex>=0){var signature=getResolvedSignature(callTarget);return getTypeAtPosition(signature,argIndex)}return undefined}function getContextualTypeForSubstitutionExpression(template,substitutionExpression){if(template.parent.kind===170){return getContextualTypeForArgument(template.parent,substitutionExpression)}return undefined}function getContextualTypeForBinaryOperand(node){var binaryExpression=node.parent;var operator=binaryExpression.operatorToken.kind;if(operator>=56&&operator<=68){if(node===binaryExpression.right){return checkExpression(binaryExpression.left)}}else if(operator===52){var type=getContextualType(binaryExpression);if(!type&&node===binaryExpression.right){type=checkExpression(binaryExpression.left)}return type}return undefined}function applyToContextualType(type,mapper){if(!(type.flags&16384)){return mapper(type)}var types=type.types;var mappedType;var mappedTypes;for(var _i=0;_i<types.length;_i++){var current=types[_i];var t=mapper(current);if(t){if(!mappedType){mappedType=t}else if(!mappedTypes){mappedTypes=[mappedType,t]}else{mappedTypes.push(t)}}}return mappedTypes?getUnionType(mappedTypes):mappedType}function getTypeOfPropertyOfContextualType(type,name){return applyToContextualType(type,function(t){var prop=t.flags&130048?getPropertyOfType(t,name):undefined;return prop?getTypeOfSymbol(prop):undefined})}function getIndexTypeOfContextualType(type,kind){return applyToContextualType(type,function(t){return getIndexTypeOfStructuredType(t,kind)})}function contextualTypeIsTupleLikeType(type){return!!(type.flags&16384?ts.forEach(type.types,isTupleLikeType):isTupleLikeType(type))}function contextualTypeHasIndexSignature(type,kind){return!!(type.flags&16384?ts.forEach(type.types,function(t){return getIndexTypeOfStructuredType(t,kind)}):getIndexTypeOfStructuredType(type,kind))}function getContextualTypeForObjectLiteralMethod(node){ts.Debug.assert(ts.isObjectLiteralMethod(node));if(isInsideWithStatementBody(node)){return undefined}return getContextualTypeForObjectLiteralElement(node)}function getContextualTypeForObjectLiteralElement(element){var objectLiteral=element.parent;var type=getContextualType(objectLiteral);if(type){if(!ts.hasDynamicName(element)){var symbolName=getSymbolOfNode(element).name;var propertyType=getTypeOfPropertyOfContextualType(type,symbolName);if(propertyType){return propertyType}}return isNumericName(element.name)&&getIndexTypeOfContextualType(type,1)||getIndexTypeOfContextualType(type,0)}return undefined}function getContextualTypeForElementExpression(node){var arrayLiteral=node.parent;var type=getContextualType(arrayLiteral);if(type){var index=ts.indexOf(arrayLiteral.elements,node);return getTypeOfPropertyOfContextualType(type,""+index)||getIndexTypeOfContextualType(type,1)||(languageVersion>=2?getElementTypeOfIterable(type,undefined):undefined)}return undefined}function getContextualTypeForConditionalOperand(node){var conditional=node.parent;return node===conditional.whenTrue||node===conditional.whenFalse?getContextualType(conditional):undefined}function getContextualTypeForJsxExpression(expr){if(expr.parent.kind===238){var attrib=expr.parent;var attrsType=getJsxElementAttributesType(attrib.parent);if(!attrsType||isTypeAny(attrsType)){return undefined}else{return getTypeOfPropertyOfType(attrsType,attrib.name.text)}}if(expr.kind===239){return getJsxElementAttributesType(expr.parent)}return undefined}function getContextualType(node){var type=getContextualTypeWorker(node);return type&&getApparentType(type)}function getContextualTypeWorker(node){if(isInsideWithStatementBody(node)){return undefined}if(node.contextualType){return node.contextualType}var parent=node.parent;switch(parent.kind){case 211:case 138:case 141:case 140:case 163:return getContextualTypeForInitializerExpression(node);case 174:case 204:return getContextualTypeForReturnExpression(node);case 184:return getContextualTypeForYieldOperand(parent);case 168:case 169:return getContextualTypeForArgument(parent,node);case 171:case 189:return getTypeFromTypeNode(parent.type);case 181:return getContextualTypeForBinaryOperand(node);case 245:return getContextualTypeForObjectLiteralElement(parent);case 164:return getContextualTypeForElementExpression(node);case 182:return getContextualTypeForConditionalOperand(node);case 190:ts.Debug.assert(parent.parent.kind===183);return getContextualTypeForSubstitutionExpression(parent.parent,node);case 172:return getContextualType(parent);case 240:case 239:return getContextualTypeForJsxExpression(parent)}return undefined}function getNonGenericSignature(type){var signatures=getSignaturesOfStructuredType(type,0);if(signatures.length===1){var signature=signatures[0];if(!signature.typeParameters){return signature}}}function isFunctionExpressionOrArrowFunction(node){return node.kind===173||node.kind===174}function getContextualSignatureForFunctionLikeDeclaration(node){return isFunctionExpressionOrArrowFunction(node)||ts.isObjectLiteralMethod(node)?getContextualSignature(node):undefined}function getContextualSignature(node){ts.Debug.assert(node.kind!==143||ts.isObjectLiteralMethod(node));var type=ts.isObjectLiteralMethod(node)?getContextualTypeForObjectLiteralMethod(node):getContextualType(node);if(!type){return undefined}if(!(type.flags&16384)){return getNonGenericSignature(type)}var signatureList;var types=type.types;for(var _i=0;_i<types.length;_i++){var current=types[_i];var signature=getNonGenericSignature(current);if(signature){if(!signatureList){signatureList=[signature]}else if(!compareSignatures(signatureList[0],signature,false,true,compareTypes)){return undefined}else{signatureList.push(signature)}}}var result;if(signatureList){result=cloneSignature(signatureList[0]);result.resolvedReturnType=undefined;result.unionSignatures=signatureList}return result}function isInferentialContext(mapper){return mapper&&mapper.context}function isAssignmentTarget(node){var parent=node.parent;if(parent.kind===181&&parent.operatorToken.kind===56&&parent.left===node){return true}if(parent.kind===245){return isAssignmentTarget(parent.parent)}if(parent.kind===164){return isAssignmentTarget(parent)}return false}function checkSpreadElementExpression(node,contextualMapper){var arrayOrIterableType=checkExpressionCached(node.expression,contextualMapper);return checkIteratedTypeOrElementType(arrayOrIterableType,node.expression,false)}function hasDefaultValue(node){return node.kind===163&&!!node.initializer||node.kind===181&&node.operatorToken.kind===56}function checkArrayLiteral(node,contextualMapper){var elements=node.elements;var hasSpreadElement=false;var elementTypes=[];var inDestructuringPattern=isAssignmentTarget(node);for(var _i=0;_i<elements.length;_i++){var e=elements[_i];if(inDestructuringPattern&&e.kind===185){var restArrayType=checkExpression(e.expression,contextualMapper);var restElementType=getIndexTypeOfType(restArrayType,1)||(languageVersion>=2?getElementTypeOfIterable(restArrayType,undefined):undefined);if(restElementType){elementTypes.push(restElementType)}}else{var type=checkExpression(e,contextualMapper);elementTypes.push(type)}hasSpreadElement=hasSpreadElement||e.kind===185}if(!hasSpreadElement){if(inDestructuringPattern&&elementTypes.length){var type=createNewTupleType(elementTypes);type.pattern=node;return type}var contextualType=getContextualType(node);if(contextualType&&contextualTypeIsTupleLikeType(contextualType)){var pattern=contextualType.pattern;if(pattern&&(pattern.kind===162||pattern.kind===164)){var patternElements=pattern.elements;for(var i=elementTypes.length;i<patternElements.length;i++){var patternElement=patternElements[i];if(hasDefaultValue(patternElement)){elementTypes.push(contextualType.elementTypes[i])}else{if(patternElement.kind!==187){error(patternElement,ts.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value)}elementTypes.push(unknownType)}}}if(elementTypes.length){return createTupleType(elementTypes)}}}return createArrayType(elementTypes.length?getUnionType(elementTypes):undefinedType)}function isNumericName(name){return name.kind===136?isNumericComputedName(name):isNumericLiteralName(name.text)}function isNumericComputedName(name){return isTypeAnyOrAllConstituentTypesHaveKind(checkComputedPropertyName(name),132)}function isTypeAnyOrAllConstituentTypesHaveKind(type,kind){return isTypeAny(type)||allConstituentTypesHaveKind(type,kind)}function isNumericLiteralName(name){return(+name).toString()===name}function checkComputedPropertyName(node){var links=getNodeLinks(node.expression);if(!links.resolvedType){links.resolvedType=checkExpression(node.expression);if(!isTypeAnyOrAllConstituentTypesHaveKind(links.resolvedType,132|258|16777216)){error(node,ts.Diagnostics.A_computed_property_name_must_be_of_type_string_number_symbol_or_any)}else{checkThatExpressionIsProperSymbolReference(node.expression,links.resolvedType,true)}}return links.resolvedType}function checkObjectLiteral(node,contextualMapper){var inDestructuringPattern=isAssignmentTarget(node);checkGrammarObjectLiteralExpression(node,inDestructuringPattern);var propertiesTable={};var propertiesArray=[];var contextualType=getContextualType(node);var contextualTypeHasPattern=contextualType&&contextualType.pattern&&(contextualType.pattern.kind===161||contextualType.pattern.kind===165);var typeFlags=0;for(var _i=0,_a=node.properties;_i<_a.length;_i++){var memberDecl=_a[_i];var member=memberDecl.symbol;if(memberDecl.kind===245||memberDecl.kind===246||ts.isObjectLiteralMethod(memberDecl)){var type=void 0;if(memberDecl.kind===245){type=checkPropertyAssignment(memberDecl,contextualMapper)}else if(memberDecl.kind===143){type=checkObjectLiteralMethod(memberDecl,contextualMapper)}else{ts.Debug.assert(memberDecl.kind===246);type=checkExpression(memberDecl.name,contextualMapper)}typeFlags|=type.flags;var prop=createSymbol(4|67108864|member.flags,member.name);if(inDestructuringPattern){var isOptional=memberDecl.kind===245&&hasDefaultValue(memberDecl.initializer)||memberDecl.kind===246&&memberDecl.objectAssignmentInitializer;if(isOptional){prop.flags|=536870912}}else if(contextualTypeHasPattern){var impliedProp=getPropertyOfType(contextualType,member.name);if(impliedProp){prop.flags|=impliedProp.flags&536870912}else if(!compilerOptions.suppressExcessPropertyErrors){error(memberDecl.name,ts.Diagnostics.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,symbolToString(member),typeToString(contextualType))}}prop.declarations=member.declarations;prop.parent=member.parent;if(member.valueDeclaration){prop.valueDeclaration=member.valueDeclaration}prop.type=type;prop.target=member;member=prop}else{ts.Debug.assert(memberDecl.kind===145||memberDecl.kind===146);checkAccessorDeclaration(memberDecl)}if(!ts.hasDynamicName(memberDecl)){propertiesTable[member.name]=member}propertiesArray.push(member)}if(contextualTypeHasPattern){for(var _b=0,_c=getPropertiesOfType(contextualType);_b<_c.length;_b++){var prop=_c[_b];if(!ts.hasProperty(propertiesTable,prop.name)){if(!(prop.flags&536870912)){error(prop.valueDeclaration||prop.bindingElement,ts.Diagnostics.Initializer_provides_no_value_for_this_binding_element_and_the_binding_element_has_no_default_value)}propertiesTable[prop.name]=prop;propertiesArray.push(prop)}}}var stringIndexType=getIndexType(0);var numberIndexType=getIndexType(1);var result=createAnonymousType(node.symbol,propertiesTable,emptyArray,emptyArray,stringIndexType,numberIndexType);var freshObjectLiteralFlag=compilerOptions.suppressExcessPropertyErrors?0:1048576;result.flags|=524288|4194304|freshObjectLiteralFlag|typeFlags&14680064;if(inDestructuringPattern){result.pattern=node}return result;function getIndexType(kind){if(contextualType&&contextualTypeHasIndexSignature(contextualType,kind)){var propTypes=[];for(var i=0;i<propertiesArray.length;i++){var propertyDecl=node.properties[i];if(kind===0||isNumericName(propertyDecl.name)){var type=getTypeOfSymbol(propertiesArray[i]);if(!ts.contains(propTypes,type)){propTypes.push(type)}}}var result_1=propTypes.length?getUnionType(propTypes):undefinedType;typeFlags|=result_1.flags;return result_1}return undefined}}function checkJsxSelfClosingElement(node){checkJsxOpeningLikeElement(node);return jsxElementType||anyType}function tagNamesAreEquivalent(lhs,rhs){if(lhs.kind!==rhs.kind){return false}if(lhs.kind===69){return lhs.text===rhs.text}return lhs.right.text===rhs.right.text&&tagNamesAreEquivalent(lhs.left,rhs.left)}function checkJsxElement(node){checkJsxOpeningLikeElement(node.openingElement);if(!tagNamesAreEquivalent(node.openingElement.tagName,node.closingElement.tagName)){error(node.closingElement,ts.Diagnostics.Expected_corresponding_JSX_closing_tag_for_0,ts.getTextOfNode(node.openingElement.tagName))}else{getJsxElementTagSymbol(node.closingElement)}for(var _i=0,_a=node.children;_i<_a.length;_i++){var child=_a[_i];switch(child.kind){case 240:checkJsxExpression(child);break;case 233:checkJsxElement(child);break;case 234:checkJsxSelfClosingElement(child);break;default:ts.Debug.assert(child.kind===236)}}return jsxElementType||anyType}function isUnhyphenatedJsxName(name){return name.indexOf("-")<0}function isJsxIntrinsicIdentifier(tagName){if(tagName.kind===135){return false}else{return ts.isIntrinsicJsxName(tagName.text)}}function checkJsxAttribute(node,elementAttributesType,nameTable){var correspondingPropType=undefined;if(elementAttributesType===emptyObjectType&&isUnhyphenatedJsxName(node.name.text)){error(node.parent,ts.Diagnostics.JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property,getJsxElementPropertiesName())}else if(elementAttributesType&&!isTypeAny(elementAttributesType)){var correspondingPropSymbol=getPropertyOfType(elementAttributesType,node.name.text);correspondingPropType=correspondingPropSymbol&&getTypeOfSymbol(correspondingPropSymbol);if(isUnhyphenatedJsxName(node.name.text)){var indexerType=getIndexTypeOfType(elementAttributesType,0);if(indexerType){correspondingPropType=indexerType}else{if(!correspondingPropType){error(node.name,ts.Diagnostics.Property_0_does_not_exist_on_type_1,node.name.text,typeToString(elementAttributesType));return unknownType}}}}var exprType;if(node.initializer){exprType=checkExpression(node.initializer)}else{exprType=booleanType}if(correspondingPropType){checkTypeAssignableTo(exprType,correspondingPropType,node)}nameTable[node.name.text]=true;return exprType}function checkJsxSpreadAttribute(node,elementAttributesType,nameTable){var type=checkExpression(node.expression);var props=getPropertiesOfType(type);for(var _i=0;_i<props.length;_i++){var prop=props[_i];if(!nameTable[prop.name]){var targetPropSym=getPropertyOfType(elementAttributesType,prop.name);if(targetPropSym){var msg=ts.chainDiagnosticMessages(undefined,ts.Diagnostics.Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property,prop.name);checkTypeAssignableTo(getTypeOfSymbol(prop),getTypeOfSymbol(targetPropSym),node,undefined,msg)}nameTable[prop.name]=true}}return type}function getJsxIntrinsicElementsType(){if(!jsxIntrinsicElementsType){jsxIntrinsicElementsType=getExportedTypeFromNamespace(JsxNames.JSX,JsxNames.IntrinsicElements)||unknownType}return jsxIntrinsicElementsType}function getJsxElementTagSymbol(node){var flags=8;var links=getNodeLinks(node);if(!links.resolvedSymbol){if(isJsxIntrinsicIdentifier(node.tagName)){links.resolvedSymbol=lookupIntrinsicTag(node)}else{links.resolvedSymbol=lookupClassTag(node)}}return links.resolvedSymbol;function lookupIntrinsicTag(node){var intrinsicElementsType=getJsxIntrinsicElementsType();if(intrinsicElementsType!==unknownType){var intrinsicProp=getPropertyOfType(intrinsicElementsType,node.tagName.text);if(intrinsicProp){links.jsxFlags|=1;return intrinsicProp}var indexSignatureType=getIndexTypeOfType(intrinsicElementsType,0);if(indexSignatureType){links.jsxFlags|=2;return intrinsicElementsType.symbol}error(node,ts.Diagnostics.Property_0_does_not_exist_on_type_1,node.tagName.text,"JSX."+JsxNames.IntrinsicElements);return unknownSymbol}else{if(compilerOptions.noImplicitAny){error(node,ts.Diagnostics.JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists,JsxNames.IntrinsicElements)}}}function lookupClassTag(node){var valueSymbol=resolveJsxTagName(node);if(valueSymbol&&valueSymbol!==unknownSymbol){links.jsxFlags|=4;if(valueSymbol.flags&8388608){markAliasSymbolAsReferenced(valueSymbol)}}return valueSymbol||unknownSymbol}function resolveJsxTagName(node){if(node.tagName.kind===69){var tag=node.tagName;var sym=getResolvedSymbol(tag);return sym.exportSymbol||sym}else{return checkQualifiedName(node.tagName).symbol}}}function getJsxElementInstanceType(node){ts.Debug.assert(!!(getNodeLinks(node).jsxFlags&4),"Should not call getJsxElementInstanceType on non-class Element");var classSymbol=getJsxElementTagSymbol(node);if(classSymbol===unknownSymbol){return anyType}var valueType=getTypeOfSymbol(classSymbol);if(isTypeAny(valueType)){return anyType}var signatures=getSignaturesOfType(valueType,1);if(signatures.length===0){signatures=getSignaturesOfType(valueType,0);if(signatures.length===0){error(node.tagName,ts.Diagnostics.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,ts.getTextOfNode(node.tagName));return unknownType}}var returnType=getUnionType(signatures.map(getReturnTypeOfSignature));var elemClassType=getJsxGlobalElementClassType();if(elemClassType){checkTypeRelatedTo(returnType,elemClassType,assignableRelation,node,ts.Diagnostics.JSX_element_type_0_is_not_a_constructor_function_for_JSX_elements)}return returnType}function getJsxElementPropertiesName(){var jsxNamespace=getGlobalSymbol(JsxNames.JSX,1536,undefined);var attribsPropTypeSym=jsxNamespace&&getSymbol(jsxNamespace.exports,JsxNames.ElementAttributesPropertyNameContainer,793056);var attribPropType=attribsPropTypeSym&&getDeclaredTypeOfSymbol(attribsPropTypeSym);var attribProperties=attribPropType&&getPropertiesOfType(attribPropType);if(attribProperties){if(attribProperties.length===0){return""}else if(attribProperties.length===1){return attribProperties[0].name}else{error(attribsPropTypeSym.declarations[0],ts.Diagnostics.The_global_type_JSX_0_may_not_have_more_than_one_property,JsxNames.ElementAttributesPropertyNameContainer);return undefined}}else{return undefined}}function getJsxElementAttributesType(node){var links=getNodeLinks(node);if(!links.resolvedJsxType){var sym=getJsxElementTagSymbol(node);if(links.jsxFlags&4){var elemInstanceType=getJsxElementInstanceType(node);if(isTypeAny(elemInstanceType)){return links.resolvedJsxType=elemInstanceType}var propsName=getJsxElementPropertiesName();if(propsName===undefined){return links.resolvedJsxType=anyType}else if(propsName===""){return links.resolvedJsxType=elemInstanceType}else{var attributesType=getTypeOfPropertyOfType(elemInstanceType,propsName);if(!attributesType){return links.resolvedJsxType=emptyObjectType}else if(isTypeAny(attributesType)||attributesType===unknownType){return links.resolvedJsxType=attributesType}else if(!(attributesType.flags&80896)){error(node.tagName,ts.Diagnostics.JSX_element_attributes_type_0_must_be_an_object_type,typeToString(attributesType));return links.resolvedJsxType=anyType}else{return links.resolvedJsxType=attributesType}}}else if(links.jsxFlags&1){return links.resolvedJsxType=getTypeOfSymbol(sym)}else if(links.jsxFlags&2){return links.resolvedJsxType=getIndexTypeOfSymbol(sym,0)}else{return links.resolvedJsxType=anyType}}return links.resolvedJsxType}function getJsxAttributePropertySymbol(attrib){var attributesType=getJsxElementAttributesType(attrib.parent);var prop=getPropertyOfType(attributesType,attrib.name.text);return prop||unknownSymbol}var jsxElementClassType=undefined;
function getJsxGlobalElementClassType(){if(!jsxElementClassType){jsxElementClassType=getExportedTypeFromNamespace(JsxNames.JSX,JsxNames.ElementClass)}return jsxElementClassType}function getJsxIntrinsicTagNames(){var intrinsics=getJsxIntrinsicElementsType();return intrinsics?getPropertiesOfType(intrinsics):emptyArray}function checkJsxPreconditions(errorNode){if((compilerOptions.jsx||0)===0){error(errorNode,ts.Diagnostics.Cannot_use_JSX_unless_the_jsx_flag_is_provided)}if(jsxElementType===undefined){if(compilerOptions.noImplicitAny){error(errorNode,ts.Diagnostics.JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist)}}}function checkJsxOpeningLikeElement(node){checkGrammarJsxElement(node);checkJsxPreconditions(node);if(compilerOptions.jsx===2){var reactSym=resolveName(node.tagName,"React",107455,ts.Diagnostics.Cannot_find_name_0,"React");if(reactSym){getSymbolLinks(reactSym).referenced=true}}var targetAttributesType=getJsxElementAttributesType(node);var nameTable={};var sawSpreadedAny=false;for(var i=node.attributes.length-1;i>=0;i--){if(node.attributes[i].kind===238){checkJsxAttribute(node.attributes[i],targetAttributesType,nameTable)}else{ts.Debug.assert(node.attributes[i].kind===239);var spreadType=checkJsxSpreadAttribute(node.attributes[i],targetAttributesType,nameTable);if(isTypeAny(spreadType)){sawSpreadedAny=true}}}if(targetAttributesType&&!sawSpreadedAny){var targetProperties=getPropertiesOfType(targetAttributesType);for(var i=0;i<targetProperties.length;i++){if(!(targetProperties[i].flags&536870912)&&nameTable[targetProperties[i].name]===undefined){error(node,ts.Diagnostics.Property_0_is_missing_in_type_1,targetProperties[i].name,typeToString(targetAttributesType))}}}}function checkJsxExpression(node){if(node.expression){return checkExpression(node.expression)}else{return unknownType}}function getDeclarationKindFromSymbol(s){return s.valueDeclaration?s.valueDeclaration.kind:141}function getDeclarationFlagsFromSymbol(s){return s.valueDeclaration?ts.getCombinedNodeFlags(s.valueDeclaration):s.flags&134217728?16|128:0}function checkClassPropertyAccess(node,left,type,prop){var flags=getDeclarationFlagsFromSymbol(prop);var declaringClass=getDeclaredTypeOfSymbol(prop.parent);if(left.kind===95){var errorNode=node.kind===166?node.name:node.right;if(getDeclarationKindFromSymbol(prop)!==143){error(errorNode,ts.Diagnostics.Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword);return false}if(flags&256){error(errorNode,ts.Diagnostics.Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression,symbolToString(prop),typeToString(declaringClass));return false}}if(!(flags&(32|64))){return true}var enclosingClassDeclaration=ts.getContainingClass(node);var enclosingClass=enclosingClassDeclaration?getDeclaredTypeOfSymbol(getSymbolOfNode(enclosingClassDeclaration)):undefined;if(flags&32){if(declaringClass!==enclosingClass){error(node,ts.Diagnostics.Property_0_is_private_and_only_accessible_within_class_1,symbolToString(prop),typeToString(declaringClass));return false}return true}if(left.kind===95){return true}if(!enclosingClass||!hasBaseType(enclosingClass,declaringClass)){error(node,ts.Diagnostics.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses,symbolToString(prop),typeToString(declaringClass));return false}if(flags&128){return true}if(type.flags&33554432){type=getConstraintOfTypeParameter(type)}if(!(getTargetType(type).flags&(1024|2048)&&hasBaseType(type,enclosingClass))){error(node,ts.Diagnostics.Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1,symbolToString(prop),typeToString(enclosingClass));return false}return true}function checkPropertyAccessExpression(node){return checkPropertyAccessExpressionOrQualifiedName(node,node.expression,node.name)}function checkQualifiedName(node){return checkPropertyAccessExpressionOrQualifiedName(node,node.left,node.right)}function checkPropertyAccessExpressionOrQualifiedName(node,left,right){var type=checkExpression(left);if(isTypeAny(type)){return type}var apparentType=getApparentType(getWidenedType(type));if(apparentType===unknownType){return unknownType}var prop=getPropertyOfType(apparentType,right.text);if(!prop){if(right.text){error(right,ts.Diagnostics.Property_0_does_not_exist_on_type_1,ts.declarationNameToString(right),typeToString(type.flags&33554432?apparentType:type))}return unknownType}getNodeLinks(node).resolvedSymbol=prop;if(prop.parent&&prop.parent.flags&32){checkClassPropertyAccess(node,left,apparentType,prop)}return getTypeOfSymbol(prop)}function isValidPropertyAccess(node,propertyName){var left=node.kind===166?node.expression:node.left;var type=checkExpression(left);if(type!==unknownType&&!isTypeAny(type)){var prop=getPropertyOfType(getWidenedType(type),propertyName);if(prop&&prop.parent&&prop.parent.flags&32){return checkClassPropertyAccess(node,left,type,prop)}}return true}function checkIndexedAccess(node){if(!node.argumentExpression){var sourceFile=getSourceFile(node);if(node.parent.kind===169&&node.parent.expression===node){var start=ts.skipTrivia(sourceFile.text,node.expression.end);var end=node.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead)}else{var start=node.end-"]".length;var end=node.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Expression_expected)}}var objectType=getApparentType(checkExpression(node.expression));var indexType=node.argumentExpression?checkExpression(node.argumentExpression):unknownType;if(objectType===unknownType){return unknownType}var isConstEnum=isConstEnumObjectType(objectType);if(isConstEnum&&(!node.argumentExpression||node.argumentExpression.kind!==9)){error(node.argumentExpression,ts.Diagnostics.A_const_enum_member_can_only_be_accessed_using_a_string_literal);return unknownType}if(node.argumentExpression){var name_11=getPropertyNameForIndexedAccess(node.argumentExpression,indexType);if(name_11!==undefined){var prop=getPropertyOfType(objectType,name_11);if(prop){getNodeLinks(node).resolvedSymbol=prop;return getTypeOfSymbol(prop)}else if(isConstEnum){error(node.argumentExpression,ts.Diagnostics.Property_0_does_not_exist_on_const_enum_1,name_11,symbolToString(objectType.symbol));return unknownType}}}if(isTypeAnyOrAllConstituentTypesHaveKind(indexType,258|132|16777216)){if(isTypeAnyOrAllConstituentTypesHaveKind(indexType,132)){var numberIndexType=getIndexTypeOfType(objectType,1);if(numberIndexType){return numberIndexType}}var stringIndexType=getIndexTypeOfType(objectType,0);if(stringIndexType){return stringIndexType}if(compilerOptions.noImplicitAny&&!compilerOptions.suppressImplicitAnyIndexErrors&&!isTypeAny(objectType)){error(node,ts.Diagnostics.Index_signature_of_object_type_implicitly_has_an_any_type)}return anyType}error(node,ts.Diagnostics.An_index_expression_argument_must_be_of_type_string_number_symbol_or_any);return unknownType}function getPropertyNameForIndexedAccess(indexArgumentExpression,indexArgumentType){if(indexArgumentExpression.kind===9||indexArgumentExpression.kind===8){return indexArgumentExpression.text}if(indexArgumentExpression.kind===167||indexArgumentExpression.kind===166){var value=getConstantValue(indexArgumentExpression);if(value!==undefined){return value.toString()}}if(checkThatExpressionIsProperSymbolReference(indexArgumentExpression,indexArgumentType,false)){var rightHandSideName=indexArgumentExpression.name.text;return ts.getPropertyNameForKnownSymbolName(rightHandSideName)}return undefined}function checkThatExpressionIsProperSymbolReference(expression,expressionType,reportError){if(expressionType===unknownType){return false}if(!ts.isWellKnownSymbolSyntactically(expression)){return false}if((expressionType.flags&16777216)===0){if(reportError){error(expression,ts.Diagnostics.A_computed_property_name_of_the_form_0_must_be_of_type_symbol,ts.getTextOfNode(expression))}return false}var leftHandSide=expression.expression;var leftHandSideSymbol=getResolvedSymbol(leftHandSide);if(!leftHandSideSymbol){return false}var globalESSymbol=getGlobalESSymbolConstructorSymbol();if(!globalESSymbol){return false}if(leftHandSideSymbol!==globalESSymbol){if(reportError){error(leftHandSide,ts.Diagnostics.Symbol_reference_does_not_refer_to_the_global_Symbol_constructor_object)}return false}return true}function resolveUntypedCall(node){if(node.kind===170){checkExpression(node.template)}else if(node.kind!==139){ts.forEach(node.arguments,function(argument){checkExpression(argument)})}return anySignature}function resolveErrorCall(node){resolveUntypedCall(node);return unknownSignature}function reorderCandidates(signatures,result){var lastParent;var lastSymbol;var cutoffIndex=0;var index;var specializedIndex=-1;var spliceIndex;ts.Debug.assert(!result.length);for(var _i=0;_i<signatures.length;_i++){var signature=signatures[_i];var symbol=signature.declaration&&getSymbolOfNode(signature.declaration);var parent_5=signature.declaration&&signature.declaration.parent;if(!lastSymbol||symbol===lastSymbol){if(lastParent&&parent_5===lastParent){index++}else{lastParent=parent_5;index=cutoffIndex}}else{index=cutoffIndex=result.length;lastParent=parent_5}lastSymbol=symbol;if(signature.hasStringLiterals){specializedIndex++;spliceIndex=specializedIndex;cutoffIndex++}else{spliceIndex=index}result.splice(spliceIndex,0,signature)}}function getSpreadArgumentIndex(args){for(var i=0;i<args.length;i++){var arg=args[i];if(arg&&arg.kind===185){return i}}return-1}function hasCorrectArity(node,args,signature){var adjustedArgCount;var typeArguments;var callIsIncomplete;var isDecorator;var spreadArgIndex=-1;if(node.kind===170){var tagExpression=node;adjustedArgCount=args.length;typeArguments=undefined;if(tagExpression.template.kind===183){var templateExpression=tagExpression.template;var lastSpan=ts.lastOrUndefined(templateExpression.templateSpans);ts.Debug.assert(lastSpan!==undefined);callIsIncomplete=ts.nodeIsMissing(lastSpan.literal)||!!lastSpan.literal.isUnterminated}else{var templateLiteral=tagExpression.template;ts.Debug.assert(templateLiteral.kind===11);callIsIncomplete=!!templateLiteral.isUnterminated}}else if(node.kind===139){isDecorator=true;typeArguments=undefined;adjustedArgCount=getEffectiveArgumentCount(node,undefined,signature)}else{var callExpression=node;if(!callExpression.arguments){ts.Debug.assert(callExpression.kind===169);return signature.minArgumentCount===0}adjustedArgCount=callExpression.arguments.hasTrailingComma?args.length+1:args.length;callIsIncomplete=callExpression.arguments.end===callExpression.end;typeArguments=callExpression.typeArguments;spreadArgIndex=getSpreadArgumentIndex(args)}var hasRightNumberOfTypeArgs=!typeArguments||signature.typeParameters&&typeArguments.length===signature.typeParameters.length;if(!hasRightNumberOfTypeArgs){return false}if(spreadArgIndex>=0){return isRestParameterIndex(signature,spreadArgIndex)}if(!signature.hasRestParameter&&adjustedArgCount>signature.parameters.length){return false}var hasEnoughArguments=adjustedArgCount>=signature.minArgumentCount;return callIsIncomplete||hasEnoughArguments}function getSingleCallSignature(type){if(type.flags&80896){var resolved=resolveStructuredTypeMembers(type);if(resolved.callSignatures.length===1&&resolved.constructSignatures.length===0&&resolved.properties.length===0&&!resolved.stringIndexType&&!resolved.numberIndexType){return resolved.callSignatures[0]}}return undefined}function instantiateSignatureInContextOf(signature,contextualSignature,contextualMapper){var context=createInferenceContext(signature.typeParameters,true);forEachMatchingParameterType(contextualSignature,signature,function(source,target){inferTypes(context,instantiateType(source,contextualMapper),target)});return getSignatureInstantiation(signature,getInferredTypes(context))}function inferTypeArguments(node,signature,args,excludeArgument,context){var typeParameters=signature.typeParameters;var inferenceMapper=createInferenceMapper(context);for(var i=0;i<typeParameters.length;i++){if(!context.inferences[i].isFixed){context.inferredTypes[i]=undefined}}if(context.failedTypeParameterIndex!==undefined&&!context.inferences[context.failedTypeParameterIndex].isFixed){context.failedTypeParameterIndex=undefined}var argCount=getEffectiveArgumentCount(node,args,signature);for(var i=0;i<argCount;i++){var arg=getEffectiveArgument(node,args,i);if(arg===undefined||arg.kind!==187){var paramType=getTypeAtPosition(signature,i);var argType=getEffectiveArgumentType(node,i,arg);if(argType===undefined){var mapper=excludeArgument&&excludeArgument[i]!==undefined?identityMapper:inferenceMapper;argType=checkExpressionWithContextualType(arg,paramType,mapper)}inferTypes(context,argType,paramType)}}if(excludeArgument){for(var i=0;i<argCount;i++){if(excludeArgument[i]===false){var arg=args[i];var paramType=getTypeAtPosition(signature,i);inferTypes(context,checkExpressionWithContextualType(arg,paramType,inferenceMapper),paramType)}}}getInferredTypes(context)}function checkTypeArguments(signature,typeArguments,typeArgumentResultTypes,reportErrors,headMessage){var typeParameters=signature.typeParameters;var typeArgumentsAreAssignable=true;for(var i=0;i<typeParameters.length;i++){var typeArgNode=typeArguments[i];var typeArgument=getTypeFromTypeNode(typeArgNode);typeArgumentResultTypes[i]=typeArgument;if(typeArgumentsAreAssignable){var constraint=getConstraintOfTypeParameter(typeParameters[i]);if(constraint){var errorInfo=void 0;var typeArgumentHeadMessage=ts.Diagnostics.Type_0_does_not_satisfy_the_constraint_1;if(reportErrors&&headMessage){errorInfo=ts.chainDiagnosticMessages(errorInfo,typeArgumentHeadMessage);typeArgumentHeadMessage=headMessage}typeArgumentsAreAssignable=checkTypeAssignableTo(typeArgument,constraint,reportErrors?typeArgNode:undefined,typeArgumentHeadMessage,errorInfo)}}}return typeArgumentsAreAssignable}function checkApplicableSignature(node,args,signature,relation,excludeArgument,reportErrors){var argCount=getEffectiveArgumentCount(node,args,signature);for(var i=0;i<argCount;i++){var arg=getEffectiveArgument(node,args,i);if(arg===undefined||arg.kind!==187){var paramType=getTypeAtPosition(signature,i);var argType=getEffectiveArgumentType(node,i,arg);if(argType===undefined){argType=arg.kind===9&&!reportErrors?getStringLiteralType(arg):checkExpressionWithContextualType(arg,paramType,excludeArgument&&excludeArgument[i]?identityMapper:undefined)}var errorNode=reportErrors?getEffectiveArgumentErrorNode(node,i,arg):undefined;var headMessage=ts.Diagnostics.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1;if(!checkTypeRelatedTo(argType,paramType,relation,errorNode,headMessage)){return false}}}return true}function getEffectiveCallArguments(node){var args;if(node.kind===170){var template=node.template;args=[undefined];if(template.kind===183){ts.forEach(template.templateSpans,function(span){args.push(span.expression)})}}else if(node.kind===139){return undefined}else{args=node.arguments||emptyArray}return args}function getEffectiveArgumentCount(node,args,signature){if(node.kind===139){switch(node.parent.kind){case 214:case 186:return 1;case 141:return 2;case 143:case 145:case 146:if(languageVersion===0){return 2}return signature.parameters.length>=3?3:2;case 138:return 3}}else{return args.length}}function getEffectiveDecoratorFirstArgumentType(node){if(node.kind===214){var classSymbol=getSymbolOfNode(node);return getTypeOfSymbol(classSymbol)}if(node.kind===138){node=node.parent;if(node.kind===144){var classSymbol=getSymbolOfNode(node);return getTypeOfSymbol(classSymbol)}}if(node.kind===141||node.kind===143||node.kind===145||node.kind===146){return getParentTypeOfClassElement(node)}ts.Debug.fail("Unsupported decorator target.");return unknownType}function getEffectiveDecoratorSecondArgumentType(node){if(node.kind===214){ts.Debug.fail("Class decorators should not have a second synthetic argument.");return unknownType}if(node.kind===138){node=node.parent;if(node.kind===144){return anyType}}if(node.kind===141||node.kind===143||node.kind===145||node.kind===146){var element=node;switch(element.name.kind){case 69:case 8:case 9:return getStringLiteralType(element.name);case 136:var nameType=checkComputedPropertyName(element.name);if(allConstituentTypesHaveKind(nameType,16777216)){return nameType}else{return stringType}default:ts.Debug.fail("Unsupported property name.");return unknownType}}ts.Debug.fail("Unsupported decorator target.");return unknownType}function getEffectiveDecoratorThirdArgumentType(node){if(node.kind===214){ts.Debug.fail("Class decorators should not have a third synthetic argument.");return unknownType}if(node.kind===138){return numberType}if(node.kind===141){ts.Debug.fail("Property decorators should not have a third synthetic argument.");return unknownType}if(node.kind===143||node.kind===145||node.kind===146){var propertyType=getTypeOfNode(node);return createTypedPropertyDescriptorType(propertyType)}ts.Debug.fail("Unsupported decorator target.");return unknownType}function getEffectiveDecoratorArgumentType(node,argIndex){if(argIndex===0){return getEffectiveDecoratorFirstArgumentType(node.parent)}else if(argIndex===1){return getEffectiveDecoratorSecondArgumentType(node.parent)}else if(argIndex===2){return getEffectiveDecoratorThirdArgumentType(node.parent)}ts.Debug.fail("Decorators should not have a fourth synthetic argument.");return unknownType}function getEffectiveArgumentType(node,argIndex,arg){if(node.kind===139){return getEffectiveDecoratorArgumentType(node,argIndex)}else if(argIndex===0&&node.kind===170){return globalTemplateStringsArrayType}return undefined}function getEffectiveArgument(node,args,argIndex){if(node.kind===139||argIndex===0&&node.kind===170){return undefined}return args[argIndex]}function getEffectiveArgumentErrorNode(node,argIndex,arg){if(node.kind===139){return node.expression}else if(argIndex===0&&node.kind===170){return node.template}else{return arg}}function resolveCall(node,signatures,candidatesOutArray,headMessage){var isTaggedTemplate=node.kind===170;var isDecorator=node.kind===139;var typeArguments;if(!isTaggedTemplate&&!isDecorator){typeArguments=node.typeArguments;if(node.expression.kind!==95){ts.forEach(typeArguments,checkSourceElement)}}var candidates=candidatesOutArray||[];reorderCandidates(signatures,candidates);if(!candidates.length){reportError(ts.Diagnostics.Supplied_parameters_do_not_match_any_signature_of_call_target);return resolveErrorCall(node)}var args=getEffectiveCallArguments(node);var excludeArgument;if(!isDecorator){for(var i=isTaggedTemplate?1:0;i<args.length;i++){if(isContextSensitive(args[i])){if(!excludeArgument){excludeArgument=new Array(args.length)}excludeArgument[i]=true}}}var candidateForArgumentError;var candidateForTypeArgumentError;var resultOfFailedInference;var result;if(candidates.length>1){result=chooseOverload(candidates,subtypeRelation)}if(!result){candidateForArgumentError=undefined;candidateForTypeArgumentError=undefined;resultOfFailedInference=undefined;result=chooseOverload(candidates,assignableRelation)}if(result){return result}if(candidateForArgumentError){checkApplicableSignature(node,args,candidateForArgumentError,assignableRelation,undefined,true)}else if(candidateForTypeArgumentError){if(!isTaggedTemplate&&!isDecorator&&typeArguments){checkTypeArguments(candidateForTypeArgumentError,node.typeArguments,[],true,headMessage)}else{ts.Debug.assert(resultOfFailedInference.failedTypeParameterIndex>=0);var failedTypeParameter=candidateForTypeArgumentError.typeParameters[resultOfFailedInference.failedTypeParameterIndex];var inferenceCandidates=getInferenceCandidates(resultOfFailedInference,resultOfFailedInference.failedTypeParameterIndex);var diagnosticChainHead=ts.chainDiagnosticMessages(undefined,ts.Diagnostics.The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly,typeToString(failedTypeParameter));if(headMessage){diagnosticChainHead=ts.chainDiagnosticMessages(diagnosticChainHead,headMessage)}reportNoCommonSupertypeError(inferenceCandidates,node.expression||node.tag,diagnosticChainHead)}}else{reportError(ts.Diagnostics.Supplied_parameters_do_not_match_any_signature_of_call_target)}if(!produceDiagnostics){for(var _i=0;_i<candidates.length;_i++){var candidate=candidates[_i];if(hasCorrectArity(node,args,candidate)){if(candidate.typeParameters&&typeArguments){candidate=getSignatureInstantiation(candidate,ts.map(typeArguments,getTypeFromTypeNode))}return candidate}}}return resolveErrorCall(node);function reportError(message,arg0,arg1,arg2){var errorInfo;errorInfo=ts.chainDiagnosticMessages(errorInfo,message,arg0,arg1,arg2);if(headMessage){errorInfo=ts.chainDiagnosticMessages(errorInfo,headMessage)}diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(node,errorInfo))}function chooseOverload(candidates,relation){for(var _i=0;_i<candidates.length;_i++){var originalCandidate=candidates[_i];if(!hasCorrectArity(node,args,originalCandidate)){continue}var candidate=void 0;var typeArgumentsAreValid=void 0;var inferenceContext=originalCandidate.typeParameters?createInferenceContext(originalCandidate.typeParameters,false):undefined;while(true){candidate=originalCandidate;if(candidate.typeParameters){var typeArgumentTypes=void 0;if(typeArguments){typeArgumentTypes=new Array(candidate.typeParameters.length);typeArgumentsAreValid=checkTypeArguments(candidate,typeArguments,typeArgumentTypes,false)}else{inferTypeArguments(node,candidate,args,excludeArgument,inferenceContext);typeArgumentsAreValid=inferenceContext.failedTypeParameterIndex===undefined;typeArgumentTypes=inferenceContext.inferredTypes}if(!typeArgumentsAreValid){break}candidate=getSignatureInstantiation(candidate,typeArgumentTypes)}if(!checkApplicableSignature(node,args,candidate,relation,excludeArgument,false)){break}var index=excludeArgument?ts.indexOf(excludeArgument,true):-1;if(index<0){return candidate}excludeArgument[index]=false}if(originalCandidate.typeParameters){var instantiatedCandidate=candidate;if(typeArgumentsAreValid){candidateForArgumentError=instantiatedCandidate}else{candidateForTypeArgumentError=originalCandidate;if(!typeArguments){resultOfFailedInference=inferenceContext}}}else{ts.Debug.assert(originalCandidate===candidate);candidateForArgumentError=originalCandidate}}return undefined}}function resolveCallExpression(node,candidatesOutArray){if(node.expression.kind===95){var superType=checkSuperExpression(node.expression);if(superType!==unknownType){var baseTypeNode=ts.getClassExtendsHeritageClauseElement(ts.getContainingClass(node));var baseConstructors=getInstantiatedConstructorsForTypeArguments(superType,baseTypeNode.typeArguments);return resolveCall(node,baseConstructors,candidatesOutArray)}return resolveUntypedCall(node)}var funcType=checkExpression(node.expression);var apparentType=getApparentType(funcType);if(apparentType===unknownType){return resolveErrorCall(node)}var callSignatures=getSignaturesOfType(apparentType,0);var constructSignatures=getSignaturesOfType(apparentType,1);if(isTypeAny(funcType)||!callSignatures.length&&!constructSignatures.length&&!(funcType.flags&16384)&&isTypeAssignableTo(funcType,globalFunctionType)){if(funcType!==unknownType&&node.typeArguments){error(node,ts.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments)}return resolveUntypedCall(node)}if(!callSignatures.length){if(constructSignatures.length){error(node,ts.Diagnostics.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,typeToString(funcType))}else{error(node,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature)}return resolveErrorCall(node)}return resolveCall(node,callSignatures,candidatesOutArray)}function resolveNewExpression(node,candidatesOutArray){if(node.arguments&&languageVersion<1){var spreadIndex=getSpreadArgumentIndex(node.arguments);if(spreadIndex>=0){error(node.arguments[spreadIndex],ts.Diagnostics.Spread_operator_in_new_expressions_is_only_available_when_targeting_ECMAScript_5_and_higher)}}var expressionType=checkExpression(node.expression);expressionType=getApparentType(expressionType);if(expressionType===unknownType){return resolveErrorCall(node)}var valueDecl=expressionType.symbol&&getClassLikeDeclarationOfSymbol(expressionType.symbol);if(valueDecl&&valueDecl.flags&256){error(node,ts.Diagnostics.Cannot_create_an_instance_of_the_abstract_class_0,ts.declarationNameToString(valueDecl.name));return resolveErrorCall(node)}if(isTypeAny(expressionType)){if(node.typeArguments){error(node,ts.Diagnostics.Untyped_function_calls_may_not_accept_type_arguments)}return resolveUntypedCall(node)}var constructSignatures=getSignaturesOfType(expressionType,1);if(constructSignatures.length){return resolveCall(node,constructSignatures,candidatesOutArray)}var callSignatures=getSignaturesOfType(expressionType,0);if(callSignatures.length){var signature=resolveCall(node,callSignatures,candidatesOutArray);if(getReturnTypeOfSignature(signature)!==voidType){error(node,ts.Diagnostics.Only_a_void_function_can_be_called_with_the_new_keyword)}return signature}error(node,ts.Diagnostics.Cannot_use_new_with_an_expression_whose_type_lacks_a_call_or_construct_signature);return resolveErrorCall(node)}function resolveTaggedTemplateExpression(node,candidatesOutArray){var tagType=checkExpression(node.tag);var apparentType=getApparentType(tagType);if(apparentType===unknownType){return resolveErrorCall(node)}var callSignatures=getSignaturesOfType(apparentType,0);if(isTypeAny(tagType)||!callSignatures.length&&!(tagType.flags&16384)&&isTypeAssignableTo(tagType,globalFunctionType)){return resolveUntypedCall(node)}if(!callSignatures.length){error(node,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature);return resolveErrorCall(node)}return resolveCall(node,callSignatures,candidatesOutArray)}function getDiagnosticHeadMessageForDecoratorResolution(node){switch(node.parent.kind){case 214:case 186:return ts.Diagnostics.Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression;case 138:return ts.Diagnostics.Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression;case 141:return ts.Diagnostics.Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression;case 143:case 145:case 146:return ts.Diagnostics.Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression}}function resolveDecorator(node,candidatesOutArray){var funcType=checkExpression(node.expression);var apparentType=getApparentType(funcType);if(apparentType===unknownType){return resolveErrorCall(node)}var callSignatures=getSignaturesOfType(apparentType,0);if(funcType===anyType||!callSignatures.length&&!(funcType.flags&16384)&&isTypeAssignableTo(funcType,globalFunctionType)){return resolveUntypedCall(node)}var headMessage=getDiagnosticHeadMessageForDecoratorResolution(node);if(!callSignatures.length){var errorInfo;errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature);errorInfo=ts.chainDiagnosticMessages(errorInfo,headMessage);diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(node,errorInfo));return resolveErrorCall(node)}return resolveCall(node,callSignatures,candidatesOutArray,headMessage)}function getResolvedSignature(node,candidatesOutArray){var links=getNodeLinks(node);if(!links.resolvedSignature||candidatesOutArray){links.resolvedSignature=anySignature;if(node.kind===168){links.resolvedSignature=resolveCallExpression(node,candidatesOutArray)}else if(node.kind===169){links.resolvedSignature=resolveNewExpression(node,candidatesOutArray)}else if(node.kind===170){links.resolvedSignature=resolveTaggedTemplateExpression(node,candidatesOutArray)}else if(node.kind===139){links.resolvedSignature=resolveDecorator(node,candidatesOutArray)}else{ts.Debug.fail("Branch in 'getResolvedSignature' should be unreachable.")}}return links.resolvedSignature}function checkCallExpression(node){checkGrammarTypeArguments(node,node.typeArguments)||checkGrammarArguments(node,node.arguments);var signature=getResolvedSignature(node);if(node.expression.kind===95){return voidType}if(node.kind===169){var declaration=signature.declaration;if(declaration&&declaration.kind!==144&&declaration.kind!==148&&declaration.kind!==153){if(compilerOptions.noImplicitAny){error(node,ts.Diagnostics.new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type)}return anyType}}return getReturnTypeOfSignature(signature)}function checkTaggedTemplateExpression(node){return getReturnTypeOfSignature(getResolvedSignature(node))}function checkAssertion(node){var exprType=getRegularTypeOfObjectLiteral(checkExpression(node.expression));var targetType=getTypeFromTypeNode(node.type);if(produceDiagnostics&&targetType!==unknownType){var widenedType=getWidenedType(exprType);if(!isTypeAssignableTo(targetType,widenedType)){checkTypeAssignableTo(exprType,targetType,node,ts.Diagnostics.Neither_type_0_nor_type_1_is_assignable_to_the_other)}}return targetType}function getTypeAtPosition(signature,pos){return signature.hasRestParameter?pos<signature.parameters.length-1?getTypeOfSymbol(signature.parameters[pos]):getRestTypeOfSignature(signature):pos<signature.parameters.length?getTypeOfSymbol(signature.parameters[pos]):anyType}function assignContextualParameterTypes(signature,context,mapper){var len=signature.parameters.length-(signature.hasRestParameter?1:0);for(var i=0;i<len;i++){var parameter=signature.parameters[i];var contextualParameterType=getTypeAtPosition(context,i);assignTypeToParameterAndFixTypeParameters(parameter,contextualParameterType,mapper)}if(signature.hasRestParameter&&isRestParameterIndex(context,signature.parameters.length-1)){var parameter=ts.lastOrUndefined(signature.parameters);var contextualParameterType=getTypeOfSymbol(ts.lastOrUndefined(context.parameters));assignTypeToParameterAndFixTypeParameters(parameter,contextualParameterType,mapper)}}function assignBindingElementTypes(node){if(ts.isBindingPattern(node.name)){for(var _i=0,_a=node.name.elements;_i<_a.length;_i++){var element=_a[_i];if(element.kind!==187){if(element.name.kind===69){getSymbolLinks(getSymbolOfNode(element)).type=getTypeForBindingElement(element)}assignBindingElementTypes(element)}}}}function assignTypeToParameterAndFixTypeParameters(parameter,contextualType,mapper){var links=getSymbolLinks(parameter);if(!links.type){links.type=instantiateType(contextualType,mapper);assignBindingElementTypes(parameter.valueDeclaration)}else if(isInferentialContext(mapper)){inferTypes(mapper.context,links.type,instantiateType(contextualType,mapper))}}function createPromiseType(promisedType){var globalPromiseType=getGlobalPromiseType();if(globalPromiseType!==emptyGenericType){promisedType=getAwaitedType(promisedType);return createTypeReference(globalPromiseType,[promisedType])}return emptyObjectType}function getReturnTypeFromBody(func,contextualMapper){var contextualSignature=getContextualSignatureForFunctionLikeDeclaration(func);if(!func.body){return unknownType}var isAsync=ts.isAsyncFunctionLike(func);var type;if(func.body.kind!==192){type=checkExpressionCached(func.body,contextualMapper);if(isAsync){type=checkAwaitedType(type,func,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member)}}else{var types;var funcIsGenerator=!!func.asteriskToken;if(funcIsGenerator){types=checkAndAggregateYieldOperandTypes(func.body,contextualMapper);if(types.length===0){var iterableIteratorAny=createIterableIteratorType(anyType);if(compilerOptions.noImplicitAny){error(func.asteriskToken,ts.Diagnostics.Generator_implicitly_has_type_0_because_it_does_not_yield_any_values_Consider_supplying_a_return_type,typeToString(iterableIteratorAny))}return iterableIteratorAny}}else{types=checkAndAggregateReturnExpressionTypes(func.body,contextualMapper,isAsync);if(types.length===0){if(isAsync){var promiseType=createPromiseType(voidType);if(promiseType===emptyObjectType){error(func,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type);
return unknownType}return promiseType}else{return voidType}}}type=contextualSignature?getUnionType(types):getCommonSupertype(types);if(!type){if(funcIsGenerator){error(func,ts.Diagnostics.No_best_common_type_exists_among_yield_expressions);return createIterableIteratorType(unknownType)}else{error(func,ts.Diagnostics.No_best_common_type_exists_among_return_expressions);return unknownType}}if(funcIsGenerator){type=createIterableIteratorType(type)}}if(!contextualSignature){reportErrorsFromWidening(func,type)}var widenedType=getWidenedType(type);if(isAsync){var promiseType=createPromiseType(widenedType);if(promiseType===emptyObjectType){error(func,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type);return unknownType}return promiseType}else{return widenedType}}function checkAndAggregateYieldOperandTypes(body,contextualMapper){var aggregatedTypes=[];ts.forEachYieldExpression(body,function(yieldExpression){var expr=yieldExpression.expression;if(expr){var type=checkExpressionCached(expr,contextualMapper);if(yieldExpression.asteriskToken){type=checkElementTypeOfIterable(type,yieldExpression.expression)}if(!ts.contains(aggregatedTypes,type)){aggregatedTypes.push(type)}}});return aggregatedTypes}function checkAndAggregateReturnExpressionTypes(body,contextualMapper,isAsync){var aggregatedTypes=[];ts.forEachReturnStatement(body,function(returnStatement){var expr=returnStatement.expression;if(expr){var type=checkExpressionCached(expr,contextualMapper);if(isAsync){type=checkAwaitedType(type,body.parent,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member)}if(!ts.contains(aggregatedTypes,type)){aggregatedTypes.push(type)}}});return aggregatedTypes}function bodyContainsAReturnStatement(funcBody){return ts.forEachReturnStatement(funcBody,function(returnStatement){return true})}function bodyContainsSingleThrowStatement(body){return body.statements.length===1&&body.statements[0].kind===208}function checkIfNonVoidFunctionHasReturnExpressionsOrSingleThrowStatment(func,returnType){if(!produceDiagnostics){return}if(returnType===voidType||isTypeAny(returnType)){return}if(ts.nodeIsMissing(func.body)||func.body.kind!==192){return}var bodyBlock=func.body;if(bodyContainsAReturnStatement(bodyBlock)){return}if(bodyContainsSingleThrowStatement(bodyBlock)){return}error(func.type,ts.Diagnostics.A_function_whose_declared_type_is_neither_void_nor_any_must_return_a_value_or_consist_of_a_single_throw_statement)}function checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper){ts.Debug.assert(node.kind!==143||ts.isObjectLiteralMethod(node));var hasGrammarError=checkGrammarFunctionLikeDeclaration(node);if(!hasGrammarError&&node.kind===173){checkGrammarForGenerator(node)}if(contextualMapper===identityMapper&&isContextSensitive(node)){return anyFunctionType}var isAsync=ts.isAsyncFunctionLike(node);if(isAsync){emitAwaiter=true}var links=getNodeLinks(node);var type=getTypeOfSymbol(node.symbol);var contextSensitive=isContextSensitive(node);var mightFixTypeParameters=contextSensitive&&isInferentialContext(contextualMapper);if(mightFixTypeParameters||!(links.flags&1024)){var contextualSignature=getContextualSignature(node);var contextChecked=!!(links.flags&1024);if(mightFixTypeParameters||!contextChecked){links.flags|=1024;if(contextualSignature){var signature=getSignaturesOfType(type,0)[0];if(contextSensitive){assignContextualParameterTypes(signature,contextualSignature,contextualMapper||identityMapper)}if(mightFixTypeParameters||!node.type&&!signature.resolvedReturnType){var returnType=getReturnTypeFromBody(node,contextualMapper);if(!signature.resolvedReturnType){signature.resolvedReturnType=returnType}}}if(!contextChecked){checkSignatureDeclaration(node)}}}if(produceDiagnostics&&node.kind!==143&&node.kind!==142){checkCollisionWithCapturedSuperVariable(node,node.name);checkCollisionWithCapturedThisVariable(node,node.name)}return type}function checkFunctionExpressionOrObjectLiteralMethodBody(node){ts.Debug.assert(node.kind!==143||ts.isObjectLiteralMethod(node));var isAsync=ts.isAsyncFunctionLike(node);if(isAsync){emitAwaiter=true}var returnType=node.type&&getTypeFromTypeNode(node.type);var promisedType;if(returnType&&isAsync){promisedType=checkAsyncFunctionReturnType(node)}if(returnType&&!node.asteriskToken){checkIfNonVoidFunctionHasReturnExpressionsOrSingleThrowStatment(node,isAsync?promisedType:returnType)}if(node.body){if(!node.type){getReturnTypeOfSignature(getSignatureFromDeclaration(node))}if(node.body.kind===192){checkSourceElement(node.body)}else{var exprType=checkExpression(node.body);if(returnType){if(isAsync){var awaitedType=checkAwaitedType(exprType,node.body,ts.Diagnostics.Expression_body_for_async_arrow_function_does_not_have_a_valid_callable_then_member);checkTypeAssignableTo(awaitedType,promisedType,node.body)}else{checkTypeAssignableTo(exprType,returnType,node.body)}}checkFunctionAndClassExpressionBodies(node.body)}}}function checkArithmeticOperandType(operand,type,diagnostic){if(!isTypeAnyOrAllConstituentTypesHaveKind(type,132)){error(operand,diagnostic);return false}return true}function checkReferenceExpression(n,invalidReferenceMessage,constantVariableMessage){function findSymbol(n){var symbol=getNodeLinks(n).resolvedSymbol;return symbol&&getExportSymbolOfValueSymbolIfExported(symbol)}function isReferenceOrErrorExpression(n){switch(n.kind){case 69:{var symbol=findSymbol(n);return!symbol||symbol===unknownSymbol||symbol===argumentsSymbol||(symbol.flags&3)!==0}case 166:{var symbol=findSymbol(n);return!symbol||symbol===unknownSymbol||(symbol.flags&~8)!==0}case 167:return true;case 172:return isReferenceOrErrorExpression(n.expression);default:return false}}function isConstVariableReference(n){switch(n.kind){case 69:case 166:{var symbol=findSymbol(n);return symbol&&(symbol.flags&3)!==0&&(getDeclarationFlagsFromSymbol(symbol)&32768)!==0}case 167:{var index=n.argumentExpression;var symbol=findSymbol(n.expression);if(symbol&&index&&index.kind===9){var name_12=index.text;var prop=getPropertyOfType(getTypeOfSymbol(symbol),name_12);return prop&&(prop.flags&3)!==0&&(getDeclarationFlagsFromSymbol(prop)&32768)!==0}return false}case 172:return isConstVariableReference(n.expression);default:return false}}if(!isReferenceOrErrorExpression(n)){error(n,invalidReferenceMessage);return false}if(isConstVariableReference(n)){error(n,constantVariableMessage);return false}return true}function checkDeleteExpression(node){checkExpression(node.expression);return booleanType}function checkTypeOfExpression(node){checkExpression(node.expression);return stringType}function checkVoidExpression(node){checkExpression(node.expression);return undefinedType}function checkAwaitExpression(node){if(produceDiagnostics){if(!(node.parserContextFlags&8)){grammarErrorOnFirstToken(node,ts.Diagnostics.await_expression_is_only_allowed_within_an_async_function)}if(isInParameterInitializerBeforeContainingFunction(node)){error(node,ts.Diagnostics.await_expressions_cannot_be_used_in_a_parameter_initializer)}}var operandType=checkExpression(node.expression);return checkAwaitedType(operandType,node)}function checkPrefixUnaryExpression(node){var operandType=checkExpression(node.operand);switch(node.operator){case 35:case 36:case 50:if(someConstituentTypeHasKind(operandType,16777216)){error(node.operand,ts.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,ts.tokenToString(node.operator))}return numberType;case 49:return booleanType;case 41:case 42:var ok=checkArithmeticOperandType(node.operand,operandType,ts.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type);if(ok){checkReferenceExpression(node.operand,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant)}return numberType}return unknownType}function checkPostfixUnaryExpression(node){var operandType=checkExpression(node.operand);var ok=checkArithmeticOperandType(node.operand,operandType,ts.Diagnostics.An_arithmetic_operand_must_be_of_type_any_number_or_an_enum_type);if(ok){checkReferenceExpression(node.operand,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer,ts.Diagnostics.The_operand_of_an_increment_or_decrement_operator_cannot_be_a_constant)}return numberType}function someConstituentTypeHasKind(type,kind){if(type.flags&kind){return true}if(type.flags&49152){var types=type.types;for(var _i=0;_i<types.length;_i++){var current=types[_i];if(current.flags&kind){return true}}return false}return false}function allConstituentTypesHaveKind(type,kind){if(type.flags&kind){return true}if(type.flags&49152){var types=type.types;for(var _i=0;_i<types.length;_i++){var current=types[_i];if(!(current.flags&kind)){return false}}return true}return false}function isConstEnumObjectType(type){return type.flags&(80896|65536)&&type.symbol&&isConstEnumSymbol(type.symbol)}function isConstEnumSymbol(symbol){return(symbol.flags&128)!==0}function checkInstanceOfExpression(left,right,leftType,rightType){if(allConstituentTypesHaveKind(leftType,16777726)){error(left,ts.Diagnostics.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter)}if(!(isTypeAny(rightType)||isTypeSubtypeOf(rightType,globalFunctionType))){error(right,ts.Diagnostics.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type)}return booleanType}function checkInExpression(left,right,leftType,rightType){if(!isTypeAnyOrAllConstituentTypesHaveKind(leftType,258|132|16777216)){error(left,ts.Diagnostics.The_left_hand_side_of_an_in_expression_must_be_of_type_any_string_number_or_symbol)}if(!isTypeAnyOrAllConstituentTypesHaveKind(rightType,80896|512)){error(right,ts.Diagnostics.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter)}return booleanType}function checkObjectLiteralAssignment(node,sourceType,contextualMapper){var properties=node.properties;for(var _i=0;_i<properties.length;_i++){var p=properties[_i];if(p.kind===245||p.kind===246){var name_13=p.name;var type=isTypeAny(sourceType)?sourceType:getTypeOfPropertyOfType(sourceType,name_13.text)||isNumericLiteralName(name_13.text)&&getIndexTypeOfType(sourceType,1)||getIndexTypeOfType(sourceType,0);if(type){if(p.kind===246){checkDestructuringAssignment(p,type)}else{checkDestructuringAssignment(p.initializer||name_13,type)}}else{error(name_13,ts.Diagnostics.Type_0_has_no_property_1_and_no_string_index_signature,typeToString(sourceType),ts.declarationNameToString(name_13))}}else{error(p,ts.Diagnostics.Property_assignment_expected)}}return sourceType}function checkArrayLiteralAssignment(node,sourceType,contextualMapper){var elementType=checkIteratedTypeOrElementType(sourceType,node,false)||unknownType;var elements=node.elements;for(var i=0;i<elements.length;i++){var e=elements[i];if(e.kind!==187){if(e.kind!==185){var propName=""+i;var type=isTypeAny(sourceType)?sourceType:isTupleLikeType(sourceType)?getTypeOfPropertyOfType(sourceType,propName):elementType;if(type){checkDestructuringAssignment(e,type,contextualMapper)}else{if(isTupleType(sourceType)){error(e,ts.Diagnostics.Tuple_type_0_with_length_1_cannot_be_assigned_to_tuple_with_length_2,typeToString(sourceType),sourceType.elementTypes.length,elements.length)}else{error(e,ts.Diagnostics.Type_0_has_no_property_1,typeToString(sourceType),propName)}}}else{if(i<elements.length-1){error(e,ts.Diagnostics.A_rest_element_must_be_last_in_an_array_destructuring_pattern)}else{var restExpression=e.expression;if(restExpression.kind===181&&restExpression.operatorToken.kind===56){error(restExpression.operatorToken,ts.Diagnostics.A_rest_element_cannot_have_an_initializer)}else{checkDestructuringAssignment(restExpression,createArrayType(elementType),contextualMapper)}}}}}return sourceType}function checkDestructuringAssignment(exprOrAssignment,sourceType,contextualMapper){var target;if(exprOrAssignment.kind===246){var prop=exprOrAssignment;if(prop.objectAssignmentInitializer){checkBinaryLikeExpression(prop.name,prop.equalsToken,prop.objectAssignmentInitializer,contextualMapper)}target=exprOrAssignment.name}else{target=exprOrAssignment}if(target.kind===181&&target.operatorToken.kind===56){checkBinaryExpression(target,contextualMapper);target=target.left}if(target.kind===165){return checkObjectLiteralAssignment(target,sourceType,contextualMapper)}if(target.kind===164){return checkArrayLiteralAssignment(target,sourceType,contextualMapper)}return checkReferenceAssignment(target,sourceType,contextualMapper)}function checkReferenceAssignment(target,sourceType,contextualMapper){var targetType=checkExpression(target,contextualMapper);if(checkReferenceExpression(target,ts.Diagnostics.Invalid_left_hand_side_of_assignment_expression,ts.Diagnostics.Left_hand_side_of_assignment_expression_cannot_be_a_constant)){checkTypeAssignableTo(sourceType,targetType,target,undefined)}return sourceType}function checkBinaryExpression(node,contextualMapper){return checkBinaryLikeExpression(node.left,node.operatorToken,node.right,contextualMapper,node)}function checkBinaryLikeExpression(left,operatorToken,right,contextualMapper,errorNode){var operator=operatorToken.kind;if(operator===56&&(left.kind===165||left.kind===164)){return checkDestructuringAssignment(left,checkExpression(right,contextualMapper),contextualMapper)}var leftType=checkExpression(left,contextualMapper);var rightType=checkExpression(right,contextualMapper);switch(operator){case 37:case 38:case 59:case 60:case 39:case 61:case 40:case 62:case 36:case 58:case 43:case 63:case 44:case 64:case 45:case 65:case 47:case 67:case 48:case 68:case 46:case 66:if(leftType.flags&(32|64))leftType=rightType;if(rightType.flags&(32|64))rightType=leftType;var suggestedOperator;if(leftType.flags&8&&rightType.flags&8&&(suggestedOperator=getSuggestedBooleanOperator(operatorToken.kind))!==undefined){error(errorNode||operatorToken,ts.Diagnostics.The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead,ts.tokenToString(operatorToken.kind),ts.tokenToString(suggestedOperator))}else{var leftOk=checkArithmeticOperandType(left,leftType,ts.Diagnostics.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type);var rightOk=checkArithmeticOperandType(right,rightType,ts.Diagnostics.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type);if(leftOk&&rightOk){checkAssignmentOperator(numberType)}}return numberType;case 35:case 57:if(leftType.flags&(32|64))leftType=rightType;if(rightType.flags&(32|64))rightType=leftType;var resultType;if(allConstituentTypesHaveKind(leftType,132)&&allConstituentTypesHaveKind(rightType,132)){resultType=numberType}else{if(allConstituentTypesHaveKind(leftType,258)||allConstituentTypesHaveKind(rightType,258)){resultType=stringType}else if(isTypeAny(leftType)||isTypeAny(rightType)){resultType=leftType===unknownType||rightType===unknownType?unknownType:anyType}if(resultType&&!checkForDisallowedESSymbolOperand(operator)){return resultType}}if(!resultType){reportOperatorError();return anyType}if(operator===57){checkAssignmentOperator(resultType)}return resultType;case 25:case 27:case 28:case 29:if(!checkForDisallowedESSymbolOperand(operator)){return booleanType}case 30:case 31:case 32:case 33:if(!isTypeAssignableTo(leftType,rightType)&&!isTypeAssignableTo(rightType,leftType)){reportOperatorError()}return booleanType;case 91:return checkInstanceOfExpression(left,right,leftType,rightType);case 90:return checkInExpression(left,right,leftType,rightType);case 51:return rightType;case 52:return getUnionType([leftType,rightType]);case 56:checkAssignmentOperator(rightType);return getRegularTypeOfObjectLiteral(rightType);case 24:return rightType}function checkForDisallowedESSymbolOperand(operator){var offendingSymbolOperand=someConstituentTypeHasKind(leftType,16777216)?left:someConstituentTypeHasKind(rightType,16777216)?right:undefined;if(offendingSymbolOperand){error(offendingSymbolOperand,ts.Diagnostics.The_0_operator_cannot_be_applied_to_type_symbol,ts.tokenToString(operator));return false}return true}function getSuggestedBooleanOperator(operator){switch(operator){case 47:case 67:return 52;case 48:case 68:return 33;case 46:case 66:return 51;default:return undefined}}function checkAssignmentOperator(valueType){if(produceDiagnostics&&operator>=56&&operator<=68){var ok=checkReferenceExpression(left,ts.Diagnostics.Invalid_left_hand_side_of_assignment_expression,ts.Diagnostics.Left_hand_side_of_assignment_expression_cannot_be_a_constant);if(ok){checkTypeAssignableTo(valueType,leftType,left,undefined)}}}function reportOperatorError(){error(errorNode||operatorToken,ts.Diagnostics.Operator_0_cannot_be_applied_to_types_1_and_2,ts.tokenToString(operatorToken.kind),typeToString(leftType),typeToString(rightType))}}function isYieldExpressionInClass(node){var current=node;var parent=node.parent;while(parent){if(ts.isFunctionLike(parent)&&current===parent.body){return false}else if(ts.isClassLike(current)){return true}current=parent;parent=parent.parent}return false}function checkYieldExpression(node){if(produceDiagnostics){if(!(node.parserContextFlags&2)||isYieldExpressionInClass(node)){grammarErrorOnFirstToken(node,ts.Diagnostics.A_yield_expression_is_only_allowed_in_a_generator_body)}if(isInParameterInitializerBeforeContainingFunction(node)){error(node,ts.Diagnostics.yield_expressions_cannot_be_used_in_a_parameter_initializer)}}if(node.expression){var func=ts.getContainingFunction(node);if(func&&func.asteriskToken){var expressionType=checkExpressionCached(node.expression,undefined);var expressionElementType;var nodeIsYieldStar=!!node.asteriskToken;if(nodeIsYieldStar){expressionElementType=checkElementTypeOfIterable(expressionType,node.expression)}if(func.type){var signatureElementType=getElementTypeOfIterableIterator(getTypeFromTypeNode(func.type))||anyType;if(nodeIsYieldStar){checkTypeAssignableTo(expressionElementType,signatureElementType,node.expression,undefined)}else{checkTypeAssignableTo(expressionType,signatureElementType,node.expression,undefined)}}}}return anyType}function checkConditionalExpression(node,contextualMapper){checkExpression(node.condition);var type1=checkExpression(node.whenTrue,contextualMapper);var type2=checkExpression(node.whenFalse,contextualMapper);return getUnionType([type1,type2])}function checkTemplateExpression(node){ts.forEach(node.templateSpans,function(templateSpan){checkExpression(templateSpan.expression)});return stringType}function checkExpressionWithContextualType(node,contextualType,contextualMapper){var saveContextualType=node.contextualType;node.contextualType=contextualType;var result=checkExpression(node,contextualMapper);node.contextualType=saveContextualType;return result}function checkExpressionCached(node,contextualMapper){var links=getNodeLinks(node);if(!links.resolvedType){links.resolvedType=checkExpression(node,contextualMapper)}return links.resolvedType}function checkPropertyAssignment(node,contextualMapper){if(node.name.kind===136){checkComputedPropertyName(node.name)}return checkExpression(node.initializer,contextualMapper)}function checkObjectLiteralMethod(node,contextualMapper){checkGrammarMethod(node);if(node.name.kind===136){checkComputedPropertyName(node.name)}var uninstantiatedType=checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper);return instantiateTypeWithSingleGenericCallSignature(node,uninstantiatedType,contextualMapper)}function instantiateTypeWithSingleGenericCallSignature(node,type,contextualMapper){if(isInferentialContext(contextualMapper)){var signature=getSingleCallSignature(type);if(signature&&signature.typeParameters){var contextualType=getContextualType(node);if(contextualType){var contextualSignature=getSingleCallSignature(contextualType);if(contextualSignature&&!contextualSignature.typeParameters){return getOrCreateTypeFromSignature(instantiateSignatureInContextOf(signature,contextualSignature,contextualMapper))}}}}return type}function checkExpression(node,contextualMapper){var type;if(node.kind===135){type=checkQualifiedName(node)}else{var uninstantiatedType=checkExpressionWorker(node,contextualMapper);type=instantiateTypeWithSingleGenericCallSignature(node,uninstantiatedType,contextualMapper)}if(isConstEnumObjectType(type)){var ok=node.parent.kind===166&&node.parent.expression===node||node.parent.kind===167&&node.parent.expression===node||(node.kind===69||node.kind===135)&&isInRightSideOfImportOrExportAssignment(node);if(!ok){error(node,ts.Diagnostics.const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment)}}return type}function checkNumericLiteral(node){checkGrammarNumericLiteral(node);return numberType}function checkExpressionWorker(node,contextualMapper){switch(node.kind){case 69:return checkIdentifier(node);case 97:return checkThisExpression(node);case 95:return checkSuperExpression(node);case 93:return nullType;case 99:case 84:return booleanType;case 8:return checkNumericLiteral(node);case 183:return checkTemplateExpression(node);case 9:case 11:return stringType;case 10:return globalRegExpType;case 164:return checkArrayLiteral(node,contextualMapper);case 165:return checkObjectLiteral(node,contextualMapper);case 166:return checkPropertyAccessExpression(node);case 167:return checkIndexedAccess(node);case 168:case 169:return checkCallExpression(node);case 170:return checkTaggedTemplateExpression(node);case 172:return checkExpression(node.expression,contextualMapper);case 186:return checkClassExpression(node);case 173:case 174:return checkFunctionExpressionOrObjectLiteralMethod(node,contextualMapper);case 176:return checkTypeOfExpression(node);case 171:case 189:return checkAssertion(node);case 175:return checkDeleteExpression(node);case 177:return checkVoidExpression(node);case 178:return checkAwaitExpression(node);case 179:return checkPrefixUnaryExpression(node);case 180:return checkPostfixUnaryExpression(node);case 181:return checkBinaryExpression(node,contextualMapper);case 182:return checkConditionalExpression(node,contextualMapper);case 185:return checkSpreadElementExpression(node,contextualMapper);case 187:return undefinedType;case 184:return checkYieldExpression(node);case 240:return checkJsxExpression(node);case 233:return checkJsxElement(node);case 234:return checkJsxSelfClosingElement(node);case 235:ts.Debug.fail("Shouldn't ever directly check a JsxOpeningElement")}return unknownType}function checkTypeParameter(node){if(node.expression){grammarErrorOnFirstToken(node.expression,ts.Diagnostics.Type_expected)}checkSourceElement(node.constraint);if(produceDiagnostics){checkTypeParameterHasIllegalReferencesInConstraint(node);checkTypeNameIsReserved(node.name,ts.Diagnostics.Type_parameter_name_cannot_be_0)}}function checkParameter(node){checkGrammarDecorators(node)||checkGrammarModifiers(node);checkVariableLikeDeclaration(node);var func=ts.getContainingFunction(node);if(node.flags&112){func=ts.getContainingFunction(node);if(!(func.kind===144&&ts.nodeIsPresent(func.body))){error(node,ts.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation)}}if(node.questionToken&&ts.isBindingPattern(node.name)&&func.body){error(node,ts.Diagnostics.A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature)}if(node.dotDotDotToken&&!ts.isBindingPattern(node.name)&&!isArrayType(getTypeOfSymbol(node.symbol))){error(node,ts.Diagnostics.A_rest_parameter_must_be_of_an_array_type)}}function isSyntacticallyValidGenerator(node){if(!node.asteriskToken||!node.body){return false}return node.kind===143||node.kind===213||node.kind===173}function getTypePredicateParameterIndex(parameterList,parameter){if(parameterList){for(var i=0;i<parameterList.length;i++){var param=parameterList[i];if(param.name.kind===69&&param.name.text===parameter.text){return i}}}return-1}function isInLegalTypePredicatePosition(node){switch(node.parent.kind){case 174:case 147:case 213:case 173:case 152:case 143:case 142:return node===node.parent.type}return false}function checkSignatureDeclaration(node){if(node.kind===149){checkGrammarIndexSignature(node)}else if(node.kind===152||node.kind===213||node.kind===153||node.kind===147||node.kind===144||node.kind===148){checkGrammarFunctionLikeDeclaration(node)}checkTypeParameters(node.typeParameters);ts.forEach(node.parameters,checkParameter);if(node.type){if(node.type.kind===150){var typePredicate=getSignatureFromDeclaration(node).typePredicate;var typePredicateNode=node.type;if(isInLegalTypePredicatePosition(typePredicateNode)){if(typePredicate.parameterIndex>=0){if(node.parameters[typePredicate.parameterIndex].dotDotDotToken){error(typePredicateNode.parameterName,ts.Diagnostics.A_type_predicate_cannot_reference_a_rest_parameter)}else{checkTypeAssignableTo(typePredicate.type,getTypeOfNode(node.parameters[typePredicate.parameterIndex]),typePredicateNode.type)}}else if(typePredicateNode.parameterName){var hasReportedError=false;for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var param=_a[_i];if(hasReportedError){break}if(param.name.kind===161||param.name.kind===162){(function checkBindingPattern(pattern){for(var _i=0,_a=pattern.elements;_i<_a.length;_i++){var element=_a[_i];if(element.name.kind===69&&element.name.text===typePredicate.parameterName){error(typePredicateNode.parameterName,ts.Diagnostics.A_type_predicate_cannot_reference_element_0_in_a_binding_pattern,typePredicate.parameterName);hasReportedError=true;break}else if(element.name.kind===162||element.name.kind===161){checkBindingPattern(element.name)}}})(param.name)}}if(!hasReportedError){error(typePredicateNode.parameterName,ts.Diagnostics.Cannot_find_parameter_0,typePredicate.parameterName)}}}else{error(typePredicateNode,ts.Diagnostics.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods)}}else{checkSourceElement(node.type)}}if(produceDiagnostics){checkCollisionWithArgumentsInGeneratedCode(node);if(compilerOptions.noImplicitAny&&!node.type){switch(node.kind){case 148:error(node,ts.Diagnostics.Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;case 147:error(node,ts.Diagnostics.Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break}}if(node.type){if(languageVersion>=2&&isSyntacticallyValidGenerator(node)){var returnType=getTypeFromTypeNode(node.type);if(returnType===voidType){error(node.type,ts.Diagnostics.A_generator_cannot_have_a_void_type_annotation)}else{var generatorElementType=getElementTypeOfIterableIterator(returnType)||anyType;var iterableIteratorInstantiation=createIterableIteratorType(generatorElementType);checkTypeAssignableTo(iterableIteratorInstantiation,returnType,node.type)}}}}checkSpecializedSignatureDeclaration(node)}function checkTypeForDuplicateIndexSignatures(node){if(node.kind===215){var nodeSymbol=getSymbolOfNode(node);if(nodeSymbol.declarations.length>0&&nodeSymbol.declarations[0]!==node){return}}var indexSymbol=getIndexSymbol(getSymbolOfNode(node));if(indexSymbol){var seenNumericIndexer=false;var seenStringIndexer=false;for(var _i=0,_a=indexSymbol.declarations;_i<_a.length;_i++){var decl=_a[_i];var declaration=decl;if(declaration.parameters.length===1&&declaration.parameters[0].type){switch(declaration.parameters[0].type.kind){case 130:if(!seenStringIndexer){seenStringIndexer=true}else{error(declaration,ts.Diagnostics.Duplicate_string_index_signature)}break;case 128:if(!seenNumericIndexer){seenNumericIndexer=true}else{error(declaration,ts.Diagnostics.Duplicate_number_index_signature)}break}}}}}function checkPropertyDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarProperty(node)||checkGrammarComputedPropertyName(node.name);checkVariableLikeDeclaration(node)}function checkMethodDeclaration(node){checkGrammarMethod(node)||checkGrammarComputedPropertyName(node.name);checkFunctionLikeDeclaration(node);if(node.flags&256&&node.body){error(node,ts.Diagnostics.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract,ts.declarationNameToString(node.name))}}function checkConstructorDeclaration(node){checkSignatureDeclaration(node);checkGrammarConstructorTypeParameters(node)||checkGrammarConstructorTypeAnnotation(node);checkSourceElement(node.body);var symbol=getSymbolOfNode(node);var firstDeclaration=ts.getDeclarationOfKind(symbol,node.kind);if(node===firstDeclaration){checkFunctionOrConstructorSymbol(symbol)}if(ts.nodeIsMissing(node.body)){return}if(!produceDiagnostics){return}function isSuperCallExpression(n){return n.kind===168&&n.expression.kind===95}function containsSuperCallAsComputedPropertyName(n){return n.name&&containsSuperCall(n.name)}function containsSuperCall(n){if(isSuperCallExpression(n)){return true}else if(ts.isFunctionLike(n)){return false}else if(ts.isClassLike(n)){return ts.forEach(n.members,containsSuperCallAsComputedPropertyName)}return ts.forEachChild(n,containsSuperCall)}function markThisReferencesAsErrors(n){if(n.kind===97){error(n,ts.Diagnostics.this_cannot_be_referenced_in_current_location)}else if(n.kind!==173&&n.kind!==213){ts.forEachChild(n,markThisReferencesAsErrors)}}function isInstancePropertyWithInitializer(n){return n.kind===141&&!(n.flags&128)&&!!n.initializer}var containingClassDecl=node.parent;if(ts.getClassExtendsHeritageClauseElement(containingClassDecl)){var containingClassSymbol=getSymbolOfNode(containingClassDecl);var containingClassInstanceType=getDeclaredTypeOfSymbol(containingClassSymbol);var baseConstructorType=getBaseConstructorTypeOfClass(containingClassInstanceType);if(containsSuperCall(node.body)){if(baseConstructorType===nullType){error(node,ts.Diagnostics.A_constructor_cannot_contain_a_super_call_when_its_class_extends_null)}var superCallShouldBeFirst=ts.forEach(node.parent.members,isInstancePropertyWithInitializer)||ts.forEach(node.parameters,function(p){return p.flags&(16|32|64)});if(superCallShouldBeFirst){var statements=node.body.statements;var superCallStatement;for(var _i=0;_i<statements.length;_i++){var statement=statements[_i];if(statement.kind===195&&isSuperCallExpression(statement.expression)){superCallStatement=statement;break}if(!ts.isPrologueDirective(statement)){break}}if(!superCallStatement){error(node,ts.Diagnostics.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties)}else{markThisReferencesAsErrors(superCallStatement.expression)}}}else if(baseConstructorType!==nullType){error(node,ts.Diagnostics.Constructors_for_derived_classes_must_contain_a_super_call)}}}function checkAccessorDeclaration(node){if(produceDiagnostics){checkGrammarFunctionLikeDeclaration(node)||checkGrammarAccessor(node)||checkGrammarComputedPropertyName(node.name);if(node.kind===145){if(!ts.isInAmbientContext(node)&&ts.nodeIsPresent(node.body)&&!(bodyContainsAReturnStatement(node.body)||bodyContainsSingleThrowStatement(node.body))){error(node.name,ts.Diagnostics.A_get_accessor_must_return_a_value_or_consist_of_a_single_throw_statement)}}if(!ts.hasDynamicName(node)){var otherKind=node.kind===145?146:145;var otherAccessor=ts.getDeclarationOfKind(node.symbol,otherKind);if(otherAccessor){if((node.flags&112)!==(otherAccessor.flags&112)){error(node.name,ts.Diagnostics.Getter_and_setter_accessors_do_not_agree_in_visibility)}var currentAccessorType=getAnnotatedAccessorType(node);var otherAccessorType=getAnnotatedAccessorType(otherAccessor);if(currentAccessorType&&otherAccessorType){if(!isTypeIdenticalTo(currentAccessorType,otherAccessorType)){error(node,ts.Diagnostics.get_and_set_accessor_must_have_the_same_type)}}}}getTypeOfAccessors(getSymbolOfNode(node))}checkFunctionLikeDeclaration(node)}function checkMissingDeclaration(node){checkDecorators(node)}function checkTypeArgumentConstraints(typeParameters,typeArguments){
var result=true;for(var i=0;i<typeParameters.length;i++){var constraint=getConstraintOfTypeParameter(typeParameters[i]);if(constraint){var typeArgument=typeArguments[i];result=result&&checkTypeAssignableTo(getTypeFromTypeNode(typeArgument),constraint,typeArgument,ts.Diagnostics.Type_0_does_not_satisfy_the_constraint_1)}}return result}function checkTypeReferenceNode(node){checkGrammarTypeArguments(node,node.typeArguments);var type=getTypeFromTypeReference(node);if(type!==unknownType&&node.typeArguments){ts.forEach(node.typeArguments,checkSourceElement);if(produceDiagnostics){var symbol=getNodeLinks(node).resolvedSymbol;var typeParameters=symbol.flags&524288?getSymbolLinks(symbol).typeParameters:type.target.localTypeParameters;checkTypeArgumentConstraints(typeParameters,node.typeArguments)}}}function checkTypeQuery(node){getTypeFromTypeQueryNode(node)}function checkTypeLiteral(node){ts.forEach(node.members,checkSourceElement);if(produceDiagnostics){var type=getTypeFromTypeLiteralOrFunctionOrConstructorTypeNode(node);checkIndexConstraints(type);checkTypeForDuplicateIndexSignatures(node)}}function checkArrayType(node){checkSourceElement(node.elementType)}function checkTupleType(node){var hasErrorFromDisallowedTrailingComma=checkGrammarForDisallowedTrailingComma(node.elementTypes);if(!hasErrorFromDisallowedTrailingComma&&node.elementTypes.length===0){grammarErrorOnNode(node,ts.Diagnostics.A_tuple_type_element_list_cannot_be_empty)}ts.forEach(node.elementTypes,checkSourceElement)}function checkUnionOrIntersectionType(node){ts.forEach(node.types,checkSourceElement)}function isPrivateWithinAmbient(node){return node.flags&32&&ts.isInAmbientContext(node)}function checkSpecializedSignatureDeclaration(signatureDeclarationNode){if(!produceDiagnostics){return}var signature=getSignatureFromDeclaration(signatureDeclarationNode);if(!signature.hasStringLiterals){return}if(ts.nodeIsPresent(signatureDeclarationNode.body)){error(signatureDeclarationNode,ts.Diagnostics.A_signature_with_an_implementation_cannot_use_a_string_literal_type);return}var signaturesToCheck;if(!signatureDeclarationNode.name&&signatureDeclarationNode.parent&&signatureDeclarationNode.parent.kind===215){ts.Debug.assert(signatureDeclarationNode.kind===147||signatureDeclarationNode.kind===148);var signatureKind=signatureDeclarationNode.kind===147?0:1;var containingSymbol=getSymbolOfNode(signatureDeclarationNode.parent);var containingType=getDeclaredTypeOfSymbol(containingSymbol);signaturesToCheck=getSignaturesOfType(containingType,signatureKind)}else{signaturesToCheck=getSignaturesOfSymbol(getSymbolOfNode(signatureDeclarationNode))}for(var _i=0;_i<signaturesToCheck.length;_i++){var otherSignature=signaturesToCheck[_i];if(!otherSignature.hasStringLiterals&&isSignatureAssignableTo(signature,otherSignature)){return}}error(signatureDeclarationNode,ts.Diagnostics.Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature)}function getEffectiveDeclarationFlags(n,flagsToCheck){var flags=ts.getCombinedNodeFlags(n);if(n.parent.kind!==215&&n.parent.kind!==214&&n.parent.kind!==186&&ts.isInAmbientContext(n)){if(!(flags&2)){flags|=1}flags|=2}return flags&flagsToCheck}function checkFunctionOrConstructorSymbol(symbol){if(!produceDiagnostics){return}function getCanonicalOverload(overloads,implementation){var implementationSharesContainerWithFirstOverload=implementation!==undefined&&implementation.parent===overloads[0].parent;return implementationSharesContainerWithFirstOverload?implementation:overloads[0]}function checkFlagAgreementBetweenOverloads(overloads,implementation,flagsToCheck,someOverloadFlags,allOverloadFlags){var someButNotAllOverloadFlags=someOverloadFlags^allOverloadFlags;if(someButNotAllOverloadFlags!==0){var canonicalFlags=getEffectiveDeclarationFlags(getCanonicalOverload(overloads,implementation),flagsToCheck);ts.forEach(overloads,function(o){var deviation=getEffectiveDeclarationFlags(o,flagsToCheck)^canonicalFlags;if(deviation&1){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_exported_or_not_exported)}else if(deviation&2){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_ambient_or_non_ambient)}else if(deviation&(32|64)){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_public_private_or_protected)}else if(deviation&256){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_abstract_or_not_abstract)}})}}function checkQuestionTokenAgreementBetweenOverloads(overloads,implementation,someHaveQuestionToken,allHaveQuestionToken){if(someHaveQuestionToken!==allHaveQuestionToken){var canonicalHasQuestionToken=ts.hasQuestionToken(getCanonicalOverload(overloads,implementation));ts.forEach(overloads,function(o){var deviation=ts.hasQuestionToken(o)!==canonicalHasQuestionToken;if(deviation){error(o.name,ts.Diagnostics.Overload_signatures_must_all_be_optional_or_required)}})}}var flagsToCheck=1|2|32|64|256;var someNodeFlags=0;var allNodeFlags=flagsToCheck;var someHaveQuestionToken=false;var allHaveQuestionToken=true;var hasOverloads=false;var bodyDeclaration;var lastSeenNonAmbientDeclaration;var previousDeclaration;var declarations=symbol.declarations;var isConstructor=(symbol.flags&16384)!==0;function reportImplementationExpectedError(node){if(node.name&&ts.nodeIsMissing(node.name)){return}var seen=false;var subsequentNode=ts.forEachChild(node.parent,function(c){if(seen){return c}else{seen=c===node}});if(subsequentNode){if(subsequentNode.kind===node.kind){var errorNode_1=subsequentNode.name||subsequentNode;if(node.name&&subsequentNode.name&&node.name.text===subsequentNode.name.text){var reportError=(node.kind===143||node.kind===142)&&(node.flags&128)!==(subsequentNode.flags&128);if(reportError){var diagnostic=node.flags&128?ts.Diagnostics.Function_overload_must_be_static:ts.Diagnostics.Function_overload_must_not_be_static;error(errorNode_1,diagnostic)}return}else if(ts.nodeIsPresent(subsequentNode.body)){error(errorNode_1,ts.Diagnostics.Function_implementation_name_must_be_0,ts.declarationNameToString(node.name));return}}}var errorNode=node.name||node;if(isConstructor){error(errorNode,ts.Diagnostics.Constructor_implementation_is_missing)}else{if(node.flags&256){error(errorNode,ts.Diagnostics.All_declarations_of_an_abstract_method_must_be_consecutive)}else{error(errorNode,ts.Diagnostics.Function_implementation_is_missing_or_not_immediately_following_the_declaration)}}}var isExportSymbolInsideModule=symbol.parent&&symbol.parent.flags&1536;var duplicateFunctionDeclaration=false;var multipleConstructorImplementation=false;for(var _i=0;_i<declarations.length;_i++){var current=declarations[_i];var node=current;var inAmbientContext=ts.isInAmbientContext(node);var inAmbientContextOrInterface=node.parent.kind===215||node.parent.kind===155||inAmbientContext;if(inAmbientContextOrInterface){previousDeclaration=undefined}if(node.kind===213||node.kind===143||node.kind===142||node.kind===144){var currentNodeFlags=getEffectiveDeclarationFlags(node,flagsToCheck);someNodeFlags|=currentNodeFlags;allNodeFlags&=currentNodeFlags;someHaveQuestionToken=someHaveQuestionToken||ts.hasQuestionToken(node);allHaveQuestionToken=allHaveQuestionToken&&ts.hasQuestionToken(node);if(ts.nodeIsPresent(node.body)&&bodyDeclaration){if(isConstructor){multipleConstructorImplementation=true}else{duplicateFunctionDeclaration=true}}else if(!isExportSymbolInsideModule&&previousDeclaration&&previousDeclaration.parent===node.parent&&previousDeclaration.end!==node.pos){reportImplementationExpectedError(previousDeclaration)}if(ts.nodeIsPresent(node.body)){if(!bodyDeclaration){bodyDeclaration=node}}else{hasOverloads=true}previousDeclaration=node;if(!inAmbientContextOrInterface){lastSeenNonAmbientDeclaration=node}}}if(multipleConstructorImplementation){ts.forEach(declarations,function(declaration){error(declaration,ts.Diagnostics.Multiple_constructor_implementations_are_not_allowed)})}if(duplicateFunctionDeclaration){ts.forEach(declarations,function(declaration){error(declaration.name,ts.Diagnostics.Duplicate_function_implementation)})}if(!isExportSymbolInsideModule&&lastSeenNonAmbientDeclaration&&!lastSeenNonAmbientDeclaration.body&&!(lastSeenNonAmbientDeclaration.flags&256)){reportImplementationExpectedError(lastSeenNonAmbientDeclaration)}if(hasOverloads){checkFlagAgreementBetweenOverloads(declarations,bodyDeclaration,flagsToCheck,someNodeFlags,allNodeFlags);checkQuestionTokenAgreementBetweenOverloads(declarations,bodyDeclaration,someHaveQuestionToken,allHaveQuestionToken);if(bodyDeclaration){var signatures=getSignaturesOfSymbol(symbol);var bodySignature=getSignatureFromDeclaration(bodyDeclaration);if(!bodySignature.hasStringLiterals){for(var _a=0;_a<signatures.length;_a++){var signature=signatures[_a];if(!signature.hasStringLiterals&&!isSignatureAssignableTo(bodySignature,signature)){error(signature.declaration,ts.Diagnostics.Overload_signature_is_not_compatible_with_function_implementation);break}}}}}}function checkExportsOnMergedDeclarations(node){if(!produceDiagnostics){return}var symbol=node.localSymbol;if(!symbol){symbol=getSymbolOfNode(node);if(!(symbol.flags&7340032)){return}}if(ts.getDeclarationOfKind(symbol,node.kind)!==node){return}var exportedDeclarationSpaces=0;var nonExportedDeclarationSpaces=0;var defaultExportedDeclarationSpaces=0;for(var _i=0,_a=symbol.declarations;_i<_a.length;_i++){var d=_a[_i];var declarationSpaces=getDeclarationSpaces(d);var effectiveDeclarationFlags=getEffectiveDeclarationFlags(d,1|1024);if(effectiveDeclarationFlags&1){if(effectiveDeclarationFlags&1024){defaultExportedDeclarationSpaces|=declarationSpaces}else{exportedDeclarationSpaces|=declarationSpaces}}else{nonExportedDeclarationSpaces|=declarationSpaces}}var nonDefaultExportedDeclarationSpaces=exportedDeclarationSpaces|nonExportedDeclarationSpaces;var commonDeclarationSpacesForExportsAndLocals=exportedDeclarationSpaces&nonExportedDeclarationSpaces;var commonDeclarationSpacesForDefaultAndNonDefault=defaultExportedDeclarationSpaces&nonDefaultExportedDeclarationSpaces;if(commonDeclarationSpacesForExportsAndLocals||commonDeclarationSpacesForDefaultAndNonDefault){for(var _b=0,_c=symbol.declarations;_b<_c.length;_b++){var d=_c[_b];var declarationSpaces=getDeclarationSpaces(d);if(declarationSpaces&commonDeclarationSpacesForDefaultAndNonDefault){error(d.name,ts.Diagnostics.Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead,ts.declarationNameToString(d.name))}else if(declarationSpaces&commonDeclarationSpacesForExportsAndLocals){error(d.name,ts.Diagnostics.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local,ts.declarationNameToString(d.name))}}}function getDeclarationSpaces(d){switch(d.kind){case 215:return 2097152;case 218:return d.name.kind===9||ts.getModuleInstanceState(d)!==0?4194304|1048576:4194304;case 214:case 217:return 2097152|1048576;case 221:var result=0;var target=resolveAlias(getSymbolOfNode(d));ts.forEach(target.declarations,function(d){result|=getDeclarationSpaces(d)});return result;default:return 1048576}}}function checkNonThenableType(type,location,message){type=getWidenedType(type);if(!isTypeAny(type)&&isTypeAssignableTo(type,getGlobalThenableType())){if(location){if(!message){message=ts.Diagnostics.Operand_for_await_does_not_have_a_valid_callable_then_member}error(location,message)}return unknownType}return type}function getPromisedType(promise){if(promise.flags&1){return undefined}if(promise.flags&4096&&promise.target===tryGetGlobalPromiseType()){return promise.typeArguments[0]}var globalPromiseLikeType=getInstantiatedGlobalPromiseLikeType();if(globalPromiseLikeType===emptyObjectType||!isTypeAssignableTo(promise,globalPromiseLikeType)){return undefined}var thenFunction=getTypeOfPropertyOfType(promise,"then");if(thenFunction&&thenFunction.flags&1){return undefined}var thenSignatures=thenFunction?getSignaturesOfType(thenFunction,0):emptyArray;if(thenSignatures.length===0){return undefined}var onfulfilledParameterType=getUnionType(ts.map(thenSignatures,getTypeOfFirstParameterOfSignature));if(onfulfilledParameterType.flags&1){return undefined}var onfulfilledParameterSignatures=getSignaturesOfType(onfulfilledParameterType,0);if(onfulfilledParameterSignatures.length===0){return undefined}var valueParameterType=getUnionType(ts.map(onfulfilledParameterSignatures,getTypeOfFirstParameterOfSignature));return valueParameterType}function getTypeOfFirstParameterOfSignature(signature){return getTypeAtPosition(signature,0)}function getAwaitedType(type){return checkAwaitedType(type,undefined,undefined)}function checkAwaitedType(type,location,message){return checkAwaitedTypeWorker(type);function checkAwaitedTypeWorker(type){if(type.flags&16384){var types=[];for(var _i=0,_a=type.types;_i<_a.length;_i++){var constituentType=_a[_i];types.push(checkAwaitedTypeWorker(constituentType))}return getUnionType(types)}else{var promisedType=getPromisedType(type);if(promisedType===undefined){return checkNonThenableType(type,location,message)}else{if(type.id===promisedType.id||awaitedTypeStack.indexOf(promisedType.id)>=0){if(location){error(location,ts.Diagnostics._0_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method,symbolToString(type.symbol))}return unknownType}awaitedTypeStack.push(type.id);var awaitedType=checkAwaitedTypeWorker(promisedType);awaitedTypeStack.pop();return awaitedType}}}}function checkAsyncFunctionReturnType(node){var globalPromiseConstructorLikeType=getGlobalPromiseConstructorLikeType();if(globalPromiseConstructorLikeType===emptyObjectType){return unknownType}var promiseType=getTypeFromTypeNode(node.type);if(promiseType===unknownType&&compilerOptions.isolatedModules){return unknownType}var promiseConstructor=getNodeLinks(node.type).resolvedSymbol;if(!promiseConstructor||!symbolIsValue(promiseConstructor)){var typeName=promiseConstructor?symbolToString(promiseConstructor):typeToString(promiseType);error(node,ts.Diagnostics.Type_0_is_not_a_valid_async_function_return_type,typeName);return unknownType}var promiseConstructorType=getTypeOfSymbol(promiseConstructor);if(!checkTypeAssignableTo(promiseConstructorType,globalPromiseConstructorLikeType,node,ts.Diagnostics.Type_0_is_not_a_valid_async_function_return_type)){return unknownType}var promiseName=ts.getEntityNameFromTypeNode(node.type);var root=getFirstIdentifier(promiseName);var rootSymbol=getSymbol(node.locals,root.text,107455);if(rootSymbol){error(rootSymbol.valueDeclaration,ts.Diagnostics.Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions,root.text,getFullyQualifiedName(promiseConstructor));return unknownType}return checkAwaitedType(promiseType,node,ts.Diagnostics.An_async_function_or_method_must_have_a_valid_awaitable_return_type)}function checkDecorator(node){var signature=getResolvedSignature(node);var returnType=getReturnTypeOfSignature(signature);if(returnType.flags&1){return}var expectedReturnType;var headMessage=getDiagnosticHeadMessageForDecoratorResolution(node);var errorInfo;switch(node.parent.kind){case 214:var classSymbol=getSymbolOfNode(node.parent);var classConstructorType=getTypeOfSymbol(classSymbol);expectedReturnType=getUnionType([classConstructorType,voidType]);break;case 138:expectedReturnType=voidType;errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.The_return_type_of_a_parameter_decorator_function_must_be_either_void_or_any);break;case 141:expectedReturnType=voidType;errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.The_return_type_of_a_property_decorator_function_must_be_either_void_or_any);break;case 143:case 145:case 146:var methodType=getTypeOfNode(node.parent);var descriptorType=createTypedPropertyDescriptorType(methodType);expectedReturnType=getUnionType([descriptorType,voidType]);break}checkTypeAssignableTo(returnType,expectedReturnType,node,headMessage,errorInfo)}function checkTypeNodeAsExpression(node){if(node&&node.kind===151){var root=getFirstIdentifier(node.typeName);var meaning=root.parent.kind===151?793056:1536;var rootSymbol=resolveName(root,root.text,meaning|8388608,undefined,undefined);if(rootSymbol&&rootSymbol.flags&8388608){var aliasTarget=resolveAlias(rootSymbol);if(aliasTarget.flags&107455&&!isConstEnumOrConstEnumOnlyModule(resolveAlias(rootSymbol))){markAliasSymbolAsReferenced(rootSymbol)}}}}function checkTypeAnnotationAsExpression(node){switch(node.kind){case 141:checkTypeNodeAsExpression(node.type);break;case 138:checkTypeNodeAsExpression(node.type);break;case 143:checkTypeNodeAsExpression(node.type);break;case 145:checkTypeNodeAsExpression(node.type);break;case 146:checkTypeNodeAsExpression(ts.getSetAccessorTypeAnnotationNode(node));break}}function checkParameterTypeAnnotationsAsExpressions(node){for(var _i=0,_a=node.parameters;_i<_a.length;_i++){var parameter=_a[_i];checkTypeAnnotationAsExpression(parameter)}}function checkDecorators(node){if(!node.decorators){return}if(!ts.nodeCanBeDecorated(node)){return}if(!compilerOptions.experimentalDecorators){error(node,ts.Diagnostics.Experimental_support_for_decorators_is_a_feature_that_is_subject_to_change_in_a_future_release_Specify_experimentalDecorators_to_remove_this_warning)}if(compilerOptions.emitDecoratorMetadata){switch(node.kind){case 214:var constructor=ts.getFirstConstructorWithBody(node);if(constructor){checkParameterTypeAnnotationsAsExpressions(constructor)}break;case 143:checkParameterTypeAnnotationsAsExpressions(node);case 146:case 145:case 141:case 138:checkTypeAnnotationAsExpression(node);break}}emitDecorate=true;if(node.kind===138){emitParam=true}ts.forEach(node.decorators,checkDecorator)}function checkFunctionDeclaration(node){if(produceDiagnostics){checkFunctionLikeDeclaration(node)||checkGrammarForGenerator(node);checkCollisionWithCapturedSuperVariable(node,node.name);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name)}}function checkFunctionLikeDeclaration(node){checkDecorators(node);checkSignatureDeclaration(node);var isAsync=ts.isAsyncFunctionLike(node);if(isAsync){emitAwaiter=true}if(node.name&&node.name.kind===136){checkComputedPropertyName(node.name)}if(!ts.hasDynamicName(node)){var symbol=getSymbolOfNode(node);var localSymbol=node.localSymbol||symbol;var firstDeclaration=ts.getDeclarationOfKind(localSymbol,node.kind);if(node===firstDeclaration){checkFunctionOrConstructorSymbol(localSymbol)}if(symbol.parent){if(ts.getDeclarationOfKind(symbol,node.kind)===node){checkFunctionOrConstructorSymbol(symbol)}}}checkSourceElement(node.body);if(node.type&&!isAccessor(node.kind)&&!node.asteriskToken){var returnType=getTypeFromTypeNode(node.type);var promisedType;if(isAsync){promisedType=checkAsyncFunctionReturnType(node)}checkIfNonVoidFunctionHasReturnExpressionsOrSingleThrowStatment(node,isAsync?promisedType:returnType)}if(produceDiagnostics&&!node.type){if(compilerOptions.noImplicitAny&&ts.nodeIsMissing(node.body)&&!isPrivateWithinAmbient(node)){reportImplicitAnyError(node,anyType)}if(node.asteriskToken&&ts.nodeIsPresent(node.body)){getReturnTypeOfSignature(getSignatureFromDeclaration(node))}}}function checkBlock(node){if(node.kind===192){checkGrammarStatementInAmbientContext(node)}ts.forEach(node.statements,checkSourceElement);if(ts.isFunctionBlock(node)||node.kind===219){checkFunctionAndClassExpressionBodies(node)}}function checkCollisionWithArgumentsInGeneratedCode(node){if(!ts.hasRestParameter(node)||ts.isInAmbientContext(node)||ts.nodeIsMissing(node.body)){return}ts.forEach(node.parameters,function(p){if(p.name&&!ts.isBindingPattern(p.name)&&p.name.text===argumentsSymbol.name){error(p,ts.Diagnostics.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters)}})}function needCollisionCheckForIdentifier(node,identifier,name){if(!(identifier&&identifier.text===name)){return false}if(node.kind===141||node.kind===140||node.kind===143||node.kind===142||node.kind===145||node.kind===146){return false}if(ts.isInAmbientContext(node)){return false}var root=ts.getRootDeclaration(node);if(root.kind===138&&ts.nodeIsMissing(root.parent.body)){return false}return true}function checkCollisionWithCapturedThisVariable(node,name){if(needCollisionCheckForIdentifier(node,name,"_this")){potentialThisCollisions.push(node)}}function checkIfThisIsCapturedInEnclosingScope(node){var current=node;while(current){if(getNodeCheckFlags(current)&4){var isDeclaration_1=node.kind!==69;if(isDeclaration_1){error(node.name,ts.Diagnostics.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference)}else{error(node,ts.Diagnostics.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference)}return}current=current.parent}}function checkCollisionWithCapturedSuperVariable(node,name){if(!needCollisionCheckForIdentifier(node,name,"_super")){return}var enclosingClass=ts.getContainingClass(node);if(!enclosingClass||ts.isInAmbientContext(enclosingClass)){return}if(ts.getClassExtendsHeritageClauseElement(enclosingClass)){var isDeclaration_2=node.kind!==69;if(isDeclaration_2){error(node,ts.Diagnostics.Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference)}else{error(node,ts.Diagnostics.Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference)}}}function checkCollisionWithRequireExportsInGeneratedCode(node,name){if(!needCollisionCheckForIdentifier(node,name,"require")&&!needCollisionCheckForIdentifier(node,name,"exports")){return}if(node.kind===218&&ts.getModuleInstanceState(node)!==1){return}var parent=getDeclarationContainer(node);if(parent.kind===248&&ts.isExternalModule(parent)){error(name,ts.Diagnostics.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module,ts.declarationNameToString(name),ts.declarationNameToString(name))}}function checkVarDeclaredNamesNotShadowed(node){if((ts.getCombinedNodeFlags(node)&49152)!==0||ts.isParameterDeclaration(node)){return}if(node.kind===211&&!node.initializer){return}var symbol=getSymbolOfNode(node);if(symbol.flags&1){var localDeclarationSymbol=resolveName(node,node.name.text,3,undefined,undefined);if(localDeclarationSymbol&&localDeclarationSymbol!==symbol&&localDeclarationSymbol.flags&2){if(getDeclarationFlagsFromSymbol(localDeclarationSymbol)&49152){var varDeclList=ts.getAncestor(localDeclarationSymbol.valueDeclaration,212);var container=varDeclList.parent.kind===193&&varDeclList.parent.parent?varDeclList.parent.parent:undefined;var namesShareScope=container&&(container.kind===192&&ts.isFunctionLike(container.parent)||container.kind===219||container.kind===218||container.kind===248);if(!namesShareScope){var name_14=symbolToString(localDeclarationSymbol);error(node,ts.Diagnostics.Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1,name_14,name_14)}}}}}function checkParameterInitializer(node){if(ts.getRootDeclaration(node).kind!==138){return}var func=ts.getContainingFunction(node);visit(node.initializer);function visit(n){if(n.kind===69){var referencedSymbol=getNodeLinks(n).resolvedSymbol;if(referencedSymbol&&referencedSymbol!==unknownSymbol&&getSymbol(func.locals,referencedSymbol.name,107455)===referencedSymbol){if(referencedSymbol.valueDeclaration.kind===138){if(referencedSymbol.valueDeclaration===node){error(n,ts.Diagnostics.Parameter_0_cannot_be_referenced_in_its_initializer,ts.declarationNameToString(node.name));return}if(referencedSymbol.valueDeclaration.pos<node.pos){return}}error(n,ts.Diagnostics.Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it,ts.declarationNameToString(node.name),ts.declarationNameToString(n))}}else{ts.forEachChild(n,visit)}}}function checkVariableLikeDeclaration(node){checkDecorators(node);checkSourceElement(node.type);if(node.name.kind===136){checkComputedPropertyName(node.name);if(node.initializer){checkExpressionCached(node.initializer)}}if(ts.isBindingPattern(node.name)){ts.forEach(node.name.elements,checkSourceElement)}if(node.initializer&&ts.getRootDeclaration(node).kind===138&&ts.nodeIsMissing(ts.getContainingFunction(node).body)){error(node,ts.Diagnostics.A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation);return}if(ts.isBindingPattern(node.name)){if(node.initializer){checkTypeAssignableTo(checkExpressionCached(node.initializer),getWidenedTypeForVariableLikeDeclaration(node),node,undefined);checkParameterInitializer(node)}return}var symbol=getSymbolOfNode(node);var type=getTypeOfVariableOrParameterOrProperty(symbol);if(node===symbol.valueDeclaration){if(node.initializer){checkTypeAssignableTo(checkExpressionCached(node.initializer),type,node,undefined);checkParameterInitializer(node)}}else{var declarationType=getWidenedTypeForVariableLikeDeclaration(node);if(type!==unknownType&&declarationType!==unknownType&&!isTypeIdenticalTo(type,declarationType)){error(node.name,ts.Diagnostics.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,ts.declarationNameToString(node.name),typeToString(type),typeToString(declarationType))}if(node.initializer){checkTypeAssignableTo(checkExpressionCached(node.initializer),declarationType,node,undefined)}}if(node.kind!==141&&node.kind!==140){checkExportsOnMergedDeclarations(node);if(node.kind===211||node.kind===163){checkVarDeclaredNamesNotShadowed(node)}checkCollisionWithCapturedSuperVariable(node,node.name);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name)}}function checkVariableDeclaration(node){checkGrammarVariableDeclaration(node);return checkVariableLikeDeclaration(node)}function checkBindingElement(node){checkGrammarBindingElement(node);return checkVariableLikeDeclaration(node)}function checkVariableStatement(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarVariableDeclarationList(node.declarationList)||checkGrammarForDisallowedLetOrConstStatement(node);ts.forEach(node.declarationList.declarations,checkSourceElement)}function checkGrammarDisallowedModifiersOnObjectLiteralExpressionMethod(node){if(node.modifiers&&node.parent.kind===165){if(ts.isAsyncFunctionLike(node)){if(node.modifiers.length>1){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here)}}else{return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here)}}}function checkExpressionStatement(node){checkGrammarStatementInAmbientContext(node);checkExpression(node.expression)}function checkIfStatement(node){checkGrammarStatementInAmbientContext(node);checkExpression(node.expression);checkSourceElement(node.thenStatement);checkSourceElement(node.elseStatement)}function checkDoStatement(node){checkGrammarStatementInAmbientContext(node);checkSourceElement(node.statement);checkExpression(node.expression)}function checkWhileStatement(node){checkGrammarStatementInAmbientContext(node);checkExpression(node.expression);checkSourceElement(node.statement)}function checkForStatement(node){if(!checkGrammarStatementInAmbientContext(node)){if(node.initializer&&node.initializer.kind===212){checkGrammarVariableDeclarationList(node.initializer)}}if(node.initializer){if(node.initializer.kind===212){ts.forEach(node.initializer.declarations,checkVariableDeclaration)}else{checkExpression(node.initializer)}}if(node.condition)checkExpression(node.condition);if(node.incrementor)checkExpression(node.incrementor);checkSourceElement(node.statement)}function checkForOfStatement(node){checkGrammarForInOrForOfStatement(node);if(node.initializer.kind===212){checkForInOrForOfVariableDeclaration(node)}else{var varExpr=node.initializer;var iteratedType=checkRightHandSideOfForOf(node.expression);if(varExpr.kind===164||varExpr.kind===165){checkDestructuringAssignment(varExpr,iteratedType||unknownType)}else{var leftType=checkExpression(varExpr);checkReferenceExpression(varExpr,ts.Diagnostics.Invalid_left_hand_side_in_for_of_statement,ts.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_be_a_previously_defined_constant);if(iteratedType){checkTypeAssignableTo(iteratedType,leftType,varExpr,undefined)}}}checkSourceElement(node.statement)}function checkForInStatement(node){checkGrammarForInOrForOfStatement(node);if(node.initializer.kind===212){var variable=node.initializer.declarations[0];if(variable&&ts.isBindingPattern(variable.name)){error(variable.name,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern)}checkForInOrForOfVariableDeclaration(node)}else{var varExpr=node.initializer;var leftType=checkExpression(varExpr);if(varExpr.kind===164||varExpr.kind===165){error(varExpr,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern)}else if(!isTypeAnyOrAllConstituentTypesHaveKind(leftType,258)){error(varExpr,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any)}else{checkReferenceExpression(varExpr,ts.Diagnostics.Invalid_left_hand_side_in_for_in_statement,ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_be_a_previously_defined_constant)}}var rightType=checkExpression(node.expression);if(!isTypeAnyOrAllConstituentTypesHaveKind(rightType,80896|512)){error(node.expression,ts.Diagnostics.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter)}checkSourceElement(node.statement)}function checkForInOrForOfVariableDeclaration(iterationStatement){var variableDeclarationList=iterationStatement.initializer;if(variableDeclarationList.declarations.length>=1){var decl=variableDeclarationList.declarations[0];checkVariableDeclaration(decl)}}function checkRightHandSideOfForOf(rhsExpression){var expressionType=getTypeOfExpression(rhsExpression);return checkIteratedTypeOrElementType(expressionType,rhsExpression,true)}function checkIteratedTypeOrElementType(inputType,errorNode,allowStringInput){if(isTypeAny(inputType)){return inputType}if(languageVersion>=2){return checkElementTypeOfIterable(inputType,errorNode)}if(allowStringInput){return checkElementTypeOfArrayOrString(inputType,errorNode)}if(isArrayLikeType(inputType)){var indexType=getIndexTypeOfType(inputType,1);if(indexType){return indexType}}error(errorNode,ts.Diagnostics.Type_0_is_not_an_array_type,typeToString(inputType));return unknownType}function checkElementTypeOfIterable(iterable,errorNode){var elementType=getElementTypeOfIterable(iterable,errorNode);if(errorNode&&elementType){checkTypeAssignableTo(iterable,createIterableType(elementType),errorNode)}return elementType||anyType}function getElementTypeOfIterable(type,errorNode){if(isTypeAny(type)){return undefined}var typeAsIterable=type;if(!typeAsIterable.iterableElementType){if(type.flags&4096&&type.target===globalIterableType){typeAsIterable.iterableElementType=type.typeArguments[0]}else{var iteratorFunction=getTypeOfPropertyOfType(type,ts.getPropertyNameForKnownSymbolName("iterator"));if(isTypeAny(iteratorFunction)){return undefined}var iteratorFunctionSignatures=iteratorFunction?getSignaturesOfType(iteratorFunction,0):emptyArray;if(iteratorFunctionSignatures.length===0){if(errorNode){error(errorNode,ts.Diagnostics.Type_must_have_a_Symbol_iterator_method_that_returns_an_iterator)}return undefined}typeAsIterable.iterableElementType=getElementTypeOfIterator(getUnionType(ts.map(iteratorFunctionSignatures,getReturnTypeOfSignature)),errorNode)}}return typeAsIterable.iterableElementType}function getElementTypeOfIterator(type,errorNode){if(isTypeAny(type)){return undefined}var typeAsIterator=type;if(!typeAsIterator.iteratorElementType){if(type.flags&4096&&type.target===globalIteratorType){typeAsIterator.iteratorElementType=type.typeArguments[0]}else{var iteratorNextFunction=getTypeOfPropertyOfType(type,"next");if(isTypeAny(iteratorNextFunction)){return undefined}var iteratorNextFunctionSignatures=iteratorNextFunction?getSignaturesOfType(iteratorNextFunction,0):emptyArray;if(iteratorNextFunctionSignatures.length===0){if(errorNode){error(errorNode,ts.Diagnostics.An_iterator_must_have_a_next_method);
}return undefined}var iteratorNextResult=getUnionType(ts.map(iteratorNextFunctionSignatures,getReturnTypeOfSignature));if(isTypeAny(iteratorNextResult)){return undefined}var iteratorNextValue=getTypeOfPropertyOfType(iteratorNextResult,"value");if(!iteratorNextValue){if(errorNode){error(errorNode,ts.Diagnostics.The_type_returned_by_the_next_method_of_an_iterator_must_have_a_value_property)}return undefined}typeAsIterator.iteratorElementType=iteratorNextValue}}return typeAsIterator.iteratorElementType}function getElementTypeOfIterableIterator(type){if(isTypeAny(type)){return undefined}if(type.flags&4096&&type.target===globalIterableIteratorType){return type.typeArguments[0]}return getElementTypeOfIterable(type,undefined)||getElementTypeOfIterator(type,undefined)}function checkElementTypeOfArrayOrString(arrayOrStringType,errorNode){ts.Debug.assert(languageVersion<2);var arrayType=removeTypesFromUnionType(arrayOrStringType,258,true,true);var hasStringConstituent=arrayOrStringType!==arrayType;var reportedError=false;if(hasStringConstituent){if(languageVersion<1){error(errorNode,ts.Diagnostics.Using_a_string_in_a_for_of_statement_is_only_supported_in_ECMAScript_5_and_higher);reportedError=true}if(arrayType===emptyObjectType){return stringType}}if(!isArrayLikeType(arrayType)){if(!reportedError){var diagnostic=hasStringConstituent?ts.Diagnostics.Type_0_is_not_an_array_type:ts.Diagnostics.Type_0_is_not_an_array_type_or_a_string_type;error(errorNode,diagnostic,typeToString(arrayType))}return hasStringConstituent?stringType:unknownType}var arrayElementType=getIndexTypeOfType(arrayType,1)||unknownType;if(hasStringConstituent){if(arrayElementType.flags&258){return stringType}return getUnionType([arrayElementType,stringType])}return arrayElementType}function checkBreakOrContinueStatement(node){checkGrammarStatementInAmbientContext(node)||checkGrammarBreakOrContinueStatement(node)}function isGetAccessorWithAnnotatatedSetAccessor(node){return!!(node.kind===145&&ts.getSetAccessorTypeAnnotationNode(ts.getDeclarationOfKind(node.symbol,146)))}function checkReturnStatement(node){if(!checkGrammarStatementInAmbientContext(node)){var functionBlock=ts.getContainingFunction(node);if(!functionBlock){grammarErrorOnFirstToken(node,ts.Diagnostics.A_return_statement_can_only_be_used_within_a_function_body)}}if(node.expression){var func=ts.getContainingFunction(node);if(func){var signature=getSignatureFromDeclaration(func);var returnType=getReturnTypeOfSignature(signature);var exprType=checkExpressionCached(node.expression);if(func.asteriskToken){return}if(func.kind===146){error(node.expression,ts.Diagnostics.Setters_cannot_return_a_value)}else if(func.kind===144){if(!isTypeAssignableTo(exprType,returnType)){error(node.expression,ts.Diagnostics.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class)}}else if(func.type||isGetAccessorWithAnnotatatedSetAccessor(func)||signature.typePredicate){if(ts.isAsyncFunctionLike(func)){var promisedType=getPromisedType(returnType);var awaitedType=checkAwaitedType(exprType,node.expression,ts.Diagnostics.Return_expression_in_async_function_does_not_have_a_valid_callable_then_member);if(promisedType){checkTypeAssignableTo(awaitedType,promisedType,node.expression)}}else{checkTypeAssignableTo(exprType,returnType,node.expression)}}}}}function checkWithStatement(node){if(!checkGrammarStatementInAmbientContext(node)){if(node.parserContextFlags&8){grammarErrorOnFirstToken(node,ts.Diagnostics.with_statements_are_not_allowed_in_an_async_function_block)}}checkExpression(node.expression);error(node.expression,ts.Diagnostics.All_symbols_within_a_with_block_will_be_resolved_to_any)}function checkSwitchStatement(node){checkGrammarStatementInAmbientContext(node);var firstDefaultClause;var hasDuplicateDefaultClause=false;var expressionType=checkExpression(node.expression);ts.forEach(node.caseBlock.clauses,function(clause){if(clause.kind===242&&!hasDuplicateDefaultClause){if(firstDefaultClause===undefined){firstDefaultClause=clause}else{var sourceFile=ts.getSourceFileOfNode(node);var start=ts.skipTrivia(sourceFile.text,clause.pos);var end=clause.statements.length>0?clause.statements[0].pos:clause.end;grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement);hasDuplicateDefaultClause=true}}if(produceDiagnostics&&clause.kind===241){var caseClause=clause;var caseType=checkExpression(caseClause.expression);if(!isTypeAssignableTo(expressionType,caseType)){checkTypeAssignableTo(caseType,expressionType,caseClause.expression,undefined)}}ts.forEach(clause.statements,checkSourceElement)})}function checkLabeledStatement(node){if(!checkGrammarStatementInAmbientContext(node)){var current=node.parent;while(current){if(ts.isFunctionLike(current)){break}if(current.kind===207&&current.label.text===node.label.text){var sourceFile=ts.getSourceFileOfNode(node);grammarErrorOnNode(node.label,ts.Diagnostics.Duplicate_label_0,ts.getTextOfNodeFromSourceText(sourceFile.text,node.label));break}current=current.parent}}checkSourceElement(node.statement)}function checkThrowStatement(node){if(!checkGrammarStatementInAmbientContext(node)){if(node.expression===undefined){grammarErrorAfterFirstToken(node,ts.Diagnostics.Line_break_not_permitted_here)}}if(node.expression){checkExpression(node.expression)}}function checkTryStatement(node){checkGrammarStatementInAmbientContext(node);checkBlock(node.tryBlock);var catchClause=node.catchClause;if(catchClause){if(catchClause.variableDeclaration){if(catchClause.variableDeclaration.name.kind!==69){grammarErrorOnFirstToken(catchClause.variableDeclaration.name,ts.Diagnostics.Catch_clause_variable_name_must_be_an_identifier)}else if(catchClause.variableDeclaration.type){grammarErrorOnFirstToken(catchClause.variableDeclaration.type,ts.Diagnostics.Catch_clause_variable_cannot_have_a_type_annotation)}else if(catchClause.variableDeclaration.initializer){grammarErrorOnFirstToken(catchClause.variableDeclaration.initializer,ts.Diagnostics.Catch_clause_variable_cannot_have_an_initializer)}else{var identifierName=catchClause.variableDeclaration.name.text;var locals=catchClause.block.locals;if(locals&&ts.hasProperty(locals,identifierName)){var localSymbol=locals[identifierName];if(localSymbol&&(localSymbol.flags&2)!==0){grammarErrorOnNode(localSymbol.valueDeclaration,ts.Diagnostics.Cannot_redeclare_identifier_0_in_catch_clause,identifierName)}}}}checkBlock(catchClause.block)}if(node.finallyBlock){checkBlock(node.finallyBlock)}}function checkIndexConstraints(type){var declaredNumberIndexer=getIndexDeclarationOfSymbol(type.symbol,1);var declaredStringIndexer=getIndexDeclarationOfSymbol(type.symbol,0);var stringIndexType=getIndexTypeOfType(type,0);var numberIndexType=getIndexTypeOfType(type,1);if(stringIndexType||numberIndexType){ts.forEach(getPropertiesOfObjectType(type),function(prop){var propType=getTypeOfSymbol(prop);checkIndexConstraintForProperty(prop,propType,type,declaredStringIndexer,stringIndexType,0);checkIndexConstraintForProperty(prop,propType,type,declaredNumberIndexer,numberIndexType,1)});if(type.flags&1024&&ts.isClassLike(type.symbol.valueDeclaration)){var classDeclaration=type.symbol.valueDeclaration;for(var _i=0,_a=classDeclaration.members;_i<_a.length;_i++){var member=_a[_i];if(!(member.flags&128)&&ts.hasDynamicName(member)){var propType=getTypeOfSymbol(member.symbol);checkIndexConstraintForProperty(member.symbol,propType,type,declaredStringIndexer,stringIndexType,0);checkIndexConstraintForProperty(member.symbol,propType,type,declaredNumberIndexer,numberIndexType,1)}}}}var errorNode;if(stringIndexType&&numberIndexType){errorNode=declaredNumberIndexer||declaredStringIndexer;if(!errorNode&&type.flags&2048){var someBaseTypeHasBothIndexers=ts.forEach(getBaseTypes(type),function(base){return getIndexTypeOfType(base,0)&&getIndexTypeOfType(base,1)});errorNode=someBaseTypeHasBothIndexers?undefined:type.symbol.declarations[0]}}if(errorNode&&!isTypeAssignableTo(numberIndexType,stringIndexType)){error(errorNode,ts.Diagnostics.Numeric_index_type_0_is_not_assignable_to_string_index_type_1,typeToString(numberIndexType),typeToString(stringIndexType))}function checkIndexConstraintForProperty(prop,propertyType,containingType,indexDeclaration,indexType,indexKind){if(!indexType){return}if(indexKind===1&&!isNumericName(prop.valueDeclaration.name)){return}var errorNode;if(prop.valueDeclaration.name.kind===136||prop.parent===containingType.symbol){errorNode=prop.valueDeclaration}else if(indexDeclaration){errorNode=indexDeclaration}else if(containingType.flags&2048){var someBaseClassHasBothPropertyAndIndexer=ts.forEach(getBaseTypes(containingType),function(base){return getPropertyOfObjectType(base,prop.name)&&getIndexTypeOfType(base,indexKind)});errorNode=someBaseClassHasBothPropertyAndIndexer?undefined:containingType.symbol.declarations[0]}if(errorNode&&!isTypeAssignableTo(propertyType,indexType)){var errorMessage=indexKind===0?ts.Diagnostics.Property_0_of_type_1_is_not_assignable_to_string_index_type_2:ts.Diagnostics.Property_0_of_type_1_is_not_assignable_to_numeric_index_type_2;error(errorNode,errorMessage,symbolToString(prop),typeToString(propertyType),typeToString(indexType))}}}function checkTypeNameIsReserved(name,message){switch(name.text){case"any":case"number":case"boolean":case"string":case"symbol":case"void":error(name,message,name.text)}}function checkTypeParameters(typeParameterDeclarations){if(typeParameterDeclarations){for(var i=0,n=typeParameterDeclarations.length;i<n;i++){var node=typeParameterDeclarations[i];checkTypeParameter(node);if(produceDiagnostics){for(var j=0;j<i;j++){if(typeParameterDeclarations[j].symbol===node.symbol){error(node.name,ts.Diagnostics.Duplicate_identifier_0,ts.declarationNameToString(node.name))}}}}}}function checkClassExpression(node){checkClassLikeDeclaration(node);return getTypeOfSymbol(getSymbolOfNode(node))}function checkClassDeclaration(node){if(!node.name&&!(node.flags&1024)){grammarErrorOnFirstToken(node,ts.Diagnostics.A_class_declaration_without_the_default_modifier_must_have_a_name)}checkClassLikeDeclaration(node);ts.forEach(node.members,checkSourceElement)}function checkClassLikeDeclaration(node){checkGrammarClassDeclarationHeritageClauses(node);checkDecorators(node);if(node.name){checkTypeNameIsReserved(node.name,ts.Diagnostics.Class_name_cannot_be_0);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name)}checkTypeParameters(node.typeParameters);checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);var type=getDeclaredTypeOfSymbol(symbol);var typeWithThis=getTypeWithThisArgument(type);var staticType=getTypeOfSymbol(symbol);var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){emitExtends=emitExtends||!ts.isInAmbientContext(node);var baseTypes=getBaseTypes(type);if(baseTypes.length&&produceDiagnostics){var baseType=baseTypes[0];var staticBaseType=getBaseConstructorTypeOfClass(type);checkSourceElement(baseTypeNode.expression);if(baseTypeNode.typeArguments){ts.forEach(baseTypeNode.typeArguments,checkSourceElement);for(var _i=0,_a=getConstructorsForTypeArguments(staticBaseType,baseTypeNode.typeArguments);_i<_a.length;_i++){var constructor=_a[_i];if(!checkTypeArgumentConstraints(constructor.typeParameters,baseTypeNode.typeArguments)){break}}}checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(baseType,type.thisType),node.name||node,ts.Diagnostics.Class_0_incorrectly_extends_base_class_1);checkTypeAssignableTo(staticType,getTypeWithoutSignatures(staticBaseType),node.name||node,ts.Diagnostics.Class_static_side_0_incorrectly_extends_base_class_static_side_1);if(!(staticBaseType.symbol&&staticBaseType.symbol.flags&32)){var constructors=getInstantiatedConstructorsForTypeArguments(staticBaseType,baseTypeNode.typeArguments);if(ts.forEach(constructors,function(sig){return getReturnTypeOfSignature(sig)!==baseType})){error(baseTypeNode.expression,ts.Diagnostics.Base_constructors_must_all_have_the_same_return_type)}}checkKindsOfPropertyMemberOverrides(type,baseType)}}var implementedTypeNodes=ts.getClassImplementsHeritageClauseElements(node);if(implementedTypeNodes){for(var _b=0;_b<implementedTypeNodes.length;_b++){var typeRefNode=implementedTypeNodes[_b];if(!ts.isSupportedExpressionWithTypeArguments(typeRefNode)){error(typeRefNode.expression,ts.Diagnostics.A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments)}checkTypeReferenceNode(typeRefNode);if(produceDiagnostics){var t=getTypeFromTypeNode(typeRefNode);if(t!==unknownType){var declaredType=t.flags&4096?t.target:t;if(declaredType.flags&(1024|2048)){checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(t,type.thisType),node.name||node,ts.Diagnostics.Class_0_incorrectly_implements_interface_1)}else{error(typeRefNode,ts.Diagnostics.A_class_may_only_implement_another_class_or_interface)}}}}}if(produceDiagnostics){checkIndexConstraints(type);checkTypeForDuplicateIndexSignatures(node)}}function getTargetSymbol(s){return s.flags&16777216?getSymbolLinks(s).target:s}function getClassLikeDeclarationOfSymbol(symbol){return ts.forEach(symbol.declarations,function(d){return ts.isClassLike(d)?d:undefined})}function checkKindsOfPropertyMemberOverrides(type,baseType){var baseProperties=getPropertiesOfObjectType(baseType);for(var _i=0;_i<baseProperties.length;_i++){var baseProperty=baseProperties[_i];var base=getTargetSymbol(baseProperty);if(base.flags&134217728){continue}var derived=getTargetSymbol(getPropertyOfObjectType(type,base.name));var baseDeclarationFlags=getDeclarationFlagsFromSymbol(base);ts.Debug.assert(!!derived,"derived should point to something, even if it is the base class' declaration.");if(derived){if(derived===base){var derivedClassDecl=getClassLikeDeclarationOfSymbol(type.symbol);if(baseDeclarationFlags&256&&(!derivedClassDecl||!(derivedClassDecl.flags&256))){if(derivedClassDecl.kind===186){error(derivedClassDecl,ts.Diagnostics.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1,symbolToString(baseProperty),typeToString(baseType))}else{error(derivedClassDecl,ts.Diagnostics.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2,typeToString(type),symbolToString(baseProperty),typeToString(baseType))}}}else{var derivedDeclarationFlags=getDeclarationFlagsFromSymbol(derived);if(baseDeclarationFlags&32||derivedDeclarationFlags&32){continue}if((baseDeclarationFlags&128)!==(derivedDeclarationFlags&128)){continue}if(base.flags&derived.flags&8192||base.flags&98308&&derived.flags&98308){continue}var errorMessage=void 0;if(base.flags&8192){if(derived.flags&98304){errorMessage=ts.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor}else{ts.Debug.assert((derived.flags&4)!==0);errorMessage=ts.Diagnostics.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property}}else if(base.flags&4){ts.Debug.assert((derived.flags&8192)!==0);errorMessage=ts.Diagnostics.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function}else{ts.Debug.assert((base.flags&98304)!==0);ts.Debug.assert((derived.flags&8192)!==0);errorMessage=ts.Diagnostics.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function}error(derived.valueDeclaration.name,errorMessage,typeToString(baseType),symbolToString(base),typeToString(type))}}}}function isAccessor(kind){return kind===145||kind===146}function areTypeParametersIdentical(list1,list2){if(!list1&&!list2){return true}if(!list1||!list2||list1.length!==list2.length){return false}for(var i=0,len=list1.length;i<len;i++){var tp1=list1[i];var tp2=list2[i];if(tp1.name.text!==tp2.name.text){return false}if(!tp1.constraint&&!tp2.constraint){continue}if(!tp1.constraint||!tp2.constraint){return false}if(!isTypeIdenticalTo(getTypeFromTypeNode(tp1.constraint),getTypeFromTypeNode(tp2.constraint))){return false}}return true}function checkInheritedPropertiesAreIdentical(type,typeNode){var baseTypes=getBaseTypes(type);if(baseTypes.length<2){return true}var seen={};ts.forEach(resolveDeclaredMembers(type).declaredProperties,function(p){seen[p.name]={prop:p,containingType:type}});var ok=true;for(var _i=0;_i<baseTypes.length;_i++){var base=baseTypes[_i];var properties=getPropertiesOfObjectType(getTypeWithThisArgument(base,type.thisType));for(var _a=0;_a<properties.length;_a++){var prop=properties[_a];if(!ts.hasProperty(seen,prop.name)){seen[prop.name]={prop:prop,containingType:base}}else{var existing=seen[prop.name];var isInheritedProperty=existing.containingType!==type;if(isInheritedProperty&&!isPropertyIdenticalTo(existing.prop,prop)){ok=false;var typeName1=typeToString(existing.containingType);var typeName2=typeToString(base);var errorInfo=ts.chainDiagnosticMessages(undefined,ts.Diagnostics.Named_property_0_of_types_1_and_2_are_not_identical,symbolToString(prop),typeName1,typeName2);errorInfo=ts.chainDiagnosticMessages(errorInfo,ts.Diagnostics.Interface_0_cannot_simultaneously_extend_types_1_and_2,typeToString(type),typeName1,typeName2);diagnostics.add(ts.createDiagnosticForNodeFromMessageChain(typeNode,errorInfo))}}}}return ok}function checkInterfaceDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarInterfaceDeclaration(node);checkTypeParameters(node.typeParameters);if(produceDiagnostics){checkTypeNameIsReserved(node.name,ts.Diagnostics.Interface_name_cannot_be_0);checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);var firstInterfaceDecl=ts.getDeclarationOfKind(symbol,215);if(symbol.declarations.length>1){if(node!==firstInterfaceDecl&&!areTypeParametersIdentical(firstInterfaceDecl.typeParameters,node.typeParameters)){error(node.name,ts.Diagnostics.All_declarations_of_an_interface_must_have_identical_type_parameters)}}if(node===firstInterfaceDecl){var type=getDeclaredTypeOfSymbol(symbol);var typeWithThis=getTypeWithThisArgument(type);if(checkInheritedPropertiesAreIdentical(type,node.name)){for(var _i=0,_a=getBaseTypes(type);_i<_a.length;_i++){var baseType=_a[_i];checkTypeAssignableTo(typeWithThis,getTypeWithThisArgument(baseType,type.thisType),node.name,ts.Diagnostics.Interface_0_incorrectly_extends_interface_1)}checkIndexConstraints(type)}}}ts.forEach(ts.getInterfaceBaseTypeNodes(node),function(heritageElement){if(!ts.isSupportedExpressionWithTypeArguments(heritageElement)){error(heritageElement.expression,ts.Diagnostics.An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments)}checkTypeReferenceNode(heritageElement)});ts.forEach(node.members,checkSourceElement);if(produceDiagnostics){checkTypeForDuplicateIndexSignatures(node)}}function checkTypeAliasDeclaration(node){checkGrammarDecorators(node)||checkGrammarModifiers(node);checkTypeNameIsReserved(node.name,ts.Diagnostics.Type_alias_name_cannot_be_0);checkSourceElement(node.type)}function computeEnumMemberValues(node){var nodeLinks=getNodeLinks(node);if(!(nodeLinks.flags&8192)){var enumSymbol=getSymbolOfNode(node);var enumType=getDeclaredTypeOfSymbol(enumSymbol);var autoValue=0;var ambient=ts.isInAmbientContext(node);var enumIsConst=ts.isConst(node);for(var _i=0,_a=node.members;_i<_a.length;_i++){var member=_a[_i];if(member.name.kind===136){error(member.name,ts.Diagnostics.Computed_property_names_are_not_allowed_in_enums)}else if(isNumericLiteralName(member.name.text)){error(member.name,ts.Diagnostics.An_enum_member_cannot_have_a_numeric_name)}var previousEnumMemberIsNonConstant=autoValue===undefined;var initializer=member.initializer;if(initializer){autoValue=computeConstantValueForEnumMemberInitializer(initializer,enumType,enumIsConst,ambient)}else if(ambient&&!enumIsConst){autoValue=undefined}else if(previousEnumMemberIsNonConstant){error(member.name,ts.Diagnostics.Enum_member_must_have_initializer)}if(autoValue!==undefined){getNodeLinks(member).enumMemberValue=autoValue++}}nodeLinks.flags|=8192}function computeConstantValueForEnumMemberInitializer(initializer,enumType,enumIsConst,ambient){var reportError=true;var value=evalConstant(initializer);if(reportError){if(value===undefined){if(enumIsConst){error(initializer,ts.Diagnostics.In_const_enum_declarations_member_initializer_must_be_constant_expression)}else if(ambient){error(initializer,ts.Diagnostics.In_ambient_enum_declarations_member_initializer_must_be_constant_expression)}else{checkTypeAssignableTo(checkExpression(initializer),enumType,initializer,undefined)}}else if(enumIsConst){if(isNaN(value)){error(initializer,ts.Diagnostics.const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN)}else if(!isFinite(value)){error(initializer,ts.Diagnostics.const_enum_member_initializer_was_evaluated_to_a_non_finite_value)}}}return value;function evalConstant(e){switch(e.kind){case 179:var value_1=evalConstant(e.operand);if(value_1===undefined){return undefined}switch(e.operator){case 35:return value_1;case 36:return-value_1;case 50:return~value_1}return undefined;case 181:var left=evalConstant(e.left);if(left===undefined){return undefined}var right=evalConstant(e.right);if(right===undefined){return undefined}switch(e.operatorToken.kind){case 47:return left|right;case 46:return left&right;case 44:return left>>right;case 45:return left>>>right;case 43:return left<<right;case 48:return left^right;case 37:return left*right;case 39:return left/right;case 35:return left+right;case 36:return left-right;case 40:return left%right}return undefined;case 8:return+e.text;case 172:return evalConstant(e.expression);case 69:case 167:case 166:var member=initializer.parent;var currentType=getTypeOfSymbol(getSymbolOfNode(member.parent));var enumType_1;var propertyName;if(e.kind===69){enumType_1=currentType;propertyName=e.text}else{var expression;if(e.kind===167){if(e.argumentExpression===undefined||e.argumentExpression.kind!==9){return undefined}expression=e.expression;propertyName=e.argumentExpression.text}else{expression=e.expression;propertyName=e.name.text}var current=expression;while(current){if(current.kind===69){break}else if(current.kind===166){current=current.expression}else{return undefined}}enumType_1=checkExpression(expression);if(!(enumType_1.symbol&&enumType_1.symbol.flags&384)){return undefined}}if(propertyName===undefined){return undefined}var property=getPropertyOfObjectType(enumType_1,propertyName);if(!property||!(property.flags&8)){return undefined}var propertyDecl=property.valueDeclaration;if(member===propertyDecl){return undefined}if(!isBlockScopedNameDeclaredBeforeUse(propertyDecl,member)){reportError=false;error(e,ts.Diagnostics.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums);return undefined}return getNodeLinks(propertyDecl).enumMemberValue}}}}function checkEnumDeclaration(node){if(!produceDiagnostics){return}checkGrammarDecorators(node)||checkGrammarModifiers(node);checkTypeNameIsReserved(node.name,ts.Diagnostics.Enum_name_cannot_be_0);checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkExportsOnMergedDeclarations(node);computeEnumMemberValues(node);var enumIsConst=ts.isConst(node);if(compilerOptions.isolatedModules&&enumIsConst&&ts.isInAmbientContext(node)){error(node.name,ts.Diagnostics.Ambient_const_enums_are_not_allowed_when_the_isolatedModules_flag_is_provided)}var enumSymbol=getSymbolOfNode(node);var firstDeclaration=ts.getDeclarationOfKind(enumSymbol,node.kind);if(node===firstDeclaration){if(enumSymbol.declarations.length>1){ts.forEach(enumSymbol.declarations,function(decl){if(ts.isConstEnumDeclaration(decl)!==enumIsConst){error(decl.name,ts.Diagnostics.Enum_declarations_must_all_be_const_or_non_const)}})}var seenEnumMissingInitialInitializer=false;ts.forEach(enumSymbol.declarations,function(declaration){if(declaration.kind!==217){return false}var enumDeclaration=declaration;if(!enumDeclaration.members.length){return false}var firstEnumMember=enumDeclaration.members[0];if(!firstEnumMember.initializer){if(seenEnumMissingInitialInitializer){error(firstEnumMember.name,ts.Diagnostics.In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element)}else{seenEnumMissingInitialInitializer=true}}})}}function getFirstNonAmbientClassOrFunctionDeclaration(symbol){var declarations=symbol.declarations;for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];if((declaration.kind===214||declaration.kind===213&&ts.nodeIsPresent(declaration.body))&&!ts.isInAmbientContext(declaration)){return declaration}}return undefined}function inSameLexicalScope(node1,node2){var container1=ts.getEnclosingBlockScopeContainer(node1);var container2=ts.getEnclosingBlockScopeContainer(node2);if(isGlobalSourceFile(container1)){return isGlobalSourceFile(container2)}else if(isGlobalSourceFile(container2)){return false}else{return container1===container2}}function checkModuleDeclaration(node){if(produceDiagnostics){var isAmbientExternalModule=node.name.kind===9;var contextErrorMessage=isAmbientExternalModule?ts.Diagnostics.An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:ts.Diagnostics.A_namespace_declaration_is_only_allowed_in_a_namespace_or_module;if(checkGrammarModuleElementContext(node,contextErrorMessage)){return}if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)){if(!ts.isInAmbientContext(node)&&node.name.kind===9){grammarErrorOnNode(node.name,ts.Diagnostics.Only_ambient_modules_can_use_quoted_names)}}checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkExportsOnMergedDeclarations(node);var symbol=getSymbolOfNode(node);if(symbol.flags&512&&symbol.declarations.length>1&&!ts.isInAmbientContext(node)&&ts.isInstantiatedModule(node,compilerOptions.preserveConstEnums||compilerOptions.isolatedModules)){var firstNonAmbientClassOrFunc=getFirstNonAmbientClassOrFunctionDeclaration(symbol);if(firstNonAmbientClassOrFunc){if(ts.getSourceFileOfNode(node)!==ts.getSourceFileOfNode(firstNonAmbientClassOrFunc)){error(node.name,ts.Diagnostics.A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged)}else if(node.pos<firstNonAmbientClassOrFunc.pos){error(node.name,ts.Diagnostics.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged)}}var mergedClass=ts.getDeclarationOfKind(symbol,214);if(mergedClass&&inSameLexicalScope(node,mergedClass)){getNodeLinks(node).flags|=32768}}if(isAmbientExternalModule){if(!isGlobalSourceFile(node.parent)){error(node.name,ts.Diagnostics.Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces)}if(ts.isExternalModuleNameRelative(node.name.text)){error(node.name,ts.Diagnostics.Ambient_module_declaration_cannot_specify_relative_module_name)}}}checkSourceElement(node.body)}function getFirstIdentifier(node){while(true){if(node.kind===135){node=node.left}else if(node.kind===166){node=node.expression}else{break}}ts.Debug.assert(node.kind===69);return node}function checkExternalImportOrExportDeclaration(node){var moduleName=ts.getExternalModuleName(node);if(!ts.nodeIsMissing(moduleName)&&moduleName.kind!==9){error(moduleName,ts.Diagnostics.String_literal_expected);return false}var inAmbientExternalModule=node.parent.kind===219&&node.parent.parent.name.kind===9;if(node.parent.kind!==248&&!inAmbientExternalModule){error(moduleName,node.kind===228?ts.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace:ts.Diagnostics.Import_declarations_in_a_namespace_cannot_reference_a_module);return false}if(inAmbientExternalModule&&ts.isExternalModuleNameRelative(moduleName.text)){error(node,ts.Diagnostics.Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name);return false}return true}function checkAliasSymbol(node){var symbol=getSymbolOfNode(node);var target=resolveAlias(symbol);if(target!==unknownSymbol){var excludedMeanings=(symbol.flags&107455?107455:0)|(symbol.flags&793056?793056:0)|(symbol.flags&1536?1536:0);if(target.flags&excludedMeanings){var message=node.kind===230?ts.Diagnostics.Export_declaration_conflicts_with_exported_declaration_of_0:ts.Diagnostics.Import_declaration_conflicts_with_local_declaration_of_0;error(node,message,symbolToString(symbol))}}}function checkImportBinding(node){checkCollisionWithCapturedThisVariable(node,node.name);checkCollisionWithRequireExportsInGeneratedCode(node,node.name);checkAliasSymbol(node)}function checkImportDeclaration(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)){return}if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&node.flags&2035){grammarErrorOnFirstToken(node,ts.Diagnostics.An_import_declaration_cannot_have_modifiers)}if(checkExternalImportOrExportDeclaration(node)){var importClause=node.importClause;if(importClause){if(importClause.name){checkImportBinding(importClause)}if(importClause.namedBindings){if(importClause.namedBindings.kind===224){checkImportBinding(importClause.namedBindings)}else{ts.forEach(importClause.namedBindings.elements,checkImportBinding)}}}}}function checkImportEqualsDeclaration(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_import_declaration_can_only_be_used_in_a_namespace_or_module)){return}checkGrammarDecorators(node)||checkGrammarModifiers(node);if(ts.isInternalModuleImportEqualsDeclaration(node)||checkExternalImportOrExportDeclaration(node)){checkImportBinding(node);if(node.flags&1){markExportAsReferenced(node)}if(ts.isInternalModuleImportEqualsDeclaration(node)){var target=resolveAlias(getSymbolOfNode(node));if(target!==unknownSymbol){if(target.flags&107455){var moduleName=getFirstIdentifier(node.moduleReference);if(!(resolveEntityName(moduleName,107455|1536).flags&1536)){error(moduleName,ts.Diagnostics.Module_0_is_hidden_by_a_local_declaration_with_the_same_name,ts.declarationNameToString(moduleName))}}if(target.flags&793056){checkTypeNameIsReserved(node.name,ts.Diagnostics.Import_name_cannot_be_0)}}}else{if(modulekind===5&&!ts.isInAmbientContext(node)){grammarErrorOnNode(node,ts.Diagnostics.Import_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead)}}}}function checkExportDeclaration(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_export_declaration_can_only_be_used_in_a_module)){return}if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&node.flags&2035){grammarErrorOnFirstToken(node,ts.Diagnostics.An_export_declaration_cannot_have_modifiers)}if(!node.moduleSpecifier||checkExternalImportOrExportDeclaration(node)){if(node.exportClause){ts.forEach(node.exportClause.elements,checkExportSpecifier);var inAmbientExternalModule=node.parent.kind===219&&node.parent.parent.name.kind===9;if(node.parent.kind!==248&&!inAmbientExternalModule){error(node,ts.Diagnostics.Export_declarations_are_not_permitted_in_a_namespace)}}else{var moduleSymbol=resolveExternalModuleName(node,node.moduleSpecifier);if(moduleSymbol&&moduleSymbol.exports["export="]){error(node.moduleSpecifier,ts.Diagnostics.Module_0_uses_export_and_cannot_be_used_with_export_Asterisk,symbolToString(moduleSymbol))}}}}function checkGrammarModuleElementContext(node,errorMessage){if(node.parent.kind!==248&&node.parent.kind!==219&&node.parent.kind!==218){return grammarErrorOnFirstToken(node,errorMessage)}}function checkExportSpecifier(node){checkAliasSymbol(node);if(!node.parent.parent.moduleSpecifier){markExportAsReferenced(node)}}function checkExportAssignment(node){if(checkGrammarModuleElementContext(node,ts.Diagnostics.An_export_assignment_can_only_be_used_in_a_module)){return}var container=node.parent.kind===248?node.parent:node.parent.parent;
if(container.kind===218&&container.name.kind===69){error(node,ts.Diagnostics.An_export_assignment_cannot_be_used_in_a_namespace);return}if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&node.flags&2035){grammarErrorOnFirstToken(node,ts.Diagnostics.An_export_assignment_cannot_have_modifiers)}if(node.expression.kind===69){markExportAsReferenced(node)}else{checkExpressionCached(node.expression)}checkExternalModuleExports(container);if(node.isExportEquals&&!ts.isInAmbientContext(node)){if(modulekind===5){grammarErrorOnNode(node,ts.Diagnostics.Export_assignment_cannot_be_used_when_targeting_ECMAScript_6_modules_Consider_using_export_default_or_another_module_format_instead)}else if(modulekind===4){grammarErrorOnNode(node,ts.Diagnostics.Export_assignment_is_not_supported_when_module_flag_is_system)}}}function getModuleStatements(node){if(node.kind===248){return node.statements}if(node.kind===218&&node.body.kind===219){return node.body.statements}return emptyArray}function hasExportedMembers(moduleSymbol){for(var id in moduleSymbol.exports){if(id!=="export="){return true}}return false}function checkExternalModuleExports(node){var moduleSymbol=getSymbolOfNode(node);var links=getSymbolLinks(moduleSymbol);if(!links.exportsChecked){var exportEqualsSymbol=moduleSymbol.exports["export="];if(exportEqualsSymbol&&hasExportedMembers(moduleSymbol)){var declaration=getDeclarationOfAliasSymbol(exportEqualsSymbol)||exportEqualsSymbol.valueDeclaration;error(declaration,ts.Diagnostics.An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements)}links.exportsChecked=true}}function checkTypePredicate(node){if(!isInLegalTypePredicatePosition(node)){error(node,ts.Diagnostics.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods)}}function checkSourceElement(node){if(!node){return}var kind=node.kind;if(cancellationToken){switch(kind){case 218:case 214:case 215:case 213:cancellationToken.throwIfCancellationRequested()}}switch(kind){case 137:return checkTypeParameter(node);case 138:return checkParameter(node);case 141:case 140:return checkPropertyDeclaration(node);case 152:case 153:case 147:case 148:return checkSignatureDeclaration(node);case 149:return checkSignatureDeclaration(node);case 143:case 142:return checkMethodDeclaration(node);case 144:return checkConstructorDeclaration(node);case 145:case 146:return checkAccessorDeclaration(node);case 151:return checkTypeReferenceNode(node);case 150:return checkTypePredicate(node);case 154:return checkTypeQuery(node);case 155:return checkTypeLiteral(node);case 156:return checkArrayType(node);case 157:return checkTupleType(node);case 158:case 159:return checkUnionOrIntersectionType(node);case 160:return checkSourceElement(node.type);case 213:return checkFunctionDeclaration(node);case 192:case 219:return checkBlock(node);case 193:return checkVariableStatement(node);case 195:return checkExpressionStatement(node);case 196:return checkIfStatement(node);case 197:return checkDoStatement(node);case 198:return checkWhileStatement(node);case 199:return checkForStatement(node);case 200:return checkForInStatement(node);case 201:return checkForOfStatement(node);case 202:case 203:return checkBreakOrContinueStatement(node);case 204:return checkReturnStatement(node);case 205:return checkWithStatement(node);case 206:return checkSwitchStatement(node);case 207:return checkLabeledStatement(node);case 208:return checkThrowStatement(node);case 209:return checkTryStatement(node);case 211:return checkVariableDeclaration(node);case 163:return checkBindingElement(node);case 214:return checkClassDeclaration(node);case 215:return checkInterfaceDeclaration(node);case 216:return checkTypeAliasDeclaration(node);case 217:return checkEnumDeclaration(node);case 218:return checkModuleDeclaration(node);case 222:return checkImportDeclaration(node);case 221:return checkImportEqualsDeclaration(node);case 228:return checkExportDeclaration(node);case 227:return checkExportAssignment(node);case 194:checkGrammarStatementInAmbientContext(node);return;case 210:checkGrammarStatementInAmbientContext(node);return;case 231:return checkMissingDeclaration(node)}}function checkFunctionAndClassExpressionBodies(node){switch(node.kind){case 173:case 174:ts.forEach(node.parameters,checkFunctionAndClassExpressionBodies);checkFunctionExpressionOrObjectLiteralMethodBody(node);break;case 186:ts.forEach(node.members,checkSourceElement);ts.forEachChild(node,checkFunctionAndClassExpressionBodies);break;case 143:case 142:ts.forEach(node.decorators,checkFunctionAndClassExpressionBodies);ts.forEach(node.parameters,checkFunctionAndClassExpressionBodies);if(ts.isObjectLiteralMethod(node)){checkFunctionExpressionOrObjectLiteralMethodBody(node)}break;case 144:case 145:case 146:case 213:ts.forEach(node.parameters,checkFunctionAndClassExpressionBodies);break;case 205:checkFunctionAndClassExpressionBodies(node.expression);break;case 139:case 138:case 141:case 140:case 161:case 162:case 163:case 164:case 165:case 245:case 166:case 167:case 168:case 169:case 170:case 183:case 190:case 171:case 189:case 172:case 176:case 177:case 178:case 175:case 179:case 180:case 181:case 182:case 185:case 184:case 192:case 219:case 193:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 206:case 220:case 241:case 242:case 207:case 208:case 209:case 244:case 211:case 212:case 214:case 243:case 188:case 217:case 247:case 227:case 248:case 240:case 233:case 234:case 238:case 239:case 235:ts.forEachChild(node,checkFunctionAndClassExpressionBodies);break}}function checkSourceFile(node){var start=(new Date).getTime();checkSourceFileWorker(node);ts.checkTime+=(new Date).getTime()-start}function checkSourceFileWorker(node){var links=getNodeLinks(node);if(!(links.flags&1)){if(node.isDefaultLib&&compilerOptions.skipDefaultLibCheck){return}checkGrammarSourceFile(node);emitExtends=false;emitDecorate=false;emitParam=false;potentialThisCollisions.length=0;ts.forEach(node.statements,checkSourceElement);checkFunctionAndClassExpressionBodies(node);if(ts.isExternalModule(node)){checkExternalModuleExports(node)}if(potentialThisCollisions.length){ts.forEach(potentialThisCollisions,checkIfThisIsCapturedInEnclosingScope);potentialThisCollisions.length=0}if(emitExtends){links.flags|=8}if(emitDecorate){links.flags|=16}if(emitParam){links.flags|=32}if(emitAwaiter){links.flags|=64}if(emitGenerator||emitAwaiter&&languageVersion<2){links.flags|=128}links.flags|=1}}function getDiagnostics(sourceFile,ct){try{cancellationToken=ct;return getDiagnosticsWorker(sourceFile)}finally{cancellationToken=undefined}}function getDiagnosticsWorker(sourceFile){throwIfNonDiagnosticsProducing();if(sourceFile){checkSourceFile(sourceFile);return diagnostics.getDiagnostics(sourceFile.fileName)}ts.forEach(host.getSourceFiles(),checkSourceFile);return diagnostics.getDiagnostics()}function getGlobalDiagnostics(){throwIfNonDiagnosticsProducing();return diagnostics.getGlobalDiagnostics()}function throwIfNonDiagnosticsProducing(){if(!produceDiagnostics){throw new Error("Trying to get diagnostics from a type checker that does not produce them.")}}function isInsideWithStatementBody(node){if(node){while(node.parent){if(node.parent.kind===205&&node.parent.statement===node){return true}node=node.parent}}return false}function getSymbolsInScope(location,meaning){var symbols={};var memberFlags=0;if(isInsideWithStatementBody(location)){return[]}populateSymbols();return symbolsToArray(symbols);function populateSymbols(){while(location){if(location.locals&&!isGlobalSourceFile(location)){copySymbols(location.locals,meaning)}switch(location.kind){case 248:if(!ts.isExternalModule(location)){break}case 218:copySymbols(getSymbolOfNode(location).exports,meaning&8914931);break;case 217:copySymbols(getSymbolOfNode(location).exports,meaning&8);break;case 186:var className=location.name;if(className){copySymbol(location.symbol,meaning)}case 214:case 215:if(!(memberFlags&128)){copySymbols(getSymbolOfNode(location).members,meaning&793056)}break;case 173:var funcName=location.name;if(funcName){copySymbol(location.symbol,meaning)}break}if(ts.introducesArgumentsExoticObject(location)){copySymbol(argumentsSymbol,meaning)}memberFlags=location.flags;location=location.parent}copySymbols(globals,meaning)}function copySymbol(symbol,meaning){if(symbol.flags&meaning){var id=symbol.name;if(!ts.hasProperty(symbols,id)){symbols[id]=symbol}}}function copySymbols(source,meaning){if(meaning){for(var id in source){var symbol=source[id];copySymbol(symbol,meaning)}}}}function isTypeDeclarationName(name){return name.kind===69&&isTypeDeclaration(name.parent)&&name.parent.name===name}function isTypeDeclaration(node){switch(node.kind){case 137:case 214:case 215:case 216:case 217:return true}}function isTypeReferenceIdentifier(entityName){var node=entityName;while(node.parent&&node.parent.kind===135){node=node.parent}return node.parent&&node.parent.kind===151}function isHeritageClauseElementIdentifier(entityName){var node=entityName;while(node.parent&&node.parent.kind===166){node=node.parent}return node.parent&&node.parent.kind===188}function getLeftSideOfImportEqualsOrExportAssignment(nodeOnRightSide){while(nodeOnRightSide.parent.kind===135){nodeOnRightSide=nodeOnRightSide.parent}if(nodeOnRightSide.parent.kind===221){return nodeOnRightSide.parent.moduleReference===nodeOnRightSide&&nodeOnRightSide.parent}if(nodeOnRightSide.parent.kind===227){return nodeOnRightSide.parent.expression===nodeOnRightSide&&nodeOnRightSide.parent}return undefined}function isInRightSideOfImportOrExportAssignment(node){return getLeftSideOfImportEqualsOrExportAssignment(node)!==undefined}function getSymbolOfEntityNameOrPropertyAccessExpression(entityName){if(ts.isDeclarationName(entityName)){return getSymbolOfNode(entityName.parent)}if(entityName.parent.kind===227){return resolveEntityName(entityName,107455|793056|1536|8388608)}if(entityName.kind!==166){if(isInRightSideOfImportOrExportAssignment(entityName)){return getSymbolOfPartOfRightHandSideOfImportEquals(entityName)}}if(ts.isRightSideOfQualifiedNameOrPropertyAccess(entityName)){entityName=entityName.parent}if(isHeritageClauseElementIdentifier(entityName)){var meaning=0;if(entityName.parent.kind===188){meaning=793056;if(ts.isExpressionWithTypeArgumentsInClassExtendsClause(entityName.parent)){meaning|=107455}}else{meaning=1536}meaning|=8388608;return resolveEntityName(entityName,meaning)}else if(entityName.parent.kind===235||entityName.parent.kind===234||entityName.parent.kind===237){return getJsxElementTagSymbol(entityName.parent)}else if(ts.isExpression(entityName)){if(ts.nodeIsMissing(entityName)){return undefined}if(entityName.kind===69){var meaning=107455|8388608;return resolveEntityName(entityName,meaning)}else if(entityName.kind===166){var symbol=getNodeLinks(entityName).resolvedSymbol;if(!symbol){checkPropertyAccessExpression(entityName)}return getNodeLinks(entityName).resolvedSymbol}else if(entityName.kind===135){var symbol=getNodeLinks(entityName).resolvedSymbol;if(!symbol){checkQualifiedName(entityName)}return getNodeLinks(entityName).resolvedSymbol}}else if(isTypeReferenceIdentifier(entityName)){var meaning=entityName.parent.kind===151?793056:1536;meaning|=8388608;return resolveEntityName(entityName,meaning)}else if(entityName.parent.kind===238){return getJsxAttributePropertySymbol(entityName.parent)}if(entityName.parent.kind===150){return resolveEntityName(entityName,1)}return undefined}function getSymbolAtLocation(node){if(isInsideWithStatementBody(node)){return undefined}if(ts.isDeclarationName(node)){return getSymbolOfNode(node.parent)}if(node.kind===69){if(isInRightSideOfImportOrExportAssignment(node)){return node.parent.kind===227?getSymbolOfEntityNameOrPropertyAccessExpression(node):getSymbolOfPartOfRightHandSideOfImportEquals(node)}else if(node.parent.kind===163&&node.parent.parent.kind===161&&node===node.parent.propertyName){var typeOfPattern=getTypeOfNode(node.parent.parent);var propertyDeclaration=typeOfPattern&&getPropertyOfType(typeOfPattern,node.text);if(propertyDeclaration){return propertyDeclaration}}}switch(node.kind){case 69:case 166:case 135:return getSymbolOfEntityNameOrPropertyAccessExpression(node);case 97:case 95:var type=ts.isExpression(node)?checkExpression(node):getTypeFromTypeNode(node);return type.symbol;case 121:var constructorDeclaration=node.parent;if(constructorDeclaration&&constructorDeclaration.kind===144){return constructorDeclaration.parent.symbol}return undefined;case 9:if(ts.isExternalModuleImportEqualsDeclaration(node.parent.parent)&&ts.getExternalModuleImportEqualsDeclarationExpression(node.parent.parent)===node||(node.parent.kind===222||node.parent.kind===228)&&node.parent.moduleSpecifier===node){return resolveExternalModuleName(node,node)}case 8:if(node.parent.kind===167&&node.parent.argumentExpression===node){var objectType=checkExpression(node.parent.expression);if(objectType===unknownType)return undefined;var apparentType=getApparentType(objectType);if(apparentType===unknownType)return undefined;return getPropertyOfType(apparentType,node.text)}break}return undefined}function getShorthandAssignmentValueSymbol(location){if(location&&location.kind===246){return resolveEntityName(location.name,107455)}return undefined}function getTypeOfNode(node){if(isInsideWithStatementBody(node)){return unknownType}if(ts.isTypeNode(node)){return getTypeFromTypeNode(node)}if(ts.isExpression(node)){return getTypeOfExpression(node)}if(ts.isExpressionWithTypeArgumentsInClassExtendsClause(node)){return getBaseTypes(getDeclaredTypeOfSymbol(getSymbolOfNode(node.parent.parent)))[0]}if(isTypeDeclaration(node)){var symbol=getSymbolOfNode(node);return getDeclaredTypeOfSymbol(symbol)}if(isTypeDeclarationName(node)){var symbol=getSymbolAtLocation(node);return symbol&&getDeclaredTypeOfSymbol(symbol)}if(ts.isDeclaration(node)){var symbol=getSymbolOfNode(node);return getTypeOfSymbol(symbol)}if(ts.isDeclarationName(node)){var symbol=getSymbolAtLocation(node);return symbol&&getTypeOfSymbol(symbol)}if(ts.isBindingPattern(node)){return getTypeForVariableLikeDeclaration(node.parent)}if(isInRightSideOfImportOrExportAssignment(node)){var symbol=getSymbolAtLocation(node);var declaredType=symbol&&getDeclaredTypeOfSymbol(symbol);return declaredType!==unknownType?declaredType:getTypeOfSymbol(symbol)}return unknownType}function getTypeOfExpression(expr){if(ts.isRightSideOfQualifiedNameOrPropertyAccess(expr)){expr=expr.parent}return checkExpression(expr)}function getParentTypeOfClassElement(node){var classSymbol=getSymbolOfNode(node.parent);return node.flags&128?getTypeOfSymbol(classSymbol):getDeclaredTypeOfSymbol(classSymbol)}function getAugmentedPropertiesOfType(type){type=getApparentType(type);var propsByName=createSymbolTable(getPropertiesOfType(type));if(getSignaturesOfType(type,0).length||getSignaturesOfType(type,1).length){ts.forEach(getPropertiesOfType(globalFunctionType),function(p){if(!ts.hasProperty(propsByName,p.name)){propsByName[p.name]=p}})}return getNamedMembers(propsByName)}function getRootSymbols(symbol){if(symbol.flags&268435456){var symbols=[];var name_15=symbol.name;ts.forEach(getSymbolLinks(symbol).containingType.types,function(t){var symbol=getPropertyOfType(t,name_15);if(symbol){symbols.push(symbol)}});return symbols}else if(symbol.flags&67108864){var target=getSymbolLinks(symbol).target;if(target){return[target]}}return[symbol]}function getReferencedExportContainer(node){var symbol=getReferencedValueSymbol(node);if(symbol){if(symbol.flags&1048576){var exportSymbol=getMergedSymbol(symbol.exportSymbol);if(exportSymbol.flags&944){return undefined}symbol=exportSymbol}var parentSymbol=getParentOfSymbol(symbol);if(parentSymbol){if(parentSymbol.flags&512&&parentSymbol.valueDeclaration.kind===248){return parentSymbol.valueDeclaration}for(var n=node.parent;n;n=n.parent){if((n.kind===218||n.kind===217)&&getSymbolOfNode(n)===parentSymbol){return n}}}}}function getReferencedImportDeclaration(node){var symbol=getReferencedValueSymbol(node);return symbol&&symbol.flags&8388608?getDeclarationOfAliasSymbol(symbol):undefined}function isStatementWithLocals(node){switch(node.kind){case 192:case 220:case 199:case 200:case 201:return true}return false}function isNestedRedeclarationSymbol(symbol){if(symbol.flags&418){var links=getSymbolLinks(symbol);if(links.isNestedRedeclaration===undefined){var container=ts.getEnclosingBlockScopeContainer(symbol.valueDeclaration);links.isNestedRedeclaration=isStatementWithLocals(container)&&!!resolveName(container.parent,symbol.name,107455,undefined,undefined)}return links.isNestedRedeclaration}return false}function getReferencedNestedRedeclaration(node){var symbol=getReferencedValueSymbol(node);return symbol&&isNestedRedeclarationSymbol(symbol)?symbol.valueDeclaration:undefined}function isNestedRedeclaration(node){return isNestedRedeclarationSymbol(getSymbolOfNode(node))}function isValueAliasDeclaration(node){switch(node.kind){case 221:case 223:case 224:case 226:case 230:return isAliasResolvedToValue(getSymbolOfNode(node));case 228:var exportClause=node.exportClause;return exportClause&&ts.forEach(exportClause.elements,isValueAliasDeclaration);case 227:return node.expression&&node.expression.kind===69?isAliasResolvedToValue(getSymbolOfNode(node)):true}return false}function isTopLevelValueImportEqualsWithEntityName(node){if(node.parent.kind!==248||!ts.isInternalModuleImportEqualsDeclaration(node)){return false}var isValue=isAliasResolvedToValue(getSymbolOfNode(node));return isValue&&node.moduleReference&&!ts.nodeIsMissing(node.moduleReference)}function isAliasResolvedToValue(symbol){var target=resolveAlias(symbol);if(target===unknownSymbol&&compilerOptions.isolatedModules){return true}return target!==unknownSymbol&&target&&target.flags&107455&&(compilerOptions.preserveConstEnums||!isConstEnumOrConstEnumOnlyModule(target))}function isConstEnumOrConstEnumOnlyModule(s){return isConstEnumSymbol(s)||s.constEnumOnlyModule}function isReferencedAliasDeclaration(node,checkChildren){if(ts.isAliasSymbolDeclaration(node)){var symbol=getSymbolOfNode(node);if(getSymbolLinks(symbol).referenced){return true}}if(checkChildren){return ts.forEachChild(node,function(node){return isReferencedAliasDeclaration(node,checkChildren)})}return false}function isImplementationOfOverload(node){if(ts.nodeIsPresent(node.body)){var symbol=getSymbolOfNode(node);var signaturesOfSymbol=getSignaturesOfSymbol(symbol);return signaturesOfSymbol.length>1||signaturesOfSymbol.length===1&&signaturesOfSymbol[0].declaration!==node}return false}function getNodeCheckFlags(node){return getNodeLinks(node).flags}function getEnumMemberValue(node){computeEnumMemberValues(node.parent);return getNodeLinks(node).enumMemberValue}function getConstantValue(node){if(node.kind===247){return getEnumMemberValue(node)}var symbol=getNodeLinks(node).resolvedSymbol;if(symbol&&symbol.flags&8){if(ts.isConstEnumDeclaration(symbol.valueDeclaration.parent)){return getEnumMemberValue(symbol.valueDeclaration)}}return undefined}function isFunctionType(type){return type.flags&80896&&getSignaturesOfType(type,0).length>0}function getTypeReferenceSerializationKind(typeName){var valueSymbol=resolveEntityName(typeName,107455,true);var constructorType=valueSymbol?getTypeOfSymbol(valueSymbol):undefined;if(constructorType&&isConstructorType(constructorType)){return ts.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue}var typeSymbol=resolveEntityName(typeName,793056,true);if(!typeSymbol){return ts.TypeReferenceSerializationKind.ObjectType}var type=getDeclaredTypeOfSymbol(typeSymbol);if(type===unknownType){return ts.TypeReferenceSerializationKind.Unknown}else if(type.flags&1){return ts.TypeReferenceSerializationKind.ObjectType}else if(allConstituentTypesHaveKind(type,16)){return ts.TypeReferenceSerializationKind.VoidType}else if(allConstituentTypesHaveKind(type,8)){return ts.TypeReferenceSerializationKind.BooleanType}else if(allConstituentTypesHaveKind(type,132)){return ts.TypeReferenceSerializationKind.NumberLikeType}else if(allConstituentTypesHaveKind(type,258)){return ts.TypeReferenceSerializationKind.StringLikeType}else if(allConstituentTypesHaveKind(type,8192)){return ts.TypeReferenceSerializationKind.ArrayLikeType}else if(allConstituentTypesHaveKind(type,16777216)){return ts.TypeReferenceSerializationKind.ESSymbolType}else if(isFunctionType(type)){return ts.TypeReferenceSerializationKind.TypeWithCallSignature}else if(isArrayType(type)){return ts.TypeReferenceSerializationKind.ArrayLikeType}else{return ts.TypeReferenceSerializationKind.ObjectType}}function writeTypeOfDeclaration(declaration,enclosingDeclaration,flags,writer){var symbol=getSymbolOfNode(declaration);var type=symbol&&!(symbol.flags&(2048|131072))?getTypeOfSymbol(symbol):unknownType;getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags)}function writeReturnTypeOfSignatureDeclaration(signatureDeclaration,enclosingDeclaration,flags,writer){var signature=getSignatureFromDeclaration(signatureDeclaration);getSymbolDisplayBuilder().buildTypeDisplay(getReturnTypeOfSignature(signature),writer,enclosingDeclaration,flags)}function writeTypeOfExpression(expr,enclosingDeclaration,flags,writer){var type=getTypeOfExpression(expr);getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags)}function hasGlobalName(name){return ts.hasProperty(globals,name)}function getReferencedValueSymbol(reference){return getNodeLinks(reference).resolvedSymbol||resolveName(reference,reference.text,107455|1048576|8388608,undefined,undefined)}function getReferencedValueDeclaration(reference){ts.Debug.assert(!ts.nodeIsSynthesized(reference));var symbol=getReferencedValueSymbol(reference);return symbol&&getExportSymbolOfValueSymbolIfExported(symbol).valueDeclaration}function instantiateSingleCallFunctionType(functionType,typeArguments){if(functionType===unknownType){return unknownType}var signature=getSingleCallSignature(functionType);if(!signature){return unknownType}var instantiatedSignature=getSignatureInstantiation(signature,typeArguments);return getOrCreateTypeFromSignature(instantiatedSignature)}function createResolver(){return{getReferencedExportContainer:getReferencedExportContainer,getReferencedImportDeclaration:getReferencedImportDeclaration,getReferencedNestedRedeclaration:getReferencedNestedRedeclaration,isNestedRedeclaration:isNestedRedeclaration,isValueAliasDeclaration:isValueAliasDeclaration,hasGlobalName:hasGlobalName,isReferencedAliasDeclaration:isReferencedAliasDeclaration,getNodeCheckFlags:getNodeCheckFlags,isTopLevelValueImportEqualsWithEntityName:isTopLevelValueImportEqualsWithEntityName,isDeclarationVisible:isDeclarationVisible,isImplementationOfOverload:isImplementationOfOverload,writeTypeOfDeclaration:writeTypeOfDeclaration,writeReturnTypeOfSignatureDeclaration:writeReturnTypeOfSignatureDeclaration,writeTypeOfExpression:writeTypeOfExpression,isSymbolAccessible:isSymbolAccessible,isEntityNameVisible:isEntityNameVisible,getConstantValue:getConstantValue,collectLinkedAliases:collectLinkedAliases,getReferencedValueDeclaration:getReferencedValueDeclaration,getTypeReferenceSerializationKind:getTypeReferenceSerializationKind,isOptionalParameter:isOptionalParameter}}function initializeTypeChecker(){ts.forEach(host.getSourceFiles(),function(file){ts.bindSourceFile(file)});ts.forEach(host.getSourceFiles(),function(file){if(!ts.isExternalModule(file)){mergeSymbolTable(globals,file.locals)}});getSymbolLinks(undefinedSymbol).type=undefinedType;getSymbolLinks(argumentsSymbol).type=getGlobalType("IArguments");getSymbolLinks(unknownSymbol).type=unknownType;globals[undefinedSymbol.name]=undefinedSymbol;globalArrayType=getGlobalType("Array",1);globalObjectType=getGlobalType("Object");globalFunctionType=getGlobalType("Function");globalStringType=getGlobalType("String");globalNumberType=getGlobalType("Number");globalBooleanType=getGlobalType("Boolean");globalRegExpType=getGlobalType("RegExp");jsxElementType=getExportedTypeFromNamespace("JSX",JsxNames.Element);getGlobalClassDecoratorType=ts.memoize(function(){return getGlobalType("ClassDecorator")});getGlobalPropertyDecoratorType=ts.memoize(function(){return getGlobalType("PropertyDecorator")});getGlobalMethodDecoratorType=ts.memoize(function(){return getGlobalType("MethodDecorator")});getGlobalParameterDecoratorType=ts.memoize(function(){return getGlobalType("ParameterDecorator")});getGlobalTypedPropertyDescriptorType=ts.memoize(function(){return getGlobalType("TypedPropertyDescriptor",1)});getGlobalPromiseType=ts.memoize(function(){return getGlobalType("Promise",1)});tryGetGlobalPromiseType=ts.memoize(function(){return getGlobalSymbol("Promise",793056,undefined)&&getGlobalPromiseType()});getGlobalPromiseLikeType=ts.memoize(function(){return getGlobalType("PromiseLike",1)});getInstantiatedGlobalPromiseLikeType=ts.memoize(createInstantiatedPromiseLikeType);getGlobalPromiseConstructorSymbol=ts.memoize(function(){return getGlobalValueSymbol("Promise")});getGlobalPromiseConstructorLikeType=ts.memoize(function(){return getGlobalType("PromiseConstructorLike")});getGlobalThenableType=ts.memoize(createThenableType);if(languageVersion>=2){globalTemplateStringsArrayType=getGlobalType("TemplateStringsArray");globalESSymbolType=getGlobalType("Symbol");globalESSymbolConstructorSymbol=getGlobalValueSymbol("Symbol");globalIterableType=getGlobalType("Iterable",1);globalIteratorType=getGlobalType("Iterator",1);globalIterableIteratorType=getGlobalType("IterableIterator",1)}else{globalTemplateStringsArrayType=unknownType;globalESSymbolType=createAnonymousType(undefined,emptySymbols,emptyArray,emptyArray,undefined,undefined);globalESSymbolConstructorSymbol=undefined;globalIterableType=emptyGenericType;globalIteratorType=emptyGenericType;globalIterableIteratorType=emptyGenericType}anyArrayType=createArrayType(anyType)}function createInstantiatedPromiseLikeType(){var promiseLikeType=getGlobalPromiseLikeType();if(promiseLikeType!==emptyGenericType){return createTypeReference(promiseLikeType,[anyType])}return emptyObjectType}function createThenableType(){var thenPropertySymbol=createSymbol(67108864|4,"then");getSymbolLinks(thenPropertySymbol).type=globalFunctionType;var thenableType=createObjectType(65536);thenableType.properties=[thenPropertySymbol];thenableType.members=createSymbolTable(thenableType.properties);thenableType.callSignatures=[];thenableType.constructSignatures=[];return thenableType}function checkGrammarDecorators(node){if(!node.decorators){return false}if(!ts.nodeCanBeDecorated(node)){return grammarErrorOnFirstToken(node,ts.Diagnostics.Decorators_are_not_valid_here)}else if(node.kind===145||node.kind===146){var accessors=ts.getAllAccessorDeclarations(node.parent.members,node);if(accessors.firstAccessor.decorators&&node===accessors.secondAccessor){return grammarErrorOnFirstToken(node,ts.Diagnostics.Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name)}}return false}function checkGrammarModifiers(node){switch(node.kind){case 145:case 146:case 144:case 141:case 140:case 143:case 142:case 149:case 218:case 222:case 221:case 228:case 227:case 138:break;case 213:if(node.modifiers&&(node.modifiers.length>1||node.modifiers[0].kind!==118)&&node.parent.kind!==219&&node.parent.kind!==248){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here)}break;case 214:case 215:case 193:case 216:if(node.modifiers&&node.parent.kind!==219&&node.parent.kind!==248){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here)}break;case 217:if(node.modifiers&&(node.modifiers.length>1||node.modifiers[0].kind!==74)&&node.parent.kind!==219&&node.parent.kind!==248){return grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_cannot_appear_here)}break;default:return false}if(!node.modifiers){return}var lastStatic,lastPrivate,lastProtected,lastDeclare,lastAsync;var flags=0;for(var _i=0,_a=node.modifiers;_i<_a.length;_i++){var modifier=_a[_i];switch(modifier.kind){case 112:case 111:case 110:var text=void 0;if(modifier.kind===112){text="public"}else if(modifier.kind===111){text="protected";lastProtected=modifier}else{text="private";lastPrivate=modifier}if(flags&112){return grammarErrorOnNode(modifier,ts.Diagnostics.Accessibility_modifier_already_seen)}else if(flags&128){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"static")}else if(flags&512){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"async")}else if(node.parent.kind===219||node.parent.kind===248){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_module_element,text)}else if(flags&256){if(modifier.kind===110){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,text,"abstract")}else{return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,text,"abstract")}}flags|=ts.modifierToFlag(modifier.kind);break;case 113:if(flags&128){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"static")}else if(flags&512){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"static","async")}else if(node.parent.kind===219||node.parent.kind===248){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_module_element,"static")}else if(node.kind===138){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"static")}else if(flags&256){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract")}flags|=128;lastStatic=modifier;break;case 82:if(flags&1){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"export")}else if(flags&2){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","declare")}else if(flags&256){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","abstract")}else if(flags&512){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_must_precede_1_modifier,"export","async")}else if(node.parent.kind===214){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"export")}else if(node.kind===138){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"export")}flags|=1;break;case 122:if(flags&2){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"declare")}else if(flags&512){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async")}else if(node.parent.kind===214){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_class_element,"declare")}else if(node.kind===138){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"declare")}else if(ts.isInAmbientContext(node.parent)&&node.parent.kind===219){return grammarErrorOnNode(modifier,ts.Diagnostics.A_declare_modifier_cannot_be_used_in_an_already_ambient_context)}flags|=2;lastDeclare=modifier;break;case 115:if(flags&256){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"abstract")}if(node.kind!==214){if(node.kind!==143){return grammarErrorOnNode(modifier,ts.Diagnostics.abstract_modifier_can_only_appear_on_a_class_or_method_declaration)}if(!(node.parent.kind===214&&node.parent.flags&256)){return grammarErrorOnNode(modifier,ts.Diagnostics.Abstract_methods_can_only_appear_within_an_abstract_class)}if(flags&128){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"static","abstract")}if(flags&32){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_with_1_modifier,"private","abstract")}}flags|=256;break;case 118:if(flags&512){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_already_seen,"async")}else if(flags&2||ts.isInAmbientContext(node.parent)){
return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_be_used_in_an_ambient_context,"async")}else if(node.kind===138){return grammarErrorOnNode(modifier,ts.Diagnostics._0_modifier_cannot_appear_on_a_parameter,"async")}flags|=512;lastAsync=modifier;break}}if(node.kind===144){if(flags&128){return grammarErrorOnNode(lastStatic,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"static")}if(flags&256){return grammarErrorOnNode(lastStatic,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"abstract")}else if(flags&64){return grammarErrorOnNode(lastProtected,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"protected")}else if(flags&32){return grammarErrorOnNode(lastPrivate,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"private")}else if(flags&512){return grammarErrorOnNode(lastAsync,ts.Diagnostics._0_modifier_cannot_appear_on_a_constructor_declaration,"async")}return}else if((node.kind===222||node.kind===221)&&flags&2){return grammarErrorOnNode(lastDeclare,ts.Diagnostics.A_0_modifier_cannot_be_used_with_an_import_declaration,"declare")}else if(node.kind===138&&flags&112&&ts.isBindingPattern(node.name)){return grammarErrorOnNode(node,ts.Diagnostics.A_parameter_property_may_not_be_a_binding_pattern)}if(flags&512){return checkGrammarAsyncModifier(node,lastAsync)}}function checkGrammarAsyncModifier(node,asyncModifier){if(languageVersion<2){return grammarErrorOnNode(asyncModifier,ts.Diagnostics.Async_functions_are_only_available_when_targeting_ECMAScript_6_and_higher)}switch(node.kind){case 143:case 213:case 173:case 174:if(!node.asteriskToken){return false}break}return grammarErrorOnNode(asyncModifier,ts.Diagnostics._0_modifier_cannot_be_used_here,"async")}function checkGrammarForDisallowedTrailingComma(list){if(list&&list.hasTrailingComma){var start=list.end-",".length;var end=list.end;var sourceFile=ts.getSourceFileOfNode(list[0]);return grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Trailing_comma_not_allowed)}}function checkGrammarTypeParameterList(node,typeParameters,file){if(checkGrammarForDisallowedTrailingComma(typeParameters)){return true}if(typeParameters&&typeParameters.length===0){var start=typeParameters.pos-"<".length;var end=ts.skipTrivia(file.text,typeParameters.end)+">".length;return grammarErrorAtPos(file,start,end-start,ts.Diagnostics.Type_parameter_list_cannot_be_empty)}}function checkGrammarParameterList(parameters){if(checkGrammarForDisallowedTrailingComma(parameters)){return true}var seenOptionalParameter=false;var parameterCount=parameters.length;for(var i=0;i<parameterCount;i++){var parameter=parameters[i];if(parameter.dotDotDotToken){if(i!==parameterCount-1){return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.A_rest_parameter_must_be_last_in_a_parameter_list)}if(ts.isBindingPattern(parameter.name)){return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern)}if(parameter.questionToken){return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.A_rest_parameter_cannot_be_optional)}if(parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_rest_parameter_cannot_have_an_initializer)}}else if(parameter.questionToken){seenOptionalParameter=true;if(parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.Parameter_cannot_have_question_mark_and_initializer)}}else if(seenOptionalParameter&&!parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.A_required_parameter_cannot_follow_an_optional_parameter)}}}function checkGrammarFunctionLikeDeclaration(node){var file=ts.getSourceFileOfNode(node);return checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarTypeParameterList(node,node.typeParameters,file)||checkGrammarParameterList(node.parameters)||checkGrammarArrowFunction(node,file)}function checkGrammarArrowFunction(node,file){if(node.kind===174){var arrowFunction=node;var startLine=ts.getLineAndCharacterOfPosition(file,arrowFunction.equalsGreaterThanToken.pos).line;var endLine=ts.getLineAndCharacterOfPosition(file,arrowFunction.equalsGreaterThanToken.end).line;if(startLine!==endLine){return grammarErrorOnNode(arrowFunction.equalsGreaterThanToken,ts.Diagnostics.Line_terminator_not_permitted_before_arrow)}}return false}function checkGrammarIndexSignatureParameters(node){var parameter=node.parameters[0];if(node.parameters.length!==1){if(parameter){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_must_have_exactly_one_parameter)}else{return grammarErrorOnNode(node,ts.Diagnostics.An_index_signature_must_have_exactly_one_parameter)}}if(parameter.dotDotDotToken){return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.An_index_signature_cannot_have_a_rest_parameter)}if(parameter.flags&2035){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_cannot_have_an_accessibility_modifier)}if(parameter.questionToken){return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.An_index_signature_parameter_cannot_have_a_question_mark)}if(parameter.initializer){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_cannot_have_an_initializer)}if(!parameter.type){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_must_have_a_type_annotation)}if(parameter.type.kind!==130&&parameter.type.kind!==128){return grammarErrorOnNode(parameter.name,ts.Diagnostics.An_index_signature_parameter_type_must_be_string_or_number)}if(!node.type){return grammarErrorOnNode(node,ts.Diagnostics.An_index_signature_must_have_a_type_annotation)}}function checkGrammarForIndexSignatureModifier(node){if(node.flags&2035){grammarErrorOnFirstToken(node,ts.Diagnostics.Modifiers_not_permitted_on_index_signature_members)}}function checkGrammarIndexSignature(node){return checkGrammarDecorators(node)||checkGrammarModifiers(node)||checkGrammarIndexSignatureParameters(node)||checkGrammarForIndexSignatureModifier(node)}function checkGrammarForAtLeastOneTypeArgument(node,typeArguments){if(typeArguments&&typeArguments.length===0){var sourceFile=ts.getSourceFileOfNode(node);var start=typeArguments.pos-"<".length;var end=ts.skipTrivia(sourceFile.text,typeArguments.end)+">".length;return grammarErrorAtPos(sourceFile,start,end-start,ts.Diagnostics.Type_argument_list_cannot_be_empty)}}function checkGrammarTypeArguments(node,typeArguments){return checkGrammarForDisallowedTrailingComma(typeArguments)||checkGrammarForAtLeastOneTypeArgument(node,typeArguments)}function checkGrammarForOmittedArgument(node,args){if(args){var sourceFile=ts.getSourceFileOfNode(node);for(var _i=0;_i<args.length;_i++){var arg=args[_i];if(arg.kind===187){return grammarErrorAtPos(sourceFile,arg.pos,0,ts.Diagnostics.Argument_expression_expected)}}}}function checkGrammarArguments(node,args){return checkGrammarForDisallowedTrailingComma(args)||checkGrammarForOmittedArgument(node,args)}function checkGrammarHeritageClause(node){var types=node.types;if(checkGrammarForDisallowedTrailingComma(types)){return true}if(types&&types.length===0){var listType=ts.tokenToString(node.token);var sourceFile=ts.getSourceFileOfNode(node);return grammarErrorAtPos(sourceFile,types.pos,0,ts.Diagnostics._0_list_cannot_be_empty,listType)}}function checkGrammarClassDeclarationHeritageClauses(node){var seenExtendsClause=false;var seenImplementsClause=false;if(!checkGrammarDecorators(node)&&!checkGrammarModifiers(node)&&node.heritageClauses){for(var _i=0,_a=node.heritageClauses;_i<_a.length;_i++){var heritageClause=_a[_i];if(heritageClause.token===83){if(seenExtendsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_already_seen)}if(seenImplementsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_must_precede_implements_clause)}if(heritageClause.types.length>1){return grammarErrorOnFirstToken(heritageClause.types[1],ts.Diagnostics.Classes_can_only_extend_a_single_class)}seenExtendsClause=true}else{ts.Debug.assert(heritageClause.token===106);if(seenImplementsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.implements_clause_already_seen)}seenImplementsClause=true}checkGrammarHeritageClause(heritageClause)}}}function checkGrammarInterfaceDeclaration(node){var seenExtendsClause=false;if(node.heritageClauses){for(var _i=0,_a=node.heritageClauses;_i<_a.length;_i++){var heritageClause=_a[_i];if(heritageClause.token===83){if(seenExtendsClause){return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.extends_clause_already_seen)}seenExtendsClause=true}else{ts.Debug.assert(heritageClause.token===106);return grammarErrorOnFirstToken(heritageClause,ts.Diagnostics.Interface_declaration_cannot_have_implements_clause)}checkGrammarHeritageClause(heritageClause)}}return false}function checkGrammarComputedPropertyName(node){if(node.kind!==136){return false}var computedPropertyName=node;if(computedPropertyName.expression.kind===181&&computedPropertyName.expression.operatorToken.kind===24){return grammarErrorOnNode(computedPropertyName.expression,ts.Diagnostics.A_comma_expression_is_not_allowed_in_a_computed_property_name)}}function checkGrammarForGenerator(node){if(node.asteriskToken){ts.Debug.assert(node.kind===213||node.kind===173||node.kind===143);if(ts.isInAmbientContext(node)){return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.Generators_are_not_allowed_in_an_ambient_context)}if(!node.body){return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.An_overload_signature_cannot_be_declared_as_a_generator)}if(languageVersion<2){return grammarErrorOnNode(node.asteriskToken,ts.Diagnostics.Generators_are_only_available_when_targeting_ECMAScript_6_or_higher)}}}function checkGrammarForInvalidQuestionMark(node,questionToken,message){if(questionToken){return grammarErrorOnNode(questionToken,message)}}function checkGrammarObjectLiteralExpression(node,inDestructuring){var seen={};var Property=1;var GetAccessor=2;var SetAccesor=4;var GetOrSetAccessor=GetAccessor|SetAccesor;for(var _i=0,_a=node.properties;_i<_a.length;_i++){var prop=_a[_i];var name_16=prop.name;if(prop.kind===187||name_16.kind===136){checkGrammarComputedPropertyName(name_16);continue}if(prop.kind===246&&!inDestructuring&&prop.objectAssignmentInitializer){return grammarErrorOnNode(prop.equalsToken,ts.Diagnostics.can_only_be_used_in_an_object_literal_property_inside_a_destructuring_assignment)}var currentKind=void 0;if(prop.kind===245||prop.kind===246){checkGrammarForInvalidQuestionMark(prop,prop.questionToken,ts.Diagnostics.An_object_member_cannot_be_declared_optional);if(name_16.kind===8){checkGrammarNumericLiteral(name_16)}currentKind=Property}else if(prop.kind===143){currentKind=Property}else if(prop.kind===145){currentKind=GetAccessor}else if(prop.kind===146){currentKind=SetAccesor}else{ts.Debug.fail("Unexpected syntax kind:"+prop.kind)}if(!ts.hasProperty(seen,name_16.text)){seen[name_16.text]=currentKind}else{var existingKind=seen[name_16.text];if(currentKind===Property&&existingKind===Property){continue}else if(currentKind&GetOrSetAccessor&&existingKind&GetOrSetAccessor){if(existingKind!==GetOrSetAccessor&&currentKind!==existingKind){seen[name_16.text]=currentKind|existingKind}else{return grammarErrorOnNode(name_16,ts.Diagnostics.An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name)}}else{return grammarErrorOnNode(name_16,ts.Diagnostics.An_object_literal_cannot_have_property_and_accessor_with_the_same_name)}}}}function checkGrammarJsxElement(node){var seen={};for(var _i=0,_a=node.attributes;_i<_a.length;_i++){var attr=_a[_i];if(attr.kind===239){continue}var jsxAttr=attr;var name_17=jsxAttr.name;if(!ts.hasProperty(seen,name_17.text)){seen[name_17.text]=true}else{return grammarErrorOnNode(name_17,ts.Diagnostics.JSX_elements_cannot_have_multiple_attributes_with_the_same_name)}var initializer=jsxAttr.initializer;if(initializer&&initializer.kind===240&&!initializer.expression){return grammarErrorOnNode(jsxAttr.initializer,ts.Diagnostics.JSX_attributes_must_only_be_assigned_a_non_empty_expression)}}}function checkGrammarForInOrForOfStatement(forInOrOfStatement){if(checkGrammarStatementInAmbientContext(forInOrOfStatement)){return true}if(forInOrOfStatement.initializer.kind===212){var variableList=forInOrOfStatement.initializer;if(!checkGrammarVariableDeclarationList(variableList)){if(variableList.declarations.length>1){var diagnostic=forInOrOfStatement.kind===200?ts.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:ts.Diagnostics.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement;return grammarErrorOnFirstToken(variableList.declarations[1],diagnostic)}var firstDeclaration=variableList.declarations[0];if(firstDeclaration.initializer){var diagnostic=forInOrOfStatement.kind===200?ts.Diagnostics.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:ts.Diagnostics.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer;return grammarErrorOnNode(firstDeclaration.name,diagnostic)}if(firstDeclaration.type){var diagnostic=forInOrOfStatement.kind===200?ts.Diagnostics.The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:ts.Diagnostics.The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation;return grammarErrorOnNode(firstDeclaration,diagnostic)}}}return false}function checkGrammarAccessor(accessor){var kind=accessor.kind;if(languageVersion<1){return grammarErrorOnNode(accessor.name,ts.Diagnostics.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)}else if(ts.isInAmbientContext(accessor)){return grammarErrorOnNode(accessor.name,ts.Diagnostics.An_accessor_cannot_be_declared_in_an_ambient_context)}else if(accessor.body===undefined){return grammarErrorAtPos(ts.getSourceFileOfNode(accessor),accessor.end-1,";".length,ts.Diagnostics._0_expected,"{")}else if(accessor.typeParameters){return grammarErrorOnNode(accessor.name,ts.Diagnostics.An_accessor_cannot_have_type_parameters)}else if(kind===145&&accessor.parameters.length){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_get_accessor_cannot_have_parameters)}else if(kind===146){if(accessor.type){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_cannot_have_a_return_type_annotation)}else if(accessor.parameters.length!==1){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_must_have_exactly_one_parameter)}else{var parameter=accessor.parameters[0];if(parameter.dotDotDotToken){return grammarErrorOnNode(parameter.dotDotDotToken,ts.Diagnostics.A_set_accessor_cannot_have_rest_parameter)}else if(parameter.flags&2035){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_parameter_property_is_only_allowed_in_a_constructor_implementation)}else if(parameter.questionToken){return grammarErrorOnNode(parameter.questionToken,ts.Diagnostics.A_set_accessor_cannot_have_an_optional_parameter)}else if(parameter.initializer){return grammarErrorOnNode(accessor.name,ts.Diagnostics.A_set_accessor_parameter_cannot_have_an_initializer)}}}}function checkGrammarForNonSymbolComputedProperty(node,message){if(node.kind===136&&!ts.isWellKnownSymbolSyntactically(node.expression)){return grammarErrorOnNode(node,message)}}function checkGrammarMethod(node){if(checkGrammarDisallowedModifiersOnObjectLiteralExpressionMethod(node)||checkGrammarFunctionLikeDeclaration(node)||checkGrammarForGenerator(node)){return true}if(node.parent.kind===165){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.A_class_member_cannot_be_declared_optional)){return true}else if(node.body===undefined){return grammarErrorAtPos(getSourceFile(node),node.end-1,";".length,ts.Diagnostics._0_expected,"{")}}if(ts.isClassLike(node.parent)){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.A_class_member_cannot_be_declared_optional)){return true}if(ts.isInAmbientContext(node)){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_ambient_context_must_directly_refer_to_a_built_in_symbol)}else if(!node.body){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_method_overload_must_directly_refer_to_a_built_in_symbol)}}else if(node.parent.kind===215){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol)}else if(node.parent.kind===155){return checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol)}}function isIterationStatement(node,lookInLabeledStatements){switch(node.kind){case 199:case 200:case 201:case 197:case 198:return true;case 207:return lookInLabeledStatements&&isIterationStatement(node.statement,lookInLabeledStatements)}return false}function checkGrammarBreakOrContinueStatement(node){var current=node;while(current){if(ts.isFunctionLike(current)){return grammarErrorOnNode(node,ts.Diagnostics.Jump_target_cannot_cross_function_boundary)}switch(current.kind){case 207:if(node.label&&current.label.text===node.label.text){var isMisplacedContinueLabel=node.kind===202&&!isIterationStatement(current.statement,true);if(isMisplacedContinueLabel){return grammarErrorOnNode(node,ts.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement)}return false}break;case 206:if(node.kind===203&&!node.label){return false}break;default:if(isIterationStatement(current,false)&&!node.label){return false}break}current=current.parent}if(node.label){var message=node.kind===203?ts.Diagnostics.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:ts.Diagnostics.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement;return grammarErrorOnNode(node,message)}else{var message=node.kind===203?ts.Diagnostics.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:ts.Diagnostics.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement;return grammarErrorOnNode(node,message)}}function checkGrammarBindingElement(node){if(node.dotDotDotToken){var elements=node.parent.elements;if(node!==ts.lastOrUndefined(elements)){return grammarErrorOnNode(node,ts.Diagnostics.A_rest_element_must_be_last_in_an_array_destructuring_pattern)}if(node.name.kind===162||node.name.kind===161){return grammarErrorOnNode(node.name,ts.Diagnostics.A_rest_element_cannot_contain_a_binding_pattern)}if(node.initializer){return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.initializer.pos-1,1,ts.Diagnostics.A_rest_element_cannot_have_an_initializer)}}}function checkGrammarVariableDeclaration(node){if(node.parent.parent.kind!==200&&node.parent.parent.kind!==201){if(ts.isInAmbientContext(node)){if(node.initializer){var equalsTokenLength="=".length;return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.initializer.pos-equalsTokenLength,equalsTokenLength,ts.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)}}else if(!node.initializer){if(ts.isBindingPattern(node.name)&&!ts.isBindingPattern(node.parent)){return grammarErrorOnNode(node,ts.Diagnostics.A_destructuring_declaration_must_have_an_initializer)}if(ts.isConst(node)){return grammarErrorOnNode(node,ts.Diagnostics.const_declarations_must_be_initialized)}}}var checkLetConstNames=languageVersion>=2&&(ts.isLet(node)||ts.isConst(node));return checkLetConstNames&&checkGrammarNameInLetOrConstDeclarations(node.name)}function checkGrammarNameInLetOrConstDeclarations(name){if(name.kind===69){if(name.text==="let"){return grammarErrorOnNode(name,ts.Diagnostics.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations)}}else{var elements=name.elements;for(var _i=0;_i<elements.length;_i++){var element=elements[_i];if(element.kind!==187){checkGrammarNameInLetOrConstDeclarations(element.name)}}}}function checkGrammarVariableDeclarationList(declarationList){var declarations=declarationList.declarations;if(checkGrammarForDisallowedTrailingComma(declarationList.declarations)){return true}if(!declarationList.declarations.length){return grammarErrorAtPos(ts.getSourceFileOfNode(declarationList),declarations.pos,declarations.end-declarations.pos,ts.Diagnostics.Variable_declaration_list_cannot_be_empty)}}function allowLetAndConstDeclarations(parent){switch(parent.kind){case 196:case 197:case 198:case 205:case 199:case 200:case 201:return false;case 207:return allowLetAndConstDeclarations(parent.parent)}return true}function checkGrammarForDisallowedLetOrConstStatement(node){if(!allowLetAndConstDeclarations(node.parent)){if(ts.isLet(node.declarationList)){return grammarErrorOnNode(node,ts.Diagnostics.let_declarations_can_only_be_declared_inside_a_block)}else if(ts.isConst(node.declarationList)){return grammarErrorOnNode(node,ts.Diagnostics.const_declarations_can_only_be_declared_inside_a_block)}}}function isIntegerLiteral(expression){if(expression.kind===179){var unaryExpression=expression;if(unaryExpression.operator===35||unaryExpression.operator===36){expression=unaryExpression.operand}}if(expression.kind===8){return/^[0-9]+([eE]\+?[0-9]+)?$/.test(expression.text)}return false}function hasParseDiagnostics(sourceFile){return sourceFile.parseDiagnostics.length>0}function grammarErrorOnFirstToken(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){var span=ts.getSpanOfTokenAtPosition(sourceFile,node.pos);diagnostics.add(ts.createFileDiagnostic(sourceFile,span.start,span.length,message,arg0,arg1,arg2));return true}}function grammarErrorAtPos(sourceFile,start,length,message,arg0,arg1,arg2){if(!hasParseDiagnostics(sourceFile)){diagnostics.add(ts.createFileDiagnostic(sourceFile,start,length,message,arg0,arg1,arg2));return true}}function grammarErrorOnNode(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){diagnostics.add(ts.createDiagnosticForNode(node,message,arg0,arg1,arg2));return true}}function isEvalOrArgumentsIdentifier(node){return node.kind===69&&(node.text==="eval"||node.text==="arguments")}function checkGrammarConstructorTypeParameters(node){if(node.typeParameters){return grammarErrorAtPos(ts.getSourceFileOfNode(node),node.typeParameters.pos,node.typeParameters.end-node.typeParameters.pos,ts.Diagnostics.Type_parameters_cannot_appear_on_a_constructor_declaration)}}function checkGrammarConstructorTypeAnnotation(node){if(node.type){return grammarErrorOnNode(node.type,ts.Diagnostics.Type_annotation_cannot_appear_on_a_constructor_declaration)}}function checkGrammarProperty(node){if(ts.isClassLike(node.parent)){if(checkGrammarForInvalidQuestionMark(node,node.questionToken,ts.Diagnostics.A_class_member_cannot_be_declared_optional)||checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_class_property_declaration_must_directly_refer_to_a_built_in_symbol)){return true}}else if(node.parent.kind===215){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_an_interface_must_directly_refer_to_a_built_in_symbol)){return true}}else if(node.parent.kind===155){if(checkGrammarForNonSymbolComputedProperty(node.name,ts.Diagnostics.A_computed_property_name_in_a_type_literal_must_directly_refer_to_a_built_in_symbol)){return true}}if(ts.isInAmbientContext(node)&&node.initializer){return grammarErrorOnFirstToken(node.initializer,ts.Diagnostics.Initializers_are_not_allowed_in_ambient_contexts)}}function checkGrammarTopLevelElementForRequiredDeclareModifier(node){if(node.kind===215||node.kind===222||node.kind===221||node.kind===228||node.kind===227||node.flags&2||node.flags&(1|1024)){return false}return grammarErrorOnFirstToken(node,ts.Diagnostics.A_declare_modifier_is_required_for_a_top_level_declaration_in_a_d_ts_file)}function checkGrammarTopLevelElementsForRequiredDeclareModifier(file){for(var _i=0,_a=file.statements;_i<_a.length;_i++){var decl=_a[_i];if(ts.isDeclaration(decl)||decl.kind===193){if(checkGrammarTopLevelElementForRequiredDeclareModifier(decl)){return true}}}}function checkGrammarSourceFile(node){return ts.isInAmbientContext(node)&&checkGrammarTopLevelElementsForRequiredDeclareModifier(node)}function checkGrammarStatementInAmbientContext(node){if(ts.isInAmbientContext(node)){if(isAccessor(node.parent.kind)){return getNodeLinks(node).hasReportedStatementInAmbientContext=true}var links=getNodeLinks(node);if(!links.hasReportedStatementInAmbientContext&&ts.isFunctionLike(node.parent)){return getNodeLinks(node).hasReportedStatementInAmbientContext=grammarErrorOnFirstToken(node,ts.Diagnostics.An_implementation_cannot_be_declared_in_ambient_contexts)}if(node.parent.kind===192||node.parent.kind===219||node.parent.kind===248){var links_1=getNodeLinks(node.parent);if(!links_1.hasReportedStatementInAmbientContext){return links_1.hasReportedStatementInAmbientContext=grammarErrorOnFirstToken(node,ts.Diagnostics.Statements_are_not_allowed_in_ambient_contexts)}}else{}}}function checkGrammarNumericLiteral(node){if(node.flags&65536&&languageVersion>=1){return grammarErrorOnNode(node,ts.Diagnostics.Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher)}}function grammarErrorAfterFirstToken(node,message,arg0,arg1,arg2){var sourceFile=ts.getSourceFileOfNode(node);if(!hasParseDiagnostics(sourceFile)){var span=ts.getSpanOfTokenAtPosition(sourceFile,node.pos);diagnostics.add(ts.createFileDiagnostic(sourceFile,ts.textSpanEnd(span),0,message,arg0,arg1,arg2));return true}}}ts.createTypeChecker=createTypeChecker})(ts||(ts={}));var ts;(function(ts){function getDeclarationDiagnostics(host,resolver,targetSourceFile){var diagnostics=[];var jsFilePath=ts.getOwnEmitOutputFilePath(targetSourceFile,host,".js");emitDeclarations(host,resolver,diagnostics,jsFilePath,targetSourceFile);return diagnostics}ts.getDeclarationDiagnostics=getDeclarationDiagnostics;function emitDeclarations(host,resolver,diagnostics,jsFilePath,root){var newLine=host.getNewLine();var compilerOptions=host.getCompilerOptions();var write;var writeLine;var increaseIndent;var decreaseIndent;var writeTextOfNode;var writer=createAndSetNewTextWriterWithSymbolWriter();var enclosingDeclaration;var currentSourceFile;var reportedDeclarationError=false;var errorNameNode;var emitJsDocComments=compilerOptions.removeComments?function(declaration){}:writeJsDocComments;var emit=compilerOptions.stripInternal?stripInternal:emitNode;var moduleElementDeclarationEmitInfo=[];var asynchronousSubModuleDeclarationEmitInfo;var referencePathsOutput="";if(root){if(!compilerOptions.noResolve){var addedGlobalFileReference=false;ts.forEach(root.referencedFiles,function(fileReference){var referencedFile=ts.tryResolveScriptReference(host,root,fileReference);if(referencedFile&&(referencedFile.flags&8192||ts.shouldEmitToOwnFile(referencedFile,compilerOptions)||!addedGlobalFileReference)){writeReferencePath(referencedFile);if(!ts.isExternalModuleOrDeclarationFile(referencedFile)){addedGlobalFileReference=true}}})}emitSourceFile(root);if(moduleElementDeclarationEmitInfo.length){var oldWriter=writer;ts.forEach(moduleElementDeclarationEmitInfo,function(aliasEmitInfo){if(aliasEmitInfo.isVisible){ts.Debug.assert(aliasEmitInfo.node.kind===222);createAndSetNewTextWriterWithSymbolWriter();ts.Debug.assert(aliasEmitInfo.indent===0);writeImportDeclaration(aliasEmitInfo.node);aliasEmitInfo.asynchronousOutput=writer.getText()}});setWriter(oldWriter)}}else{var emittedReferencedFiles=[];ts.forEach(host.getSourceFiles(),function(sourceFile){if(!ts.isExternalModuleOrDeclarationFile(sourceFile)){if(!compilerOptions.noResolve){ts.forEach(sourceFile.referencedFiles,function(fileReference){var referencedFile=ts.tryResolveScriptReference(host,sourceFile,fileReference);if(referencedFile&&(ts.isExternalModuleOrDeclarationFile(referencedFile)&&!ts.contains(emittedReferencedFiles,referencedFile))){writeReferencePath(referencedFile);emittedReferencedFiles.push(referencedFile)}})}emitSourceFile(sourceFile)}})}return{reportedDeclarationError:reportedDeclarationError,moduleElementDeclarationEmitInfo:moduleElementDeclarationEmitInfo,synchronousDeclarationOutput:writer.getText(),referencePathsOutput:referencePathsOutput};function hasInternalAnnotation(range){var text=currentSourceFile.text;var comment=text.substring(range.pos,range.end);return comment.indexOf("@internal")>=0}function stripInternal(node){if(node){var leadingCommentRanges=ts.getLeadingCommentRanges(currentSourceFile.text,node.pos);if(ts.forEach(leadingCommentRanges,hasInternalAnnotation)){return}emitNode(node)}}function createAndSetNewTextWriterWithSymbolWriter(){var writer=ts.createTextWriter(newLine);writer.trackSymbol=trackSymbol;writer.reportInaccessibleThisError=reportInaccessibleThisError;writer.writeKeyword=writer.write;writer.writeOperator=writer.write;writer.writePunctuation=writer.write;writer.writeSpace=writer.write;writer.writeStringLiteral=writer.writeLiteral;writer.writeParameter=writer.write;writer.writeSymbol=writer.write;setWriter(writer);return writer}function setWriter(newWriter){writer=newWriter;write=newWriter.write;writeTextOfNode=newWriter.writeTextOfNode;writeLine=newWriter.writeLine;increaseIndent=newWriter.increaseIndent;decreaseIndent=newWriter.decreaseIndent}function writeAsynchronousModuleElements(nodes){var oldWriter=writer;ts.forEach(nodes,function(declaration){var nodeToCheck;if(declaration.kind===211){nodeToCheck=declaration.parent.parent}else if(declaration.kind===225||declaration.kind===226||declaration.kind===223){ts.Debug.fail("We should be getting ImportDeclaration instead to write")}else{nodeToCheck=declaration}var moduleElementEmitInfo=ts.forEach(moduleElementDeclarationEmitInfo,function(declEmitInfo){return declEmitInfo.node===nodeToCheck?declEmitInfo:undefined});if(!moduleElementEmitInfo&&asynchronousSubModuleDeclarationEmitInfo){moduleElementEmitInfo=ts.forEach(asynchronousSubModuleDeclarationEmitInfo,function(declEmitInfo){return declEmitInfo.node===nodeToCheck?declEmitInfo:undefined})}if(moduleElementEmitInfo){if(moduleElementEmitInfo.node.kind===222){moduleElementEmitInfo.isVisible=true}else{createAndSetNewTextWriterWithSymbolWriter();for(var declarationIndent=moduleElementEmitInfo.indent;declarationIndent;declarationIndent--){increaseIndent()}if(nodeToCheck.kind===218){ts.Debug.assert(asynchronousSubModuleDeclarationEmitInfo===undefined);asynchronousSubModuleDeclarationEmitInfo=[]}writeModuleElement(nodeToCheck);if(nodeToCheck.kind===218){moduleElementEmitInfo.subModuleElementDeclarationEmitInfo=asynchronousSubModuleDeclarationEmitInfo;asynchronousSubModuleDeclarationEmitInfo=undefined}moduleElementEmitInfo.asynchronousOutput=writer.getText()}}});setWriter(oldWriter)}function handleSymbolAccessibilityError(symbolAccesibilityResult){if(symbolAccesibilityResult.accessibility===0){if(symbolAccesibilityResult&&symbolAccesibilityResult.aliasesToMakeVisible){writeAsynchronousModuleElements(symbolAccesibilityResult.aliasesToMakeVisible)}}else{reportedDeclarationError=true;var errorInfo=writer.getSymbolAccessibilityDiagnostic(symbolAccesibilityResult);if(errorInfo){if(errorInfo.typeName){diagnostics.push(ts.createDiagnosticForNode(symbolAccesibilityResult.errorNode||errorInfo.errorNode,errorInfo.diagnosticMessage,ts.getSourceTextOfNodeFromSourceFile(currentSourceFile,errorInfo.typeName),symbolAccesibilityResult.errorSymbolName,symbolAccesibilityResult.errorModuleName))}else{diagnostics.push(ts.createDiagnosticForNode(symbolAccesibilityResult.errorNode||errorInfo.errorNode,errorInfo.diagnosticMessage,symbolAccesibilityResult.errorSymbolName,symbolAccesibilityResult.errorModuleName))}}}}function trackSymbol(symbol,enclosingDeclaration,meaning){handleSymbolAccessibilityError(resolver.isSymbolAccessible(symbol,enclosingDeclaration,meaning))}function reportInaccessibleThisError(){
if(errorNameNode){diagnostics.push(ts.createDiagnosticForNode(errorNameNode,ts.Diagnostics.The_inferred_type_of_0_references_an_inaccessible_this_type_A_type_annotation_is_necessary,ts.declarationNameToString(errorNameNode)))}}function writeTypeOfDeclaration(declaration,type,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic;write(": ");if(type){emitType(type)}else{errorNameNode=declaration.name;resolver.writeTypeOfDeclaration(declaration,enclosingDeclaration,2,writer);errorNameNode=undefined}}function writeReturnTypeAtSignature(signature,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic;write(": ");if(signature.type){emitType(signature.type)}else{errorNameNode=signature.name;resolver.writeReturnTypeOfSignatureDeclaration(signature,enclosingDeclaration,2,writer);errorNameNode=undefined}}function emitLines(nodes){for(var _i=0;_i<nodes.length;_i++){var node=nodes[_i];emit(node)}}function emitSeparatedList(nodes,separator,eachNodeEmitFn,canEmitFn){var currentWriterPos=writer.getTextPos();for(var _i=0;_i<nodes.length;_i++){var node=nodes[_i];if(!canEmitFn||canEmitFn(node)){if(currentWriterPos!==writer.getTextPos()){write(separator)}currentWriterPos=writer.getTextPos();eachNodeEmitFn(node)}}}function emitCommaList(nodes,eachNodeEmitFn,canEmitFn){emitSeparatedList(nodes,", ",eachNodeEmitFn,canEmitFn)}function writeJsDocComments(declaration){if(declaration){var jsDocComments=ts.getJsDocComments(declaration,currentSourceFile);ts.emitNewLineBeforeLeadingComments(currentSourceFile,writer,declaration,jsDocComments);ts.emitComments(currentSourceFile,writer,jsDocComments,true,newLine,ts.writeCommentRange)}}function emitTypeWithNewGetSymbolAccessibilityDiagnostic(type,getSymbolAccessibilityDiagnostic){writer.getSymbolAccessibilityDiagnostic=getSymbolAccessibilityDiagnostic;emitType(type)}function emitType(type){switch(type.kind){case 117:case 130:case 128:case 120:case 131:case 103:case 97:case 9:return writeTextOfNode(currentSourceFile,type);case 188:return emitExpressionWithTypeArguments(type);case 151:return emitTypeReference(type);case 154:return emitTypeQuery(type);case 156:return emitArrayType(type);case 157:return emitTupleType(type);case 158:return emitUnionType(type);case 159:return emitIntersectionType(type);case 160:return emitParenType(type);case 152:case 153:return emitSignatureDeclarationWithJsDocComments(type);case 155:return emitTypeLiteral(type);case 69:return emitEntityName(type);case 135:return emitEntityName(type);case 150:return emitTypePredicate(type)}function writeEntityName(entityName){if(entityName.kind===69){writeTextOfNode(currentSourceFile,entityName)}else{var left=entityName.kind===135?entityName.left:entityName.expression;var right=entityName.kind===135?entityName.right:entityName.name;writeEntityName(left);write(".");writeTextOfNode(currentSourceFile,right)}}function emitEntityName(entityName){var visibilityResult=resolver.isEntityNameVisible(entityName,entityName.parent.kind===221?entityName.parent:enclosingDeclaration);handleSymbolAccessibilityError(visibilityResult);writeEntityName(entityName)}function emitExpressionWithTypeArguments(node){if(ts.isSupportedExpressionWithTypeArguments(node)){ts.Debug.assert(node.expression.kind===69||node.expression.kind===166);emitEntityName(node.expression);if(node.typeArguments){write("<");emitCommaList(node.typeArguments,emitType);write(">")}}}function emitTypeReference(type){emitEntityName(type.typeName);if(type.typeArguments){write("<");emitCommaList(type.typeArguments,emitType);write(">")}}function emitTypePredicate(type){writeTextOfNode(currentSourceFile,type.parameterName);write(" is ");emitType(type.type)}function emitTypeQuery(type){write("typeof ");emitEntityName(type.exprName)}function emitArrayType(type){emitType(type.elementType);write("[]")}function emitTupleType(type){write("[");emitCommaList(type.elementTypes,emitType);write("]")}function emitUnionType(type){emitSeparatedList(type.types," | ",emitType)}function emitIntersectionType(type){emitSeparatedList(type.types," & ",emitType)}function emitParenType(type){write("(");emitType(type.type);write(")")}function emitTypeLiteral(type){write("{");if(type.members.length){writeLine();increaseIndent();emitLines(type.members);decreaseIndent()}write("}")}}function emitSourceFile(node){currentSourceFile=node;enclosingDeclaration=node;emitLines(node.statements)}function getExportDefaultTempVariableName(){var baseName="_default";if(!ts.hasProperty(currentSourceFile.identifiers,baseName)){return baseName}var count=0;while(true){var name_18=baseName+"_"+ ++count;if(!ts.hasProperty(currentSourceFile.identifiers,name_18)){return name_18}}}function emitExportAssignment(node){if(node.expression.kind===69){write(node.isExportEquals?"export = ":"export default ");writeTextOfNode(currentSourceFile,node.expression)}else{var tempVarName=getExportDefaultTempVariableName();write("declare var ");write(tempVarName);write(": ");writer.getSymbolAccessibilityDiagnostic=getDefaultExportAccessibilityDiagnostic;resolver.writeTypeOfExpression(node.expression,enclosingDeclaration,2,writer);write(";");writeLine();write(node.isExportEquals?"export = ":"export default ");write(tempVarName)}write(";");writeLine();if(node.expression.kind===69){var nodes=resolver.collectLinkedAliases(node.expression);writeAsynchronousModuleElements(nodes)}function getDefaultExportAccessibilityDiagnostic(diagnostic){return{diagnosticMessage:ts.Diagnostics.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:node}}}function isModuleElementVisible(node){return resolver.isDeclarationVisible(node)}function emitModuleElement(node,isModuleElementVisible){if(isModuleElementVisible){writeModuleElement(node)}else if(node.kind===221||node.parent.kind===248&&ts.isExternalModule(currentSourceFile)){var isVisible;if(asynchronousSubModuleDeclarationEmitInfo&&node.parent.kind!==248){asynchronousSubModuleDeclarationEmitInfo.push({node:node,outputPos:writer.getTextPos(),indent:writer.getIndent(),isVisible:isVisible})}else{if(node.kind===222){var importDeclaration=node;if(importDeclaration.importClause){isVisible=importDeclaration.importClause.name&&resolver.isDeclarationVisible(importDeclaration.importClause)||isVisibleNamedBinding(importDeclaration.importClause.namedBindings)}}moduleElementDeclarationEmitInfo.push({node:node,outputPos:writer.getTextPos(),indent:writer.getIndent(),isVisible:isVisible})}}}function writeModuleElement(node){switch(node.kind){case 213:return writeFunctionDeclaration(node);case 193:return writeVariableStatement(node);case 215:return writeInterfaceDeclaration(node);case 214:return writeClassDeclaration(node);case 216:return writeTypeAliasDeclaration(node);case 217:return writeEnumDeclaration(node);case 218:return writeModuleDeclaration(node);case 221:return writeImportEqualsDeclaration(node);case 222:return writeImportDeclaration(node);default:ts.Debug.fail("Unknown symbol kind")}}function emitModuleElementDeclarationFlags(node){if(node.parent===currentSourceFile){if(node.flags&1){write("export ")}if(node.flags&1024){write("default ")}else if(node.kind!==215){write("declare ")}}}function emitClassMemberDeclarationFlags(node){if(node.flags&32){write("private ")}else if(node.flags&64){write("protected ")}if(node.flags&128){write("static ")}if(node.flags&256){write("abstract ")}}function writeImportEqualsDeclaration(node){emitJsDocComments(node);if(node.flags&1){write("export ")}write("import ");writeTextOfNode(currentSourceFile,node.name);write(" = ");if(ts.isInternalModuleImportEqualsDeclaration(node)){emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.moduleReference,getImportEntityNameVisibilityError);write(";")}else{write("require(");writeTextOfNode(currentSourceFile,ts.getExternalModuleImportEqualsDeclarationExpression(node));write(");")}writer.writeLine();function getImportEntityNameVisibilityError(symbolAccesibilityResult){return{diagnosticMessage:ts.Diagnostics.Import_declaration_0_is_using_private_name_1,errorNode:node,typeName:node.name}}}function isVisibleNamedBinding(namedBindings){if(namedBindings){if(namedBindings.kind===224){return resolver.isDeclarationVisible(namedBindings)}else{return ts.forEach(namedBindings.elements,function(namedImport){return resolver.isDeclarationVisible(namedImport)})}}}function writeImportDeclaration(node){if(!node.importClause&&!(node.flags&1)){return}emitJsDocComments(node);if(node.flags&1){write("export ")}write("import ");if(node.importClause){var currentWriterPos=writer.getTextPos();if(node.importClause.name&&resolver.isDeclarationVisible(node.importClause)){writeTextOfNode(currentSourceFile,node.importClause.name)}if(node.importClause.namedBindings&&isVisibleNamedBinding(node.importClause.namedBindings)){if(currentWriterPos!==writer.getTextPos()){write(", ")}if(node.importClause.namedBindings.kind===224){write("* as ");writeTextOfNode(currentSourceFile,node.importClause.namedBindings.name)}else{write("{ ");emitCommaList(node.importClause.namedBindings.elements,emitImportOrExportSpecifier,resolver.isDeclarationVisible);write(" }")}}write(" from ")}writeTextOfNode(currentSourceFile,node.moduleSpecifier);write(";");writer.writeLine()}function emitImportOrExportSpecifier(node){if(node.propertyName){writeTextOfNode(currentSourceFile,node.propertyName);write(" as ")}writeTextOfNode(currentSourceFile,node.name)}function emitExportSpecifier(node){emitImportOrExportSpecifier(node);var nodes=resolver.collectLinkedAliases(node.propertyName||node.name);writeAsynchronousModuleElements(nodes)}function emitExportDeclaration(node){emitJsDocComments(node);write("export ");if(node.exportClause){write("{ ");emitCommaList(node.exportClause.elements,emitExportSpecifier);write(" }")}else{write("*")}if(node.moduleSpecifier){write(" from ");writeTextOfNode(currentSourceFile,node.moduleSpecifier)}write(";");writer.writeLine()}function writeModuleDeclaration(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(node.flags&131072){write("namespace ")}else{write("module ")}writeTextOfNode(currentSourceFile,node.name);while(node.body.kind!==219){node=node.body;write(".");writeTextOfNode(currentSourceFile,node.name)}var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;write(" {");writeLine();increaseIndent();emitLines(node.body.statements);decreaseIndent();write("}");writeLine();enclosingDeclaration=prevEnclosingDeclaration}function writeTypeAliasDeclaration(node){var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitJsDocComments(node);emitModuleElementDeclarationFlags(node);write("type ");writeTextOfNode(currentSourceFile,node.name);emitTypeParameters(node.typeParameters);write(" = ");emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.type,getTypeAliasDeclarationVisibilityError);write(";");writeLine();enclosingDeclaration=prevEnclosingDeclaration;function getTypeAliasDeclarationVisibilityError(symbolAccesibilityResult){return{diagnosticMessage:ts.Diagnostics.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:node.type,typeName:node.name}}}function writeEnumDeclaration(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(ts.isConst(node)){write("const ")}write("enum ");writeTextOfNode(currentSourceFile,node.name);write(" {");writeLine();increaseIndent();emitLines(node.members);decreaseIndent();write("}");writeLine()}function emitEnumMemberDeclaration(node){emitJsDocComments(node);writeTextOfNode(currentSourceFile,node.name);var enumMemberValue=resolver.getConstantValue(node);if(enumMemberValue!==undefined){write(" = ");write(enumMemberValue.toString())}write(",");writeLine()}function isPrivateMethodTypeParameter(node){return node.parent.kind===143&&node.parent.flags&32}function emitTypeParameters(typeParameters){function emitTypeParameter(node){increaseIndent();emitJsDocComments(node);decreaseIndent();writeTextOfNode(currentSourceFile,node.name);if(node.constraint&&!isPrivateMethodTypeParameter(node)){write(" extends ");if(node.parent.kind===152||node.parent.kind===153||node.parent.parent&&node.parent.parent.kind===155){ts.Debug.assert(node.parent.kind===143||node.parent.kind===142||node.parent.kind===152||node.parent.kind===153||node.parent.kind===147||node.parent.kind===148);emitType(node.constraint)}else{emitTypeWithNewGetSymbolAccessibilityDiagnostic(node.constraint,getTypeParameterConstraintVisibilityError)}}function getTypeParameterConstraintVisibilityError(symbolAccesibilityResult){var diagnosticMessage;switch(node.parent.kind){case 214:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 215:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 148:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 147:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 143:case 142:if(node.parent.flags&128){diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1}else if(node.parent.parent.kind===214){diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1}else{diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1}break;case 213:diagnosticMessage=ts.Diagnostics.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;default:ts.Debug.fail("This is unknown parent for type parameter: "+node.parent.kind)}return{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}}}if(typeParameters){write("<");emitCommaList(typeParameters,emitTypeParameter);write(">")}}function emitHeritageClause(typeReferences,isImplementsList){if(typeReferences){write(isImplementsList?" implements ":" extends ");emitCommaList(typeReferences,emitTypeOfTypeReference)}function emitTypeOfTypeReference(node){if(ts.isSupportedExpressionWithTypeArguments(node)){emitTypeWithNewGetSymbolAccessibilityDiagnostic(node,getHeritageClauseVisibilityError)}else if(!isImplementsList&&node.expression.kind===93){write("null")}function getHeritageClauseVisibilityError(symbolAccesibilityResult){var diagnosticMessage;if(node.parent.parent.kind===214){diagnosticMessage=isImplementsList?ts.Diagnostics.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:ts.Diagnostics.Extends_clause_of_exported_class_0_has_or_is_using_private_name_1}else{diagnosticMessage=ts.Diagnostics.Extends_clause_of_exported_interface_0_has_or_is_using_private_name_1}return{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.parent.parent.name}}}}function writeClassDeclaration(node){function emitParameterProperties(constructorDeclaration){if(constructorDeclaration){ts.forEach(constructorDeclaration.parameters,function(param){if(param.flags&112){emitPropertyDeclaration(param)}})}}emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(node.flags&256){write("abstract ")}write("class ");writeTextOfNode(currentSourceFile,node.name);var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitTypeParameters(node.typeParameters);var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){emitHeritageClause([baseTypeNode],false)}emitHeritageClause(ts.getClassImplementsHeritageClauseElements(node),true);write(" {");writeLine();increaseIndent();emitParameterProperties(ts.getFirstConstructorWithBody(node));emitLines(node.members);decreaseIndent();write("}");writeLine();enclosingDeclaration=prevEnclosingDeclaration}function writeInterfaceDeclaration(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);write("interface ");writeTextOfNode(currentSourceFile,node.name);var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitTypeParameters(node.typeParameters);emitHeritageClause(ts.getInterfaceBaseTypeNodes(node),false);write(" {");writeLine();increaseIndent();emitLines(node.members);decreaseIndent();write("}");writeLine();enclosingDeclaration=prevEnclosingDeclaration}function emitPropertyDeclaration(node){if(ts.hasDynamicName(node)){return}emitJsDocComments(node);emitClassMemberDeclarationFlags(node);emitVariableDeclaration(node);write(";");writeLine()}function emitVariableDeclaration(node){if(node.kind!==211||resolver.isDeclarationVisible(node)){if(ts.isBindingPattern(node.name)){emitBindingPattern(node.name)}else{writeTextOfNode(currentSourceFile,node.name);if((node.kind===141||node.kind===140)&&ts.hasQuestionToken(node)){write("?")}if((node.kind===141||node.kind===140)&&node.parent.kind===155){emitTypeOfVariableDeclarationFromTypeLiteral(node)}else if(!(node.flags&32)){writeTypeOfDeclaration(node,node.type,getVariableDeclarationTypeVisibilityError)}}}function getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult){if(node.kind===211){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Exported_variable_0_has_or_is_using_private_name_1}else if(node.kind===141||node.kind===140){if(node.flags&128){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1}else if(node.parent.kind===214){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Public_property_0_of_exported_class_has_or_is_using_private_name_1}else{return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Property_0_of_exported_interface_has_or_is_using_private_name_1}}}function getVariableDeclarationTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}:undefined}function emitBindingPattern(bindingPattern){var elements=[];for(var _i=0,_a=bindingPattern.elements;_i<_a.length;_i++){var element=_a[_i];if(element.kind!==187){elements.push(element)}}emitCommaList(elements,emitBindingElement)}function emitBindingElement(bindingElement){function getBindingElementTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getVariableDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:bindingElement,typeName:bindingElement.name}:undefined}if(bindingElement.name){if(ts.isBindingPattern(bindingElement.name)){emitBindingPattern(bindingElement.name)}else{writeTextOfNode(currentSourceFile,bindingElement.name);writeTypeOfDeclaration(bindingElement,undefined,getBindingElementTypeVisibilityError)}}}}function emitTypeOfVariableDeclarationFromTypeLiteral(node){if(node.type){write(": ");emitType(node.type)}}function isVariableStatementVisible(node){return ts.forEach(node.declarationList.declarations,function(varDeclaration){return resolver.isDeclarationVisible(varDeclaration)})}function writeVariableStatement(node){emitJsDocComments(node);emitModuleElementDeclarationFlags(node);if(ts.isLet(node.declarationList)){write("let ")}else if(ts.isConst(node.declarationList)){write("const ")}else{write("var ")}emitCommaList(node.declarationList.declarations,emitVariableDeclaration,resolver.isDeclarationVisible);write(";");writeLine()}function emitAccessorDeclaration(node){if(ts.hasDynamicName(node)){return}var accessors=ts.getAllAccessorDeclarations(node.parent.members,node);var accessorWithTypeAnnotation;if(node===accessors.firstAccessor){emitJsDocComments(accessors.getAccessor);emitJsDocComments(accessors.setAccessor);emitClassMemberDeclarationFlags(node);writeTextOfNode(currentSourceFile,node.name);if(!(node.flags&32)){accessorWithTypeAnnotation=node;var type=getTypeAnnotationFromAccessor(node);if(!type){var anotherAccessor=node.kind===145?accessors.setAccessor:accessors.getAccessor;type=getTypeAnnotationFromAccessor(anotherAccessor);if(type){accessorWithTypeAnnotation=anotherAccessor}}writeTypeOfDeclaration(node,type,getAccessorDeclarationTypeVisibilityError)}write(";");writeLine()}function getTypeAnnotationFromAccessor(accessor){if(accessor){return accessor.kind===145?accessor.type:accessor.parameters.length>0?accessor.parameters[0].type:undefined}}function getAccessorDeclarationTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage;if(accessorWithTypeAnnotation.kind===146){if(accessorWithTypeAnnotation.parent.flags&128){diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_name_1}else{diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_name_1}return{diagnosticMessage:diagnosticMessage,errorNode:accessorWithTypeAnnotation.parameters[0],typeName:accessorWithTypeAnnotation.name}}else{if(accessorWithTypeAnnotation.flags&128){diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_name_0}else{diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_name_0}return{diagnosticMessage:diagnosticMessage,errorNode:accessorWithTypeAnnotation.name,typeName:undefined}}}}function writeFunctionDeclaration(node){if(ts.hasDynamicName(node)){return}if(!resolver.isImplementationOfOverload(node)){emitJsDocComments(node);if(node.kind===213){emitModuleElementDeclarationFlags(node)}else if(node.kind===143){emitClassMemberDeclarationFlags(node)}if(node.kind===213){write("function ");writeTextOfNode(currentSourceFile,node.name)}else if(node.kind===144){write("constructor")}else{writeTextOfNode(currentSourceFile,node.name);if(ts.hasQuestionToken(node)){write("?")}}emitSignatureDeclaration(node)}}function emitSignatureDeclarationWithJsDocComments(node){emitJsDocComments(node);emitSignatureDeclaration(node)}function emitSignatureDeclaration(node){if(node.kind===148||node.kind===153){write("new ")}emitTypeParameters(node.typeParameters);if(node.kind===149){write("[")}else{write("(")}var prevEnclosingDeclaration=enclosingDeclaration;enclosingDeclaration=node;emitCommaList(node.parameters,emitParameterDeclaration);if(node.kind===149){write("]")}else{write(")")}var isFunctionTypeOrConstructorType=node.kind===152||node.kind===153;if(isFunctionTypeOrConstructorType||node.parent.kind===155){if(node.type){write(isFunctionTypeOrConstructorType?" => ":": ");emitType(node.type)}}else if(node.kind!==144&&!(node.flags&32)){writeReturnTypeAtSignature(node,getReturnTypeVisibilityError)}enclosingDeclaration=prevEnclosingDeclaration;if(!isFunctionTypeOrConstructorType){write(";");writeLine()}function getReturnTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage;switch(node.kind){case 148:diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 147:diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 149:diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 143:case 142:if(node.flags&128){diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0}else if(node.parent.kind===214){diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0}else{diagnosticMessage=symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0}break;case 213:diagnosticMessage=symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:ts.Diagnostics.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:ts.Debug.fail("This is unknown kind for signature: "+node.kind)}return{diagnosticMessage:diagnosticMessage,errorNode:node.name||node}}}function emitParameterDeclaration(node){increaseIndent();emitJsDocComments(node);if(node.dotDotDotToken){write("...")}if(ts.isBindingPattern(node.name)){emitBindingPattern(node.name)}else{writeTextOfNode(currentSourceFile,node.name)}if(resolver.isOptionalParameter(node)){write("?")}decreaseIndent();if(node.parent.kind===152||node.parent.kind===153||node.parent.parent.kind===155){emitTypeOfVariableDeclarationFromTypeLiteral(node)}else if(!(node.parent.flags&32)){writeTypeOfDeclaration(node,node.type,getParameterDeclarationTypeVisibilityError)}function getParameterDeclarationTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:node,typeName:node.name}:undefined}function getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult){switch(node.parent.kind){case 144:return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 148:return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 147:return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 143:case 142:if(node.parent.flags&128){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1}else if(node.parent.parent.kind===214){return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1}else{return symbolAccesibilityResult.errorModuleName?ts.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1}case 213:return symbolAccesibilityResult.errorModuleName?symbolAccesibilityResult.accessibility===2?ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:ts.Diagnostics.Parameter_0_of_exported_function_has_or_is_using_private_name_1;default:ts.Debug.fail("This is unknown parent for parameter: "+node.parent.kind)}}function emitBindingPattern(bindingPattern){if(bindingPattern.kind===161){write("{");emitCommaList(bindingPattern.elements,emitBindingElement);write("}")}else if(bindingPattern.kind===162){write("[");var elements=bindingPattern.elements;emitCommaList(elements,emitBindingElement);if(elements&&elements.hasTrailingComma){write(", ")}write("]")}}function emitBindingElement(bindingElement){function getBindingElementTypeVisibilityError(symbolAccesibilityResult){var diagnosticMessage=getParameterDeclarationTypeVisibilityDiagnosticMessage(symbolAccesibilityResult);return diagnosticMessage!==undefined?{diagnosticMessage:diagnosticMessage,errorNode:bindingElement,typeName:bindingElement.name}:undefined}if(bindingElement.kind===187){write(" ")}else if(bindingElement.kind===163){if(bindingElement.propertyName){writeTextOfNode(currentSourceFile,bindingElement.propertyName);write(": ")}if(bindingElement.name){
if(ts.isBindingPattern(bindingElement.name)){emitBindingPattern(bindingElement.name)}else{ts.Debug.assert(bindingElement.name.kind===69);if(bindingElement.dotDotDotToken){write("...")}writeTextOfNode(currentSourceFile,bindingElement.name)}}}}}function emitNode(node){switch(node.kind){case 213:case 218:case 221:case 215:case 214:case 216:case 217:return emitModuleElement(node,isModuleElementVisible(node));case 193:return emitModuleElement(node,isVariableStatementVisible(node));case 222:return emitModuleElement(node,!node.importClause);case 228:return emitExportDeclaration(node);case 144:case 143:case 142:return writeFunctionDeclaration(node);case 148:case 147:case 149:return emitSignatureDeclarationWithJsDocComments(node);case 145:case 146:return emitAccessorDeclaration(node);case 141:case 140:return emitPropertyDeclaration(node);case 247:return emitEnumMemberDeclaration(node);case 227:return emitExportAssignment(node);case 248:return emitSourceFile(node)}}function writeReferencePath(referencedFile){var declFileName=referencedFile.flags&8192?referencedFile.fileName:ts.shouldEmitToOwnFile(referencedFile,compilerOptions)?ts.getOwnEmitOutputFilePath(referencedFile,host,".d.ts"):ts.removeFileExtension(compilerOptions.outFile||compilerOptions.out)+".d.ts";declFileName=ts.getRelativePathToDirectoryOrUrl(ts.getDirectoryPath(ts.normalizeSlashes(jsFilePath)),declFileName,host.getCurrentDirectory(),host.getCanonicalFileName,false);referencePathsOutput+='/// <reference path="'+declFileName+'" />'+newLine}}function writeDeclarationFile(jsFilePath,sourceFile,host,resolver,diagnostics){var emitDeclarationResult=emitDeclarations(host,resolver,diagnostics,jsFilePath,sourceFile);if(!emitDeclarationResult.reportedDeclarationError){var declarationOutput=emitDeclarationResult.referencePathsOutput+getDeclarationOutput(emitDeclarationResult.synchronousDeclarationOutput,emitDeclarationResult.moduleElementDeclarationEmitInfo);ts.writeFile(host,diagnostics,ts.removeFileExtension(jsFilePath)+".d.ts",declarationOutput,host.getCompilerOptions().emitBOM)}function getDeclarationOutput(synchronousDeclarationOutput,moduleElementDeclarationEmitInfo){var appliedSyncOutputPos=0;var declarationOutput="";ts.forEach(moduleElementDeclarationEmitInfo,function(aliasEmitInfo){if(aliasEmitInfo.asynchronousOutput){declarationOutput+=synchronousDeclarationOutput.substring(appliedSyncOutputPos,aliasEmitInfo.outputPos);declarationOutput+=getDeclarationOutput(aliasEmitInfo.asynchronousOutput,aliasEmitInfo.subModuleElementDeclarationEmitInfo);appliedSyncOutputPos=aliasEmitInfo.outputPos}});declarationOutput+=synchronousDeclarationOutput.substring(appliedSyncOutputPos);return declarationOutput}}ts.writeDeclarationFile=writeDeclarationFile})(ts||(ts={}));var ts;(function(ts){function isExternalModuleOrDeclarationFile(sourceFile){return ts.isExternalModule(sourceFile)||ts.isDeclarationFile(sourceFile)}ts.isExternalModuleOrDeclarationFile=isExternalModuleOrDeclarationFile;var entities={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};var TempFlags;(function(TempFlags){TempFlags[TempFlags["Auto"]=0]="Auto";TempFlags[TempFlags["CountMask"]=268435455]="CountMask";TempFlags[TempFlags["_i"]=268435456]="_i"})(TempFlags||(TempFlags={}));function emitFiles(resolver,host,targetSourceFile){var extendsHelper="\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};";var decorateHelper='\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};';var metadataHelper='\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};';var paramHelper="\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};";var awaiterHelper='\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, Promise, generator) {\n    return new Promise(function (resolve, reject) {\n        generator = generator.call(thisArg, _arguments);\n        function cast(value) { return value instanceof Promise && value.constructor === Promise ? value : new Promise(function (resolve) { resolve(value); }); }\n        function onfulfill(value) { try { step("next", value); } catch (e) { reject(e); } }\n        function onreject(value) { try { step("throw", value); } catch (e) { reject(e); } }\n        function step(verb, value) {\n            var result = generator[verb](value);\n            result.done ? resolve(result.value) : cast(result.value).then(onfulfill, onreject);\n        }\n        step("next", void 0);\n    });\n};';var compilerOptions=host.getCompilerOptions();var languageVersion=compilerOptions.target||0;var modulekind=compilerOptions.module?compilerOptions.module:languageVersion===2?5:0;var sourceMapDataList=compilerOptions.sourceMap||compilerOptions.inlineSourceMap?[]:undefined;var diagnostics=[];var newLine=host.getNewLine();var jsxDesugaring=host.getCompilerOptions().jsx!==1;var shouldEmitJsx=function(s){return s.languageVariant===1&&!jsxDesugaring};if(targetSourceFile===undefined){ts.forEach(host.getSourceFiles(),function(sourceFile){if(ts.shouldEmitToOwnFile(sourceFile,compilerOptions)){var jsFilePath=ts.getOwnEmitOutputFilePath(sourceFile,host,shouldEmitJsx(sourceFile)?".jsx":".js");emitFile(jsFilePath,sourceFile)}});if(compilerOptions.outFile||compilerOptions.out){emitFile(compilerOptions.outFile||compilerOptions.out)}}else{if(ts.shouldEmitToOwnFile(targetSourceFile,compilerOptions)){var jsFilePath=ts.getOwnEmitOutputFilePath(targetSourceFile,host,shouldEmitJsx(targetSourceFile)?".jsx":".js");emitFile(jsFilePath,targetSourceFile)}else if(!ts.isDeclarationFile(targetSourceFile)&&(compilerOptions.outFile||compilerOptions.out)){emitFile(compilerOptions.outFile||compilerOptions.out)}}diagnostics=ts.sortAndDeduplicateDiagnostics(diagnostics);return{emitSkipped:false,diagnostics:diagnostics,sourceMaps:sourceMapDataList};function isUniqueLocalName(name,container){for(var node=container;ts.isNodeDescendentOf(node,container);node=node.nextContainer){if(node.locals&&ts.hasProperty(node.locals,name)){if(node.locals[name].flags&(107455|1048576|8388608)){return false}}}return true}function emitJavaScript(jsFilePath,root){var writer=ts.createTextWriter(newLine);var write=writer.write,writeTextOfNode=writer.writeTextOfNode,writeLine=writer.writeLine,increaseIndent=writer.increaseIndent,decreaseIndent=writer.decreaseIndent;var currentSourceFile;var exportFunctionForFile;var generatedNameSet={};var nodeToGeneratedName=[];var computedPropertyNamesToGeneratedNames;var extendsEmitted=false;var decorateEmitted=false;var paramEmitted=false;var awaiterEmitted=false;var tempFlags=0;var tempVariables;var tempParameters;var externalImports;var exportSpecifiers;var exportEquals;var hasExportStars;var writeEmittedFiles=writeJavaScriptFile;var detachedCommentsInfo;var writeComment=ts.writeCommentRange;var emit=emitNodeWithCommentsAndWithoutSourcemap;var emitStart=function(node){};var emitEnd=function(node){};var emitToken=emitTokenText;var scopeEmitStart=function(scopeDeclaration,scopeName){};var scopeEmitEnd=function(){};var sourceMapData;var emitLeadingCommentsOfPosition=compilerOptions.removeComments?function(pos){}:emitLeadingCommentsOfPositionWorker;var moduleEmitDelegates=(_a={},_a[5]=emitES6Module,_a[2]=emitAMDModule,_a[4]=emitSystemModule,_a[3]=emitUMDModule,_a[1]=emitCommonJSModule,_a);if(compilerOptions.sourceMap||compilerOptions.inlineSourceMap){initializeEmitterWithSourceMaps()}if(root){emitSourceFile(root)}else{ts.forEach(host.getSourceFiles(),function(sourceFile){if(!isExternalModuleOrDeclarationFile(sourceFile)){emitSourceFile(sourceFile)}})}writeLine();writeEmittedFiles(writer.getText(),compilerOptions.emitBOM);return;function emitSourceFile(sourceFile){currentSourceFile=sourceFile;exportFunctionForFile=undefined;emit(sourceFile)}function isUniqueName(name){return!resolver.hasGlobalName(name)&&!ts.hasProperty(currentSourceFile.identifiers,name)&&!ts.hasProperty(generatedNameSet,name)}function makeTempVariableName(flags){if(flags&&!(tempFlags&flags)){var name_19=flags===268435456?"_i":"_n";if(isUniqueName(name_19)){tempFlags|=flags;return name_19}}while(true){var count=tempFlags&268435455;tempFlags++;if(count!==8&&count!==13){var name_20=count<26?"_"+String.fromCharCode(97+count):"_"+(count-26);if(isUniqueName(name_20)){return name_20}}}}function makeUniqueName(baseName){if(baseName.charCodeAt(baseName.length-1)!==95){baseName+="_"}var i=1;while(true){var generatedName=baseName+i;if(isUniqueName(generatedName)){return generatedNameSet[generatedName]=generatedName}i++}}function generateNameForModuleOrEnum(node){var name=node.name.text;return isUniqueLocalName(name,node)?name:makeUniqueName(name)}function generateNameForImportOrExportDeclaration(node){var expr=ts.getExternalModuleName(node);var baseName=expr.kind===9?ts.escapeIdentifier(ts.makeIdentifierFromModuleName(expr.text)):"module";return makeUniqueName(baseName)}function generateNameForExportDefault(){return makeUniqueName("default")}function generateNameForClassExpression(){return makeUniqueName("class")}function generateNameForNode(node){switch(node.kind){case 69:return makeUniqueName(node.text);case 218:case 217:return generateNameForModuleOrEnum(node);case 222:case 228:return generateNameForImportOrExportDeclaration(node);case 213:case 214:case 227:return generateNameForExportDefault();case 186:return generateNameForClassExpression()}}function getGeneratedNameForNode(node){var id=ts.getNodeId(node);return nodeToGeneratedName[id]||(nodeToGeneratedName[id]=ts.unescapeIdentifier(generateNameForNode(node)))}function initializeEmitterWithSourceMaps(){var sourceMapDir;var sourceMapSourceIndex=-1;var sourceMapNameIndexMap={};var sourceMapNameIndices=[];function getSourceMapNameIndex(){return sourceMapNameIndices.length?ts.lastOrUndefined(sourceMapNameIndices):-1}var lastRecordedSourceMapSpan;var lastEncodedSourceMapSpan={emittedLine:1,emittedColumn:1,sourceLine:1,sourceColumn:1,sourceIndex:0};var lastEncodedNameIndex=0;function encodeLastRecordedSourceMapSpan(){if(!lastRecordedSourceMapSpan||lastRecordedSourceMapSpan===lastEncodedSourceMapSpan){return}var prevEncodedEmittedColumn=lastEncodedSourceMapSpan.emittedColumn;if(lastEncodedSourceMapSpan.emittedLine===lastRecordedSourceMapSpan.emittedLine){if(sourceMapData.sourceMapMappings){sourceMapData.sourceMapMappings+=","}}else{for(var encodedLine=lastEncodedSourceMapSpan.emittedLine;encodedLine<lastRecordedSourceMapSpan.emittedLine;encodedLine++){sourceMapData.sourceMapMappings+=";"}prevEncodedEmittedColumn=1}sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.emittedColumn-prevEncodedEmittedColumn);sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceIndex-lastEncodedSourceMapSpan.sourceIndex);sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceLine-lastEncodedSourceMapSpan.sourceLine);sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.sourceColumn-lastEncodedSourceMapSpan.sourceColumn);if(lastRecordedSourceMapSpan.nameIndex>=0){sourceMapData.sourceMapMappings+=base64VLQFormatEncode(lastRecordedSourceMapSpan.nameIndex-lastEncodedNameIndex);lastEncodedNameIndex=lastRecordedSourceMapSpan.nameIndex}lastEncodedSourceMapSpan=lastRecordedSourceMapSpan;sourceMapData.sourceMapDecodedMappings.push(lastEncodedSourceMapSpan);function base64VLQFormatEncode(inValue){function base64FormatEncode(inValue){if(inValue<64){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(inValue)}throw TypeError(inValue+": not a 64 based value")}if(inValue<0){inValue=(-inValue<<1)+1}else{inValue=inValue<<1}var encodedStr="";do{var currentDigit=inValue&31;inValue=inValue>>5;if(inValue>0){currentDigit=currentDigit|32}encodedStr=encodedStr+base64FormatEncode(currentDigit)}while(inValue>0);return encodedStr}}function recordSourceMapSpan(pos){var sourceLinePos=ts.getLineAndCharacterOfPosition(currentSourceFile,pos);sourceLinePos.line++;sourceLinePos.character++;var emittedLine=writer.getLine();var emittedColumn=writer.getColumn();if(!lastRecordedSourceMapSpan||lastRecordedSourceMapSpan.emittedLine!==emittedLine||lastRecordedSourceMapSpan.emittedColumn!==emittedColumn||lastRecordedSourceMapSpan.sourceIndex===sourceMapSourceIndex&&(lastRecordedSourceMapSpan.sourceLine>sourceLinePos.line||lastRecordedSourceMapSpan.sourceLine===sourceLinePos.line&&lastRecordedSourceMapSpan.sourceColumn>sourceLinePos.character)){encodeLastRecordedSourceMapSpan();lastRecordedSourceMapSpan={emittedLine:emittedLine,emittedColumn:emittedColumn,sourceLine:sourceLinePos.line,sourceColumn:sourceLinePos.character,nameIndex:getSourceMapNameIndex(),sourceIndex:sourceMapSourceIndex}}else{lastRecordedSourceMapSpan.sourceLine=sourceLinePos.line;lastRecordedSourceMapSpan.sourceColumn=sourceLinePos.character;lastRecordedSourceMapSpan.sourceIndex=sourceMapSourceIndex}}function recordEmitNodeStartSpan(node){recordSourceMapSpan(ts.skipTrivia(currentSourceFile.text,node.pos))}function recordEmitNodeEndSpan(node){recordSourceMapSpan(node.end)}function writeTextWithSpanRecord(tokenKind,startPos,emitFn){var tokenStartPos=ts.skipTrivia(currentSourceFile.text,startPos);recordSourceMapSpan(tokenStartPos);var tokenEndPos=emitTokenText(tokenKind,tokenStartPos,emitFn);recordSourceMapSpan(tokenEndPos);return tokenEndPos}function recordNewSourceFileStart(node){var sourcesDirectoryPath=compilerOptions.sourceRoot?host.getCommonSourceDirectory():sourceMapDir;sourceMapData.sourceMapSources.push(ts.getRelativePathToDirectoryOrUrl(sourcesDirectoryPath,node.fileName,host.getCurrentDirectory(),host.getCanonicalFileName,true));sourceMapSourceIndex=sourceMapData.sourceMapSources.length-1;sourceMapData.inputSourceFileNames.push(node.fileName);if(compilerOptions.inlineSources){if(!sourceMapData.sourceMapSourcesContent){sourceMapData.sourceMapSourcesContent=[]}sourceMapData.sourceMapSourcesContent.push(node.text)}}function recordScopeNameOfNode(node,scopeName){function recordScopeNameIndex(scopeNameIndex){sourceMapNameIndices.push(scopeNameIndex)}function recordScopeNameStart(scopeName){var scopeNameIndex=-1;if(scopeName){var parentIndex=getSourceMapNameIndex();if(parentIndex!==-1){var name_21=node.name;if(!name_21||name_21.kind!==136){scopeName="."+scopeName}scopeName=sourceMapData.sourceMapNames[parentIndex]+scopeName}scopeNameIndex=ts.getProperty(sourceMapNameIndexMap,scopeName);if(scopeNameIndex===undefined){scopeNameIndex=sourceMapData.sourceMapNames.length;sourceMapData.sourceMapNames.push(scopeName);sourceMapNameIndexMap[scopeName]=scopeNameIndex}}recordScopeNameIndex(scopeNameIndex)}if(scopeName){recordScopeNameStart(scopeName)}else if(node.kind===213||node.kind===173||node.kind===143||node.kind===142||node.kind===145||node.kind===146||node.kind===218||node.kind===214||node.kind===217){if(node.name){var name_22=node.name;scopeName=name_22.kind===136?ts.getTextOfNode(name_22):node.name.text}recordScopeNameStart(scopeName)}else{recordScopeNameIndex(getSourceMapNameIndex())}}function recordScopeNameEnd(){sourceMapNameIndices.pop()}function writeCommentRangeWithMap(curentSourceFile,writer,comment,newLine){recordSourceMapSpan(comment.pos);ts.writeCommentRange(currentSourceFile,writer,comment,newLine);recordSourceMapSpan(comment.end)}function serializeSourceMapContents(version,file,sourceRoot,sources,names,mappings,sourcesContent){if(typeof JSON!=="undefined"){var map_1={version:version,file:file,sourceRoot:sourceRoot,sources:sources,names:names,mappings:mappings};if(sourcesContent!==undefined){map_1.sourcesContent=sourcesContent}return JSON.stringify(map_1)}return'{"version":'+version+',"file":"'+ts.escapeString(file)+'","sourceRoot":"'+ts.escapeString(sourceRoot)+'","sources":['+serializeStringArray(sources)+'],"names":['+serializeStringArray(names)+'],"mappings":"'+ts.escapeString(mappings)+'" '+(sourcesContent!==undefined?',"sourcesContent":['+serializeStringArray(sourcesContent)+"]":"")+"}";function serializeStringArray(list){var output="";for(var i=0,n=list.length;i<n;i++){if(i){output+=","}output+='"'+ts.escapeString(list[i])+'"'}return output}}function writeJavaScriptAndSourceMapFile(emitOutput,writeByteOrderMark){encodeLastRecordedSourceMapSpan();var sourceMapText=serializeSourceMapContents(3,sourceMapData.sourceMapFile,sourceMapData.sourceMapSourceRoot,sourceMapData.sourceMapSources,sourceMapData.sourceMapNames,sourceMapData.sourceMapMappings,sourceMapData.sourceMapSourcesContent);sourceMapDataList.push(sourceMapData);var sourceMapUrl;if(compilerOptions.inlineSourceMap){var base64SourceMapText=ts.convertToBase64(sourceMapText);sourceMapUrl="//# sourceMappingURL=data:application/json;base64,"+base64SourceMapText}else{ts.writeFile(host,diagnostics,sourceMapData.sourceMapFilePath,sourceMapText,false);sourceMapUrl="//# sourceMappingURL="+sourceMapData.jsSourceMappingURL}writeJavaScriptFile(emitOutput+sourceMapUrl,writeByteOrderMark)}var sourceMapJsFile=ts.getBaseFileName(ts.normalizeSlashes(jsFilePath));sourceMapData={sourceMapFilePath:jsFilePath+".map",jsSourceMappingURL:sourceMapJsFile+".map",sourceMapFile:sourceMapJsFile,sourceMapSourceRoot:compilerOptions.sourceRoot||"",sourceMapSources:[],inputSourceFileNames:[],sourceMapNames:[],sourceMapMappings:"",sourceMapSourcesContent:undefined,sourceMapDecodedMappings:[]};sourceMapData.sourceMapSourceRoot=ts.normalizeSlashes(sourceMapData.sourceMapSourceRoot);if(sourceMapData.sourceMapSourceRoot.length&&sourceMapData.sourceMapSourceRoot.charCodeAt(sourceMapData.sourceMapSourceRoot.length-1)!==47){sourceMapData.sourceMapSourceRoot+=ts.directorySeparator}if(compilerOptions.mapRoot){sourceMapDir=ts.normalizeSlashes(compilerOptions.mapRoot);if(root){sourceMapDir=ts.getDirectoryPath(ts.getSourceFilePathInNewDir(root,host,sourceMapDir))}if(!ts.isRootedDiskPath(sourceMapDir)&&!ts.isUrl(sourceMapDir)){sourceMapDir=ts.combinePaths(host.getCommonSourceDirectory(),sourceMapDir);sourceMapData.jsSourceMappingURL=ts.getRelativePathToDirectoryOrUrl(ts.getDirectoryPath(ts.normalizePath(jsFilePath)),ts.combinePaths(sourceMapDir,sourceMapData.jsSourceMappingURL),host.getCurrentDirectory(),host.getCanonicalFileName,true)}else{sourceMapData.jsSourceMappingURL=ts.combinePaths(sourceMapDir,sourceMapData.jsSourceMappingURL)}}else{sourceMapDir=ts.getDirectoryPath(ts.normalizePath(jsFilePath))}function emitNodeWithSourceMap(node){if(node){if(ts.nodeIsSynthesized(node)){return emitNodeWithoutSourceMap(node)}if(node.kind!==248){recordEmitNodeStartSpan(node);emitNodeWithoutSourceMap(node);recordEmitNodeEndSpan(node)}else{recordNewSourceFileStart(node);emitNodeWithoutSourceMap(node)}}}function emitNodeWithCommentsAndWithSourcemap(node){emitNodeConsideringCommentsOption(node,emitNodeWithSourceMap)}writeEmittedFiles=writeJavaScriptAndSourceMapFile;emit=emitNodeWithCommentsAndWithSourcemap;emitStart=recordEmitNodeStartSpan;emitEnd=recordEmitNodeEndSpan;emitToken=writeTextWithSpanRecord;scopeEmitStart=recordScopeNameOfNode;scopeEmitEnd=recordScopeNameEnd;writeComment=writeCommentRangeWithMap}function writeJavaScriptFile(emitOutput,writeByteOrderMark){ts.writeFile(host,diagnostics,jsFilePath,emitOutput,writeByteOrderMark)}function createTempVariable(flags){var result=ts.createSynthesizedNode(69);result.text=makeTempVariableName(flags);return result}function recordTempDeclaration(name){if(!tempVariables){tempVariables=[]}tempVariables.push(name)}function createAndRecordTempVariable(flags){var temp=createTempVariable(flags);recordTempDeclaration(temp);return temp}function emitTempDeclarations(newLine){if(tempVariables){if(newLine){writeLine()}else{write(" ")}write("var ");emitCommaList(tempVariables);write(";")}}function emitTokenText(tokenKind,startPos,emitFn){var tokenString=ts.tokenToString(tokenKind);if(emitFn){emitFn()}else{write(tokenString)}return startPos+tokenString.length}function emitOptional(prefix,node){if(node){write(prefix);emit(node)}}function emitParenthesizedIf(node,parenthesized){if(parenthesized){write("(")}emit(node);if(parenthesized){write(")")}}function emitTrailingCommaIfPresent(nodeList){if(nodeList.hasTrailingComma){write(",")}}function emitLinePreservingList(parent,nodes,allowTrailingComma,spacesBetweenBraces){ts.Debug.assert(nodes.length>0);increaseIndent();if(nodeStartPositionsAreOnSameLine(parent,nodes[0])){if(spacesBetweenBraces){write(" ")}}else{writeLine()}for(var i=0,n=nodes.length;i<n;i++){if(i){if(nodeEndIsOnSameLineAsNodeStart(nodes[i-1],nodes[i])){write(", ")}else{write(",");writeLine()}}emit(nodes[i])}if(nodes.hasTrailingComma&&allowTrailingComma){write(",")}decreaseIndent();if(nodeEndPositionsAreOnSameLine(parent,ts.lastOrUndefined(nodes))){if(spacesBetweenBraces){write(" ")}}else{writeLine()}}function emitList(nodes,start,count,multiLine,trailingComma,leadingComma,noTrailingNewLine,emitNode){if(!emitNode){emitNode=emit}for(var i=0;i<count;i++){if(multiLine){if(i||leadingComma){write(",")}writeLine()}else{if(i||leadingComma){write(", ")}}var node=nodes[start+i];emitTrailingCommentsOfPosition(node.pos);emitNode(node);leadingComma=true}if(trailingComma){write(",")}if(multiLine&&!noTrailingNewLine){writeLine()}return count}function emitCommaList(nodes){if(nodes){emitList(nodes,0,nodes.length,false,false)}}function emitLines(nodes){emitLinesStartingAt(nodes,0)}function emitLinesStartingAt(nodes,startIndex){for(var i=startIndex;i<nodes.length;i++){writeLine();emit(nodes[i])}}function isBinaryOrOctalIntegerLiteral(node,text){if(node.kind===8&&text.length>1){switch(text.charCodeAt(1)){case 98:case 66:case 111:case 79:return true}}return false}function emitLiteral(node){var text=getLiteralText(node);if((compilerOptions.sourceMap||compilerOptions.inlineSourceMap)&&(node.kind===9||ts.isTemplateLiteralKind(node.kind))){writer.writeLiteral(text)}else if(languageVersion<2&&isBinaryOrOctalIntegerLiteral(node,text)){write(node.text)}else{write(text)}}function getLiteralText(node){if(languageVersion<2&&(ts.isTemplateLiteralKind(node.kind)||node.hasExtendedUnicodeEscape)){return getQuotedEscapedLiteralText('"',node.text,'"')}if(node.parent){return ts.getSourceTextOfNodeFromSourceFile(currentSourceFile,node)}switch(node.kind){case 9:return getQuotedEscapedLiteralText('"',node.text,'"');case 11:return getQuotedEscapedLiteralText("`",node.text,"`");case 12:return getQuotedEscapedLiteralText("`",node.text,"${");case 13:return getQuotedEscapedLiteralText("}",node.text,"${");case 14:return getQuotedEscapedLiteralText("}",node.text,"`");case 8:return node.text}ts.Debug.fail("Literal kind '"+node.kind+"' not accounted for.")}function getQuotedEscapedLiteralText(leftQuote,text,rightQuote){return leftQuote+ts.escapeNonAsciiCharacters(ts.escapeString(text))+rightQuote}function emitDownlevelRawTemplateLiteral(node){var text=ts.getSourceTextOfNodeFromSourceFile(currentSourceFile,node);var isLast=node.kind===11||node.kind===14;text=text.substring(1,text.length-(isLast?1:2));text=text.replace(/\r\n?/g,"\n");text=ts.escapeString(text);write('"'+text+'"')}function emitDownlevelTaggedTemplateArray(node,literalEmitter){write("[");if(node.template.kind===11){literalEmitter(node.template)}else{literalEmitter(node.template.head);ts.forEach(node.template.templateSpans,function(child){write(", ");literalEmitter(child.literal)})}write("]")}function emitDownlevelTaggedTemplate(node){var tempVariable=createAndRecordTempVariable(0);write("(");emit(tempVariable);write(" = ");emitDownlevelTaggedTemplateArray(node,emit);write(", ");emit(tempVariable);write(".raw = ");emitDownlevelTaggedTemplateArray(node,emitDownlevelRawTemplateLiteral);write(", ");emitParenthesizedIf(node.tag,needsParenthesisForPropertyAccessOrInvocation(node.tag));write("(");emit(tempVariable);if(node.template.kind===183){ts.forEach(node.template.templateSpans,function(templateSpan){write(", ");var needsParens=templateSpan.expression.kind===181&&templateSpan.expression.operatorToken.kind===24;emitParenthesizedIf(templateSpan.expression,needsParens)})}write("))")}function emitTemplateExpression(node){if(languageVersion>=2){ts.forEachChild(node,emit);return}var emitOuterParens=ts.isExpression(node.parent)&&templateNeedsParens(node,node.parent);if(emitOuterParens){write("(")}var headEmitted=false;if(shouldEmitTemplateHead()){emitLiteral(node.head);headEmitted=true}for(var i=0,n=node.templateSpans.length;i<n;i++){var templateSpan=node.templateSpans[i];var needsParens=templateSpan.expression.kind!==172&&comparePrecedenceToBinaryPlus(templateSpan.expression)!==1;if(i>0||headEmitted){write(" + ")}emitParenthesizedIf(templateSpan.expression,needsParens);if(templateSpan.literal.text.length!==0){write(" + ");emitLiteral(templateSpan.literal)}}if(emitOuterParens){write(")")}function shouldEmitTemplateHead(){ts.Debug.assert(node.templateSpans.length!==0);return node.head.text.length!==0||node.templateSpans[0].literal.text.length===0}function templateNeedsParens(template,parent){switch(parent.kind){case 168:case 169:return parent.expression===template;case 170:case 172:return false;default:return comparePrecedenceToBinaryPlus(parent)!==-1}}function comparePrecedenceToBinaryPlus(expression){switch(expression.kind){case 181:switch(expression.operatorToken.kind){case 37:case 39:case 40:return 1;case 35:case 36:return 0;default:return-1}case 184:case 182:return-1;default:return 1}}}function emitTemplateSpan(span){emit(span.expression);emit(span.literal)}function jsxEmitReact(node){function emitTagName(name){if(name.kind===69&&ts.isIntrinsicJsxName(name.text)){write('"');emit(name);write('"')}else{emit(name)}}function emitAttributeName(name){if(/[A-Za-z_]+[\w*]/.test(name.text)){write('"');emit(name);write('"')}else{emit(name)}}function emitJsxAttribute(node){emitAttributeName(node.name);write(": ");if(node.initializer){emit(node.initializer)}else{write("true")}}function emitJsxElement(openingNode,children){var syntheticReactRef=ts.createSynthesizedNode(69);syntheticReactRef.text="React";syntheticReactRef.parent=openingNode;emitLeadingComments(openingNode);emitExpressionIdentifier(syntheticReactRef);write(".createElement(");emitTagName(openingNode.tagName);write(", ");if(openingNode.attributes.length===0){write("null")}else{var attrs=openingNode.attributes;if(ts.forEach(attrs,function(attr){return attr.kind===239})){emitExpressionIdentifier(syntheticReactRef);write(".__spread(");var haveOpenedObjectLiteral=false;for(var i_1=0;i_1<attrs.length;i_1++){if(attrs[i_1].kind===239){if(i_1===0){write("{}, ")}if(haveOpenedObjectLiteral){write("}");haveOpenedObjectLiteral=false}if(i_1>0){write(", ")}emit(attrs[i_1].expression)}else{ts.Debug.assert(attrs[i_1].kind===238);if(haveOpenedObjectLiteral){write(", ")}else{haveOpenedObjectLiteral=true;if(i_1>0){write(", ")}write("{")}emitJsxAttribute(attrs[i_1])}}if(haveOpenedObjectLiteral)write("}");write(")")}else{write("{");for(var i=0;i<attrs.length;i++){if(i>0){write(", ")}emitJsxAttribute(attrs[i])}write("}")}}if(children){for(var i=0;i<children.length;i++){if(children[i].kind===240&&!children[i].expression){continue}if(children[i].kind===236){var text=getTextToEmit(children[i]);if(text!==undefined){write(', "');write(text);write('"')}}else{write(", ");emit(children[i])}}}write(")");emitTrailingComments(openingNode)}if(node.kind===233){emitJsxElement(node.openingElement,node.children)}else{ts.Debug.assert(node.kind===234);emitJsxElement(node)}}function jsxEmitPreserve(node){function emitJsxAttribute(node){emit(node.name);if(node.initializer){write("=");emit(node.initializer)}}function emitJsxSpreadAttribute(node){write("{...");emit(node.expression);write("}")}function emitAttributes(attribs){for(var i=0,n=attribs.length;i<n;i++){if(i>0){write(" ")}if(attribs[i].kind===239){emitJsxSpreadAttribute(attribs[i])}else{ts.Debug.assert(attribs[i].kind===238);emitJsxAttribute(attribs[i])}}}function emitJsxOpeningOrSelfClosingElement(node){write("<");emit(node.tagName);if(node.attributes.length>0||node.kind===234){write(" ")}emitAttributes(node.attributes);if(node.kind===234){write("/>")}else{write(">")}}function emitJsxClosingElement(node){write("</");emit(node.tagName);write(">")}function emitJsxElement(node){emitJsxOpeningOrSelfClosingElement(node.openingElement);for(var i=0,n=node.children.length;i<n;i++){emit(node.children[i])}emitJsxClosingElement(node.closingElement)}if(node.kind===233){emitJsxElement(node)}else{ts.Debug.assert(node.kind===234);emitJsxOpeningOrSelfClosingElement(node)}}function emitExpressionForPropertyName(node){ts.Debug.assert(node.kind!==163);if(node.kind===9){emitLiteral(node)}else if(node.kind===136){if(ts.nodeIsDecorated(node.parent)){if(!computedPropertyNamesToGeneratedNames){computedPropertyNamesToGeneratedNames=[]}var generatedName=computedPropertyNamesToGeneratedNames[ts.getNodeId(node)];
if(generatedName){write(generatedName);return}generatedName=createAndRecordTempVariable(0).text;computedPropertyNamesToGeneratedNames[ts.getNodeId(node)]=generatedName;write(generatedName);write(" = ")}emit(node.expression)}else{write('"');if(node.kind===8){write(node.text)}else{writeTextOfNode(currentSourceFile,node)}write('"')}}function isExpressionIdentifier(node){var parent=node.parent;switch(parent.kind){case 164:case 189:case 181:case 168:case 241:case 136:case 182:case 139:case 175:case 197:case 167:case 227:case 195:case 188:case 199:case 200:case 201:case 196:case 234:case 235:case 239:case 240:case 169:case 172:case 180:case 179:case 204:case 246:case 185:case 206:case 170:case 190:case 208:case 171:case 176:case 177:case 198:case 205:case 184:return true;case 163:case 247:case 138:case 245:case 141:case 211:return parent.initializer===node;case 166:return parent.expression===node;case 174:case 173:return parent.body===node;case 221:return parent.moduleReference===node;case 135:return parent.left===node}return false}function emitExpressionIdentifier(node){if(resolver.getNodeCheckFlags(node)&2048){write("_arguments");return}var container=resolver.getReferencedExportContainer(node);if(container){if(container.kind===248){if(modulekind!==5&&modulekind!==4){write("exports.")}}else{write(getGeneratedNameForNode(container));write(".")}}else{if(modulekind!==5){var declaration=resolver.getReferencedImportDeclaration(node);if(declaration){if(declaration.kind===223){write(getGeneratedNameForNode(declaration.parent));write(languageVersion===0?'["default"]':".default");return}else if(declaration.kind===226){write(getGeneratedNameForNode(declaration.parent.parent.parent));var name_23=declaration.propertyName||declaration.name;var identifier=ts.getSourceTextOfNodeFromSourceFile(currentSourceFile,name_23);if(languageVersion===0&&identifier==="default"){write('["default"]')}else{write(".");write(identifier)}return}}}if(languageVersion!==2){var declaration=resolver.getReferencedNestedRedeclaration(node);if(declaration){write(getGeneratedNameForNode(declaration.name));return}}}if(ts.nodeIsSynthesized(node)){write(node.text)}else{writeTextOfNode(currentSourceFile,node)}}function isNameOfNestedRedeclaration(node){if(languageVersion<2){var parent_6=node.parent;switch(parent_6.kind){case 163:case 214:case 217:case 211:return parent_6.name===node&&resolver.isNestedRedeclaration(parent_6)}}return false}function emitIdentifier(node){if(!node.parent){write(node.text)}else if(isExpressionIdentifier(node)){emitExpressionIdentifier(node)}else if(isNameOfNestedRedeclaration(node)){write(getGeneratedNameForNode(node))}else if(ts.nodeIsSynthesized(node)){write(node.text)}else{writeTextOfNode(currentSourceFile,node)}}function emitThis(node){if(resolver.getNodeCheckFlags(node)&2){write("_this")}else{write("this")}}function emitSuper(node){if(languageVersion>=2){write("super")}else{var flags=resolver.getNodeCheckFlags(node);if(flags&256){write("_super.prototype")}else{write("_super")}}}function emitObjectBindingPattern(node){write("{ ");var elements=node.elements;emitList(elements,0,elements.length,false,elements.hasTrailingComma);write(" }")}function emitArrayBindingPattern(node){write("[");var elements=node.elements;emitList(elements,0,elements.length,false,elements.hasTrailingComma);write("]")}function emitBindingElement(node){if(node.propertyName){emit(node.propertyName);write(": ")}if(node.dotDotDotToken){write("...")}if(ts.isBindingPattern(node.name)){emit(node.name)}else{emitModuleMemberName(node)}emitOptional(" = ",node.initializer)}function emitSpreadElementExpression(node){write("...");emit(node.expression)}function emitYieldExpression(node){write(ts.tokenToString(114));if(node.asteriskToken){write("*")}if(node.expression){write(" ");emit(node.expression)}}function emitAwaitExpression(node){var needsParenthesis=needsParenthesisForAwaitExpressionAsYield(node);if(needsParenthesis){write("(")}write(ts.tokenToString(114));write(" ");emit(node.expression);if(needsParenthesis){write(")")}}function needsParenthesisForAwaitExpressionAsYield(node){if(node.parent.kind===181&&!ts.isAssignmentOperator(node.parent.operatorToken.kind)){return true}else if(node.parent.kind===182&&node.parent.condition===node){return true}return false}function needsParenthesisForPropertyAccessOrInvocation(node){switch(node.kind){case 69:case 164:case 166:case 167:case 168:case 172:return false}return true}function emitListWithSpread(elements,needsUniqueCopy,multiLine,trailingComma,useConcat){var pos=0;var group=0;var length=elements.length;while(pos<length){if(group===1&&useConcat){write(".concat(")}else if(group>0){write(", ")}var e=elements[pos];if(e.kind===185){e=e.expression;emitParenthesizedIf(e,group===0&&needsParenthesisForPropertyAccessOrInvocation(e));pos++;if(pos===length&&group===0&&needsUniqueCopy&&e.kind!==164){write(".slice()")}}else{var i=pos;while(i<length&&elements[i].kind!==185){i++}write("[");if(multiLine){increaseIndent()}emitList(elements,pos,i-pos,multiLine,trailingComma&&i===length);if(multiLine){decreaseIndent()}write("]");pos=i}group++}if(group>1){if(useConcat){write(")")}}}function isSpreadElementExpression(node){return node.kind===185}function emitArrayLiteral(node){var elements=node.elements;if(elements.length===0){write("[]")}else if(languageVersion>=2||!ts.forEach(elements,isSpreadElementExpression)){write("[");emitLinePreservingList(node,node.elements,elements.hasTrailingComma,false);write("]")}else{emitListWithSpread(elements,true,(node.flags&2048)!==0,elements.hasTrailingComma,true)}}function emitObjectLiteralBody(node,numElements){if(numElements===0){write("{}");return}write("{");if(numElements>0){var properties=node.properties;if(numElements===properties.length){emitLinePreservingList(node,properties,languageVersion>=1,true)}else{var multiLine=(node.flags&2048)!==0;if(!multiLine){write(" ")}else{increaseIndent()}emitList(properties,0,numElements,multiLine,false);if(!multiLine){write(" ")}else{decreaseIndent()}}}write("}")}function emitDownlevelObjectLiteralWithComputedProperties(node,firstComputedPropertyIndex){var multiLine=(node.flags&2048)!==0;var properties=node.properties;write("(");if(multiLine){increaseIndent()}var tempVar=createAndRecordTempVariable(0);emit(tempVar);write(" = ");emitObjectLiteralBody(node,firstComputedPropertyIndex);for(var i=firstComputedPropertyIndex,n=properties.length;i<n;i++){writeComma();var property=properties[i];emitStart(property);if(property.kind===145||property.kind===146){var accessors=ts.getAllAccessorDeclarations(node.properties,property);if(property!==accessors.firstAccessor){continue}write("Object.defineProperty(");emit(tempVar);write(", ");emitStart(node.name);emitExpressionForPropertyName(property.name);emitEnd(property.name);write(", {");increaseIndent();if(accessors.getAccessor){writeLine();emitLeadingComments(accessors.getAccessor);write("get: ");emitStart(accessors.getAccessor);write("function ");emitSignatureAndBody(accessors.getAccessor);emitEnd(accessors.getAccessor);emitTrailingComments(accessors.getAccessor);write(",")}if(accessors.setAccessor){writeLine();emitLeadingComments(accessors.setAccessor);write("set: ");emitStart(accessors.setAccessor);write("function ");emitSignatureAndBody(accessors.setAccessor);emitEnd(accessors.setAccessor);emitTrailingComments(accessors.setAccessor);write(",")}writeLine();write("enumerable: true,");writeLine();write("configurable: true");decreaseIndent();writeLine();write("})");emitEnd(property)}else{emitLeadingComments(property);emitStart(property.name);emit(tempVar);emitMemberAccessForPropertyName(property.name);emitEnd(property.name);write(" = ");if(property.kind===245){emit(property.initializer)}else if(property.kind===246){emitExpressionIdentifier(property.name)}else if(property.kind===143){emitFunctionDeclaration(property)}else{ts.Debug.fail("ObjectLiteralElement type not accounted for: "+property.kind)}}emitEnd(property)}writeComma();emit(tempVar);if(multiLine){decreaseIndent();writeLine()}write(")");function writeComma(){if(multiLine){write(",");writeLine()}else{write(", ")}}}function emitObjectLiteral(node){var properties=node.properties;if(languageVersion<2){var numProperties=properties.length;var numInitialNonComputedProperties=numProperties;for(var i=0,n=properties.length;i<n;i++){if(properties[i].name.kind===136){numInitialNonComputedProperties=i;break}}var hasComputedProperty=numInitialNonComputedProperties!==properties.length;if(hasComputedProperty){emitDownlevelObjectLiteralWithComputedProperties(node,numInitialNonComputedProperties);return}}emitObjectLiteralBody(node,properties.length)}function createBinaryExpression(left,operator,right,startsOnNewLine){var result=ts.createSynthesizedNode(181,startsOnNewLine);result.operatorToken=ts.createSynthesizedNode(operator);result.left=left;result.right=right;return result}function createPropertyAccessExpression(expression,name){var result=ts.createSynthesizedNode(166);result.expression=parenthesizeForAccess(expression);result.dotToken=ts.createSynthesizedNode(21);result.name=name;return result}function createElementAccessExpression(expression,argumentExpression){var result=ts.createSynthesizedNode(167);result.expression=parenthesizeForAccess(expression);result.argumentExpression=argumentExpression;return result}function parenthesizeForAccess(expr){while(expr.kind===171||expr.kind===189){expr=expr.expression}if(ts.isLeftHandSideExpression(expr)&&expr.kind!==169&&expr.kind!==8){return expr}var node=ts.createSynthesizedNode(172);node.expression=expr;return node}function emitComputedPropertyName(node){write("[");emitExpressionForPropertyName(node);write("]")}function emitMethod(node){if(languageVersion>=2&&node.asteriskToken){write("*")}emit(node.name);if(languageVersion<2){write(": function ")}emitSignatureAndBody(node)}function emitPropertyAssignment(node){emit(node.name);write(": ");emitTrailingCommentsOfPosition(node.initializer.pos);emit(node.initializer)}function isNamespaceExportReference(node){var container=resolver.getReferencedExportContainer(node);return container&&container.kind!==248}function emitShorthandPropertyAssignment(node){writeTextOfNode(currentSourceFile,node.name);if(languageVersion<2||isNamespaceExportReference(node.name)){write(": ");emit(node.name)}if(languageVersion>=2&&node.objectAssignmentInitializer){write(" = ");emit(node.objectAssignmentInitializer)}}function tryEmitConstantValue(node){var constantValue=tryGetConstEnumValue(node);if(constantValue!==undefined){write(constantValue.toString());if(!compilerOptions.removeComments){var propertyName=node.kind===166?ts.declarationNameToString(node.name):ts.getTextOfNode(node.argumentExpression);write(" /* "+propertyName+" */")}return true}return false}function tryGetConstEnumValue(node){if(compilerOptions.isolatedModules){return undefined}return node.kind===166||node.kind===167?resolver.getConstantValue(node):undefined}function indentIfOnDifferentLines(parent,node1,node2,valueToWriteWhenNotIndenting){var realNodesAreOnDifferentLines=!ts.nodeIsSynthesized(parent)&&!nodeEndIsOnSameLineAsNodeStart(node1,node2);var synthesizedNodeIsOnDifferentLine=synthesizedNodeStartsOnNewLine(node2);if(realNodesAreOnDifferentLines||synthesizedNodeIsOnDifferentLine){increaseIndent();writeLine();return true}else{if(valueToWriteWhenNotIndenting){write(valueToWriteWhenNotIndenting)}return false}}function emitPropertyAccess(node){if(tryEmitConstantValue(node)){return}emit(node.expression);var indentedBeforeDot=indentIfOnDifferentLines(node,node.expression,node.dotToken);var shouldEmitSpace;if(!indentedBeforeDot){if(node.expression.kind===8){var text=ts.getSourceTextOfNodeFromSourceFile(currentSourceFile,node.expression);shouldEmitSpace=text.indexOf(ts.tokenToString(21))<0}else{var constantValue=tryGetConstEnumValue(node.expression);shouldEmitSpace=isFinite(constantValue)&&Math.floor(constantValue)===constantValue}}if(shouldEmitSpace){write(" .")}else{write(".")}var indentedAfterDot=indentIfOnDifferentLines(node,node.dotToken,node.name);emit(node.name);decreaseIndentIf(indentedBeforeDot,indentedAfterDot)}function emitQualifiedName(node){emit(node.left);write(".");emit(node.right)}function emitQualifiedNameAsExpression(node,useFallback){if(node.left.kind===69){emitEntityNameAsExpression(node.left,useFallback)}else if(useFallback){var temp=createAndRecordTempVariable(0);write("(");emitNodeWithoutSourceMap(temp);write(" = ");emitEntityNameAsExpression(node.left,true);write(") && ");emitNodeWithoutSourceMap(temp)}else{emitEntityNameAsExpression(node.left,false)}write(".");emit(node.right)}function emitEntityNameAsExpression(node,useFallback){switch(node.kind){case 69:if(useFallback){write("typeof ");emitExpressionIdentifier(node);write(" !== 'undefined' && ")}emitExpressionIdentifier(node);break;case 135:emitQualifiedNameAsExpression(node,useFallback);break}}function emitIndexedAccess(node){if(tryEmitConstantValue(node)){return}emit(node.expression);write("[");emit(node.argumentExpression);write("]")}function hasSpreadElement(elements){return ts.forEach(elements,function(e){return e.kind===185})}function skipParentheses(node){while(node.kind===172||node.kind===171||node.kind===189){node=node.expression}return node}function emitCallTarget(node){if(node.kind===69||node.kind===97||node.kind===95){emit(node);return node}var temp=createAndRecordTempVariable(0);write("(");emit(temp);write(" = ");emit(node);write(")");return temp}function emitCallWithSpread(node){var target;var expr=skipParentheses(node.expression);if(expr.kind===166){target=emitCallTarget(expr.expression);write(".");emit(expr.name)}else if(expr.kind===167){target=emitCallTarget(expr.expression);write("[");emit(expr.argumentExpression);write("]")}else if(expr.kind===95){target=expr;write("_super")}else{emit(node.expression)}write(".apply(");if(target){if(target.kind===95){emitThis(target)}else{emit(target)}}else{write("void 0")}write(", ");emitListWithSpread(node.arguments,false,false,false,true);write(")")}function emitCallExpression(node){if(languageVersion<2&&hasSpreadElement(node.arguments)){emitCallWithSpread(node);return}var superCall=false;if(node.expression.kind===95){emitSuper(node.expression);superCall=true}else{emit(node.expression);superCall=node.expression.kind===166&&node.expression.expression.kind===95}if(superCall&&languageVersion<2){write(".call(");emitThis(node.expression);if(node.arguments.length){write(", ");emitCommaList(node.arguments)}write(")")}else{write("(");emitCommaList(node.arguments);write(")")}}function emitNewExpression(node){write("new ");if(languageVersion===1&&node.arguments&&hasSpreadElement(node.arguments)){write("(");var target=emitCallTarget(node.expression);write(".bind.apply(");emit(target);write(", [void 0].concat(");emitListWithSpread(node.arguments,false,false,false,false);write(")))");write("()")}else{emit(node.expression);if(node.arguments){write("(");emitCommaList(node.arguments);write(")")}}}function emitTaggedTemplateExpression(node){if(languageVersion>=2){emit(node.tag);write(" ");emit(node.template)}else{emitDownlevelTaggedTemplate(node)}}function emitParenExpression(node){if(!ts.nodeIsSynthesized(node)&&node.parent.kind!==174){if(node.expression.kind===171||node.expression.kind===189){var operand=node.expression.expression;while(operand.kind===171||operand.kind===189){operand=operand.expression}if(operand.kind!==179&&operand.kind!==177&&operand.kind!==176&&operand.kind!==175&&operand.kind!==180&&operand.kind!==169&&!(operand.kind===168&&node.parent.kind===169)&&!(operand.kind===173&&node.parent.kind===168)&&!(operand.kind===8&&node.parent.kind===166)){emit(operand);return}}}write("(");emit(node.expression);write(")")}function emitDeleteExpression(node){write(ts.tokenToString(78));write(" ");emit(node.expression)}function emitVoidExpression(node){write(ts.tokenToString(103));write(" ");emit(node.expression)}function emitTypeOfExpression(node){write(ts.tokenToString(101));write(" ");emit(node.expression)}function isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node){if(!isCurrentFileSystemExternalModule()||node.kind!==69||ts.nodeIsSynthesized(node)){return false}var isVariableDeclarationOrBindingElement=node.parent&&(node.parent.kind===211||node.parent.kind===163);var targetDeclaration=isVariableDeclarationOrBindingElement?node.parent:resolver.getReferencedValueDeclaration(node);return isSourceFileLevelDeclarationInSystemJsModule(targetDeclaration,true)}function emitPrefixUnaryExpression(node){var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.operand);if(exportChanged){write(exportFunctionForFile+'("');emitNodeWithoutSourceMap(node.operand);write('", ')}write(ts.tokenToString(node.operator));if(node.operand.kind===179){var operand=node.operand;if(node.operator===35&&(operand.operator===35||operand.operator===41)){write(" ")}else if(node.operator===36&&(operand.operator===36||operand.operator===42)){write(" ")}}emit(node.operand);if(exportChanged){write(")")}}function emitPostfixUnaryExpression(node){var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.operand);if(exportChanged){write("("+exportFunctionForFile+'("');emitNodeWithoutSourceMap(node.operand);write('", ');write(ts.tokenToString(node.operator));emit(node.operand);if(node.operator===41){write(") - 1)")}else{write(") + 1)")}}else{emit(node.operand);write(ts.tokenToString(node.operator))}}function shouldHoistDeclarationInSystemJsModule(node){return isSourceFileLevelDeclarationInSystemJsModule(node,false)}function isSourceFileLevelDeclarationInSystemJsModule(node,isExported){if(!node||languageVersion>=2||!isCurrentFileSystemExternalModule()){return false}var current=node;while(current){if(current.kind===248){return!isExported||(ts.getCombinedNodeFlags(node)&1)!==0}else if(ts.isFunctionLike(current)||current.kind===219){return false}else{current=current.parent}}}function emitExponentiationOperator(node){var leftHandSideExpression=node.left;if(node.operatorToken.kind===60){var synthesizedLHS;var shouldEmitParentheses=false;if(ts.isElementAccessExpression(leftHandSideExpression)){shouldEmitParentheses=true;write("(");synthesizedLHS=ts.createSynthesizedNode(167,false);var identifier=emitTempVariableAssignment(leftHandSideExpression.expression,false,false);synthesizedLHS.expression=identifier;if(leftHandSideExpression.argumentExpression.kind!==8&&leftHandSideExpression.argumentExpression.kind!==9){var tempArgumentExpression=createAndRecordTempVariable(268435456);synthesizedLHS.argumentExpression=tempArgumentExpression;emitAssignment(tempArgumentExpression,leftHandSideExpression.argumentExpression,true)}else{synthesizedLHS.argumentExpression=leftHandSideExpression.argumentExpression}write(", ")}else if(ts.isPropertyAccessExpression(leftHandSideExpression)){shouldEmitParentheses=true;write("(");synthesizedLHS=ts.createSynthesizedNode(166,false);var identifier=emitTempVariableAssignment(leftHandSideExpression.expression,false,false);synthesizedLHS.expression=identifier;synthesizedLHS.dotToken=leftHandSideExpression.dotToken;synthesizedLHS.name=leftHandSideExpression.name;write(", ")}emit(synthesizedLHS||leftHandSideExpression);write(" = ");write("Math.pow(");emit(synthesizedLHS||leftHandSideExpression);write(", ");emit(node.right);write(")");if(shouldEmitParentheses){write(")")}}else{write("Math.pow(");emit(leftHandSideExpression);write(", ");emit(node.right);write(")")}}function emitBinaryExpression(node){if(languageVersion<2&&node.operatorToken.kind===56&&(node.left.kind===165||node.left.kind===164)){emitDestructuring(node,node.parent.kind===195)}else{var exportChanged=node.operatorToken.kind>=56&&node.operatorToken.kind<=68&&isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.left);if(exportChanged){write(exportFunctionForFile+'("');emitNodeWithoutSourceMap(node.left);write('", ')}if(node.operatorToken.kind===38||node.operatorToken.kind===60){emitExponentiationOperator(node)}else{emit(node.left);var indentedBeforeOperator=indentIfOnDifferentLines(node,node.left,node.operatorToken,node.operatorToken.kind!==24?" ":undefined);write(ts.tokenToString(node.operatorToken.kind));var indentedAfterOperator=indentIfOnDifferentLines(node,node.operatorToken,node.right," ");emit(node.right);decreaseIndentIf(indentedBeforeOperator,indentedAfterOperator)}if(exportChanged){write(")")}}}function synthesizedNodeStartsOnNewLine(node){return ts.nodeIsSynthesized(node)&&node.startsOnNewLine}function emitConditionalExpression(node){emit(node.condition);var indentedBeforeQuestion=indentIfOnDifferentLines(node,node.condition,node.questionToken," ");write("?");var indentedAfterQuestion=indentIfOnDifferentLines(node,node.questionToken,node.whenTrue," ");emit(node.whenTrue);decreaseIndentIf(indentedBeforeQuestion,indentedAfterQuestion);var indentedBeforeColon=indentIfOnDifferentLines(node,node.whenTrue,node.colonToken," ");write(":");var indentedAfterColon=indentIfOnDifferentLines(node,node.colonToken,node.whenFalse," ");emit(node.whenFalse);decreaseIndentIf(indentedBeforeColon,indentedAfterColon)}function decreaseIndentIf(value1,value2){if(value1){decreaseIndent()}if(value2){decreaseIndent()}}function isSingleLineEmptyBlock(node){if(node&&node.kind===192){var block=node;return block.statements.length===0&&nodeEndIsOnSameLineAsNodeStart(block,block)}}function emitBlock(node){if(isSingleLineEmptyBlock(node)){emitToken(15,node.pos);write(" ");emitToken(16,node.statements.end);return}emitToken(15,node.pos);increaseIndent();scopeEmitStart(node.parent);if(node.kind===219){ts.Debug.assert(node.parent.kind===218);emitCaptureThisForNodeIfNecessary(node.parent)}emitLines(node.statements);if(node.kind===219){emitTempDeclarations(true)}decreaseIndent();writeLine();emitToken(16,node.statements.end);scopeEmitEnd()}function emitEmbeddedStatement(node){if(node.kind===192){write(" ");emit(node)}else{increaseIndent();writeLine();emit(node);decreaseIndent()}}function emitExpressionStatement(node){emitParenthesizedIf(node.expression,node.expression.kind===174);write(";")}function emitIfStatement(node){var endPos=emitToken(88,node.pos);write(" ");endPos=emitToken(17,endPos);emit(node.expression);emitToken(18,node.expression.end);emitEmbeddedStatement(node.thenStatement);if(node.elseStatement){writeLine();emitToken(80,node.thenStatement.end);if(node.elseStatement.kind===196){write(" ");emit(node.elseStatement)}else{emitEmbeddedStatement(node.elseStatement)}}}function emitDoStatement(node){write("do");emitEmbeddedStatement(node.statement);if(node.statement.kind===192){write(" ")}else{writeLine()}write("while (");emit(node.expression);write(");")}function emitWhileStatement(node){write("while (");emit(node.expression);write(")");emitEmbeddedStatement(node.statement)}function tryEmitStartOfVariableDeclarationList(decl,startPos){if(shouldHoistVariable(decl,true)){return false}var tokenKind=102;if(decl&&languageVersion>=2){if(ts.isLet(decl)){tokenKind=108}else if(ts.isConst(decl)){tokenKind=74}}if(startPos!==undefined){emitToken(tokenKind,startPos);write(" ")}else{switch(tokenKind){case 102:write("var ");break;case 108:write("let ");break;case 74:write("const ");break}}return true}function emitVariableDeclarationListSkippingUninitializedEntries(list){var started=false;for(var _a=0,_b=list.declarations;_a<_b.length;_a++){var decl=_b[_a];if(!decl.initializer){continue}if(!started){started=true}else{write(", ")}emit(decl)}return started}function emitForStatement(node){var endPos=emitToken(86,node.pos);write(" ");endPos=emitToken(17,endPos);if(node.initializer&&node.initializer.kind===212){var variableDeclarationList=node.initializer;var startIsEmitted=tryEmitStartOfVariableDeclarationList(variableDeclarationList,endPos);if(startIsEmitted){emitCommaList(variableDeclarationList.declarations)}else{emitVariableDeclarationListSkippingUninitializedEntries(variableDeclarationList)}}else if(node.initializer){emit(node.initializer)}write(";");emitOptional(" ",node.condition);write(";");emitOptional(" ",node.incrementor);write(")");emitEmbeddedStatement(node.statement)}function emitForInOrForOfStatement(node){if(languageVersion<2&&node.kind===201){return emitDownLevelForOfStatement(node)}var endPos=emitToken(86,node.pos);write(" ");endPos=emitToken(17,endPos);if(node.initializer.kind===212){var variableDeclarationList=node.initializer;if(variableDeclarationList.declarations.length>=1){tryEmitStartOfVariableDeclarationList(variableDeclarationList,endPos);emit(variableDeclarationList.declarations[0])}}else{emit(node.initializer)}if(node.kind===200){write(" in ")}else{write(" of ")}emit(node.expression);emitToken(18,node.expression.end);emitEmbeddedStatement(node.statement)}function emitDownLevelForOfStatement(node){var endPos=emitToken(86,node.pos);write(" ");endPos=emitToken(17,endPos);var rhsIsIdentifier=node.expression.kind===69;var counter=createTempVariable(268435456);var rhsReference=rhsIsIdentifier?node.expression:createTempVariable(0);emitStart(node.expression);write("var ");emitNodeWithoutSourceMap(counter);write(" = 0");emitEnd(node.expression);if(!rhsIsIdentifier){write(", ");emitStart(node.expression);emitNodeWithoutSourceMap(rhsReference);write(" = ");emitNodeWithoutSourceMap(node.expression);emitEnd(node.expression)}write("; ");emitStart(node.initializer);emitNodeWithoutSourceMap(counter);write(" < ");emitNodeWithCommentsAndWithoutSourcemap(rhsReference);write(".length");emitEnd(node.initializer);write("; ");emitStart(node.initializer);emitNodeWithoutSourceMap(counter);write("++");emitEnd(node.initializer);emitToken(18,node.expression.end);write(" {");writeLine();increaseIndent();var rhsIterationValue=createElementAccessExpression(rhsReference,counter);emitStart(node.initializer);if(node.initializer.kind===212){write("var ");var variableDeclarationList=node.initializer;if(variableDeclarationList.declarations.length>0){var declaration=variableDeclarationList.declarations[0];if(ts.isBindingPattern(declaration.name)){emitDestructuring(declaration,false,rhsIterationValue)}else{emitNodeWithCommentsAndWithoutSourcemap(declaration);write(" = ");emitNodeWithoutSourceMap(rhsIterationValue)}}else{emitNodeWithoutSourceMap(createTempVariable(0));write(" = ");emitNodeWithoutSourceMap(rhsIterationValue)}}else{var assignmentExpression=createBinaryExpression(node.initializer,56,rhsIterationValue,false);if(node.initializer.kind===164||node.initializer.kind===165){emitDestructuring(assignmentExpression,true,undefined)}else{emitNodeWithCommentsAndWithoutSourcemap(assignmentExpression)}}emitEnd(node.initializer);write(";");if(node.statement.kind===192){emitLines(node.statement.statements)}else{writeLine();emit(node.statement)}writeLine();decreaseIndent();write("}")}function emitBreakOrContinueStatement(node){emitToken(node.kind===203?70:75,node.pos);emitOptional(" ",node.label);write(";")}function emitReturnStatement(node){emitToken(94,node.pos);emitOptional(" ",node.expression);write(";")}function emitWithStatement(node){write("with (");emit(node.expression);write(")");emitEmbeddedStatement(node.statement)}function emitSwitchStatement(node){var endPos=emitToken(96,node.pos);write(" ");emitToken(17,endPos);emit(node.expression);endPos=emitToken(18,node.expression.end);write(" ");emitCaseBlock(node.caseBlock,endPos)}function emitCaseBlock(node,startPos){emitToken(15,startPos);increaseIndent();emitLines(node.clauses);decreaseIndent();writeLine();emitToken(16,node.clauses.end)}function nodeStartPositionsAreOnSameLine(node1,node2){return ts.getLineOfLocalPosition(currentSourceFile,ts.skipTrivia(currentSourceFile.text,node1.pos))===ts.getLineOfLocalPosition(currentSourceFile,ts.skipTrivia(currentSourceFile.text,node2.pos))}function nodeEndPositionsAreOnSameLine(node1,node2){return ts.getLineOfLocalPosition(currentSourceFile,node1.end)===ts.getLineOfLocalPosition(currentSourceFile,node2.end)}function nodeEndIsOnSameLineAsNodeStart(node1,node2){return ts.getLineOfLocalPosition(currentSourceFile,node1.end)===ts.getLineOfLocalPosition(currentSourceFile,ts.skipTrivia(currentSourceFile.text,node2.pos))}function emitCaseOrDefaultClause(node){if(node.kind===241){write("case ");emit(node.expression);write(":")}else{write("default:")}if(node.statements.length===1&&nodeStartPositionsAreOnSameLine(node,node.statements[0])){write(" ");emit(node.statements[0])}else{increaseIndent();emitLines(node.statements);decreaseIndent()}}function emitThrowStatement(node){write("throw ");emit(node.expression);write(";")}function emitTryStatement(node){write("try ");emit(node.tryBlock);emit(node.catchClause);if(node.finallyBlock){writeLine();write("finally ");emit(node.finallyBlock)}}function emitCatchClause(node){writeLine();var endPos=emitToken(72,node.pos);write(" ");emitToken(17,endPos);emit(node.variableDeclaration);emitToken(18,node.variableDeclaration?node.variableDeclaration.end:endPos);write(" ");emitBlock(node.block)}function emitDebuggerStatement(node){emitToken(76,node.pos);write(";")}function emitLabelledStatement(node){emit(node.label);write(": ");emit(node.statement)}function getContainingModule(node){do{node=node.parent}while(node&&node.kind!==218);return node}function emitContainingModuleName(node){var container=getContainingModule(node);write(container?getGeneratedNameForNode(container):"exports")}function emitModuleMemberName(node){emitStart(node.name);if(ts.getCombinedNodeFlags(node)&1){var container=getContainingModule(node);if(container){write(getGeneratedNameForNode(container));write(".")}else if(modulekind!==5&&modulekind!==4){write("exports.")}}emitNodeWithCommentsAndWithoutSourcemap(node.name);emitEnd(node.name)}function createVoidZero(){var zero=ts.createSynthesizedNode(8);zero.text="0";var result=ts.createSynthesizedNode(177);result.expression=zero;return result}function emitEs6ExportDefaultCompat(node){if(node.parent.kind===248){ts.Debug.assert(!!(node.flags&1024)||node.kind===227);if(modulekind===1||modulekind===2||modulekind===3){if(!currentSourceFile.symbol.exports["___esModule"]){if(languageVersion===1){write('Object.defineProperty(exports, "__esModule", { value: true });');writeLine()}else if(languageVersion===0){write("exports.__esModule = true;");writeLine()}}}}}function emitExportMemberAssignment(node){if(node.flags&1){writeLine();emitStart(node);if(modulekind===4&&node.parent===currentSourceFile){write(exportFunctionForFile+'("');if(node.flags&1024){write("default")}else{emitNodeWithCommentsAndWithoutSourcemap(node.name)}write('", ');emitDeclarationName(node);write(")")}else{if(node.flags&1024){emitEs6ExportDefaultCompat(node);if(languageVersion===0){write('exports["default"]')}else{write("exports.default")}}else{emitModuleMemberName(node)}write(" = ");emitDeclarationName(node)}emitEnd(node);write(";")}}function emitExportMemberAssignments(name){if(modulekind===4){return}if(!exportEquals&&exportSpecifiers&&ts.hasProperty(exportSpecifiers,name.text)){for(var _a=0,_b=exportSpecifiers[name.text];_a<_b.length;_a++){var specifier=_b[_a];writeLine();emitStart(specifier.name);emitContainingModuleName(specifier);write(".");emitNodeWithCommentsAndWithoutSourcemap(specifier.name);emitEnd(specifier.name);write(" = ");emitExpressionIdentifier(name);write(";")}}}function emitExportSpecifierInSystemModule(specifier){ts.Debug.assert(modulekind===4);if(!resolver.getReferencedValueDeclaration(specifier.propertyName||specifier.name)&&!resolver.isValueAliasDeclaration(specifier)){return}writeLine();emitStart(specifier.name);write(exportFunctionForFile+'("');emitNodeWithCommentsAndWithoutSourcemap(specifier.name);write('", ');emitExpressionIdentifier(specifier.propertyName||specifier.name);write(")");emitEnd(specifier.name);write(";")}function emitAssignment(name,value,shouldEmitCommaBeforeAssignment){if(shouldEmitCommaBeforeAssignment){write(", ")}var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(name);if(exportChanged){write(exportFunctionForFile+'("');emitNodeWithCommentsAndWithoutSourcemap(name);write('", ')}var isVariableDeclarationOrBindingElement=name.parent&&(name.parent.kind===211||name.parent.kind===163);
if(isVariableDeclarationOrBindingElement){emitModuleMemberName(name.parent)}else{emit(name)}write(" = ");emit(value);if(exportChanged){write(")")}}function emitTempVariableAssignment(expression,canDefineTempVariablesInPlace,shouldEmitCommaBeforeAssignment){var identifier=createTempVariable(0);if(!canDefineTempVariablesInPlace){recordTempDeclaration(identifier)}emitAssignment(identifier,expression,shouldEmitCommaBeforeAssignment);return identifier}function emitDestructuring(root,isAssignmentExpressionStatement,value){var emitCount=0;var canDefineTempVariablesInPlace=false;if(root.kind===211){var isExported=ts.getCombinedNodeFlags(root)&1;var isSourceLevelForSystemModuleKind=shouldHoistDeclarationInSystemJsModule(root);canDefineTempVariablesInPlace=!isExported&&!isSourceLevelForSystemModuleKind}else if(root.kind===138){canDefineTempVariablesInPlace=true}if(root.kind===181){emitAssignmentExpression(root)}else{ts.Debug.assert(!isAssignmentExpressionStatement);emitBindingElement(root,value)}function ensureIdentifier(expr,reuseIdentifierExpressions){if(expr.kind===69&&reuseIdentifierExpressions){return expr}var identifier=emitTempVariableAssignment(expr,canDefineTempVariablesInPlace,emitCount>0);emitCount++;return identifier}function createDefaultValueCheck(value,defaultValue){value=ensureIdentifier(value,true);var equals=ts.createSynthesizedNode(181);equals.left=value;equals.operatorToken=ts.createSynthesizedNode(32);equals.right=createVoidZero();return createConditionalExpression(equals,defaultValue,value)}function createConditionalExpression(condition,whenTrue,whenFalse){var cond=ts.createSynthesizedNode(182);cond.condition=condition;cond.questionToken=ts.createSynthesizedNode(53);cond.whenTrue=whenTrue;cond.colonToken=ts.createSynthesizedNode(54);cond.whenFalse=whenFalse;return cond}function createNumericLiteral(value){var node=ts.createSynthesizedNode(8);node.text=""+value;return node}function createPropertyAccessForDestructuringProperty(object,propName){var syntheticName=ts.createSynthesizedNode(propName.kind);syntheticName.text=propName.text;if(syntheticName.kind!==69){return createElementAccessExpression(object,syntheticName)}return createPropertyAccessExpression(object,syntheticName)}function createSliceCall(value,sliceIndex){var call=ts.createSynthesizedNode(168);var sliceIdentifier=ts.createSynthesizedNode(69);sliceIdentifier.text="slice";call.expression=createPropertyAccessExpression(value,sliceIdentifier);call.arguments=ts.createSynthesizedNodeArray();call.arguments[0]=createNumericLiteral(sliceIndex);return call}function emitObjectLiteralAssignment(target,value){var properties=target.properties;if(properties.length!==1){value=ensureIdentifier(value,true)}for(var _a=0;_a<properties.length;_a++){var p=properties[_a];if(p.kind===245||p.kind===246){var propName=p.name;var target_1=p.kind===246?p:p.initializer||propName;emitDestructuringAssignment(target_1,createPropertyAccessForDestructuringProperty(value,propName))}}}function emitArrayLiteralAssignment(target,value){var elements=target.elements;if(elements.length!==1){value=ensureIdentifier(value,true)}for(var i=0;i<elements.length;i++){var e=elements[i];if(e.kind!==187){if(e.kind!==185){emitDestructuringAssignment(e,createElementAccessExpression(value,createNumericLiteral(i)))}else if(i===elements.length-1){emitDestructuringAssignment(e.expression,createSliceCall(value,i))}}}}function emitDestructuringAssignment(target,value){if(target.kind===246){if(target.objectAssignmentInitializer){value=createDefaultValueCheck(value,target.objectAssignmentInitializer)}target=target.name}else if(target.kind===181&&target.operatorToken.kind===56){value=createDefaultValueCheck(value,target.right);target=target.left}if(target.kind===165){emitObjectLiteralAssignment(target,value)}else if(target.kind===164){emitArrayLiteralAssignment(target,value)}else{emitAssignment(target,value,emitCount>0);emitCount++}}function emitAssignmentExpression(root){var target=root.left;var value=root.right;if(ts.isEmptyObjectLiteralOrArrayLiteral(target)){emit(value)}else if(isAssignmentExpressionStatement){emitDestructuringAssignment(target,value)}else{if(root.parent.kind!==172){write("(")}value=ensureIdentifier(value,true);emitDestructuringAssignment(target,value);write(", ");emit(value);if(root.parent.kind!==172){write(")")}}}function emitBindingElement(target,value){if(target.initializer){value=value?createDefaultValueCheck(value,target.initializer):target.initializer}else if(!value){value=createVoidZero()}if(ts.isBindingPattern(target.name)){var pattern=target.name;var elements=pattern.elements;var numElements=elements.length;if(numElements!==1){value=ensureIdentifier(value,numElements!==0)}for(var i=0;i<numElements;i++){var element=elements[i];if(pattern.kind===161){var propName=element.propertyName||element.name;emitBindingElement(element,createPropertyAccessForDestructuringProperty(value,propName))}else if(element.kind!==187){if(!element.dotDotDotToken){emitBindingElement(element,createElementAccessExpression(value,createNumericLiteral(i)))}else if(i===numElements-1){emitBindingElement(element,createSliceCall(value,i))}}}}else{emitAssignment(target.name,value,emitCount>0);emitCount++}}}function emitVariableDeclaration(node){if(ts.isBindingPattern(node.name)){if(languageVersion<2){emitDestructuring(node,false)}else{emit(node.name);emitOptional(" = ",node.initializer)}}else{var initializer=node.initializer;if(!initializer&&languageVersion<2){var isUninitializedLet=resolver.getNodeCheckFlags(node)&16384&&getCombinedFlagsForIdentifier(node.name)&16384;if(isUninitializedLet&&node.parent.parent.kind!==200&&node.parent.parent.kind!==201){initializer=createVoidZero()}}var exportChanged=isNameOfExportedSourceLevelDeclarationInSystemExternalModule(node.name);if(exportChanged){write(exportFunctionForFile+'("');emitNodeWithCommentsAndWithoutSourcemap(node.name);write('", ')}emitModuleMemberName(node);emitOptional(" = ",initializer);if(exportChanged){write(")")}}}function emitExportVariableAssignments(node){if(node.kind===187){return}var name=node.name;if(name.kind===69){emitExportMemberAssignments(name)}else if(ts.isBindingPattern(name)){ts.forEach(name.elements,emitExportVariableAssignments)}}function getCombinedFlagsForIdentifier(node){if(!node.parent||node.parent.kind!==211&&node.parent.kind!==163){return 0}return ts.getCombinedNodeFlags(node.parent)}function isES6ExportedDeclaration(node){return!!(node.flags&1)&&modulekind===5&&node.parent.kind===248}function emitVariableStatement(node){var startIsEmitted=false;if(node.flags&1){if(isES6ExportedDeclaration(node)){write("export ");startIsEmitted=tryEmitStartOfVariableDeclarationList(node.declarationList)}}else{startIsEmitted=tryEmitStartOfVariableDeclarationList(node.declarationList)}if(startIsEmitted){emitCommaList(node.declarationList.declarations);write(";")}else{var atLeastOneItem=emitVariableDeclarationListSkippingUninitializedEntries(node.declarationList);if(atLeastOneItem){write(";")}}if(modulekind!==5&&node.parent===currentSourceFile){ts.forEach(node.declarationList.declarations,emitExportVariableAssignments)}}function shouldEmitLeadingAndTrailingCommentsForVariableStatement(node){if(!(node.flags&1)){return true}if(isES6ExportedDeclaration(node)){return true}for(var _a=0,_b=node.declarationList.declarations;_a<_b.length;_a++){var declaration=_b[_a];if(declaration.initializer){return true}}return false}function emitParameter(node){if(languageVersion<2){if(ts.isBindingPattern(node.name)){var name_24=createTempVariable(0);if(!tempParameters){tempParameters=[]}tempParameters.push(name_24);emit(name_24)}else{emit(node.name)}}else{if(node.dotDotDotToken){write("...")}emit(node.name);emitOptional(" = ",node.initializer)}}function emitDefaultValueAssignments(node){if(languageVersion<2){var tempIndex=0;ts.forEach(node.parameters,function(parameter){if(parameter.dotDotDotToken){return}var paramName=parameter.name,initializer=parameter.initializer;if(ts.isBindingPattern(paramName)){var hasBindingElements=paramName.elements.length>0;if(hasBindingElements||initializer){writeLine();write("var ");if(hasBindingElements){emitDestructuring(parameter,false,tempParameters[tempIndex])}else{emit(tempParameters[tempIndex]);write(" = ");emit(initializer)}write(";");tempIndex++}}else if(initializer){writeLine();emitStart(parameter);write("if (");emitNodeWithoutSourceMap(paramName);write(" === void 0)");emitEnd(parameter);write(" { ");emitStart(parameter);emitNodeWithCommentsAndWithoutSourcemap(paramName);write(" = ");emitNodeWithCommentsAndWithoutSourcemap(initializer);emitEnd(parameter);write("; }")}})}}function emitRestParameter(node){if(languageVersion<2&&ts.hasRestParameter(node)){var restIndex=node.parameters.length-1;var restParam=node.parameters[restIndex];if(ts.isBindingPattern(restParam.name)){return}var tempName=createTempVariable(268435456).text;writeLine();emitLeadingComments(restParam);emitStart(restParam);write("var ");emitNodeWithCommentsAndWithoutSourcemap(restParam.name);write(" = [];");emitEnd(restParam);emitTrailingComments(restParam);writeLine();write("for (");emitStart(restParam);write("var "+tempName+" = "+restIndex+";");emitEnd(restParam);write(" ");emitStart(restParam);write(tempName+" < arguments.length;");emitEnd(restParam);write(" ");emitStart(restParam);write(tempName+"++");emitEnd(restParam);write(") {");increaseIndent();writeLine();emitStart(restParam);emitNodeWithCommentsAndWithoutSourcemap(restParam.name);write("["+tempName+" - "+restIndex+"] = arguments["+tempName+"];");emitEnd(restParam);decreaseIndent();writeLine();write("}")}}function emitAccessor(node){write(node.kind===145?"get ":"set ");emit(node.name);emitSignatureAndBody(node)}function shouldEmitAsArrowFunction(node){return node.kind===174&&languageVersion>=2}function emitDeclarationName(node){if(node.name){emitNodeWithCommentsAndWithoutSourcemap(node.name)}else{write(getGeneratedNameForNode(node))}}function shouldEmitFunctionName(node){if(node.kind===173){return!!node.name}if(node.kind===213){return!!node.name||languageVersion<2}}function emitFunctionDeclaration(node){if(ts.nodeIsMissing(node.body)){return emitCommentsOnNotEmittedNode(node)}if(node.kind!==143&&node.kind!==142&&node.parent&&node.parent.kind!==245&&node.parent.kind!==168){emitLeadingComments(node)}emitStart(node);if(!shouldEmitAsArrowFunction(node)){if(isES6ExportedDeclaration(node)){write("export ");if(node.flags&1024){write("default ")}}write("function");if(languageVersion>=2&&node.asteriskToken){write("*")}write(" ")}if(shouldEmitFunctionName(node)){emitDeclarationName(node)}emitSignatureAndBody(node);if(modulekind!==5&&node.kind===213&&node.parent===currentSourceFile&&node.name){emitExportMemberAssignments(node.name)}emitEnd(node);if(node.kind!==143&&node.kind!==142){emitTrailingComments(node)}}function emitCaptureThisForNodeIfNecessary(node){if(resolver.getNodeCheckFlags(node)&4){writeLine();emitStart(node);write("var _this = this;");emitEnd(node)}}function emitSignatureParameters(node){increaseIndent();write("(");if(node){var parameters=node.parameters;var omitCount=languageVersion<2&&ts.hasRestParameter(node)?1:0;emitList(parameters,0,parameters.length-omitCount,false,false)}write(")");decreaseIndent()}function emitSignatureParametersForArrow(node){if(node.parameters.length===1&&node.pos===node.parameters[0].pos){emit(node.parameters[0]);return}emitSignatureParameters(node)}function emitAsyncFunctionBodyForES6(node){var promiseConstructor=ts.getEntityNameFromTypeNode(node.type);var isArrowFunction=node.kind===174;var hasLexicalArguments=(resolver.getNodeCheckFlags(node)&4096)!==0;var args;if(!isArrowFunction){write(" {");increaseIndent();writeLine();write("return")}write(" __awaiter(this");if(hasLexicalArguments){write(", arguments")}else{write(", void 0")}if(promiseConstructor){write(", ");emitNodeWithoutSourceMap(promiseConstructor)}else{write(", Promise")}if(hasLexicalArguments){write(", function* (_arguments)")}else{write(", function* ()")}emitFunctionBody(node);write(")");if(!isArrowFunction){write(";");decreaseIndent();writeLine();write("}")}}function emitFunctionBody(node){if(!node.body){write(" { }")}else{if(node.body.kind===192){emitBlockFunctionBody(node,node.body)}else{emitExpressionFunctionBody(node,node.body)}}}function emitSignatureAndBody(node){var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;var saveTempParameters=tempParameters;tempFlags=0;tempVariables=undefined;tempParameters=undefined;if(shouldEmitAsArrowFunction(node)){emitSignatureParametersForArrow(node);write(" =>")}else{emitSignatureParameters(node)}var isAsync=ts.isAsyncFunctionLike(node);if(isAsync&&languageVersion===2){emitAsyncFunctionBodyForES6(node)}else{emitFunctionBody(node)}if(!isES6ExportedDeclaration(node)){emitExportMemberAssignment(node)}tempFlags=saveTempFlags;tempVariables=saveTempVariables;tempParameters=saveTempParameters}function emitFunctionBodyPreamble(node){emitCaptureThisForNodeIfNecessary(node);emitDefaultValueAssignments(node);emitRestParameter(node)}function emitExpressionFunctionBody(node,body){if(languageVersion<2||node.flags&512){emitDownLevelExpressionFunctionBody(node,body);return}write(" ");var current=body;while(current.kind===171){current=current.expression}emitParenthesizedIf(body,current.kind===165)}function emitDownLevelExpressionFunctionBody(node,body){write(" {");scopeEmitStart(node);increaseIndent();var outPos=writer.getTextPos();emitDetachedComments(node.body);emitFunctionBodyPreamble(node);var preambleEmitted=writer.getTextPos()!==outPos;decreaseIndent();if(!preambleEmitted&&nodeStartPositionsAreOnSameLine(node,body)){write(" ");emitStart(body);write("return ");emit(body);emitEnd(body);write(";");emitTempDeclarations(false);write(" ")}else{increaseIndent();writeLine();emitLeadingComments(node.body);write("return ");emit(body);write(";");emitTrailingComments(node.body);emitTempDeclarations(true);decreaseIndent();writeLine()}emitStart(node.body);write("}");emitEnd(node.body);scopeEmitEnd()}function emitBlockFunctionBody(node,body){write(" {");scopeEmitStart(node);var initialTextPos=writer.getTextPos();increaseIndent();emitDetachedComments(body.statements);var startIndex=emitDirectivePrologues(body.statements,true);emitFunctionBodyPreamble(node);decreaseIndent();var preambleEmitted=writer.getTextPos()!==initialTextPos;if(!preambleEmitted&&nodeEndIsOnSameLineAsNodeStart(body,body)){for(var _a=0,_b=body.statements;_a<_b.length;_a++){var statement=_b[_a];write(" ");emit(statement)}emitTempDeclarations(false);write(" ");emitLeadingCommentsOfPosition(body.statements.end)}else{increaseIndent();emitLinesStartingAt(body.statements,startIndex);emitTempDeclarations(true);writeLine();emitLeadingCommentsOfPosition(body.statements.end);decreaseIndent()}emitToken(16,body.statements.end);scopeEmitEnd()}function findInitialSuperCall(ctor){if(ctor.body){var statement=ctor.body.statements[0];if(statement&&statement.kind===195){var expr=statement.expression;if(expr&&expr.kind===168){var func=expr.expression;if(func&&func.kind===95){return statement}}}}}function emitParameterPropertyAssignments(node){ts.forEach(node.parameters,function(param){if(param.flags&112){writeLine();emitStart(param);emitStart(param.name);write("this.");emitNodeWithoutSourceMap(param.name);emitEnd(param.name);write(" = ");emit(param.name);write(";");emitEnd(param)}})}function emitMemberAccessForPropertyName(memberName){if(memberName.kind===9||memberName.kind===8){write("[");emitNodeWithCommentsAndWithoutSourcemap(memberName);write("]")}else if(memberName.kind===136){emitComputedPropertyName(memberName)}else{write(".");emitNodeWithCommentsAndWithoutSourcemap(memberName)}}function getInitializedProperties(node,isStatic){var properties=[];for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if(member.kind===141&&isStatic===((member.flags&128)!==0)&&member.initializer){properties.push(member)}}return properties}function emitPropertyDeclarations(node,properties){for(var _a=0;_a<properties.length;_a++){var property=properties[_a];emitPropertyDeclaration(node,property)}}function emitPropertyDeclaration(node,property,receiver,isExpression){writeLine();emitLeadingComments(property);emitStart(property);emitStart(property.name);if(receiver){emit(receiver)}else{if(property.flags&128){emitDeclarationName(node)}else{write("this")}}emitMemberAccessForPropertyName(property.name);emitEnd(property.name);write(" = ");emit(property.initializer);if(!isExpression){write(";")}emitEnd(property);emitTrailingComments(property)}function emitMemberFunctionsForES5AndLower(node){ts.forEach(node.members,function(member){if(member.kind===191){writeLine();write(";")}else if(member.kind===143||node.kind===142){if(!member.body){return emitCommentsOnNotEmittedNode(member)}writeLine();emitLeadingComments(member);emitStart(member);emitStart(member.name);emitClassMemberPrefix(node,member);emitMemberAccessForPropertyName(member.name);emitEnd(member.name);write(" = ");emitFunctionDeclaration(member);emitEnd(member);write(";");emitTrailingComments(member)}else if(member.kind===145||member.kind===146){var accessors=ts.getAllAccessorDeclarations(node.members,member);if(member===accessors.firstAccessor){writeLine();emitStart(member);write("Object.defineProperty(");emitStart(member.name);emitClassMemberPrefix(node,member);write(", ");emitExpressionForPropertyName(member.name);emitEnd(member.name);write(", {");increaseIndent();if(accessors.getAccessor){writeLine();emitLeadingComments(accessors.getAccessor);write("get: ");emitStart(accessors.getAccessor);write("function ");emitSignatureAndBody(accessors.getAccessor);emitEnd(accessors.getAccessor);emitTrailingComments(accessors.getAccessor);write(",")}if(accessors.setAccessor){writeLine();emitLeadingComments(accessors.setAccessor);write("set: ");emitStart(accessors.setAccessor);write("function ");emitSignatureAndBody(accessors.setAccessor);emitEnd(accessors.setAccessor);emitTrailingComments(accessors.setAccessor);write(",")}writeLine();write("enumerable: true,");writeLine();write("configurable: true");decreaseIndent();writeLine();write("});");emitEnd(member)}}})}function emitMemberFunctionsForES6AndHigher(node){for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if((member.kind===143||node.kind===142)&&!member.body){emitCommentsOnNotEmittedNode(member)}else if(member.kind===143||member.kind===145||member.kind===146){writeLine();emitLeadingComments(member);emitStart(member);if(member.flags&128){write("static ")}if(member.kind===145){write("get ")}else if(member.kind===146){write("set ")}if(member.asteriskToken){write("*")}emit(member.name);emitSignatureAndBody(member);emitEnd(member);emitTrailingComments(member)}else if(member.kind===191){writeLine();write(";")}}}function emitConstructor(node,baseTypeElement){var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;var saveTempParameters=tempParameters;tempFlags=0;tempVariables=undefined;tempParameters=undefined;emitConstructorWorker(node,baseTypeElement);tempFlags=saveTempFlags;tempVariables=saveTempVariables;tempParameters=saveTempParameters}function emitConstructorWorker(node,baseTypeElement){var hasInstancePropertyWithInitializer=false;ts.forEach(node.members,function(member){if(member.kind===144&&!member.body){emitCommentsOnNotEmittedNode(member)}if(member.kind===141&&member.initializer&&(member.flags&128)===0){hasInstancePropertyWithInitializer=true}});var ctor=ts.getFirstConstructorWithBody(node);if(languageVersion>=2&&!ctor&&!hasInstancePropertyWithInitializer){return}if(ctor){emitLeadingComments(ctor)}emitStart(ctor||node);if(languageVersion<2){write("function ");emitDeclarationName(node);emitSignatureParameters(ctor)}else{write("constructor");if(ctor){emitSignatureParameters(ctor)}else{if(baseTypeElement){write("(...args)")}else{write("()")}}}var startIndex=0;write(" {");scopeEmitStart(node,"constructor");increaseIndent();if(ctor){startIndex=emitDirectivePrologues(ctor.body.statements,true);emitDetachedComments(ctor.body.statements)}emitCaptureThisForNodeIfNecessary(node);var superCall;if(ctor){emitDefaultValueAssignments(ctor);emitRestParameter(ctor);if(baseTypeElement){superCall=findInitialSuperCall(ctor);if(superCall){writeLine();emit(superCall)}}emitParameterPropertyAssignments(ctor)}else{if(baseTypeElement){writeLine();emitStart(baseTypeElement);if(languageVersion<2){write("_super.apply(this, arguments);")}else{write("super(...args);")}emitEnd(baseTypeElement)}}emitPropertyDeclarations(node,getInitializedProperties(node,false));if(ctor){var statements=ctor.body.statements;if(superCall){statements=statements.slice(1)}emitLinesStartingAt(statements,startIndex)}emitTempDeclarations(true);writeLine();if(ctor){emitLeadingCommentsOfPosition(ctor.body.statements.end)}decreaseIndent();emitToken(16,ctor?ctor.body.statements.end:node.members.end);scopeEmitEnd();emitEnd(ctor||node);if(ctor){emitTrailingComments(ctor)}}function emitClassExpression(node){return emitClassLikeDeclaration(node)}function emitClassDeclaration(node){return emitClassLikeDeclaration(node)}function emitClassLikeDeclaration(node){if(languageVersion<2){emitClassLikeDeclarationBelowES6(node)}else{emitClassLikeDeclarationForES6AndHigher(node)}if(modulekind!==5&&node.parent===currentSourceFile&&node.name){emitExportMemberAssignments(node.name)}}function emitClassLikeDeclarationForES6AndHigher(node){var thisNodeIsDecorated=ts.nodeIsDecorated(node);if(node.kind===214){if(thisNodeIsDecorated){if(isES6ExportedDeclaration(node)&&!(node.flags&1024)){write("export ")}write("let ");emitDeclarationName(node);write(" = ")}else if(isES6ExportedDeclaration(node)){write("export ");if(node.flags&1024){write("default ")}}}var staticProperties=getInitializedProperties(node,true);var isClassExpressionWithStaticProperties=staticProperties.length>0&&node.kind===186;var tempVariable;if(isClassExpressionWithStaticProperties){tempVariable=createAndRecordTempVariable(0);write("(");increaseIndent();emit(tempVariable);write(" = ")}write("class");if((node.name||node.flags&1024&&staticProperties.length>0)&&!thisNodeIsDecorated){write(" ");emitDeclarationName(node)}var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){write(" extends ");emit(baseTypeNode.expression)}write(" {");increaseIndent();scopeEmitStart(node);writeLine();emitConstructor(node,baseTypeNode);emitMemberFunctionsForES6AndHigher(node);decreaseIndent();writeLine();emitToken(16,node.members.end);scopeEmitEnd();if(thisNodeIsDecorated){write(";")}if(isClassExpressionWithStaticProperties){for(var _a=0;_a<staticProperties.length;_a++){var property=staticProperties[_a];write(",");writeLine();emitPropertyDeclaration(node,property,tempVariable,true)}write(",");writeLine();emit(tempVariable);decreaseIndent();write(")")}else{writeLine();emitPropertyDeclarations(node,staticProperties);emitDecoratorsOfClass(node)}if(!isES6ExportedDeclaration(node)&&node.flags&1){writeLine();emitStart(node);emitModuleMemberName(node);write(" = ");emitDeclarationName(node);emitEnd(node);write(";")}else if(isES6ExportedDeclaration(node)&&node.flags&1024&&thisNodeIsDecorated){writeLine();write("export default ");emitDeclarationName(node);write(";")}}function emitClassLikeDeclarationBelowES6(node){if(node.kind===214){if(!shouldHoistDeclarationInSystemJsModule(node)){write("var ")}emitDeclarationName(node);write(" = ")}write("(function (");var baseTypeNode=ts.getClassExtendsHeritageClauseElement(node);if(baseTypeNode){write("_super")}write(") {");var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;var saveTempParameters=tempParameters;var saveComputedPropertyNamesToGeneratedNames=computedPropertyNamesToGeneratedNames;tempFlags=0;tempVariables=undefined;tempParameters=undefined;computedPropertyNamesToGeneratedNames=undefined;increaseIndent();scopeEmitStart(node);if(baseTypeNode){writeLine();emitStart(baseTypeNode);write("__extends(");emitDeclarationName(node);write(", _super);");emitEnd(baseTypeNode)}writeLine();emitConstructor(node,baseTypeNode);emitMemberFunctionsForES5AndLower(node);emitPropertyDeclarations(node,getInitializedProperties(node,true));writeLine();emitDecoratorsOfClass(node);writeLine();emitToken(16,node.members.end,function(){write("return ");emitDeclarationName(node)});write(";");emitTempDeclarations(true);tempFlags=saveTempFlags;tempVariables=saveTempVariables;tempParameters=saveTempParameters;computedPropertyNamesToGeneratedNames=saveComputedPropertyNamesToGeneratedNames;decreaseIndent();writeLine();emitToken(16,node.members.end);scopeEmitEnd();emitStart(node);write(")(");if(baseTypeNode){emit(baseTypeNode.expression)}write(")");if(node.kind===214){write(";")}emitEnd(node);if(node.kind===214){emitExportMemberAssignment(node)}}function emitClassMemberPrefix(node,member){emitDeclarationName(node);if(!(member.flags&128)){write(".prototype")}}function emitDecoratorsOfClass(node){emitDecoratorsOfMembers(node,0);emitDecoratorsOfMembers(node,128);emitDecoratorsOfConstructor(node)}function emitDecoratorsOfConstructor(node){var decorators=node.decorators;var constructor=ts.getFirstConstructorWithBody(node);var hasDecoratedParameters=constructor&&ts.forEach(constructor.parameters,ts.nodeIsDecorated);if(!decorators&&!hasDecoratedParameters){return}writeLine();emitStart(node);emitDeclarationName(node);write(" = __decorate([");increaseIndent();writeLine();var decoratorCount=decorators?decorators.length:0;var argumentsWritten=emitList(decorators,0,decoratorCount,true,false,false,true,function(decorator){emitStart(decorator);emit(decorator.expression);emitEnd(decorator)});argumentsWritten+=emitDecoratorsOfParameters(constructor,argumentsWritten>0);emitSerializedTypeMetadata(node,argumentsWritten>=0);decreaseIndent();writeLine();write("], ");emitDeclarationName(node);write(");");emitEnd(node);writeLine()}function emitDecoratorsOfMembers(node,staticFlag){for(var _a=0,_b=node.members;_a<_b.length;_a++){var member=_b[_a];if((member.flags&128)!==staticFlag){continue}if(!ts.nodeCanBeDecorated(member)){continue}if(!ts.nodeOrChildIsDecorated(member)){continue}var decorators=void 0;var functionLikeMember=void 0;if(ts.isAccessor(member)){var accessors=ts.getAllAccessorDeclarations(node.members,member);if(member!==accessors.firstAccessor){continue}decorators=accessors.firstAccessor.decorators;if(!decorators&&accessors.secondAccessor){decorators=accessors.secondAccessor.decorators}functionLikeMember=accessors.setAccessor}else{decorators=member.decorators;if(member.kind===143){functionLikeMember=member}}writeLine();emitStart(member);write("__decorate([");increaseIndent();writeLine();var decoratorCount=decorators?decorators.length:0;var argumentsWritten=emitList(decorators,0,decoratorCount,true,false,false,true,function(decorator){emitStart(decorator);emit(decorator.expression);emitEnd(decorator)});argumentsWritten+=emitDecoratorsOfParameters(functionLikeMember,argumentsWritten>0);emitSerializedTypeMetadata(member,argumentsWritten>0);decreaseIndent();writeLine();write("], ");emitStart(member.name);emitClassMemberPrefix(node,member);write(", ");emitExpressionForPropertyName(member.name);emitEnd(member.name);if(languageVersion>0){if(member.kind!==141){write(", null")}else{write(", void 0")}}write(");");emitEnd(member);writeLine()}}function emitDecoratorsOfParameters(node,leadingComma){var argumentsWritten=0;if(node){var parameterIndex=0;for(var _a=0,_b=node.parameters;_a<_b.length;_a++){var parameter=_b[_a];if(ts.nodeIsDecorated(parameter)){var decorators=parameter.decorators;argumentsWritten+=emitList(decorators,0,decorators.length,true,false,leadingComma,true,function(decorator){emitStart(decorator);write("__param("+parameterIndex+", ");emit(decorator.expression);write(")");emitEnd(decorator)});leadingComma=true}++parameterIndex}}return argumentsWritten}function shouldEmitTypeMetadata(node){switch(node.kind){case 143:case 145:case 146:case 141:return true}return false}function shouldEmitReturnTypeMetadata(node){switch(node.kind){case 143:return true}return false}function shouldEmitParamTypesMetadata(node){switch(node.kind){case 214:case 143:case 146:return true}return false}function emitSerializedTypeOfNode(node){switch(node.kind){case 214:write("Function");return;case 141:emitSerializedTypeNode(node.type);return;case 138:emitSerializedTypeNode(node.type);return;case 145:emitSerializedTypeNode(node.type);return;case 146:emitSerializedTypeNode(ts.getSetAccessorTypeAnnotationNode(node));return}if(ts.isFunctionLike(node)){write("Function");return}write("void 0")}function emitSerializedTypeNode(node){if(node){switch(node.kind){case 103:write("void 0");return;case 160:emitSerializedTypeNode(node.type);return;case 152:case 153:write("Function");return;case 156:case 157:write("Array");return;case 150:case 120:write("Boolean");return;case 130:case 9:write("String");return;case 128:write("Number");return;case 131:write("Symbol");return;case 151:emitSerializedTypeReferenceNode(node);return;case 154:case 155:case 158:case 159:case 117:break;default:ts.Debug.fail("Cannot serialize unexpected type node.");break}}write("Object")}function emitSerializedTypeReferenceNode(node){var location=node.parent;while(ts.isDeclaration(location)||ts.isTypeNode(location)){location=location.parent}var typeName=ts.cloneEntityName(node.typeName);typeName.parent=location;var result=resolver.getTypeReferenceSerializationKind(typeName);switch(result){case ts.TypeReferenceSerializationKind.Unknown:var temp=createAndRecordTempVariable(0);write("(typeof (");emitNodeWithoutSourceMap(temp);write(" = ");emitEntityNameAsExpression(typeName,true);write(") === 'function' && ");emitNodeWithoutSourceMap(temp);write(") || Object");break;case ts.TypeReferenceSerializationKind.TypeWithConstructSignatureAndValue:emitEntityNameAsExpression(typeName,false);break;case ts.TypeReferenceSerializationKind.VoidType:write("void 0");break;case ts.TypeReferenceSerializationKind.BooleanType:write("Boolean");break;case ts.TypeReferenceSerializationKind.NumberLikeType:write("Number");break;case ts.TypeReferenceSerializationKind.StringLikeType:write("String");break;case ts.TypeReferenceSerializationKind.ArrayLikeType:write("Array");break;case ts.TypeReferenceSerializationKind.ESSymbolType:if(languageVersion<2){write("typeof Symbol === 'function' ? Symbol : Object")}else{write("Symbol")}break;case ts.TypeReferenceSerializationKind.TypeWithCallSignature:write("Function");break;case ts.TypeReferenceSerializationKind.ObjectType:write("Object");break}}function emitSerializedParameterTypesOfNode(node){if(node){var valueDeclaration;if(node.kind===214){valueDeclaration=ts.getFirstConstructorWithBody(node)}else if(ts.isFunctionLike(node)&&ts.nodeIsPresent(node.body)){valueDeclaration=node}if(valueDeclaration){var parameters=valueDeclaration.parameters;var parameterCount=parameters.length;if(parameterCount>0){for(var i=0;i<parameterCount;i++){if(i>0){write(", ")}if(parameters[i].dotDotDotToken){var parameterType=parameters[i].type;if(parameterType.kind===156){parameterType=parameterType.elementType}else if(parameterType.kind===151&&parameterType.typeArguments&&parameterType.typeArguments.length===1){parameterType=parameterType.typeArguments[0]}else{parameterType=undefined}emitSerializedTypeNode(parameterType)}else{emitSerializedTypeOfNode(parameters[i])}}}}}}function emitSerializedReturnTypeOfNode(node){if(node&&ts.isFunctionLike(node)&&node.type){emitSerializedTypeNode(node.type);return}write("void 0")}function emitSerializedTypeMetadata(node,writeComma){var argumentsWritten=0;if(compilerOptions.emitDecoratorMetadata){if(shouldEmitTypeMetadata(node)){if(writeComma){write(", ")}writeLine();write("__metadata('design:type', ");emitSerializedTypeOfNode(node);write(")");argumentsWritten++}if(shouldEmitParamTypesMetadata(node)){if(writeComma||argumentsWritten){write(", ")}writeLine();write("__metadata('design:paramtypes', [");emitSerializedParameterTypesOfNode(node);write("])");argumentsWritten++}if(shouldEmitReturnTypeMetadata(node)){if(writeComma||argumentsWritten){write(", ");
}writeLine();write("__metadata('design:returntype', ");emitSerializedReturnTypeOfNode(node);write(")");argumentsWritten++}}return argumentsWritten}function emitInterfaceDeclaration(node){emitCommentsOnNotEmittedNode(node)}function shouldEmitEnumDeclaration(node){var isConstEnum=ts.isConst(node);return!isConstEnum||compilerOptions.preserveConstEnums||compilerOptions.isolatedModules}function emitEnumDeclaration(node){if(!shouldEmitEnumDeclaration(node)){return}if(!shouldHoistDeclarationInSystemJsModule(node)){if(!(node.flags&1)||isES6ExportedDeclaration(node)){emitStart(node);if(isES6ExportedDeclaration(node)){write("export ")}write("var ");emit(node.name);emitEnd(node);write(";")}}writeLine();emitStart(node);write("(function (");emitStart(node.name);write(getGeneratedNameForNode(node));emitEnd(node.name);write(") {");increaseIndent();scopeEmitStart(node);emitLines(node.members);decreaseIndent();writeLine();emitToken(16,node.members.end);scopeEmitEnd();write(")(");emitModuleMemberName(node);write(" || (");emitModuleMemberName(node);write(" = {}));");emitEnd(node);if(!isES6ExportedDeclaration(node)&&node.flags&1&&!shouldHoistDeclarationInSystemJsModule(node)){writeLine();emitStart(node);write("var ");emit(node.name);write(" = ");emitModuleMemberName(node);emitEnd(node);write(";")}if(modulekind!==5&&node.parent===currentSourceFile){if(modulekind===4&&node.flags&1){writeLine();write(exportFunctionForFile+'("');emitDeclarationName(node);write('", ');emitDeclarationName(node);write(");")}emitExportMemberAssignments(node.name)}}function emitEnumMember(node){var enumParent=node.parent;emitStart(node);write(getGeneratedNameForNode(enumParent));write("[");write(getGeneratedNameForNode(enumParent));write("[");emitExpressionForPropertyName(node.name);write("] = ");writeEnumMemberDeclarationValue(node);write("] = ");emitExpressionForPropertyName(node.name);emitEnd(node);write(";")}function writeEnumMemberDeclarationValue(member){var value=resolver.getConstantValue(member);if(value!==undefined){write(value.toString());return}else if(member.initializer){emit(member.initializer)}else{write("undefined")}}function getInnerMostModuleDeclarationFromDottedModule(moduleDeclaration){if(moduleDeclaration.body.kind===218){var recursiveInnerModule=getInnerMostModuleDeclarationFromDottedModule(moduleDeclaration.body);return recursiveInnerModule||moduleDeclaration.body}}function shouldEmitModuleDeclaration(node){return ts.isInstantiatedModule(node,compilerOptions.preserveConstEnums||compilerOptions.isolatedModules)}function isModuleMergedWithES6Class(node){return languageVersion===2&&!!(resolver.getNodeCheckFlags(node)&32768)}function emitModuleDeclaration(node){var shouldEmit=shouldEmitModuleDeclaration(node);if(!shouldEmit){return emitCommentsOnNotEmittedNode(node)}var hoistedInDeclarationScope=shouldHoistDeclarationInSystemJsModule(node);var emitVarForModule=!hoistedInDeclarationScope&&!isModuleMergedWithES6Class(node);if(emitVarForModule){emitStart(node);if(isES6ExportedDeclaration(node)){write("export ")}write("var ");emit(node.name);write(";");emitEnd(node);writeLine()}emitStart(node);write("(function (");emitStart(node.name);write(getGeneratedNameForNode(node));emitEnd(node.name);write(") ");if(node.body.kind===219){var saveTempFlags=tempFlags;var saveTempVariables=tempVariables;tempFlags=0;tempVariables=undefined;emit(node.body);tempFlags=saveTempFlags;tempVariables=saveTempVariables}else{write("{");increaseIndent();scopeEmitStart(node);emitCaptureThisForNodeIfNecessary(node);writeLine();emit(node.body);decreaseIndent();writeLine();var moduleBlock=getInnerMostModuleDeclarationFromDottedModule(node).body;emitToken(16,moduleBlock.statements.end);scopeEmitEnd()}write(")(");if(node.flags&1&&!isES6ExportedDeclaration(node)){emit(node.name);write(" = ")}emitModuleMemberName(node);write(" || (");emitModuleMemberName(node);write(" = {}));");emitEnd(node);if(!isES6ExportedDeclaration(node)&&node.name.kind===69&&node.parent===currentSourceFile){if(modulekind===4&&node.flags&1){writeLine();write(exportFunctionForFile+'("');emitDeclarationName(node);write('", ');emitDeclarationName(node);write(");")}emitExportMemberAssignments(node.name)}}function tryRenameExternalModule(moduleName){if(currentSourceFile.renamedDependencies&&ts.hasProperty(currentSourceFile.renamedDependencies,moduleName.text)){return'"'+currentSourceFile.renamedDependencies[moduleName.text]+'"'}return undefined}function emitRequire(moduleName){if(moduleName.kind===9){write("require(");var text=tryRenameExternalModule(moduleName);if(text){write(text)}else{emitStart(moduleName);emitLiteral(moduleName);emitEnd(moduleName)}emitToken(18,moduleName.end)}else{write("require()")}}function getNamespaceDeclarationNode(node){if(node.kind===221){return node}var importClause=node.importClause;if(importClause&&importClause.namedBindings&&importClause.namedBindings.kind===224){return importClause.namedBindings}}function isDefaultImport(node){return node.kind===222&&node.importClause&&!!node.importClause.name}function emitExportImportAssignments(node){if(ts.isAliasSymbolDeclaration(node)&&resolver.isValueAliasDeclaration(node)){emitExportMemberAssignments(node.name)}ts.forEachChild(node,emitExportImportAssignments)}function emitImportDeclaration(node){if(modulekind!==5){return emitExternalImportDeclaration(node)}if(node.importClause){var shouldEmitDefaultBindings=resolver.isReferencedAliasDeclaration(node.importClause);var shouldEmitNamedBindings=node.importClause.namedBindings&&resolver.isReferencedAliasDeclaration(node.importClause.namedBindings,true);if(shouldEmitDefaultBindings||shouldEmitNamedBindings){write("import ");emitStart(node.importClause);if(shouldEmitDefaultBindings){emit(node.importClause.name);if(shouldEmitNamedBindings){write(", ")}}if(shouldEmitNamedBindings){emitLeadingComments(node.importClause.namedBindings);emitStart(node.importClause.namedBindings);if(node.importClause.namedBindings.kind===224){write("* as ");emit(node.importClause.namedBindings.name)}else{write("{ ");emitExportOrImportSpecifierList(node.importClause.namedBindings.elements,resolver.isReferencedAliasDeclaration);write(" }")}emitEnd(node.importClause.namedBindings);emitTrailingComments(node.importClause.namedBindings)}emitEnd(node.importClause);write(" from ");emit(node.moduleSpecifier);write(";")}}else{write("import ");emit(node.moduleSpecifier);write(";")}}function emitExternalImportDeclaration(node){if(ts.contains(externalImports,node)){var isExportedImport=node.kind===221&&(node.flags&1)!==0;var namespaceDeclaration=getNamespaceDeclarationNode(node);if(modulekind!==2){emitLeadingComments(node);emitStart(node);if(namespaceDeclaration&&!isDefaultImport(node)){if(!isExportedImport)write("var ");emitModuleMemberName(namespaceDeclaration);write(" = ")}else{var isNakedImport=222&&!node.importClause;if(!isNakedImport){write("var ");write(getGeneratedNameForNode(node));write(" = ")}}emitRequire(ts.getExternalModuleName(node));if(namespaceDeclaration&&isDefaultImport(node)){write(", ");emitModuleMemberName(namespaceDeclaration);write(" = ");write(getGeneratedNameForNode(node))}write(";");emitEnd(node);emitExportImportAssignments(node);emitTrailingComments(node)}else{if(isExportedImport){emitModuleMemberName(namespaceDeclaration);write(" = ");emit(namespaceDeclaration.name);write(";")}else if(namespaceDeclaration&&isDefaultImport(node)){write("var ");emitModuleMemberName(namespaceDeclaration);write(" = ");write(getGeneratedNameForNode(node));write(";")}emitExportImportAssignments(node)}}}function emitImportEqualsDeclaration(node){if(ts.isExternalModuleImportEqualsDeclaration(node)){emitExternalImportDeclaration(node);return}if(resolver.isReferencedAliasDeclaration(node)||!ts.isExternalModule(currentSourceFile)&&resolver.isTopLevelValueImportEqualsWithEntityName(node)){emitLeadingComments(node);emitStart(node);var variableDeclarationIsHoisted=shouldHoistVariable(node,true);var isExported=isSourceFileLevelDeclarationInSystemJsModule(node,true);if(!variableDeclarationIsHoisted){ts.Debug.assert(!isExported);if(isES6ExportedDeclaration(node)){write("export ");write("var ")}else if(!(node.flags&1)){write("var ")}}if(isExported){write(exportFunctionForFile+'("');emitNodeWithoutSourceMap(node.name);write('", ')}emitModuleMemberName(node);write(" = ");emit(node.moduleReference);if(isExported){write(")")}write(";");emitEnd(node);emitExportImportAssignments(node);emitTrailingComments(node)}}function emitExportDeclaration(node){ts.Debug.assert(modulekind!==4);if(modulekind!==5){if(node.moduleSpecifier&&(!node.exportClause||resolver.isValueAliasDeclaration(node))){emitStart(node);var generatedName=getGeneratedNameForNode(node);if(node.exportClause){if(modulekind!==2){write("var ");write(generatedName);write(" = ");emitRequire(ts.getExternalModuleName(node));write(";")}for(var _a=0,_b=node.exportClause.elements;_a<_b.length;_a++){var specifier=_b[_a];if(resolver.isValueAliasDeclaration(specifier)){writeLine();emitStart(specifier);emitContainingModuleName(specifier);write(".");emitNodeWithCommentsAndWithoutSourcemap(specifier.name);write(" = ");write(generatedName);write(".");emitNodeWithCommentsAndWithoutSourcemap(specifier.propertyName||specifier.name);write(";");emitEnd(specifier)}}}else{writeLine();write("__export(");if(modulekind!==2){emitRequire(ts.getExternalModuleName(node))}else{write(generatedName)}write(");")}emitEnd(node)}}else{if(!node.exportClause||resolver.isValueAliasDeclaration(node)){write("export ");if(node.exportClause){write("{ ");emitExportOrImportSpecifierList(node.exportClause.elements,resolver.isValueAliasDeclaration);write(" }")}else{write("*")}if(node.moduleSpecifier){write(" from ");emit(node.moduleSpecifier)}write(";")}}}function emitExportOrImportSpecifierList(specifiers,shouldEmit){ts.Debug.assert(modulekind===5);var needsComma=false;for(var _a=0;_a<specifiers.length;_a++){var specifier=specifiers[_a];if(shouldEmit(specifier)){if(needsComma){write(", ")}if(specifier.propertyName){emit(specifier.propertyName);write(" as ")}emit(specifier.name);needsComma=true}}}function emitExportAssignment(node){if(!node.isExportEquals&&resolver.isValueAliasDeclaration(node)){if(modulekind===5){writeLine();emitStart(node);write("export default ");var expression=node.expression;emit(expression);if(expression.kind!==213&&expression.kind!==214){write(";")}emitEnd(node)}else{writeLine();emitStart(node);if(modulekind===4){write(exportFunctionForFile+'("default",');emit(node.expression);write(")")}else{emitEs6ExportDefaultCompat(node);emitContainingModuleName(node);if(languageVersion===0){write('["default"] = ')}else{write(".default = ")}emit(node.expression)}write(";");emitEnd(node)}}}function collectExternalModuleInfo(sourceFile){externalImports=[];exportSpecifiers={};exportEquals=undefined;hasExportStars=false;for(var _a=0,_b=sourceFile.statements;_a<_b.length;_a++){var node=_b[_a];switch(node.kind){case 222:if(!node.importClause||resolver.isReferencedAliasDeclaration(node.importClause,true)){externalImports.push(node)}break;case 221:if(node.moduleReference.kind===232&&resolver.isReferencedAliasDeclaration(node)){externalImports.push(node)}break;case 228:if(node.moduleSpecifier){if(!node.exportClause){externalImports.push(node);hasExportStars=true}else if(resolver.isValueAliasDeclaration(node)){externalImports.push(node)}}else{for(var _c=0,_d=node.exportClause.elements;_c<_d.length;_c++){var specifier=_d[_c];var name_25=(specifier.propertyName||specifier.name).text;(exportSpecifiers[name_25]||(exportSpecifiers[name_25]=[])).push(specifier)}}break;case 227:if(node.isExportEquals&&!exportEquals){exportEquals=node}break}}}function emitExportStarHelper(){if(hasExportStars){writeLine();write("function __export(m) {");increaseIndent();writeLine();write("for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];");decreaseIndent();writeLine();write("}")}}function getLocalNameForExternalImport(node){var namespaceDeclaration=getNamespaceDeclarationNode(node);if(namespaceDeclaration&&!isDefaultImport(node)){return ts.getSourceTextOfNodeFromSourceFile(currentSourceFile,namespaceDeclaration.name)}if(node.kind===222&&node.importClause){return getGeneratedNameForNode(node)}if(node.kind===228&&node.moduleSpecifier){return getGeneratedNameForNode(node)}}function getExternalModuleNameText(importNode){var moduleName=ts.getExternalModuleName(importNode);if(moduleName.kind===9){return tryRenameExternalModule(moduleName)||getLiteralText(moduleName)}return undefined}function emitVariableDeclarationsForImports(){if(externalImports.length===0){return}writeLine();var started=false;for(var _a=0;_a<externalImports.length;_a++){var importNode=externalImports[_a];var skipNode=importNode.kind===228||importNode.kind===222&&!importNode.importClause;if(skipNode){continue}if(!started){write("var ");started=true}else{write(", ")}write(getLocalNameForExternalImport(importNode))}if(started){write(";")}}function emitLocalStorageForExportedNamesIfNecessary(exportedDeclarations){if(!hasExportStars){return undefined}if(!exportedDeclarations&&ts.isEmpty(exportSpecifiers)){var hasExportDeclarationWithExportClause=false;for(var _a=0;_a<externalImports.length;_a++){var externalImport=externalImports[_a];if(externalImport.kind===228&&externalImport.exportClause){hasExportDeclarationWithExportClause=true;break}}if(!hasExportDeclarationWithExportClause){return emitExportStarFunction(undefined)}}var exportedNamesStorageRef=makeUniqueName("exportedNames");writeLine();write("var "+exportedNamesStorageRef+" = {");increaseIndent();var started=false;if(exportedDeclarations){for(var i=0;i<exportedDeclarations.length;++i){writeExportedName(exportedDeclarations[i])}}if(exportSpecifiers){for(var n in exportSpecifiers){for(var _b=0,_c=exportSpecifiers[n];_b<_c.length;_b++){var specifier=_c[_b];writeExportedName(specifier.name)}}}for(var _d=0;_d<externalImports.length;_d++){var externalImport=externalImports[_d];if(externalImport.kind!==228){continue}var exportDecl=externalImport;if(!exportDecl.exportClause){continue}for(var _e=0,_f=exportDecl.exportClause.elements;_e<_f.length;_e++){var element=_f[_e];writeExportedName(element.name||element.propertyName)}}decreaseIndent();writeLine();write("};");return emitExportStarFunction(exportedNamesStorageRef);function emitExportStarFunction(localNames){var exportStarFunction=makeUniqueName("exportStar");writeLine();write("function "+exportStarFunction+"(m) {");increaseIndent();writeLine();write("var exports = {};");writeLine();write("for(var n in m) {");increaseIndent();writeLine();write('if (n !== "default"');if(localNames){write("&& !"+localNames+".hasOwnProperty(n)")}write(") exports[n] = m[n];");decreaseIndent();writeLine();write("}");writeLine();write(exportFunctionForFile+"(exports);");decreaseIndent();writeLine();write("}");return exportStarFunction}function writeExportedName(node){if(node.kind!==69&&node.flags&1024){return}if(started){write(",")}else{started=true}writeLine();write("'");if(node.kind===69){emitNodeWithCommentsAndWithoutSourcemap(node)}else{emitDeclarationName(node)}write("': true")}}function processTopLevelVariableAndFunctionDeclarations(node){var hoistedVars;var hoistedFunctionDeclarations;var exportedDeclarations;visit(node);if(hoistedVars){writeLine();write("var ");var seen={};for(var i=0;i<hoistedVars.length;++i){var local=hoistedVars[i];var name_26=local.kind===69?local:local.name;if(name_26){var text=ts.unescapeIdentifier(name_26.text);if(ts.hasProperty(seen,text)){continue}else{seen[text]=text}}if(i!==0){write(", ")}if(local.kind===214||local.kind===218||local.kind===217){emitDeclarationName(local)}else{emit(local)}var flags=ts.getCombinedNodeFlags(local.kind===69?local.parent:local);if(flags&1){if(!exportedDeclarations){exportedDeclarations=[]}exportedDeclarations.push(local)}}write(";")}if(hoistedFunctionDeclarations){for(var _a=0;_a<hoistedFunctionDeclarations.length;_a++){var f=hoistedFunctionDeclarations[_a];writeLine();emit(f);if(f.flags&1){if(!exportedDeclarations){exportedDeclarations=[]}exportedDeclarations.push(f)}}}return exportedDeclarations;function visit(node){if(node.flags&2){return}if(node.kind===213){if(!hoistedFunctionDeclarations){hoistedFunctionDeclarations=[]}hoistedFunctionDeclarations.push(node);return}if(node.kind===214){if(!hoistedVars){hoistedVars=[]}hoistedVars.push(node);return}if(node.kind===217){if(shouldEmitEnumDeclaration(node)){if(!hoistedVars){hoistedVars=[]}hoistedVars.push(node)}return}if(node.kind===218){if(shouldEmitModuleDeclaration(node)){if(!hoistedVars){hoistedVars=[]}hoistedVars.push(node)}return}if(node.kind===211||node.kind===163){if(shouldHoistVariable(node,false)){var name_27=node.name;if(name_27.kind===69){if(!hoistedVars){hoistedVars=[]}hoistedVars.push(name_27)}else{ts.forEachChild(name_27,visit)}}return}if(ts.isInternalModuleImportEqualsDeclaration(node)&&resolver.isValueAliasDeclaration(node)){if(!hoistedVars){hoistedVars=[]}hoistedVars.push(node.name);return}if(ts.isBindingPattern(node)){ts.forEach(node.elements,visit);return}if(!ts.isDeclaration(node)){ts.forEachChild(node,visit)}}}function shouldHoistVariable(node,checkIfSourceFileLevelDecl){if(checkIfSourceFileLevelDecl&&!shouldHoistDeclarationInSystemJsModule(node)){return false}return(ts.getCombinedNodeFlags(node)&49152)===0||ts.getEnclosingBlockScopeContainer(node).kind===248}function isCurrentFileSystemExternalModule(){return modulekind===4&&ts.isExternalModule(currentSourceFile)}function emitSystemModuleBody(node,dependencyGroups,startIndex){emitVariableDeclarationsForImports();writeLine();var exportedDeclarations=processTopLevelVariableAndFunctionDeclarations(node);var exportStarFunction=emitLocalStorageForExportedNamesIfNecessary(exportedDeclarations);writeLine();write("return {");increaseIndent();writeLine();emitSetters(exportStarFunction,dependencyGroups);writeLine();emitExecute(node,startIndex);decreaseIndent();writeLine();write("}");emitTempDeclarations(true)}function emitSetters(exportStarFunction,dependencyGroups){write("setters:[");for(var i=0;i<dependencyGroups.length;++i){if(i!==0){write(",")}writeLine();increaseIndent();var group=dependencyGroups[i];var parameterName=makeUniqueName(ts.forEach(group,getLocalNameForExternalImport)||"");write("function ("+parameterName+") {");increaseIndent();for(var _a=0;_a<group.length;_a++){var entry=group[_a];var importVariableName=getLocalNameForExternalImport(entry)||"";switch(entry.kind){case 222:if(!entry.importClause){break}case 221:ts.Debug.assert(importVariableName!=="");writeLine();write(importVariableName+" = "+parameterName+";");writeLine();break;case 228:ts.Debug.assert(importVariableName!=="");if(entry.exportClause){writeLine();write(exportFunctionForFile+"({");writeLine();increaseIndent();for(var i_2=0,len=entry.exportClause.elements.length;i_2<len;++i_2){if(i_2!==0){write(",");writeLine()}var e=entry.exportClause.elements[i_2];write('"');emitNodeWithCommentsAndWithoutSourcemap(e.name);write('": '+parameterName+'["');emitNodeWithCommentsAndWithoutSourcemap(e.propertyName||e.name);write('"]')}decreaseIndent();writeLine();write("});")}else{writeLine();write(exportStarFunction+"("+parameterName+");")}writeLine();break}}decreaseIndent();write("}");decreaseIndent()}write("],")}function emitExecute(node,startIndex){write("execute: function() {");increaseIndent();writeLine();for(var i=startIndex;i<node.statements.length;++i){var statement=node.statements[i];switch(statement.kind){case 213:case 222:continue;case 228:if(!statement.moduleSpecifier){for(var _a=0,_b=statement.exportClause.elements;_a<_b.length;_a++){var element=_b[_a];emitExportSpecifierInSystemModule(element)}}continue;case 221:if(!ts.isInternalModuleImportEqualsDeclaration(statement)){continue}default:writeLine();emit(statement)}}decreaseIndent();writeLine();write("}")}function emitSystemModule(node){collectExternalModuleInfo(node);ts.Debug.assert(!exportFunctionForFile);exportFunctionForFile=makeUniqueName("exports");writeLine();write("System.register(");if(node.moduleName){write('"'+node.moduleName+'", ')}write("[");var groupIndices={};var dependencyGroups=[];for(var i=0;i<externalImports.length;++i){var text=getExternalModuleNameText(externalImports[i]);if(ts.hasProperty(groupIndices,text)){var groupIndex=groupIndices[text];dependencyGroups[groupIndex].push(externalImports[i]);continue}else{groupIndices[text]=dependencyGroups.length;dependencyGroups.push([externalImports[i]])}if(i!==0){write(", ")}write(text)}write("], function("+exportFunctionForFile+") {");writeLine();increaseIndent();var startIndex=emitDirectivePrologues(node.statements,true);emitEmitHelpers(node);emitCaptureThisForNodeIfNecessary(node);emitSystemModuleBody(node,dependencyGroups,startIndex);decreaseIndent();writeLine();write("});")}function getAMDDependencyNames(node,includeNonAmdDependencies){var aliasedModuleNames=[];var unaliasedModuleNames=[];var importAliasNames=[];for(var _a=0,_b=node.amdDependencies;_a<_b.length;_a++){var amdDependency=_b[_a];if(amdDependency.name){aliasedModuleNames.push('"'+amdDependency.path+'"');importAliasNames.push(amdDependency.name)}else{unaliasedModuleNames.push('"'+amdDependency.path+'"')}}for(var _c=0;_c<externalImports.length;_c++){var importNode=externalImports[_c];var externalModuleName=getExternalModuleNameText(importNode);var importAliasName=getLocalNameForExternalImport(importNode);if(includeNonAmdDependencies&&importAliasName){aliasedModuleNames.push(externalModuleName);importAliasNames.push(importAliasName)}else{unaliasedModuleNames.push(externalModuleName)}}return{aliasedModuleNames:aliasedModuleNames,unaliasedModuleNames:unaliasedModuleNames,importAliasNames:importAliasNames}}function emitAMDDependencies(node,includeNonAmdDependencies){var dependencyNames=getAMDDependencyNames(node,includeNonAmdDependencies);emitAMDDependencyList(dependencyNames);write(", ");emitAMDFactoryHeader(dependencyNames)}function emitAMDDependencyList(_a){var aliasedModuleNames=_a.aliasedModuleNames,unaliasedModuleNames=_a.unaliasedModuleNames;write('["require", "exports"');if(aliasedModuleNames.length){write(", ");write(aliasedModuleNames.join(", "))}if(unaliasedModuleNames.length){write(", ");write(unaliasedModuleNames.join(", "))}write("]")}function emitAMDFactoryHeader(_a){var importAliasNames=_a.importAliasNames;write("function (require, exports");if(importAliasNames.length){write(", ");write(importAliasNames.join(", "))}write(") {")}function emitAMDModule(node){emitEmitHelpers(node);collectExternalModuleInfo(node);writeLine();write("define(");if(node.moduleName){write('"'+node.moduleName+'", ')}emitAMDDependencies(node,true);increaseIndent();var startIndex=emitDirectivePrologues(node.statements,true);emitExportStarHelper();emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);emitExportEquals(true);decreaseIndent();writeLine();write("});")}function emitCommonJSModule(node){var startIndex=emitDirectivePrologues(node.statements,false);emitEmitHelpers(node);collectExternalModuleInfo(node);emitExportStarHelper();emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);emitExportEquals(false)}function emitUMDModule(node){emitEmitHelpers(node);collectExternalModuleInfo(node);var dependencyNames=getAMDDependencyNames(node,false);writeLines("(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define(");emitAMDDependencyList(dependencyNames);write(", factory);");writeLines("    }\n})(");emitAMDFactoryHeader(dependencyNames);increaseIndent();var startIndex=emitDirectivePrologues(node.statements,true);emitExportStarHelper();emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true);emitExportEquals(true);decreaseIndent();writeLine();write("});")}function emitES6Module(node){externalImports=undefined;exportSpecifiers=undefined;exportEquals=undefined;hasExportStars=false;var startIndex=emitDirectivePrologues(node.statements,false);emitEmitHelpers(node);emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true)}function emitExportEquals(emitAsReturn){if(exportEquals&&resolver.isValueAliasDeclaration(exportEquals)){writeLine();emitStart(exportEquals);write(emitAsReturn?"return ":"module.exports = ");emit(exportEquals.expression);write(";");emitEnd(exportEquals)}}function emitJsxElement(node){switch(compilerOptions.jsx){case 2:jsxEmitReact(node);break;case 1:default:jsxEmitPreserve(node);break}}function trimReactWhitespaceAndApplyEntities(node){var result=undefined;var text=ts.getTextOfNode(node,true);var firstNonWhitespace=0;var lastNonWhitespace=-1;for(var i=0;i<text.length;i++){var c=text.charCodeAt(i);if(ts.isLineBreak(c)){if(firstNonWhitespace!==-1&&lastNonWhitespace-firstNonWhitespace+1>0){var part=text.substr(firstNonWhitespace,lastNonWhitespace-firstNonWhitespace+1);result=(result?result+"\" + ' ' + \"":"")+ts.escapeString(part)}firstNonWhitespace=-1}else if(!ts.isWhiteSpace(c)){lastNonWhitespace=i;if(firstNonWhitespace===-1){firstNonWhitespace=i}}}if(firstNonWhitespace!==-1){var part=text.substr(firstNonWhitespace);result=(result?result+"\" + ' ' + \"":"")+ts.escapeString(part)}if(result){result=result.replace(/&(\w+);/g,function(s,m){if(entities[m]!==undefined){return String.fromCharCode(entities[m])}else{return s}})}return result}function getTextToEmit(node){switch(compilerOptions.jsx){case 2:var text=trimReactWhitespaceAndApplyEntities(node);if(text===undefined||text.length===0){return undefined}else{return text}case 1:default:return ts.getTextOfNode(node,true)}}function emitJsxText(node){switch(compilerOptions.jsx){case 2:write('"');write(trimReactWhitespaceAndApplyEntities(node));write('"');break;case 1:default:writer.writeLiteral(ts.getTextOfNode(node,true));break}}function emitJsxExpression(node){if(node.expression){switch(compilerOptions.jsx){case 1:default:write("{");emit(node.expression);write("}");break;case 2:emit(node.expression);break}}}function emitDirectivePrologues(statements,startWithNewLine){for(var i=0;i<statements.length;++i){if(ts.isPrologueDirective(statements[i])){if(startWithNewLine||i>0){writeLine()}emit(statements[i])}else{return i}}return statements.length}function writeLines(text){var lines=text.split(/\r\n|\r|\n/g);for(var i=0;i<lines.length;++i){var line=lines[i];if(line.length){writeLine();write(line)}}}function emitEmitHelpers(node){if(!compilerOptions.noEmitHelpers){if(languageVersion<2&&(!extendsEmitted&&resolver.getNodeCheckFlags(node)&8)){writeLines(extendsHelper);extendsEmitted=true}if(!decorateEmitted&&resolver.getNodeCheckFlags(node)&16){writeLines(decorateHelper);if(compilerOptions.emitDecoratorMetadata){writeLines(metadataHelper)}decorateEmitted=true}if(!paramEmitted&&resolver.getNodeCheckFlags(node)&32){writeLines(paramHelper);paramEmitted=true}if(!awaiterEmitted&&resolver.getNodeCheckFlags(node)&64){writeLines(awaiterHelper);awaiterEmitted=true}}}function emitSourceFileNode(node){writeLine();emitShebang();emitDetachedComments(node);if(ts.isExternalModule(node)||compilerOptions.isolatedModules){var emitModule=moduleEmitDelegates[modulekind]||moduleEmitDelegates[1];emitModule(node)}else{var startIndex=emitDirectivePrologues(node.statements,false);externalImports=undefined;exportSpecifiers=undefined;exportEquals=undefined;hasExportStars=false;emitEmitHelpers(node);emitCaptureThisForNodeIfNecessary(node);emitLinesStartingAt(node.statements,startIndex);emitTempDeclarations(true)}emitLeadingComments(node.endOfFileToken)}function emitNodeWithCommentsAndWithoutSourcemap(node){emitNodeConsideringCommentsOption(node,emitNodeWithoutSourceMap)}function emitNodeConsideringCommentsOption(node,emitNodeConsideringSourcemap){if(node){if(node.flags&2){return emitCommentsOnNotEmittedNode(node)}if(isSpecializedCommentHandling(node)){return emitNodeWithoutSourceMap(node)}var emitComments_1=shouldEmitLeadingAndTrailingComments(node);if(emitComments_1){emitLeadingComments(node)}emitNodeConsideringSourcemap(node);if(emitComments_1){emitTrailingComments(node)}}}function emitNodeWithoutSourceMap(node){if(node){emitJavaScriptWorker(node)}}function isSpecializedCommentHandling(node){switch(node.kind){case 215:case 213:case 222:case 221:case 216:case 227:return true}}function shouldEmitLeadingAndTrailingComments(node){switch(node.kind){case 193:return shouldEmitLeadingAndTrailingCommentsForVariableStatement(node);case 218:return shouldEmitModuleDeclaration(node);case 217:return shouldEmitEnumDeclaration(node)}ts.Debug.assert(!isSpecializedCommentHandling(node));if(node.kind!==192&&node.parent&&node.parent.kind===174&&node.parent.body===node&&compilerOptions.target<=1){return false}return true}function emitJavaScriptWorker(node){switch(node.kind){case 69:return emitIdentifier(node);case 138:return emitParameter(node);case 143:case 142:return emitMethod(node);case 145:case 146:return emitAccessor(node);case 97:return emitThis(node);case 95:return emitSuper(node);case 93:return write("null");case 99:return write("true");case 84:return write("false");case 8:case 9:case 10:case 11:case 12:case 13:case 14:return emitLiteral(node);case 183:return emitTemplateExpression(node);case 190:return emitTemplateSpan(node);case 233:case 234:return emitJsxElement(node);case 236:return emitJsxText(node);case 240:return emitJsxExpression(node);case 135:return emitQualifiedName(node);case 161:return emitObjectBindingPattern(node);case 162:return emitArrayBindingPattern(node);case 163:return emitBindingElement(node);case 164:return emitArrayLiteral(node);case 165:return emitObjectLiteral(node);case 245:return emitPropertyAssignment(node);case 246:return emitShorthandPropertyAssignment(node);case 136:return emitComputedPropertyName(node);case 166:return emitPropertyAccess(node);case 167:return emitIndexedAccess(node);case 168:return emitCallExpression(node);case 169:return emitNewExpression(node);case 170:return emitTaggedTemplateExpression(node);case 171:return emit(node.expression);case 189:return emit(node.expression);case 172:return emitParenExpression(node);case 213:case 173:case 174:return emitFunctionDeclaration(node);case 175:return emitDeleteExpression(node);case 176:return emitTypeOfExpression(node);case 177:return emitVoidExpression(node);case 178:return emitAwaitExpression(node);case 179:return emitPrefixUnaryExpression(node);case 180:return emitPostfixUnaryExpression(node);case 181:return emitBinaryExpression(node);case 182:return emitConditionalExpression(node);case 185:return emitSpreadElementExpression(node);case 184:return emitYieldExpression(node);case 187:return;case 192:case 219:return emitBlock(node);case 193:return emitVariableStatement(node);case 194:return write(";");case 195:return emitExpressionStatement(node);case 196:return emitIfStatement(node);case 197:return emitDoStatement(node);case 198:return emitWhileStatement(node);case 199:return emitForStatement(node);case 201:case 200:return emitForInOrForOfStatement(node);case 202:case 203:return emitBreakOrContinueStatement(node);case 204:return emitReturnStatement(node);case 205:return emitWithStatement(node);case 206:return emitSwitchStatement(node);case 241:case 242:return emitCaseOrDefaultClause(node);case 207:return emitLabelledStatement(node);case 208:return emitThrowStatement(node);case 209:return emitTryStatement(node);case 244:return emitCatchClause(node);case 210:return emitDebuggerStatement(node);case 211:return emitVariableDeclaration(node);case 186:return emitClassExpression(node);case 214:return emitClassDeclaration(node);case 215:return emitInterfaceDeclaration(node);case 217:return emitEnumDeclaration(node);case 247:return emitEnumMember(node);case 218:return emitModuleDeclaration(node);case 222:return emitImportDeclaration(node);case 221:
return emitImportEqualsDeclaration(node);case 228:return emitExportDeclaration(node);case 227:return emitExportAssignment(node);case 248:return emitSourceFileNode(node)}}function hasDetachedComments(pos){return detachedCommentsInfo!==undefined&&ts.lastOrUndefined(detachedCommentsInfo).nodePos===pos}function getLeadingCommentsWithoutDetachedComments(){var leadingComments=ts.getLeadingCommentRanges(currentSourceFile.text,ts.lastOrUndefined(detachedCommentsInfo).detachedCommentEndPos);if(detachedCommentsInfo.length-1){detachedCommentsInfo.pop()}else{detachedCommentsInfo=undefined}return leadingComments}function isPinnedComments(comment){return currentSourceFile.text.charCodeAt(comment.pos+1)===42&&currentSourceFile.text.charCodeAt(comment.pos+2)===33}function isTripleSlashComment(comment){if(currentSourceFile.text.charCodeAt(comment.pos+1)===47&&comment.pos+2<comment.end&&currentSourceFile.text.charCodeAt(comment.pos+2)===47){var textSubStr=currentSourceFile.text.substring(comment.pos,comment.end);return textSubStr.match(ts.fullTripleSlashReferencePathRegEx)||textSubStr.match(ts.fullTripleSlashAMDReferencePathRegEx)?true:false}return false}function getLeadingCommentsToEmit(node){if(node.parent){if(node.parent.kind===248||node.pos!==node.parent.pos){if(hasDetachedComments(node.pos)){return getLeadingCommentsWithoutDetachedComments()}else{return ts.getLeadingCommentRangesOfNode(node,currentSourceFile)}}}}function getTrailingCommentsToEmit(node){if(node.parent){if(node.parent.kind===248||node.end!==node.parent.end){return ts.getTrailingCommentRanges(currentSourceFile.text,node.end)}}}function emitCommentsOnNotEmittedNode(node){emitLeadingCommentsWorker(node,false)}function emitLeadingComments(node){return emitLeadingCommentsWorker(node,true)}function emitLeadingCommentsWorker(node,isEmittedNode){if(compilerOptions.removeComments){return}var leadingComments;if(isEmittedNode){leadingComments=getLeadingCommentsToEmit(node)}else{if(node.pos===0){leadingComments=ts.filter(getLeadingCommentsToEmit(node),isTripleSlashComment)}}ts.emitNewLineBeforeLeadingComments(currentSourceFile,writer,node,leadingComments);ts.emitComments(currentSourceFile,writer,leadingComments,true,newLine,writeComment)}function emitTrailingComments(node){if(compilerOptions.removeComments){return}var trailingComments=getTrailingCommentsToEmit(node);ts.emitComments(currentSourceFile,writer,trailingComments,false,newLine,writeComment)}function emitTrailingCommentsOfPosition(pos){if(compilerOptions.removeComments){return}var trailingComments=ts.getTrailingCommentRanges(currentSourceFile.text,pos);ts.emitComments(currentSourceFile,writer,trailingComments,true,newLine,writeComment)}function emitLeadingCommentsOfPositionWorker(pos){if(compilerOptions.removeComments){return}var leadingComments;if(hasDetachedComments(pos)){leadingComments=getLeadingCommentsWithoutDetachedComments()}else{leadingComments=ts.getLeadingCommentRanges(currentSourceFile.text,pos)}ts.emitNewLineBeforeLeadingComments(currentSourceFile,writer,{pos:pos,end:pos},leadingComments);ts.emitComments(currentSourceFile,writer,leadingComments,true,newLine,writeComment)}function emitDetachedComments(node){var leadingComments;if(compilerOptions.removeComments){if(node.pos===0){leadingComments=ts.filter(ts.getLeadingCommentRanges(currentSourceFile.text,node.pos),isPinnedComments)}}else{leadingComments=ts.getLeadingCommentRanges(currentSourceFile.text,node.pos)}if(leadingComments){var detachedComments=[];var lastComment;ts.forEach(leadingComments,function(comment){if(lastComment){var lastCommentLine=ts.getLineOfLocalPosition(currentSourceFile,lastComment.end);var commentLine=ts.getLineOfLocalPosition(currentSourceFile,comment.pos);if(commentLine>=lastCommentLine+2){return detachedComments}}detachedComments.push(comment);lastComment=comment});if(detachedComments.length){var lastCommentLine=ts.getLineOfLocalPosition(currentSourceFile,ts.lastOrUndefined(detachedComments).end);var nodeLine=ts.getLineOfLocalPosition(currentSourceFile,ts.skipTrivia(currentSourceFile.text,node.pos));if(nodeLine>=lastCommentLine+2){ts.emitNewLineBeforeLeadingComments(currentSourceFile,writer,node,leadingComments);ts.emitComments(currentSourceFile,writer,detachedComments,true,newLine,writeComment);var currentDetachedCommentInfo={nodePos:node.pos,detachedCommentEndPos:ts.lastOrUndefined(detachedComments).end};if(detachedCommentsInfo){detachedCommentsInfo.push(currentDetachedCommentInfo)}else{detachedCommentsInfo=[currentDetachedCommentInfo]}}}}}function emitShebang(){var shebang=ts.getShebang(currentSourceFile.text);if(shebang){write(shebang)}}var _a}function emitFile(jsFilePath,sourceFile){emitJavaScript(jsFilePath,sourceFile);if(compilerOptions.declaration){ts.writeDeclarationFile(jsFilePath,sourceFile,host,resolver,diagnostics)}}}ts.emitFiles=emitFiles})(ts||(ts={}));var ts;(function(ts){ts.programTime=0;ts.emitTime=0;ts.ioReadTime=0;ts.ioWriteTime=0;var emptyArray=[];ts.version="1.7.5";function findConfigFile(searchPath){var fileName="tsconfig.json";while(true){if(ts.sys.fileExists(fileName)){return fileName}var parentPath=ts.getDirectoryPath(searchPath);if(parentPath===searchPath){break}searchPath=parentPath;fileName="../"+fileName}return undefined}ts.findConfigFile=findConfigFile;function resolveTripleslashReference(moduleName,containingFile){var basePath=ts.getDirectoryPath(containingFile);var referencedFileName=ts.isRootedDiskPath(moduleName)?moduleName:ts.combinePaths(basePath,moduleName);return ts.normalizePath(referencedFileName)}ts.resolveTripleslashReference=resolveTripleslashReference;function resolveModuleName(moduleName,containingFile,compilerOptions,host){var moduleResolution=compilerOptions.moduleResolution!==undefined?compilerOptions.moduleResolution:compilerOptions.module===1?2:1;switch(moduleResolution){case 2:return nodeModuleNameResolver(moduleName,containingFile,host);case 1:return classicNameResolver(moduleName,containingFile,compilerOptions,host)}}ts.resolveModuleName=resolveModuleName;function nodeModuleNameResolver(moduleName,containingFile,host){var containingDirectory=ts.getDirectoryPath(containingFile);if(ts.getRootLength(moduleName)!==0||nameStartsWithDotSlashOrDotDotSlash(moduleName)){var failedLookupLocations=[];var candidate=ts.normalizePath(ts.combinePaths(containingDirectory,moduleName));var resolvedFileName=loadNodeModuleFromFile(candidate,failedLookupLocations,host);if(resolvedFileName){return{resolvedModule:{resolvedFileName:resolvedFileName},failedLookupLocations:failedLookupLocations}}resolvedFileName=loadNodeModuleFromDirectory(candidate,failedLookupLocations,host);return resolvedFileName?{resolvedModule:{resolvedFileName:resolvedFileName},failedLookupLocations:failedLookupLocations}:{resolvedModule:undefined,failedLookupLocations:failedLookupLocations}}else{return loadModuleFromNodeModules(moduleName,containingDirectory,host)}}ts.nodeModuleNameResolver=nodeModuleNameResolver;function loadNodeModuleFromFile(candidate,failedLookupLocation,host){return ts.forEach(ts.moduleFileExtensions,tryLoad);function tryLoad(ext){var fileName=ts.fileExtensionIs(candidate,ext)?candidate:candidate+ext;if(host.fileExists(fileName)){return fileName}else{failedLookupLocation.push(fileName);return undefined}}}function loadNodeModuleFromDirectory(candidate,failedLookupLocation,host){var packageJsonPath=ts.combinePaths(candidate,"package.json");if(host.fileExists(packageJsonPath)){var jsonContent;try{var jsonText=host.readFile(packageJsonPath);jsonContent=jsonText?JSON.parse(jsonText):{typings:undefined}}catch(e){jsonContent={typings:undefined}}if(jsonContent.typings){var result=loadNodeModuleFromFile(ts.normalizePath(ts.combinePaths(candidate,jsonContent.typings)),failedLookupLocation,host);if(result){return result}}}else{failedLookupLocation.push(packageJsonPath)}return loadNodeModuleFromFile(ts.combinePaths(candidate,"index"),failedLookupLocation,host)}function loadModuleFromNodeModules(moduleName,directory,host){var failedLookupLocations=[];directory=ts.normalizeSlashes(directory);while(true){var baseName=ts.getBaseFileName(directory);if(baseName!=="node_modules"){var nodeModulesFolder=ts.combinePaths(directory,"node_modules");var candidate=ts.normalizePath(ts.combinePaths(nodeModulesFolder,moduleName));var result=loadNodeModuleFromFile(candidate,failedLookupLocations,host);if(result){return{resolvedModule:{resolvedFileName:result,isExternalLibraryImport:true},failedLookupLocations:failedLookupLocations}}result=loadNodeModuleFromDirectory(candidate,failedLookupLocations,host);if(result){return{resolvedModule:{resolvedFileName:result,isExternalLibraryImport:true},failedLookupLocations:failedLookupLocations}}}var parentPath=ts.getDirectoryPath(directory);if(parentPath===directory){break}directory=parentPath}return{resolvedModule:undefined,failedLookupLocations:failedLookupLocations}}function nameStartsWithDotSlashOrDotDotSlash(name){var i=name.lastIndexOf("./",1);return i===0||i===1&&name.charCodeAt(0)===46}function classicNameResolver(moduleName,containingFile,compilerOptions,host){if(moduleName.indexOf("!")!=-1){return{resolvedModule:undefined,failedLookupLocations:[]}}var searchPath=ts.getDirectoryPath(containingFile);var searchName;var failedLookupLocations=[];var referencedSourceFile;while(true){searchName=ts.normalizePath(ts.combinePaths(searchPath,moduleName));referencedSourceFile=ts.forEach(ts.supportedExtensions,function(extension){if(extension===".tsx"&&!compilerOptions.jsx){return undefined}var candidate=searchName+extension;if(host.fileExists(candidate)){return candidate}else{failedLookupLocations.push(candidate)}});if(referencedSourceFile){break}var parentPath=ts.getDirectoryPath(searchPath);if(parentPath===searchPath){break}searchPath=parentPath}return referencedSourceFile?{resolvedModule:{resolvedFileName:referencedSourceFile},failedLookupLocations:failedLookupLocations}:{resolvedModule:undefined,failedLookupLocations:failedLookupLocations}}ts.classicNameResolver=classicNameResolver;ts.defaultInitCompilerOptions={module:1,target:0,noImplicitAny:false,outDir:"built",rootDir:".",sourceMap:false};function createCompilerHost(options,setParentNodes){var currentDirectory;var existingDirectories={};function getCanonicalFileName(fileName){return ts.sys.useCaseSensitiveFileNames?fileName:fileName.toLowerCase()}var unsupportedFileEncodingErrorCode=-2147024809;function getSourceFile(fileName,languageVersion,onError){var text;try{var start=(new Date).getTime();text=ts.sys.readFile(fileName,options.charset);ts.ioReadTime+=(new Date).getTime()-start}catch(e){if(onError){onError(e.number===unsupportedFileEncodingErrorCode?ts.createCompilerDiagnostic(ts.Diagnostics.Unsupported_file_encoding).messageText:e.message)}text=""}return text!==undefined?ts.createSourceFile(fileName,text,languageVersion,setParentNodes):undefined}function directoryExists(directoryPath){if(ts.hasProperty(existingDirectories,directoryPath)){return true}if(ts.sys.directoryExists(directoryPath)){existingDirectories[directoryPath]=true;return true}return false}function ensureDirectoriesExist(directoryPath){if(directoryPath.length>ts.getRootLength(directoryPath)&&!directoryExists(directoryPath)){var parentDirectory=ts.getDirectoryPath(directoryPath);ensureDirectoriesExist(parentDirectory);ts.sys.createDirectory(directoryPath)}}function writeFile(fileName,data,writeByteOrderMark,onError){try{var start=(new Date).getTime();ensureDirectoriesExist(ts.getDirectoryPath(ts.normalizePath(fileName)));ts.sys.writeFile(fileName,data,writeByteOrderMark);ts.ioWriteTime+=(new Date).getTime()-start}catch(e){if(onError){onError(e.message)}}}var newLine=ts.getNewLineCharacter(options);return{getSourceFile:getSourceFile,getDefaultLibFileName:function(options){return ts.combinePaths(ts.getDirectoryPath(ts.normalizePath(ts.sys.getExecutingFilePath())),ts.getDefaultLibFileName(options))},writeFile:writeFile,getCurrentDirectory:function(){return currentDirectory||(currentDirectory=ts.sys.getCurrentDirectory())},useCaseSensitiveFileNames:function(){return ts.sys.useCaseSensitiveFileNames},getCanonicalFileName:getCanonicalFileName,getNewLine:function(){return newLine},fileExists:function(fileName){return ts.sys.fileExists(fileName)},readFile:function(fileName){return ts.sys.readFile(fileName)}}}ts.createCompilerHost=createCompilerHost;function getPreEmitDiagnostics(program,sourceFile,cancellationToken){var diagnostics=program.getOptionsDiagnostics(cancellationToken).concat(program.getSyntacticDiagnostics(sourceFile,cancellationToken),program.getGlobalDiagnostics(cancellationToken),program.getSemanticDiagnostics(sourceFile,cancellationToken));if(program.getCompilerOptions().declaration){diagnostics.concat(program.getDeclarationDiagnostics(sourceFile,cancellationToken))}return ts.sortAndDeduplicateDiagnostics(diagnostics)}ts.getPreEmitDiagnostics=getPreEmitDiagnostics;function flattenDiagnosticMessageText(messageText,newLine){if(typeof messageText==="string"){return messageText}else{var diagnosticChain=messageText;var result="";var indent=0;while(diagnosticChain){if(indent){result+=newLine;for(var i=0;i<indent;i++){result+="  "}}result+=diagnosticChain.messageText;indent++;diagnosticChain=diagnosticChain.next}return result}}ts.flattenDiagnosticMessageText=flattenDiagnosticMessageText;function createProgram(rootNames,options,host,oldProgram){var program;var files=[];var fileProcessingDiagnostics=ts.createDiagnosticCollection();var programDiagnostics=ts.createDiagnosticCollection();var commonSourceDirectory;var diagnosticsProducingTypeChecker;var noDiagnosticsTypeChecker;var classifiableNames;var skipDefaultLib=options.noLib;var start=(new Date).getTime();host=host||createCompilerHost(options);var resolveModuleNamesWorker=host.resolveModuleNames?function(moduleNames,containingFile){return host.resolveModuleNames(moduleNames,containingFile)}:function(moduleNames,containingFile){return ts.map(moduleNames,function(moduleName){return resolveModuleName(moduleName,containingFile,options,host).resolvedModule})};var filesByName=ts.createFileMap(function(fileName){return host.getCanonicalFileName(fileName)});if(oldProgram){var oldOptions=oldProgram.getCompilerOptions();if(oldOptions.module!==options.module||oldOptions.noResolve!==options.noResolve||oldOptions.target!==options.target||oldOptions.noLib!==options.noLib||oldOptions.jsx!==options.jsx){oldProgram=undefined}}if(!tryReuseStructureFromOldProgram()){ts.forEach(rootNames,function(name){return processRootFile(name,false)});if(!skipDefaultLib){processRootFile(host.getDefaultLibFileName(options),true)}}verifyCompilerOptions();oldProgram=undefined;ts.programTime+=(new Date).getTime()-start;program={getRootFileNames:function(){return rootNames},getSourceFile:getSourceFile,getSourceFiles:function(){return files},getCompilerOptions:function(){return options},getSyntacticDiagnostics:getSyntacticDiagnostics,getOptionsDiagnostics:getOptionsDiagnostics,getGlobalDiagnostics:getGlobalDiagnostics,getSemanticDiagnostics:getSemanticDiagnostics,getDeclarationDiagnostics:getDeclarationDiagnostics,getTypeChecker:getTypeChecker,getClassifiableNames:getClassifiableNames,getDiagnosticsProducingTypeChecker:getDiagnosticsProducingTypeChecker,getCommonSourceDirectory:function(){return commonSourceDirectory},emit:emit,getCurrentDirectory:function(){return host.getCurrentDirectory()},getNodeCount:function(){return getDiagnosticsProducingTypeChecker().getNodeCount()},getIdentifierCount:function(){return getDiagnosticsProducingTypeChecker().getIdentifierCount()},getSymbolCount:function(){return getDiagnosticsProducingTypeChecker().getSymbolCount()},getTypeCount:function(){return getDiagnosticsProducingTypeChecker().getTypeCount()},getFileProcessingDiagnostics:function(){return fileProcessingDiagnostics}};return program;function getClassifiableNames(){if(!classifiableNames){getTypeChecker();classifiableNames={};for(var _i=0;_i<files.length;_i++){var sourceFile=files[_i];ts.copyMap(sourceFile.classifiableNames,classifiableNames)}}return classifiableNames}function tryReuseStructureFromOldProgram(){if(!oldProgram){return false}ts.Debug.assert(!oldProgram.structureIsReused);var oldRootNames=oldProgram.getRootFileNames();if(!ts.arrayIsEqualTo(oldRootNames,rootNames)){return false}var newSourceFiles=[];var modifiedSourceFiles=[];for(var _i=0,_a=oldProgram.getSourceFiles();_i<_a.length;_i++){var oldSourceFile=_a[_i];var newSourceFile=host.getSourceFile(oldSourceFile.fileName,options.target);if(!newSourceFile){return false}if(oldSourceFile!==newSourceFile){if(oldSourceFile.hasNoDefaultLib!==newSourceFile.hasNoDefaultLib){return false}if(!ts.arrayIsEqualTo(oldSourceFile.referencedFiles,newSourceFile.referencedFiles,fileReferenceIsEqualTo)){return false}collectExternalModuleReferences(newSourceFile);if(!ts.arrayIsEqualTo(oldSourceFile.imports,newSourceFile.imports,moduleNameIsEqualTo)){return false}if(resolveModuleNamesWorker){var moduleNames=ts.map(newSourceFile.imports,function(name){return name.text});var resolutions=resolveModuleNamesWorker(moduleNames,newSourceFile.fileName);for(var i=0;i<moduleNames.length;++i){var newResolution=resolutions[i];var oldResolution=ts.getResolvedModule(oldSourceFile,moduleNames[i]);var resolutionChanged=oldResolution?!newResolution||oldResolution.resolvedFileName!==newResolution.resolvedFileName||!!oldResolution.isExternalLibraryImport!==!!newResolution.isExternalLibraryImport:newResolution;if(resolutionChanged){return false}}}newSourceFile.resolvedModules=oldSourceFile.resolvedModules;modifiedSourceFiles.push(newSourceFile)}else{newSourceFile=oldSourceFile}newSourceFiles.push(newSourceFile)}for(var _b=0;_b<newSourceFiles.length;_b++){var file=newSourceFiles[_b];filesByName.set(file.fileName,file)}files=newSourceFiles;fileProcessingDiagnostics=oldProgram.getFileProcessingDiagnostics();for(var _c=0;_c<modifiedSourceFiles.length;_c++){var modifiedFile=modifiedSourceFiles[_c];fileProcessingDiagnostics.reattachFileDiagnostics(modifiedFile)}oldProgram.structureIsReused=true;return true}function getEmitHost(writeFileCallback){return{getCanonicalFileName:function(fileName){return host.getCanonicalFileName(fileName)},getCommonSourceDirectory:program.getCommonSourceDirectory,getCompilerOptions:program.getCompilerOptions,getCurrentDirectory:function(){return host.getCurrentDirectory()},getNewLine:function(){return host.getNewLine()},getSourceFile:program.getSourceFile,getSourceFiles:program.getSourceFiles,writeFile:writeFileCallback||function(fileName,data,writeByteOrderMark,onError){return host.writeFile(fileName,data,writeByteOrderMark,onError)}}}function getDiagnosticsProducingTypeChecker(){return diagnosticsProducingTypeChecker||(diagnosticsProducingTypeChecker=ts.createTypeChecker(program,true))}function getTypeChecker(){return noDiagnosticsTypeChecker||(noDiagnosticsTypeChecker=ts.createTypeChecker(program,false))}function emit(sourceFile,writeFileCallback,cancellationToken){var _this=this;return runWithCancellationToken(function(){return emitWorker(_this,sourceFile,writeFileCallback,cancellationToken)})}function emitWorker(program,sourceFile,writeFileCallback,cancellationToken){if(options.noEmitOnError&&getPreEmitDiagnostics(program,undefined,cancellationToken).length>0){return{diagnostics:[],sourceMaps:undefined,emitSkipped:true}}var emitResolver=getDiagnosticsProducingTypeChecker().getEmitResolver(options.outFile||options.out?undefined:sourceFile);var start=(new Date).getTime();var emitResult=ts.emitFiles(emitResolver,getEmitHost(writeFileCallback),sourceFile);ts.emitTime+=(new Date).getTime()-start;return emitResult}function getSourceFile(fileName){return filesByName.get(fileName)||filesByName.get(ts.getNormalizedAbsolutePath(fileName,host.getCurrentDirectory()))}function getDiagnosticsHelper(sourceFile,getDiagnostics,cancellationToken){if(sourceFile){return getDiagnostics(sourceFile,cancellationToken)}var allDiagnostics=[];ts.forEach(program.getSourceFiles(),function(sourceFile){if(cancellationToken){cancellationToken.throwIfCancellationRequested()}ts.addRange(allDiagnostics,getDiagnostics(sourceFile,cancellationToken))});return ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function getSyntacticDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getSyntacticDiagnosticsForFile,cancellationToken)}function getSemanticDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getSemanticDiagnosticsForFile,cancellationToken)}function getDeclarationDiagnostics(sourceFile,cancellationToken){return getDiagnosticsHelper(sourceFile,getDeclarationDiagnosticsForFile,cancellationToken)}function getSyntacticDiagnosticsForFile(sourceFile,cancellationToken){return sourceFile.parseDiagnostics}function runWithCancellationToken(func){try{return func()}catch(e){if(e instanceof ts.OperationCanceledException){noDiagnosticsTypeChecker=undefined;diagnosticsProducingTypeChecker=undefined}throw e}}function getSemanticDiagnosticsForFile(sourceFile,cancellationToken){return runWithCancellationToken(function(){var typeChecker=getDiagnosticsProducingTypeChecker();ts.Debug.assert(!!sourceFile.bindDiagnostics);var bindDiagnostics=sourceFile.bindDiagnostics;var checkDiagnostics=typeChecker.getDiagnostics(sourceFile,cancellationToken);var fileProcessingDiagnosticsInFile=fileProcessingDiagnostics.getDiagnostics(sourceFile.fileName);var programDiagnosticsInFile=programDiagnostics.getDiagnostics(sourceFile.fileName);return bindDiagnostics.concat(checkDiagnostics).concat(fileProcessingDiagnosticsInFile).concat(programDiagnosticsInFile)})}function getDeclarationDiagnosticsForFile(sourceFile,cancellationToken){return runWithCancellationToken(function(){if(!ts.isDeclarationFile(sourceFile)){var resolver=getDiagnosticsProducingTypeChecker().getEmitResolver(sourceFile,cancellationToken);var writeFile_1=function(){};return ts.getDeclarationDiagnostics(getEmitHost(writeFile_1),resolver,sourceFile)}})}function getOptionsDiagnostics(){var allDiagnostics=[];ts.addRange(allDiagnostics,fileProcessingDiagnostics.getGlobalDiagnostics());ts.addRange(allDiagnostics,programDiagnostics.getGlobalDiagnostics());return ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function getGlobalDiagnostics(){var allDiagnostics=[];ts.addRange(allDiagnostics,getDiagnosticsProducingTypeChecker().getGlobalDiagnostics());return ts.sortAndDeduplicateDiagnostics(allDiagnostics)}function hasExtension(fileName){return ts.getBaseFileName(fileName).indexOf(".")>=0}function processRootFile(fileName,isDefaultLib){processSourceFile(ts.normalizePath(fileName),isDefaultLib)}function fileReferenceIsEqualTo(a,b){return a.fileName===b.fileName}function moduleNameIsEqualTo(a,b){return a.text===b.text}function collectExternalModuleReferences(file){if(file.imports){return}var imports;for(var _i=0,_a=file.statements;_i<_a.length;_i++){var node=_a[_i];collect(node,true)}file.imports=imports||emptyArray;function collect(node,allowRelativeModuleNames){switch(node.kind){case 222:case 221:case 228:var moduleNameExpr=ts.getExternalModuleName(node);if(!moduleNameExpr||moduleNameExpr.kind!==9){break}if(!moduleNameExpr.text){break}if(allowRelativeModuleNames||!ts.isExternalModuleNameRelative(moduleNameExpr.text)){(imports||(imports=[])).push(moduleNameExpr)}break;case 218:if(node.name.kind===9&&(node.flags&2||ts.isDeclarationFile(file))){ts.forEachChild(node.body,function(node){collect(node,false)})}break}}}function processSourceFile(fileName,isDefaultLib,refFile,refPos,refEnd){var diagnosticArgument;var diagnostic;if(hasExtension(fileName)){if(!options.allowNonTsExtensions&&!ts.forEach(ts.supportedExtensions,function(extension){return ts.fileExtensionIs(host.getCanonicalFileName(fileName),extension)})){diagnostic=ts.Diagnostics.File_0_has_unsupported_extension_The_only_supported_extensions_are_1;diagnosticArgument=[fileName,"'"+ts.supportedExtensions.join("', '")+"'"]}else if(!findSourceFile(fileName,isDefaultLib,refFile,refPos,refEnd)){diagnostic=ts.Diagnostics.File_0_not_found;diagnosticArgument=[fileName]}else if(refFile&&host.getCanonicalFileName(fileName)===host.getCanonicalFileName(refFile.fileName)){diagnostic=ts.Diagnostics.A_file_cannot_have_a_reference_to_itself;diagnosticArgument=[fileName]}}else{var nonTsFile=options.allowNonTsExtensions&&findSourceFile(fileName,isDefaultLib,refFile,refPos,refEnd);if(!nonTsFile){if(options.allowNonTsExtensions){diagnostic=ts.Diagnostics.File_0_not_found;diagnosticArgument=[fileName]}else if(!ts.forEach(ts.supportedExtensions,function(extension){return findSourceFile(fileName+extension,isDefaultLib,refFile,refPos,refEnd)})){diagnostic=ts.Diagnostics.File_0_not_found;fileName+=".ts";diagnosticArgument=[fileName]}}}if(diagnostic){if(refFile!==undefined&&refEnd!==undefined&&refPos!==undefined){fileProcessingDiagnostics.add(ts.createFileDiagnostic.apply(void 0,[refFile,refPos,refEnd-refPos,diagnostic].concat(diagnosticArgument)))}else{fileProcessingDiagnostics.add(ts.createCompilerDiagnostic.apply(void 0,[diagnostic].concat(diagnosticArgument)))}}}function findSourceFile(fileName,isDefaultLib,refFile,refPos,refEnd){if(filesByName.contains(fileName)){return getSourceFileFromCache(fileName,false)}var normalizedAbsolutePath=ts.getNormalizedAbsolutePath(fileName,host.getCurrentDirectory());if(filesByName.contains(normalizedAbsolutePath)){var file_1=getSourceFileFromCache(normalizedAbsolutePath,true);filesByName.set(fileName,file_1);return file_1}var file=host.getSourceFile(fileName,options.target,function(hostErrorMessage){if(refFile!==undefined&&refPos!==undefined&&refEnd!==undefined){fileProcessingDiagnostics.add(ts.createFileDiagnostic(refFile,refPos,refEnd-refPos,ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,hostErrorMessage))}else{fileProcessingDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,hostErrorMessage))}});filesByName.set(fileName,file);if(file){skipDefaultLib=skipDefaultLib||file.hasNoDefaultLib;filesByName.set(normalizedAbsolutePath,file);var basePath=ts.getDirectoryPath(fileName);if(!options.noResolve){processReferencedFiles(file,basePath)}processImportedModules(file,basePath);if(isDefaultLib){file.isDefaultLib=true;files.unshift(file)}else{files.push(file)}}return file;function getSourceFileFromCache(fileName,useAbsolutePath){var file=filesByName.get(fileName);if(file&&host.useCaseSensitiveFileNames()){var sourceFileName=useAbsolutePath?ts.getNormalizedAbsolutePath(file.fileName,host.getCurrentDirectory()):file.fileName;if(ts.normalizeSlashes(fileName)!==ts.normalizeSlashes(sourceFileName)){if(refFile!==undefined&&refPos!==undefined&&refEnd!==undefined){fileProcessingDiagnostics.add(ts.createFileDiagnostic(refFile,refPos,refEnd-refPos,ts.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,fileName,sourceFileName))}else{fileProcessingDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.File_name_0_differs_from_already_included_file_name_1_only_in_casing,fileName,sourceFileName))}}}return file}}function processReferencedFiles(file,basePath){ts.forEach(file.referencedFiles,function(ref){var referencedFileName=resolveTripleslashReference(ref.fileName,file.fileName);processSourceFile(referencedFileName,false,file,ref.pos,ref.end)})}function processImportedModules(file,basePath){collectExternalModuleReferences(file);if(file.imports.length){file.resolvedModules={};var moduleNames=ts.map(file.imports,function(name){return name.text});var resolutions=resolveModuleNamesWorker(moduleNames,file.fileName);for(var i=0;i<file.imports.length;++i){var resolution=resolutions[i];ts.setResolvedModule(file,moduleNames[i],resolution);if(resolution&&!options.noResolve){var importedFile=findModuleSourceFile(resolution.resolvedFileName,file.imports[i]);if(importedFile&&resolution.isExternalLibraryImport){if(!ts.isExternalModule(importedFile)){var start_2=ts.getTokenPosOfNode(file.imports[i],file);fileProcessingDiagnostics.add(ts.createFileDiagnostic(file,start_2,file.imports[i].end-start_2,ts.Diagnostics.Exported_external_package_typings_file_0_is_not_a_module_Please_contact_the_package_author_to_update_the_package_definition,importedFile.fileName))}else if(importedFile.referencedFiles.length){var firstRef=importedFile.referencedFiles[0];fileProcessingDiagnostics.add(ts.createFileDiagnostic(importedFile,firstRef.pos,firstRef.end-firstRef.pos,ts.Diagnostics.Exported_external_package_typings_file_cannot_contain_tripleslash_references_Please_contact_the_package_author_to_update_the_package_definition))}}}}}else{file.resolvedModules=undefined}return;function findModuleSourceFile(fileName,nameLiteral){return findSourceFile(fileName,false,file,ts.skipTrivia(file.text,nameLiteral.pos),nameLiteral.end)}}function computeCommonSourceDirectory(sourceFiles){var commonPathComponents;var currentDirectory=host.getCurrentDirectory();ts.forEach(files,function(sourceFile){if(ts.isDeclarationFile(sourceFile)){return}var sourcePathComponents=ts.getNormalizedPathComponents(sourceFile.fileName,currentDirectory);sourcePathComponents.pop();if(!commonPathComponents){commonPathComponents=sourcePathComponents;return}for(var i=0,n=Math.min(commonPathComponents.length,sourcePathComponents.length);i<n;i++){if(commonPathComponents[i]!==sourcePathComponents[i]){if(i===0){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_find_the_common_subdirectory_path_for_the_input_files));return}commonPathComponents.length=i;break}}if(sourcePathComponents.length<commonPathComponents.length){commonPathComponents.length=sourcePathComponents.length}});return ts.getNormalizedPathFromPathComponents(commonPathComponents)}function checkSourceFilesBelongToPath(sourceFiles,rootDirectory){var allFilesBelongToPath=true;if(sourceFiles){var currentDirectory=host.getCurrentDirectory();var absoluteRootDirectoryPath=host.getCanonicalFileName(ts.getNormalizedAbsolutePath(rootDirectory,currentDirectory));for(var _i=0;_i<sourceFiles.length;_i++){var sourceFile=sourceFiles[_i];if(!ts.isDeclarationFile(sourceFile)){var absoluteSourceFilePath=host.getCanonicalFileName(ts.getNormalizedAbsolutePath(sourceFile.fileName,currentDirectory));if(absoluteSourceFilePath.indexOf(absoluteRootDirectoryPath)!==0){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,sourceFile.fileName,options.rootDir));allFilesBelongToPath=false}}}}return allFilesBelongToPath}function verifyCompilerOptions(){if(options.isolatedModules){if(options.declaration){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"declaration","isolatedModules"))}if(options.noEmitOnError){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmitOnError","isolatedModules"))}if(options.out){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","isolatedModules"))}if(options.outFile){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"outFile","isolatedModules"))}}if(options.inlineSourceMap){if(options.sourceMap){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap"))}if(options.mapRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap"))}if(options.sourceRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"sourceRoot","inlineSourceMap"))}}if(options.inlineSources){if(!options.sourceMap&&!options.inlineSourceMap){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_inlineSources_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided))}}if(options.out&&options.outFile){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"out","outFile"));
}if(!options.sourceMap&&(options.mapRoot||options.sourceRoot)){if(options.mapRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"mapRoot","sourceMap"))}if(options.sourceRoot){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"sourceRoot","sourceMap"))}return}var languageVersion=options.target||0;var outFile=options.outFile||options.out;var firstExternalModuleSourceFile=ts.forEach(files,function(f){return ts.isExternalModule(f)?f:undefined});if(options.isolatedModules){if(!options.module&&languageVersion<2){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES6_or_higher))}var firstNonExternalModuleSourceFile=ts.forEach(files,function(f){return!ts.isExternalModule(f)&&!ts.isDeclarationFile(f)?f:undefined});if(firstNonExternalModuleSourceFile){var span=ts.getErrorSpanForNode(firstNonExternalModuleSourceFile,firstNonExternalModuleSourceFile);programDiagnostics.add(ts.createFileDiagnostic(firstNonExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_compile_namespaces_when_the_isolatedModules_flag_is_provided))}}else if(firstExternalModuleSourceFile&&languageVersion<2&&!options.module){var span=ts.getErrorSpanForNode(firstExternalModuleSourceFile,firstExternalModuleSourceFile.externalModuleIndicator);programDiagnostics.add(ts.createFileDiagnostic(firstExternalModuleSourceFile,span.start,span.length,ts.Diagnostics.Cannot_compile_modules_unless_the_module_flag_is_provided))}if(options.module===5&&languageVersion<2){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_compile_modules_into_es6_when_targeting_ES5_or_lower))}if(options.outDir||options.sourceRoot||options.mapRoot&&(!outFile||firstExternalModuleSourceFile!==undefined)){if(options.rootDir&&checkSourceFilesBelongToPath(files,options.rootDir)){commonSourceDirectory=ts.getNormalizedAbsolutePath(options.rootDir,host.getCurrentDirectory())}else{commonSourceDirectory=computeCommonSourceDirectory(files)}if(commonSourceDirectory&&commonSourceDirectory[commonSourceDirectory.length-1]!==ts.directorySeparator){commonSourceDirectory+=ts.directorySeparator}}if(options.noEmit){if(options.out){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","out"))}if(options.outFile){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","outFile"))}if(options.outDir){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","outDir"))}if(options.declaration){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_with_option_1,"noEmit","declaration"))}}if(options.emitDecoratorMetadata&&!options.experimentalDecorators){programDiagnostics.add(ts.createCompilerDiagnostic(ts.Diagnostics.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators"))}}}ts.createProgram=createProgram})(ts||(ts={}));var ts;(function(ts){ts.optionDeclarations=[{name:"charset",type:"string"},{name:"declaration",shortName:"d",type:"boolean",description:ts.Diagnostics.Generates_corresponding_d_ts_file},{name:"diagnostics",type:"boolean"},{name:"emitBOM",type:"boolean"},{name:"help",shortName:"h",type:"boolean",description:ts.Diagnostics.Print_this_message},{name:"init",type:"boolean",description:ts.Diagnostics.Initializes_a_TypeScript_project_and_creates_a_tsconfig_json_file},{name:"inlineSourceMap",type:"boolean"},{name:"inlineSources",type:"boolean"},{name:"jsx",type:{preserve:1,react:2},paramType:ts.Diagnostics.KIND,description:ts.Diagnostics.Specify_JSX_code_generation_Colon_preserve_or_react,error:ts.Diagnostics.Argument_for_jsx_must_be_preserve_or_react},{name:"listFiles",type:"boolean"},{name:"locale",type:"string"},{name:"mapRoot",type:"string",isFilePath:true,description:ts.Diagnostics.Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations,paramType:ts.Diagnostics.LOCATION},{name:"module",shortName:"m",type:{commonjs:1,amd:2,system:4,umd:3,es6:5,es2015:5},description:ts.Diagnostics.Specify_module_code_generation_Colon_commonjs_amd_system_umd_or_es6,paramType:ts.Diagnostics.KIND,error:ts.Diagnostics.Argument_for_module_option_must_be_commonjs_amd_system_umd_or_es6},{name:"newLine",type:{crlf:0,lf:1},description:ts.Diagnostics.Specifies_the_end_of_line_sequence_to_be_used_when_emitting_files_Colon_CRLF_dos_or_LF_unix,paramType:ts.Diagnostics.NEWLINE,error:ts.Diagnostics.Argument_for_newLine_option_must_be_CRLF_or_LF},{name:"noEmit",type:"boolean",description:ts.Diagnostics.Do_not_emit_outputs},{name:"noEmitHelpers",type:"boolean"},{name:"noEmitOnError",type:"boolean",description:ts.Diagnostics.Do_not_emit_outputs_if_any_errors_were_reported},{name:"noImplicitAny",type:"boolean",description:ts.Diagnostics.Raise_error_on_expressions_and_declarations_with_an_implied_any_type},{name:"noLib",type:"boolean"},{name:"noResolve",type:"boolean"},{name:"skipDefaultLibCheck",type:"boolean"},{name:"out",type:"string",isFilePath:false,paramType:ts.Diagnostics.FILE},{name:"outFile",type:"string",isFilePath:true,description:ts.Diagnostics.Concatenate_and_emit_output_to_single_file,paramType:ts.Diagnostics.FILE},{name:"outDir",type:"string",isFilePath:true,description:ts.Diagnostics.Redirect_output_structure_to_the_directory,paramType:ts.Diagnostics.DIRECTORY},{name:"preserveConstEnums",type:"boolean",description:ts.Diagnostics.Do_not_erase_const_enum_declarations_in_generated_code},{name:"project",shortName:"p",type:"string",isFilePath:true,description:ts.Diagnostics.Compile_the_project_in_the_given_directory,paramType:ts.Diagnostics.DIRECTORY},{name:"removeComments",type:"boolean",description:ts.Diagnostics.Do_not_emit_comments_to_output},{name:"rootDir",type:"string",isFilePath:true,description:ts.Diagnostics.Specifies_the_root_directory_of_input_files_Use_to_control_the_output_directory_structure_with_outDir,paramType:ts.Diagnostics.LOCATION},{name:"isolatedModules",type:"boolean"},{name:"sourceMap",type:"boolean",description:ts.Diagnostics.Generates_corresponding_map_file},{name:"sourceRoot",type:"string",isFilePath:true,description:ts.Diagnostics.Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations,paramType:ts.Diagnostics.LOCATION},{name:"suppressExcessPropertyErrors",type:"boolean",description:ts.Diagnostics.Suppress_excess_property_checks_for_object_literals,experimental:true},{name:"suppressImplicitAnyIndexErrors",type:"boolean",description:ts.Diagnostics.Suppress_noImplicitAny_errors_for_indexing_objects_lacking_index_signatures},{name:"stripInternal",type:"boolean",description:ts.Diagnostics.Do_not_emit_declarations_for_code_that_has_an_internal_annotation,experimental:true},{name:"target",shortName:"t",type:{es3:0,es5:1,es6:2,es2015:2},description:ts.Diagnostics.Specify_ECMAScript_target_version_Colon_ES3_default_ES5_or_ES6_experimental,paramType:ts.Diagnostics.VERSION,error:ts.Diagnostics.Argument_for_target_option_must_be_ES3_ES5_or_ES6},{name:"version",shortName:"v",type:"boolean",description:ts.Diagnostics.Print_the_compiler_s_version},{name:"watch",shortName:"w",type:"boolean",description:ts.Diagnostics.Watch_input_files},{name:"experimentalDecorators",type:"boolean",description:ts.Diagnostics.Enables_experimental_support_for_ES7_decorators},{name:"emitDecoratorMetadata",type:"boolean",experimental:true,description:ts.Diagnostics.Enables_experimental_support_for_emitting_type_metadata_for_decorators},{name:"moduleResolution",type:{node:2,classic:1},description:ts.Diagnostics.Specifies_module_resolution_strategy_Colon_node_Node_js_or_classic_TypeScript_pre_1_6,error:ts.Diagnostics.Argument_for_moduleResolution_option_must_be_node_or_classic}];var optionNameMapCache;function getOptionNameMap(){if(optionNameMapCache){return optionNameMapCache}var optionNameMap={};var shortOptionNames={};ts.forEach(ts.optionDeclarations,function(option){optionNameMap[option.name.toLowerCase()]=option;if(option.shortName){shortOptionNames[option.shortName]=option.name}});optionNameMapCache={optionNameMap:optionNameMap,shortOptionNames:shortOptionNames};return optionNameMapCache}ts.getOptionNameMap=getOptionNameMap;function parseCommandLine(commandLine,readFile){var options={};var fileNames=[];var errors=[];var _a=getOptionNameMap(),optionNameMap=_a.optionNameMap,shortOptionNames=_a.shortOptionNames;parseStrings(commandLine);return{options:options,fileNames:fileNames,errors:errors};function parseStrings(args){var i=0;while(i<args.length){var s=args[i++];if(s.charCodeAt(0)===64){parseResponseFile(s.slice(1))}else if(s.charCodeAt(0)===45){s=s.slice(s.charCodeAt(1)===45?2:1).toLowerCase();if(ts.hasProperty(shortOptionNames,s)){s=shortOptionNames[s]}if(ts.hasProperty(optionNameMap,s)){var opt=optionNameMap[s];if(!args[i]&&opt.type!=="boolean"){errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_expects_an_argument,opt.name))}switch(opt.type){case"number":options[opt.name]=parseInt(args[i++]);break;case"boolean":options[opt.name]=true;break;case"string":options[opt.name]=args[i++]||"";break;default:var map_2=opt.type;var key=(args[i++]||"").toLowerCase();if(ts.hasProperty(map_2,key)){options[opt.name]=map_2[key]}else{errors.push(ts.createCompilerDiagnostic(opt.error))}}}else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_compiler_option_0,s))}}else{fileNames.push(s)}}}function parseResponseFile(fileName){var text=readFile?readFile(fileName):ts.sys.readFile(fileName);if(!text){errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.File_0_not_found,fileName));return}var args=[];var pos=0;while(true){while(pos<text.length&&text.charCodeAt(pos)<=32)pos++;if(pos>=text.length)break;var start=pos;if(text.charCodeAt(start)===34){pos++;while(pos<text.length&&text.charCodeAt(pos)!==34)pos++;if(pos<text.length){args.push(text.substring(start+1,pos));pos++}else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unterminated_quoted_string_in_response_file_0,fileName))}}else{while(text.charCodeAt(pos)>32)pos++;args.push(text.substring(start,pos))}}parseStrings(args)}}ts.parseCommandLine=parseCommandLine;function readConfigFile(fileName,readFile){var text="";try{text=readFile(fileName)}catch(e){return{error:ts.createCompilerDiagnostic(ts.Diagnostics.Cannot_read_file_0_Colon_1,fileName,e.message)}}return parseConfigFileTextToJson(fileName,text)}ts.readConfigFile=readConfigFile;function parseConfigFileTextToJson(fileName,jsonText){try{return{config:/\S/.test(jsonText)?JSON.parse(jsonText):{}}}catch(e){return{error:ts.createCompilerDiagnostic(ts.Diagnostics.Failed_to_parse_file_0_Colon_1,fileName,e.message)}}}ts.parseConfigFileTextToJson=parseConfigFileTextToJson;function parseJsonConfigFileContent(json,host,basePath){var errors=[];return{options:getCompilerOptions(),fileNames:getFileNames(),errors:errors};function getCompilerOptions(){var options={};var optionNameMap={};ts.forEach(ts.optionDeclarations,function(option){optionNameMap[option.name]=option});var jsonOptions=json["compilerOptions"];if(jsonOptions){for(var id in jsonOptions){if(ts.hasProperty(optionNameMap,id)){var opt=optionNameMap[id];var optType=opt.type;var value=jsonOptions[id];var expectedType=typeof optType==="string"?optType:"string";if(typeof value===expectedType){if(typeof optType!=="string"){var key=value.toLowerCase();if(ts.hasProperty(optType,key)){value=optType[key]}else{errors.push(ts.createCompilerDiagnostic(opt.error));value=0}}if(opt.isFilePath){value=ts.normalizePath(ts.combinePaths(basePath,value));if(value===""){value="."}}options[opt.name]=value}else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,id,expectedType))}}else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Unknown_compiler_option_0,id))}}}return options}function getFileNames(){var fileNames=[];if(ts.hasProperty(json,"files")){if(json["files"]instanceof Array){fileNames=ts.map(json["files"],function(s){return ts.combinePaths(basePath,s)})}else{errors.push(ts.createCompilerDiagnostic(ts.Diagnostics.Compiler_option_0_requires_a_value_of_type_1,"files","Array"))}}else{var exclude=json["exclude"]instanceof Array?ts.map(json["exclude"],ts.normalizeSlashes):undefined;var sysFiles=host.readDirectory(basePath,".ts",exclude).concat(host.readDirectory(basePath,".tsx",exclude));for(var i=0;i<sysFiles.length;i++){var name_28=sysFiles[i];if(ts.fileExtensionIs(name_28,".d.ts")){var baseName=name_28.substr(0,name_28.length-".d.ts".length);if(!ts.contains(sysFiles,baseName+".tsx")&&!ts.contains(sysFiles,baseName+".ts")){fileNames.push(name_28)}}else if(ts.fileExtensionIs(name_28,".ts")){if(!ts.contains(sysFiles,name_28+"x")){fileNames.push(name_28)}}else{fileNames.push(name_28)}}}return fileNames}}ts.parseJsonConfigFileContent=parseJsonConfigFileContent})(ts||(ts={}));var ts;(function(ts){var OutliningElementsCollector;(function(OutliningElementsCollector){function collectElements(sourceFile){var elements=[];var collapseText="...";function addOutliningSpan(hintSpanNode,startElement,endElement,autoCollapse){if(hintSpanNode&&startElement&&endElement){var span={textSpan:ts.createTextSpanFromBounds(startElement.pos,endElement.end),hintSpan:ts.createTextSpanFromBounds(hintSpanNode.getStart(),hintSpanNode.end),bannerText:collapseText,autoCollapse:autoCollapse};elements.push(span)}}function addOutliningSpanComments(commentSpan,autoCollapse){if(commentSpan){var span={textSpan:ts.createTextSpanFromBounds(commentSpan.pos,commentSpan.end),hintSpan:ts.createTextSpanFromBounds(commentSpan.pos,commentSpan.end),bannerText:collapseText,autoCollapse:autoCollapse};elements.push(span)}}function addOutliningForLeadingCommentsForNode(n){var comments=ts.getLeadingCommentRangesOfNode(n,sourceFile);if(comments){var firstSingleLineCommentStart=-1;var lastSingleLineCommentEnd=-1;var isFirstSingleLineComment=true;var singleLineCommentCount=0;for(var _i=0;_i<comments.length;_i++){var currentComment=comments[_i];if(currentComment.kind===2){if(isFirstSingleLineComment){firstSingleLineCommentStart=currentComment.pos}isFirstSingleLineComment=false;lastSingleLineCommentEnd=currentComment.end;singleLineCommentCount++}else if(currentComment.kind===3){combineAndAddMultipleSingleLineComments(singleLineCommentCount,firstSingleLineCommentStart,lastSingleLineCommentEnd);addOutliningSpanComments(currentComment,false);singleLineCommentCount=0;lastSingleLineCommentEnd=-1;isFirstSingleLineComment=true}}combineAndAddMultipleSingleLineComments(singleLineCommentCount,firstSingleLineCommentStart,lastSingleLineCommentEnd)}}function combineAndAddMultipleSingleLineComments(count,start,end){if(count>1){var multipleSingleLineComments={pos:start,end:end,kind:2};addOutliningSpanComments(multipleSingleLineComments,false)}}function autoCollapse(node){return ts.isFunctionBlock(node)&&node.parent.kind!==174}var depth=0;var maxDepth=20;function walk(n){if(depth>maxDepth){return}if(ts.isDeclaration(n)){addOutliningForLeadingCommentsForNode(n)}switch(n.kind){case 192:if(!ts.isFunctionBlock(n)){var parent_7=n.parent;var openBrace=ts.findChildOfKind(n,15,sourceFile);var closeBrace=ts.findChildOfKind(n,16,sourceFile);if(parent_7.kind===197||parent_7.kind===200||parent_7.kind===201||parent_7.kind===199||parent_7.kind===196||parent_7.kind===198||parent_7.kind===205||parent_7.kind===244){addOutliningSpan(parent_7,openBrace,closeBrace,autoCollapse(n));break}if(parent_7.kind===209){var tryStatement=parent_7;if(tryStatement.tryBlock===n){addOutliningSpan(parent_7,openBrace,closeBrace,autoCollapse(n));break}else if(tryStatement.finallyBlock===n){var finallyKeyword=ts.findChildOfKind(tryStatement,85,sourceFile);if(finallyKeyword){addOutliningSpan(finallyKeyword,openBrace,closeBrace,autoCollapse(n));break}}}var span=ts.createTextSpanFromBounds(n.getStart(),n.end);elements.push({textSpan:span,hintSpan:span,bannerText:collapseText,autoCollapse:autoCollapse(n)});break}case 219:{var openBrace=ts.findChildOfKind(n,15,sourceFile);var closeBrace=ts.findChildOfKind(n,16,sourceFile);addOutliningSpan(n.parent,openBrace,closeBrace,autoCollapse(n));break}case 214:case 215:case 217:case 165:case 220:{var openBrace=ts.findChildOfKind(n,15,sourceFile);var closeBrace=ts.findChildOfKind(n,16,sourceFile);addOutliningSpan(n,openBrace,closeBrace,autoCollapse(n));break}case 164:var openBracket=ts.findChildOfKind(n,19,sourceFile);var closeBracket=ts.findChildOfKind(n,20,sourceFile);addOutliningSpan(n,openBracket,closeBracket,autoCollapse(n));break}depth++;ts.forEachChild(n,walk);depth--}walk(sourceFile);return elements}OutliningElementsCollector.collectElements=collectElements})(OutliningElementsCollector=ts.OutliningElementsCollector||(ts.OutliningElementsCollector={}))})(ts||(ts={}));var ts;(function(ts){var NavigateTo;(function(NavigateTo){function getNavigateToItems(program,cancellationToken,searchValue,maxResultCount){var patternMatcher=ts.createPatternMatcher(searchValue);var rawItems=[];ts.forEach(program.getSourceFiles(),function(sourceFile){cancellationToken.throwIfCancellationRequested();var nameToDeclarations=sourceFile.getNamedDeclarations();for(var name_29 in nameToDeclarations){var declarations=ts.getProperty(nameToDeclarations,name_29);if(declarations){var matches=patternMatcher.getMatchesForLastSegmentOfPattern(name_29);if(!matches){continue}for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];if(patternMatcher.patternContainsDots){var containers=getContainers(declaration);if(!containers){return undefined}matches=patternMatcher.getMatches(containers,name_29);if(!matches){continue}}var fileName=sourceFile.fileName;var matchKind=bestMatchKind(matches);rawItems.push({name:name_29,fileName:fileName,matchKind:matchKind,isCaseSensitive:allMatchesAreCaseSensitive(matches),declaration:declaration})}}}});rawItems.sort(compareNavigateToItems);if(maxResultCount!==undefined){rawItems=rawItems.slice(0,maxResultCount)}var items=ts.map(rawItems,createNavigateToItem);return items;function allMatchesAreCaseSensitive(matches){ts.Debug.assert(matches.length>0);for(var _i=0;_i<matches.length;_i++){var match=matches[_i];if(!match.isCaseSensitive){return false}}return true}function getTextOfIdentifierOrLiteral(node){if(node){if(node.kind===69||node.kind===9||node.kind===8){return node.text}}return undefined}function tryAddSingleDeclarationName(declaration,containers){if(declaration&&declaration.name){var text=getTextOfIdentifierOrLiteral(declaration.name);if(text!==undefined){containers.unshift(text)}else if(declaration.name.kind===136){return tryAddComputedPropertyName(declaration.name.expression,containers,true)}else{return false}}return true}function tryAddComputedPropertyName(expression,containers,includeLastPortion){var text=getTextOfIdentifierOrLiteral(expression);if(text!==undefined){if(includeLastPortion){containers.unshift(text)}return true}if(expression.kind===166){var propertyAccess=expression;if(includeLastPortion){containers.unshift(propertyAccess.name.text)}return tryAddComputedPropertyName(propertyAccess.expression,containers,true)}return false}function getContainers(declaration){var containers=[];if(declaration.name.kind===136){if(!tryAddComputedPropertyName(declaration.name.expression,containers,false)){return undefined}}declaration=ts.getContainerNode(declaration);while(declaration){if(!tryAddSingleDeclarationName(declaration,containers)){return undefined}declaration=ts.getContainerNode(declaration)}return containers}function bestMatchKind(matches){ts.Debug.assert(matches.length>0);var bestMatchKind=ts.PatternMatchKind.camelCase;for(var _i=0;_i<matches.length;_i++){var match=matches[_i];var kind=match.kind;if(kind<bestMatchKind){bestMatchKind=kind}}return bestMatchKind}var baseSensitivity={sensitivity:"base"};function compareNavigateToItems(i1,i2){return i1.matchKind-i2.matchKind||i1.name.localeCompare(i2.name,undefined,baseSensitivity)||i1.name.localeCompare(i2.name)}function createNavigateToItem(rawItem){var declaration=rawItem.declaration;var container=ts.getContainerNode(declaration);return{name:rawItem.name,kind:ts.getNodeKind(declaration),kindModifiers:ts.getNodeModifiers(declaration),matchKind:ts.PatternMatchKind[rawItem.matchKind],isCaseSensitive:rawItem.isCaseSensitive,fileName:rawItem.fileName,textSpan:ts.createTextSpanFromBounds(declaration.getStart(),declaration.getEnd()),containerName:container&&container.name?container.name.text:"",containerKind:container&&container.name?ts.getNodeKind(container):""}}}NavigateTo.getNavigateToItems=getNavigateToItems})(NavigateTo=ts.NavigateTo||(ts.NavigateTo={}))})(ts||(ts={}));var ts;(function(ts){var NavigationBar;(function(NavigationBar){function getNavigationBarItems(sourceFile){var hasGlobalNode=false;return getItemsWorker(getTopLevelNodes(sourceFile),createTopLevelItem);function getIndent(node){var indent=hasGlobalNode?1:0;var current=node.parent;while(current){switch(current.kind){case 218:do{current=current.parent}while(current.kind===218);case 214:case 217:case 215:case 213:indent++}current=current.parent}return indent}function getChildNodes(nodes){var childNodes=[];function visit(node){switch(node.kind){case 193:ts.forEach(node.declarationList.declarations,visit);break;case 161:case 162:ts.forEach(node.elements,visit);break;case 228:if(node.exportClause){ts.forEach(node.exportClause.elements,visit)}break;case 222:var importClause=node.importClause;if(importClause){if(importClause.name){childNodes.push(importClause)}if(importClause.namedBindings){if(importClause.namedBindings.kind===224){childNodes.push(importClause.namedBindings)}else{ts.forEach(importClause.namedBindings.elements,visit)}}}break;case 163:case 211:if(ts.isBindingPattern(node.name)){visit(node.name);break}case 214:case 217:case 215:case 218:case 213:case 221:case 226:case 230:childNodes.push(node);break}}ts.forEach(nodes,visit);return sortNodes(childNodes)}function getTopLevelNodes(node){var topLevelNodes=[];topLevelNodes.push(node);addTopLevelNodes(node.statements,topLevelNodes);return topLevelNodes}function sortNodes(nodes){return nodes.slice(0).sort(function(n1,n2){if(n1.name&&n2.name){return ts.getPropertyNameForPropertyNameNode(n1.name).localeCompare(ts.getPropertyNameForPropertyNameNode(n2.name))}else if(n1.name){return 1}else if(n2.name){return-1}else{return n1.kind-n2.kind}})}function addTopLevelNodes(nodes,topLevelNodes){nodes=sortNodes(nodes);for(var _i=0;_i<nodes.length;_i++){var node=nodes[_i];switch(node.kind){case 214:case 217:case 215:topLevelNodes.push(node);break;case 218:var moduleDeclaration=node;topLevelNodes.push(node);addTopLevelNodes(getInnermostModule(moduleDeclaration).body.statements,topLevelNodes);break;case 213:var functionDeclaration=node;if(isTopLevelFunctionDeclaration(functionDeclaration)){topLevelNodes.push(node);addTopLevelNodes(functionDeclaration.body.statements,topLevelNodes)}break}}}function isTopLevelFunctionDeclaration(functionDeclaration){if(functionDeclaration.kind===213){if(functionDeclaration.body&&functionDeclaration.body.kind===192){if(ts.forEach(functionDeclaration.body.statements,function(s){return s.kind===213&&!isEmpty(s.name.text)})){return true}if(!ts.isFunctionBlock(functionDeclaration.parent)){return true}}}return false}function getItemsWorker(nodes,createItem){var items=[];var keyToItem={};for(var _i=0;_i<nodes.length;_i++){var child=nodes[_i];var item=createItem(child);if(item!==undefined){if(item.text.length>0){var key=item.text+"-"+item.kind+"-"+item.indent;var itemWithSameName=keyToItem[key];if(itemWithSameName){merge(itemWithSameName,item)}else{keyToItem[key]=item;items.push(item)}}}}return items}function merge(target,source){ts.addRange(target.spans,source.spans);if(source.childItems){if(!target.childItems){target.childItems=[]}outer:for(var _i=0,_a=source.childItems;_i<_a.length;_i++){var sourceChild=_a[_i];for(var _b=0,_c=target.childItems;_b<_c.length;_b++){var targetChild=_c[_b];if(targetChild.text===sourceChild.text&&targetChild.kind===sourceChild.kind){merge(targetChild,sourceChild);continue outer}}target.childItems.push(sourceChild)}}}function createChildItem(node){switch(node.kind){case 138:if(ts.isBindingPattern(node.name)){break}if((node.flags&2035)===0){return undefined}return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberVariableElement);case 143:case 142:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberFunctionElement);case 145:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberGetAccessorElement);case 146:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberSetAccessorElement);case 149:return createItem(node,"[]",ts.ScriptElementKind.indexSignatureElement);case 247:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberVariableElement);case 147:return createItem(node,"()",ts.ScriptElementKind.callSignatureElement);case 148:return createItem(node,"new()",ts.ScriptElementKind.constructSignatureElement);case 141:case 140:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.memberVariableElement);case 213:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.functionElement);case 211:case 163:var variableDeclarationNode;var name_30;if(node.kind===163){name_30=node.name;variableDeclarationNode=node;while(variableDeclarationNode&&variableDeclarationNode.kind!==211){variableDeclarationNode=variableDeclarationNode.parent}ts.Debug.assert(variableDeclarationNode!==undefined)}else{ts.Debug.assert(!ts.isBindingPattern(node.name));variableDeclarationNode=node;name_30=node.name}if(ts.isConst(variableDeclarationNode)){return createItem(node,getTextOfNode(name_30),ts.ScriptElementKind.constElement)}else if(ts.isLet(variableDeclarationNode)){return createItem(node,getTextOfNode(name_30),ts.ScriptElementKind.letElement)}else{return createItem(node,getTextOfNode(name_30),ts.ScriptElementKind.variableElement)}case 144:return createItem(node,"constructor",ts.ScriptElementKind.constructorImplementationElement);case 230:case 226:case 221:case 223:case 224:return createItem(node,getTextOfNode(node.name),ts.ScriptElementKind.alias)}return undefined;function createItem(node,name,scriptElementKind){return getNavigationBarItem(name,scriptElementKind,ts.getNodeModifiers(node),[getNodeSpan(node)])}}function isEmpty(text){return!text||text.trim()===""}function getNavigationBarItem(text,kind,kindModifiers,spans,childItems,indent){if(childItems===void 0){childItems=[]}if(indent===void 0){indent=0}if(isEmpty(text)){return undefined}return{text:text,kind:kind,kindModifiers:kindModifiers,spans:spans,childItems:childItems,indent:indent,bolded:false,grayed:false}}function createTopLevelItem(node){switch(node.kind){case 248:return createSourceFileItem(node);case 214:return createClassItem(node);case 217:return createEnumItem(node);case 215:return createIterfaceItem(node);case 218:return createModuleItem(node);case 213:return createFunctionItem(node)}return undefined;function getModuleName(moduleDeclaration){if(moduleDeclaration.name.kind===9){return getTextOfNode(moduleDeclaration.name)}var result=[];result.push(moduleDeclaration.name.text);while(moduleDeclaration.body&&moduleDeclaration.body.kind===218){moduleDeclaration=moduleDeclaration.body;result.push(moduleDeclaration.name.text)}return result.join(".")}function createModuleItem(node){var moduleName=getModuleName(node);var childItems=getItemsWorker(getChildNodes(getInnermostModule(node).body.statements),createChildItem);return getNavigationBarItem(moduleName,ts.ScriptElementKind.moduleElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node))}function createFunctionItem(node){if(node.body&&node.body.kind===192){var childItems=getItemsWorker(sortNodes(node.body.statements),createChildItem);return getNavigationBarItem(!node.name?"default":node.name.text,ts.ScriptElementKind.functionElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node))}return undefined}function createSourceFileItem(node){var childItems=getItemsWorker(getChildNodes(node.statements),createChildItem);if(childItems===undefined||childItems.length===0){return undefined}hasGlobalNode=true;var rootName=ts.isExternalModule(node)?'"'+ts.escapeString(ts.getBaseFileName(ts.removeFileExtension(ts.normalizePath(node.fileName))))+'"':"<global>";return getNavigationBarItem(rootName,ts.ScriptElementKind.moduleElement,ts.ScriptElementKindModifier.none,[getNodeSpan(node)],childItems)}function createClassItem(node){var childItems;if(node.members){var constructor=ts.forEach(node.members,function(member){return member.kind===144&&member});var nodes=removeDynamicallyNamedProperties(node);if(constructor){ts.addRange(nodes,ts.filter(constructor.parameters,function(p){return!ts.isBindingPattern(p.name)}))}childItems=getItemsWorker(sortNodes(nodes),createChildItem)}var nodeName=!node.name?"default":node.name.text;return getNavigationBarItem(nodeName,ts.ScriptElementKind.classElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node))}function createEnumItem(node){var childItems=getItemsWorker(sortNodes(removeComputedProperties(node)),createChildItem);return getNavigationBarItem(node.name.text,ts.ScriptElementKind.enumElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node))}function createIterfaceItem(node){var childItems=getItemsWorker(sortNodes(removeDynamicallyNamedProperties(node)),createChildItem);return getNavigationBarItem(node.name.text,ts.ScriptElementKind.interfaceElement,ts.getNodeModifiers(node),[getNodeSpan(node)],childItems,getIndent(node))}}function removeComputedProperties(node){return ts.filter(node.members,function(member){return member.name===undefined||member.name.kind!==136})}function removeDynamicallyNamedProperties(node){return ts.filter(node.members,function(member){return!ts.hasDynamicName(member)})}function getInnermostModule(node){while(node.body.kind===218){node=node.body}return node}function getNodeSpan(node){return node.kind===248?ts.createTextSpanFromBounds(node.getFullStart(),node.getEnd()):ts.createTextSpanFromBounds(node.getStart(),node.getEnd())}function getTextOfNode(node){return ts.getTextOfNodeFromSourceText(sourceFile.text,node)}}NavigationBar.getNavigationBarItems=getNavigationBarItems})(NavigationBar=ts.NavigationBar||(ts.NavigationBar={}))})(ts||(ts={}));var ts;(function(ts){(function(PatternMatchKind){PatternMatchKind[PatternMatchKind["exact"]=0]="exact";PatternMatchKind[PatternMatchKind["prefix"]=1]="prefix";PatternMatchKind[PatternMatchKind["substring"]=2]="substring";PatternMatchKind[PatternMatchKind["camelCase"]=3]="camelCase"})(ts.PatternMatchKind||(ts.PatternMatchKind={}));var PatternMatchKind=ts.PatternMatchKind;function createPatternMatch(kind,punctuationStripped,isCaseSensitive,camelCaseWeight){return{kind:kind,punctuationStripped:punctuationStripped,isCaseSensitive:isCaseSensitive,camelCaseWeight:camelCaseWeight}}function createPatternMatcher(pattern){var stringToWordSpans={};pattern=pattern.trim();var fullPatternSegment=createSegment(pattern);var dotSeparatedSegments=pattern.split(".").map(function(p){return createSegment(p.trim())});var invalidPattern=dotSeparatedSegments.length===0||ts.forEach(dotSeparatedSegments,segmentIsInvalid);return{getMatches:getMatches,getMatchesForLastSegmentOfPattern:getMatchesForLastSegmentOfPattern,patternContainsDots:dotSeparatedSegments.length>1};function skipMatch(candidate){return invalidPattern||!candidate}function getMatchesForLastSegmentOfPattern(candidate){if(skipMatch(candidate)){return undefined}return matchSegment(candidate,ts.lastOrUndefined(dotSeparatedSegments))}function getMatches(candidateContainers,candidate){if(skipMatch(candidate)){
return undefined}var candidateMatch=matchSegment(candidate,ts.lastOrUndefined(dotSeparatedSegments));if(!candidateMatch){return undefined}candidateContainers=candidateContainers||[];if(dotSeparatedSegments.length-1>candidateContainers.length){return undefined}var totalMatch=candidateMatch;for(var i=dotSeparatedSegments.length-2,j=candidateContainers.length-1;i>=0;i--,j--){var segment=dotSeparatedSegments[i];var containerName=candidateContainers[j];var containerMatch=matchSegment(containerName,segment);if(!containerMatch){return undefined}ts.addRange(totalMatch,containerMatch)}return totalMatch}function getWordSpans(word){if(!ts.hasProperty(stringToWordSpans,word)){stringToWordSpans[word]=breakIntoWordSpans(word)}return stringToWordSpans[word]}function matchTextChunk(candidate,chunk,punctuationStripped){var index=indexOfIgnoringCase(candidate,chunk.textLowerCase);if(index===0){if(chunk.text.length===candidate.length){return createPatternMatch(PatternMatchKind.exact,punctuationStripped,candidate===chunk.text)}else{return createPatternMatch(PatternMatchKind.prefix,punctuationStripped,startsWith(candidate,chunk.text))}}var isLowercase=chunk.isLowerCase;if(isLowercase){if(index>0){var wordSpans=getWordSpans(candidate);for(var _i=0;_i<wordSpans.length;_i++){var span=wordSpans[_i];if(partStartsWith(candidate,span,chunk.text,true)){return createPatternMatch(PatternMatchKind.substring,punctuationStripped,partStartsWith(candidate,span,chunk.text,false))}}}}else{if(candidate.indexOf(chunk.text)>0){return createPatternMatch(PatternMatchKind.substring,punctuationStripped,true)}}if(!isLowercase){if(chunk.characterSpans.length>0){var candidateParts=getWordSpans(candidate);var camelCaseWeight=tryCamelCaseMatch(candidate,candidateParts,chunk,false);if(camelCaseWeight!==undefined){return createPatternMatch(PatternMatchKind.camelCase,punctuationStripped,true,camelCaseWeight)}camelCaseWeight=tryCamelCaseMatch(candidate,candidateParts,chunk,true);if(camelCaseWeight!==undefined){return createPatternMatch(PatternMatchKind.camelCase,punctuationStripped,false,camelCaseWeight)}}}if(isLowercase){if(chunk.text.length<candidate.length){if(index>0&&isUpperCaseLetter(candidate.charCodeAt(index))){return createPatternMatch(PatternMatchKind.substring,punctuationStripped,false)}}}return undefined}function containsSpaceOrAsterisk(text){for(var i=0;i<text.length;i++){var ch=text.charCodeAt(i);if(ch===32||ch===42){return true}}return false}function matchSegment(candidate,segment){if(!containsSpaceOrAsterisk(segment.totalTextChunk.text)){var match=matchTextChunk(candidate,segment.totalTextChunk,false);if(match){return[match]}}var subWordTextChunks=segment.subWordTextChunks;var matches=undefined;for(var _i=0;_i<subWordTextChunks.length;_i++){var subWordTextChunk=subWordTextChunks[_i];var result=matchTextChunk(candidate,subWordTextChunk,true);if(!result){return undefined}matches=matches||[];matches.push(result)}return matches}function partStartsWith(candidate,candidateSpan,pattern,ignoreCase,patternSpan){var patternPartStart=patternSpan?patternSpan.start:0;var patternPartLength=patternSpan?patternSpan.length:pattern.length;if(patternPartLength>candidateSpan.length){return false}if(ignoreCase){for(var i=0;i<patternPartLength;i++){var ch1=pattern.charCodeAt(patternPartStart+i);var ch2=candidate.charCodeAt(candidateSpan.start+i);if(toLowerCase(ch1)!==toLowerCase(ch2)){return false}}}else{for(var i=0;i<patternPartLength;i++){var ch1=pattern.charCodeAt(patternPartStart+i);var ch2=candidate.charCodeAt(candidateSpan.start+i);if(ch1!==ch2){return false}}}return true}function tryCamelCaseMatch(candidate,candidateParts,chunk,ignoreCase){var chunkCharacterSpans=chunk.characterSpans;var currentCandidate=0;var currentChunkSpan=0;var firstMatch=undefined;var contiguous=undefined;while(true){if(currentChunkSpan===chunkCharacterSpans.length){var weight=0;if(contiguous){weight+=1}if(firstMatch===0){weight+=2}return weight}else if(currentCandidate===candidateParts.length){return undefined}var candidatePart=candidateParts[currentCandidate];var gotOneMatchThisCandidate=false;for(;currentChunkSpan<chunkCharacterSpans.length;currentChunkSpan++){var chunkCharacterSpan=chunkCharacterSpans[currentChunkSpan];if(gotOneMatchThisCandidate){if(!isUpperCaseLetter(chunk.text.charCodeAt(chunkCharacterSpans[currentChunkSpan-1].start))||!isUpperCaseLetter(chunk.text.charCodeAt(chunkCharacterSpans[currentChunkSpan].start))){break}}if(!partStartsWith(candidate,candidatePart,chunk.text,ignoreCase,chunkCharacterSpan)){break}gotOneMatchThisCandidate=true;firstMatch=firstMatch===undefined?currentCandidate:firstMatch;contiguous=contiguous===undefined?true:contiguous;candidatePart=ts.createTextSpan(candidatePart.start+chunkCharacterSpan.length,candidatePart.length-chunkCharacterSpan.length)}if(!gotOneMatchThisCandidate&&contiguous!==undefined){contiguous=false}currentCandidate++}}}ts.createPatternMatcher=createPatternMatcher;function patternMatchCompareTo(match1,match2){return compareType(match1,match2)||compareCamelCase(match1,match2)||compareCase(match1,match2)||comparePunctuation(match1,match2)}function comparePunctuation(result1,result2){if(result1.punctuationStripped!==result2.punctuationStripped){return result1.punctuationStripped?1:-1}return 0}function compareCase(result1,result2){if(result1.isCaseSensitive!==result2.isCaseSensitive){return result1.isCaseSensitive?-1:1}return 0}function compareType(result1,result2){return result1.kind-result2.kind}function compareCamelCase(result1,result2){if(result1.kind===PatternMatchKind.camelCase&&result2.kind===PatternMatchKind.camelCase){return result2.camelCaseWeight-result1.camelCaseWeight}return 0}function createSegment(text){return{totalTextChunk:createTextChunk(text),subWordTextChunks:breakPatternIntoTextChunks(text)}}function segmentIsInvalid(segment){return segment.subWordTextChunks.length===0}function isUpperCaseLetter(ch){if(ch>=65&&ch<=90){return true}if(ch<127||!ts.isUnicodeIdentifierStart(ch,2)){return false}var str=String.fromCharCode(ch);return str===str.toUpperCase()}function isLowerCaseLetter(ch){if(ch>=97&&ch<=122){return true}if(ch<127||!ts.isUnicodeIdentifierStart(ch,2)){return false}var str=String.fromCharCode(ch);return str===str.toLowerCase()}function containsUpperCaseLetter(string){for(var i=0,n=string.length;i<n;i++){if(isUpperCaseLetter(string.charCodeAt(i))){return true}}return false}function startsWith(string,search){for(var i=0,n=search.length;i<n;i++){if(string.charCodeAt(i)!==search.charCodeAt(i)){return false}}return true}function indexOfIgnoringCase(string,value){for(var i=0,n=string.length-value.length;i<=n;i++){if(startsWithIgnoringCase(string,value,i)){return i}}return-1}function startsWithIgnoringCase(string,value,start){for(var i=0,n=value.length;i<n;i++){var ch1=toLowerCase(string.charCodeAt(i+start));var ch2=value.charCodeAt(i);if(ch1!==ch2){return false}}return true}function toLowerCase(ch){if(ch>=65&&ch<=90){return 97+(ch-65)}if(ch<127){return ch}return String.fromCharCode(ch).toLowerCase().charCodeAt(0)}function isDigit(ch){return ch>=48&&ch<=57}function isWordChar(ch){return isUpperCaseLetter(ch)||isLowerCaseLetter(ch)||isDigit(ch)||ch===95||ch===36}function breakPatternIntoTextChunks(pattern){var result=[];var wordStart=0;var wordLength=0;for(var i=0;i<pattern.length;i++){var ch=pattern.charCodeAt(i);if(isWordChar(ch)){if(wordLength++===0){wordStart=i}}else{if(wordLength>0){result.push(createTextChunk(pattern.substr(wordStart,wordLength)));wordLength=0}}}if(wordLength>0){result.push(createTextChunk(pattern.substr(wordStart,wordLength)))}return result}function createTextChunk(text){var textLowerCase=text.toLowerCase();return{text:text,textLowerCase:textLowerCase,isLowerCase:text===textLowerCase,characterSpans:breakIntoCharacterSpans(text)}}function breakIntoCharacterSpans(identifier){return breakIntoSpans(identifier,false)}ts.breakIntoCharacterSpans=breakIntoCharacterSpans;function breakIntoWordSpans(identifier){return breakIntoSpans(identifier,true)}ts.breakIntoWordSpans=breakIntoWordSpans;function breakIntoSpans(identifier,word){var result=[];var wordStart=0;for(var i=1,n=identifier.length;i<n;i++){var lastIsDigit=isDigit(identifier.charCodeAt(i-1));var currentIsDigit=isDigit(identifier.charCodeAt(i));var hasTransitionFromLowerToUpper=transitionFromLowerToUpper(identifier,word,i);var hasTransitionFromUpperToLower=transitionFromUpperToLower(identifier,word,i,wordStart);if(charIsPunctuation(identifier.charCodeAt(i-1))||charIsPunctuation(identifier.charCodeAt(i))||lastIsDigit!==currentIsDigit||hasTransitionFromLowerToUpper||hasTransitionFromUpperToLower){if(!isAllPunctuation(identifier,wordStart,i)){result.push(ts.createTextSpan(wordStart,i-wordStart))}wordStart=i}}if(!isAllPunctuation(identifier,wordStart,identifier.length)){result.push(ts.createTextSpan(wordStart,identifier.length-wordStart))}return result}function charIsPunctuation(ch){switch(ch){case 33:case 34:case 35:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 45:case 46:case 47:case 58:case 59:case 63:case 64:case 91:case 92:case 93:case 95:case 123:case 125:return true}return false}function isAllPunctuation(identifier,start,end){for(var i=start;i<end;i++){var ch=identifier.charCodeAt(i);if(!charIsPunctuation(ch)||ch===95||ch===36){return false}}return true}function transitionFromUpperToLower(identifier,word,index,wordStart){if(word){if(index!==wordStart&&index+1<identifier.length){var currentIsUpper=isUpperCaseLetter(identifier.charCodeAt(index));var nextIsLower=isLowerCaseLetter(identifier.charCodeAt(index+1));if(currentIsUpper&&nextIsLower){for(var i=wordStart;i<index;i++){if(!isUpperCaseLetter(identifier.charCodeAt(i))){return false}}return true}}}return false}function transitionFromLowerToUpper(identifier,word,index){var lastIsUpper=isUpperCaseLetter(identifier.charCodeAt(index-1));var currentIsUpper=isUpperCaseLetter(identifier.charCodeAt(index));var transition=word?currentIsUpper&&!lastIsUpper:currentIsUpper;return transition}})(ts||(ts={}));var ts;(function(ts){var SignatureHelp;(function(SignatureHelp){var emptyArray=[];var ArgumentListKind;(function(ArgumentListKind){ArgumentListKind[ArgumentListKind["TypeArguments"]=0]="TypeArguments";ArgumentListKind[ArgumentListKind["CallArguments"]=1]="CallArguments";ArgumentListKind[ArgumentListKind["TaggedTemplateArguments"]=2]="TaggedTemplateArguments"})(ArgumentListKind||(ArgumentListKind={}));function getSignatureHelpItems(program,sourceFile,position,cancellationToken){var typeChecker=program.getTypeChecker();var startingToken=ts.findTokenOnLeftOfPosition(sourceFile,position);if(!startingToken){return undefined}var argumentInfo=getContainingArgumentInfo(startingToken);cancellationToken.throwIfCancellationRequested();if(!argumentInfo){return undefined}var call=argumentInfo.invocation;var candidates=[];var resolvedSignature=typeChecker.getResolvedSignature(call,candidates);cancellationToken.throwIfCancellationRequested();if(!candidates.length){if(ts.isJavaScript(sourceFile.fileName)){return createJavaScriptSignatureHelpItems(argumentInfo)}return undefined}return createSignatureHelpItems(candidates,resolvedSignature,argumentInfo);function createJavaScriptSignatureHelpItems(argumentInfo){if(argumentInfo.invocation.kind!==168){return undefined}var callExpression=argumentInfo.invocation;var expression=callExpression.expression;var name=expression.kind===69?expression:expression.kind===166?expression.name:undefined;if(!name||!name.text){return undefined}var typeChecker=program.getTypeChecker();for(var _i=0,_a=program.getSourceFiles();_i<_a.length;_i++){var sourceFile_1=_a[_i];var nameToDeclarations=sourceFile_1.getNamedDeclarations();var declarations=ts.getProperty(nameToDeclarations,name.text);if(declarations){for(var _b=0;_b<declarations.length;_b++){var declaration=declarations[_b];var symbol=declaration.symbol;if(symbol){var type=typeChecker.getTypeOfSymbolAtLocation(symbol,declaration);if(type){var callSignatures=type.getCallSignatures();if(callSignatures&&callSignatures.length){return createSignatureHelpItems(callSignatures,callSignatures[0],argumentInfo)}}}}}}}function getImmediatelyContainingArgumentInfo(node){if(node.parent.kind===168||node.parent.kind===169){var callExpression=node.parent;if(node.kind===25||node.kind===17){var list=getChildListThatStartsWithOpenerToken(callExpression,node,sourceFile);var isTypeArgList=callExpression.typeArguments&&callExpression.typeArguments.pos===list.pos;ts.Debug.assert(list!==undefined);return{kind:isTypeArgList?0:1,invocation:callExpression,argumentsSpan:getApplicableSpanForArguments(list),argumentIndex:0,argumentCount:getArgumentCount(list)}}var listItemInfo=ts.findListItemInfo(node);if(listItemInfo){var list=listItemInfo.list;var isTypeArgList=callExpression.typeArguments&&callExpression.typeArguments.pos===list.pos;var argumentIndex=getArgumentIndex(list,node);var argumentCount=getArgumentCount(list);ts.Debug.assert(argumentIndex===0||argumentIndex<argumentCount,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex);return{kind:isTypeArgList?0:1,invocation:callExpression,argumentsSpan:getApplicableSpanForArguments(list),argumentIndex:argumentIndex,argumentCount:argumentCount}}}else if(node.kind===11&&node.parent.kind===170){if(ts.isInsideTemplateLiteral(node,position)){return getArgumentListInfoForTemplate(node.parent,0)}}else if(node.kind===12&&node.parent.parent.kind===170){var templateExpression=node.parent;var tagExpression=templateExpression.parent;ts.Debug.assert(templateExpression.kind===183);var argumentIndex=ts.isInsideTemplateLiteral(node,position)?0:1;return getArgumentListInfoForTemplate(tagExpression,argumentIndex)}else if(node.parent.kind===190&&node.parent.parent.parent.kind===170){var templateSpan=node.parent;var templateExpression=templateSpan.parent;var tagExpression=templateExpression.parent;ts.Debug.assert(templateExpression.kind===183);if(node.kind===14&&!ts.isInsideTemplateLiteral(node,position)){return undefined}var spanIndex=templateExpression.templateSpans.indexOf(templateSpan);var argumentIndex=getArgumentIndexForTemplatePiece(spanIndex,node);return getArgumentListInfoForTemplate(tagExpression,argumentIndex)}return undefined}function getArgumentIndex(argumentsList,node){var argumentIndex=0;var listChildren=argumentsList.getChildren();for(var _i=0;_i<listChildren.length;_i++){var child=listChildren[_i];if(child===node){break}if(child.kind!==24){argumentIndex++}}return argumentIndex}function getArgumentCount(argumentsList){var listChildren=argumentsList.getChildren();var argumentCount=ts.countWhere(listChildren,function(arg){return arg.kind!==24});if(listChildren.length>0&&ts.lastOrUndefined(listChildren).kind===24){argumentCount++}return argumentCount}function getArgumentIndexForTemplatePiece(spanIndex,node){ts.Debug.assert(position>=node.getStart(),"Assumed 'position' could not occur before node.");if(ts.isTemplateLiteralKind(node.kind)){if(ts.isInsideTemplateLiteral(node,position)){return 0}return spanIndex+2}return spanIndex+1}function getArgumentListInfoForTemplate(tagExpression,argumentIndex){var argumentCount=tagExpression.template.kind===11?1:tagExpression.template.templateSpans.length+1;ts.Debug.assert(argumentIndex===0||argumentIndex<argumentCount,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex);return{kind:2,invocation:tagExpression,argumentsSpan:getApplicableSpanForTaggedTemplate(tagExpression),argumentIndex:argumentIndex,argumentCount:argumentCount}}function getApplicableSpanForArguments(argumentsList){var applicableSpanStart=argumentsList.getFullStart();var applicableSpanEnd=ts.skipTrivia(sourceFile.text,argumentsList.getEnd(),false);return ts.createTextSpan(applicableSpanStart,applicableSpanEnd-applicableSpanStart)}function getApplicableSpanForTaggedTemplate(taggedTemplate){var template=taggedTemplate.template;var applicableSpanStart=template.getStart();var applicableSpanEnd=template.getEnd();if(template.kind===183){var lastSpan=ts.lastOrUndefined(template.templateSpans);if(lastSpan.literal.getFullWidth()===0){applicableSpanEnd=ts.skipTrivia(sourceFile.text,applicableSpanEnd,false)}}return ts.createTextSpan(applicableSpanStart,applicableSpanEnd-applicableSpanStart)}function getContainingArgumentInfo(node){for(var n=node;n.kind!==248;n=n.parent){if(ts.isFunctionBlock(n)){return undefined}if(n.pos<n.parent.pos||n.end>n.parent.end){ts.Debug.fail("Node of kind "+n.kind+" is not a subspan of its parent of kind "+n.parent.kind)}var argumentInfo_1=getImmediatelyContainingArgumentInfo(n);if(argumentInfo_1){return argumentInfo_1}}return undefined}function getChildListThatStartsWithOpenerToken(parent,openerToken,sourceFile){var children=parent.getChildren(sourceFile);var indexOfOpenerToken=children.indexOf(openerToken);ts.Debug.assert(indexOfOpenerToken>=0&&children.length>indexOfOpenerToken+1);return children[indexOfOpenerToken+1]}function selectBestInvalidOverloadIndex(candidates,argumentCount){var maxParamsSignatureIndex=-1;var maxParams=-1;for(var i=0;i<candidates.length;i++){var candidate=candidates[i];if(candidate.hasRestParameter||candidate.parameters.length>=argumentCount){return i}if(candidate.parameters.length>maxParams){maxParams=candidate.parameters.length;maxParamsSignatureIndex=i}}return maxParamsSignatureIndex}function createSignatureHelpItems(candidates,bestSignature,argumentListInfo){var applicableSpan=argumentListInfo.argumentsSpan;var isTypeParameterList=argumentListInfo.kind===0;var invocation=argumentListInfo.invocation;var callTarget=ts.getInvokedExpression(invocation);var callTargetSymbol=typeChecker.getSymbolAtLocation(callTarget);var callTargetDisplayParts=callTargetSymbol&&ts.symbolToDisplayParts(typeChecker,callTargetSymbol,undefined,undefined);var items=ts.map(candidates,function(candidateSignature){var signatureHelpParameters;var prefixDisplayParts=[];var suffixDisplayParts=[];if(callTargetDisplayParts){ts.addRange(prefixDisplayParts,callTargetDisplayParts)}if(isTypeParameterList){prefixDisplayParts.push(ts.punctuationPart(25));var typeParameters=candidateSignature.typeParameters;signatureHelpParameters=typeParameters&&typeParameters.length>0?ts.map(typeParameters,createSignatureHelpParameterForTypeParameter):emptyArray;suffixDisplayParts.push(ts.punctuationPart(27));var parameterParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildDisplayForParametersAndDelimiters(candidateSignature.parameters,writer,invocation)});ts.addRange(suffixDisplayParts,parameterParts)}else{var typeParameterParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildDisplayForTypeParametersAndDelimiters(candidateSignature.typeParameters,writer,invocation)});ts.addRange(prefixDisplayParts,typeParameterParts);prefixDisplayParts.push(ts.punctuationPart(17));var parameters=candidateSignature.parameters;signatureHelpParameters=parameters.length>0?ts.map(parameters,createSignatureHelpParameterForParameter):emptyArray;suffixDisplayParts.push(ts.punctuationPart(18))}var returnTypeParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildReturnTypeDisplay(candidateSignature,writer,invocation)});ts.addRange(suffixDisplayParts,returnTypeParts);return{isVariadic:candidateSignature.hasRestParameter,prefixDisplayParts:prefixDisplayParts,suffixDisplayParts:suffixDisplayParts,separatorDisplayParts:[ts.punctuationPart(24),ts.spacePart()],parameters:signatureHelpParameters,documentation:candidateSignature.getDocumentationComment()}});var argumentIndex=argumentListInfo.argumentIndex;var argumentCount=argumentListInfo.argumentCount;var selectedItemIndex=candidates.indexOf(bestSignature);if(selectedItemIndex<0){selectedItemIndex=selectBestInvalidOverloadIndex(candidates,argumentCount)}ts.Debug.assert(argumentIndex===0||argumentIndex<argumentCount,"argumentCount < argumentIndex, "+argumentCount+" < "+argumentIndex);return{items:items,applicableSpan:applicableSpan,selectedItemIndex:selectedItemIndex,argumentIndex:argumentIndex,argumentCount:argumentCount};function createSignatureHelpParameterForParameter(parameter){var displayParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildParameterDisplay(parameter,writer,invocation)});return{name:parameter.name,documentation:parameter.getDocumentationComment(),displayParts:displayParts,isOptional:typeChecker.isOptionalParameter(parameter.valueDeclaration)}}function createSignatureHelpParameterForTypeParameter(typeParameter){var displayParts=ts.mapToDisplayParts(function(writer){return typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplay(typeParameter,writer,invocation)});return{name:typeParameter.symbol.name,documentation:emptyArray,displayParts:displayParts,isOptional:false}}}}SignatureHelp.getSignatureHelpItems=getSignatureHelpItems})(SignatureHelp=ts.SignatureHelp||(ts.SignatureHelp={}))})(ts||(ts={}));var ts;(function(ts){function getEndLinePosition(line,sourceFile){ts.Debug.assert(line>=0);var lineStarts=sourceFile.getLineStarts();var lineIndex=line;if(lineIndex+1===lineStarts.length){return sourceFile.text.length-1}else{var start=lineStarts[lineIndex];var pos=lineStarts[lineIndex+1]-1;ts.Debug.assert(ts.isLineBreak(sourceFile.text.charCodeAt(pos)));while(start<=pos&&ts.isLineBreak(sourceFile.text.charCodeAt(pos))){pos--}return pos}}ts.getEndLinePosition=getEndLinePosition;function getLineStartPositionForPosition(position,sourceFile){var lineStarts=sourceFile.getLineStarts();var line=sourceFile.getLineAndCharacterOfPosition(position).line;return lineStarts[line]}ts.getLineStartPositionForPosition=getLineStartPositionForPosition;function rangeContainsRange(r1,r2){return startEndContainsRange(r1.pos,r1.end,r2)}ts.rangeContainsRange=rangeContainsRange;function startEndContainsRange(start,end,range){return start<=range.pos&&end>=range.end}ts.startEndContainsRange=startEndContainsRange;function rangeContainsStartEnd(range,start,end){return range.pos<=start&&range.end>=end}ts.rangeContainsStartEnd=rangeContainsStartEnd;function rangeOverlapsWithStartEnd(r1,start,end){return startEndOverlapsWithStartEnd(r1.pos,r1.end,start,end)}ts.rangeOverlapsWithStartEnd=rangeOverlapsWithStartEnd;function startEndOverlapsWithStartEnd(start1,end1,start2,end2){var start=Math.max(start1,start2);var end=Math.min(end1,end2);return start<end}ts.startEndOverlapsWithStartEnd=startEndOverlapsWithStartEnd;function positionBelongsToNode(candidate,position,sourceFile){return candidate.end>position||!isCompletedNode(candidate,sourceFile)}ts.positionBelongsToNode=positionBelongsToNode;function isCompletedNode(n,sourceFile){if(ts.nodeIsMissing(n)){return false}switch(n.kind){case 214:case 215:case 217:case 165:case 161:case 155:case 192:case 219:case 220:return nodeEndsWith(n,16,sourceFile);case 244:return isCompletedNode(n.block,sourceFile);case 169:if(!n.arguments){return true}case 168:case 172:case 160:return nodeEndsWith(n,18,sourceFile);case 152:case 153:return isCompletedNode(n.type,sourceFile);case 144:case 145:case 146:case 213:case 173:case 143:case 142:case 148:case 147:case 174:if(n.body){return isCompletedNode(n.body,sourceFile)}if(n.type){return isCompletedNode(n.type,sourceFile)}return hasChildOfKind(n,18,sourceFile);case 218:return n.body&&isCompletedNode(n.body,sourceFile);case 196:if(n.elseStatement){return isCompletedNode(n.elseStatement,sourceFile)}return isCompletedNode(n.thenStatement,sourceFile);case 195:return isCompletedNode(n.expression,sourceFile)||hasChildOfKind(n,23);case 164:case 162:case 167:case 136:case 157:return nodeEndsWith(n,20,sourceFile);case 149:if(n.type){return isCompletedNode(n.type,sourceFile)}return hasChildOfKind(n,20,sourceFile);case 241:case 242:return false;case 199:case 200:case 201:case 198:return isCompletedNode(n.statement,sourceFile);case 197:var hasWhileKeyword=findChildOfKind(n,104,sourceFile);if(hasWhileKeyword){return nodeEndsWith(n,18,sourceFile)}return isCompletedNode(n.statement,sourceFile);case 154:return isCompletedNode(n.exprName,sourceFile);case 176:case 175:case 177:case 184:case 185:var unaryWordExpression=n;return isCompletedNode(unaryWordExpression.expression,sourceFile);case 170:return isCompletedNode(n.template,sourceFile);case 183:var lastSpan=ts.lastOrUndefined(n.templateSpans);return isCompletedNode(lastSpan,sourceFile);case 190:return ts.nodeIsPresent(n.literal);case 179:return isCompletedNode(n.operand,sourceFile);case 181:return isCompletedNode(n.right,sourceFile);case 182:return isCompletedNode(n.whenFalse,sourceFile);default:return true}}ts.isCompletedNode=isCompletedNode;function nodeEndsWith(n,expectedLastToken,sourceFile){var children=n.getChildren(sourceFile);if(children.length){var last=ts.lastOrUndefined(children);if(last.kind===expectedLastToken){return true}else if(last.kind===23&&children.length!==1){return children[children.length-2].kind===expectedLastToken}}return false}function findListItemInfo(node){var list=findContainingList(node);if(!list){return undefined}var children=list.getChildren();var listItemIndex=ts.indexOf(children,node);return{listItemIndex:listItemIndex,list:list}}ts.findListItemInfo=findListItemInfo;function hasChildOfKind(n,kind,sourceFile){return!!findChildOfKind(n,kind,sourceFile)}ts.hasChildOfKind=hasChildOfKind;function findChildOfKind(n,kind,sourceFile){return ts.forEach(n.getChildren(sourceFile),function(c){return c.kind===kind&&c})}ts.findChildOfKind=findChildOfKind;function findContainingList(node){var syntaxList=ts.forEach(node.parent.getChildren(),function(c){if(c.kind===271&&c.pos<=node.pos&&c.end>=node.end){return c}});ts.Debug.assert(!syntaxList||ts.contains(syntaxList.getChildren(),node));return syntaxList}ts.findContainingList=findContainingList;function getTouchingWord(sourceFile,position){return getTouchingToken(sourceFile,position,function(n){return isWord(n.kind)})}ts.getTouchingWord=getTouchingWord;function getTouchingPropertyName(sourceFile,position){return getTouchingToken(sourceFile,position,function(n){return isPropertyName(n.kind)})}ts.getTouchingPropertyName=getTouchingPropertyName;function getTouchingToken(sourceFile,position,includeItemAtEndPosition){return getTokenAtPositionWorker(sourceFile,position,false,includeItemAtEndPosition)}ts.getTouchingToken=getTouchingToken;function getTokenAtPosition(sourceFile,position){return getTokenAtPositionWorker(sourceFile,position,true,undefined)}ts.getTokenAtPosition=getTokenAtPosition;function getTokenAtPositionWorker(sourceFile,position,allowPositionInLeadingTrivia,includeItemAtEndPosition){var current=sourceFile;outer:while(true){if(isToken(current)){return current}for(var i=0,n=current.getChildCount(sourceFile);i<n;i++){var child=current.getChildAt(i);var start=allowPositionInLeadingTrivia?child.getFullStart():child.getStart(sourceFile);if(start<=position){var end=child.getEnd();if(position<end||position===end&&child.kind===1){current=child;continue outer}else if(includeItemAtEndPosition&&end===position){var previousToken=findPrecedingToken(position,sourceFile,child);if(previousToken&&includeItemAtEndPosition(previousToken)){return previousToken}}}}return current}}function findTokenOnLeftOfPosition(file,position){var tokenAtPosition=getTokenAtPosition(file,position);if(isToken(tokenAtPosition)&&position>tokenAtPosition.getStart(file)&&position<tokenAtPosition.getEnd()){return tokenAtPosition}return findPrecedingToken(position,file)}ts.findTokenOnLeftOfPosition=findTokenOnLeftOfPosition;function findNextToken(previousToken,parent){return find(parent);function find(n){if(isToken(n)&&n.pos===previousToken.end){return n}var children=n.getChildren();for(var _i=0;_i<children.length;_i++){var child=children[_i];var shouldDiveInChildNode=child.pos<=previousToken.pos&&child.end>previousToken.end||child.pos===previousToken.end;if(shouldDiveInChildNode&&nodeHasTokens(child)){return find(child)}}return undefined}}ts.findNextToken=findNextToken;function findPrecedingToken(position,sourceFile,startNode){return find(startNode||sourceFile);function findRightmostToken(n){if(isToken(n)||n.kind===236){return n}var children=n.getChildren();var candidate=findRightmostChildNodeWithTokens(children,children.length);return candidate&&findRightmostToken(candidate)}function find(n){if(isToken(n)||n.kind===236){return n}var children=n.getChildren();for(var i=0,len=children.length;i<len;i++){var child=children[i];if(position<child.end&&(nodeHasTokens(child)||child.kind===236)){var start=child.getStart(sourceFile);var lookInPreviousChild=start>=position||child.kind===236&&start===child.end;if(lookInPreviousChild){var candidate=findRightmostChildNodeWithTokens(children,i);return candidate&&findRightmostToken(candidate)}else{return find(child)}}}ts.Debug.assert(startNode!==undefined||n.kind===248);if(children.length){var candidate=findRightmostChildNodeWithTokens(children,children.length);return candidate&&findRightmostToken(candidate)}}function findRightmostChildNodeWithTokens(children,exclusiveStartPosition){for(var i=exclusiveStartPosition-1;i>=0;--i){if(nodeHasTokens(children[i])){return children[i]}}}}ts.findPrecedingToken=findPrecedingToken;function isInString(sourceFile,position){var token=getTokenAtPosition(sourceFile,position);return token&&token.kind===9&&position>token.getStart()}ts.isInString=isInString;function isInComment(sourceFile,position){return isInCommentHelper(sourceFile,position,undefined)}ts.isInComment=isInComment;function isInCommentHelper(sourceFile,position,predicate){var token=getTokenAtPosition(sourceFile,position);if(token&&position<=token.getStart()){var commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);return predicate?ts.forEach(commentRanges,function(c){return c.pos<position&&(c.kind==2?position<=c.end:position<c.end)&&predicate(c)}):ts.forEach(commentRanges,function(c){return c.pos<position&&(c.kind==2?position<=c.end:position<c.end)})}return false}ts.isInCommentHelper=isInCommentHelper;function hasDocComment(sourceFile,position){var token=getTokenAtPosition(sourceFile,position);var commentRanges=ts.getLeadingCommentRanges(sourceFile.text,token.pos);return ts.forEach(commentRanges,jsDocPrefix);function jsDocPrefix(c){var text=sourceFile.text;return text.length>=c.pos+3&&text[c.pos]==="/"&&text[c.pos+1]==="*"&&text[c.pos+2]==="*"}}ts.hasDocComment=hasDocComment;function getJsDocTagAtPosition(sourceFile,position){var node=ts.getTokenAtPosition(sourceFile,position);if(isToken(node)){switch(node.kind){case 102:case 108:case 74:node=node.parent===undefined?undefined:node.parent.parent;break;default:node=node.parent;break}}if(node){var jsDocComment=node.jsDocComment;if(jsDocComment){for(var _i=0,_a=jsDocComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.pos<=position&&position<=tag.end){return tag}}}}return undefined}ts.getJsDocTagAtPosition=getJsDocTagAtPosition;function nodeHasTokens(n){return n.getWidth()!==0}function getNodeModifiers(node){var flags=ts.getCombinedNodeFlags(node);var result=[];if(flags&32)result.push(ts.ScriptElementKindModifier.privateMemberModifier);if(flags&64)result.push(ts.ScriptElementKindModifier.protectedMemberModifier);if(flags&16)result.push(ts.ScriptElementKindModifier.publicMemberModifier);if(flags&128)result.push(ts.ScriptElementKindModifier.staticModifier);if(flags&256)result.push(ts.ScriptElementKindModifier.abstractModifier);if(flags&1)result.push(ts.ScriptElementKindModifier.exportedModifier);if(ts.isInAmbientContext(node))result.push(ts.ScriptElementKindModifier.ambientModifier);return result.length>0?result.join(","):ts.ScriptElementKindModifier.none}ts.getNodeModifiers=getNodeModifiers;function getTypeArgumentOrTypeParameterList(node){if(node.kind===151||node.kind===168){return node.typeArguments}if(ts.isFunctionLike(node)||node.kind===214||node.kind===215){return node.typeParameters}return undefined}ts.getTypeArgumentOrTypeParameterList=getTypeArgumentOrTypeParameterList;function isToken(n){return n.kind>=0&&n.kind<=134}ts.isToken=isToken;function isWord(kind){
return kind===69||ts.isKeyword(kind)}ts.isWord=isWord;function isPropertyName(kind){return kind===9||kind===8||isWord(kind)}function isComment(kind){return kind===2||kind===3}ts.isComment=isComment;function isStringOrRegularExpressionOrTemplateLiteral(kind){if(kind===9||kind===10||ts.isTemplateLiteralKind(kind)){return true}return false}ts.isStringOrRegularExpressionOrTemplateLiteral=isStringOrRegularExpressionOrTemplateLiteral;function isPunctuation(kind){return 15<=kind&&kind<=68}ts.isPunctuation=isPunctuation;function isInsideTemplateLiteral(node,position){return ts.isTemplateLiteralKind(node.kind)&&(node.getStart()<position&&position<node.getEnd())||!!node.isUnterminated&&position===node.getEnd()}ts.isInsideTemplateLiteral=isInsideTemplateLiteral;function isAccessibilityModifier(kind){switch(kind){case 112:case 110:case 111:return true}return false}ts.isAccessibilityModifier=isAccessibilityModifier;function compareDataObjects(dst,src){for(var e in dst){if(typeof dst[e]==="object"){if(!compareDataObjects(dst[e],src[e])){return false}}else if(typeof dst[e]!=="function"){if(dst[e]!==src[e]){return false}}}return true}ts.compareDataObjects=compareDataObjects})(ts||(ts={}));var ts;(function(ts){function isFirstDeclarationOfSymbolParameter(symbol){return symbol.declarations&&symbol.declarations.length>0&&symbol.declarations[0].kind===138}ts.isFirstDeclarationOfSymbolParameter=isFirstDeclarationOfSymbolParameter;var displayPartWriter=getDisplayPartWriter();function getDisplayPartWriter(){var displayParts;var lineStart;var indent;resetWriter();return{displayParts:function(){return displayParts},writeKeyword:function(text){return writeKind(text,ts.SymbolDisplayPartKind.keyword)},writeOperator:function(text){return writeKind(text,ts.SymbolDisplayPartKind.operator)},writePunctuation:function(text){return writeKind(text,ts.SymbolDisplayPartKind.punctuation)},writeSpace:function(text){return writeKind(text,ts.SymbolDisplayPartKind.space)},writeStringLiteral:function(text){return writeKind(text,ts.SymbolDisplayPartKind.stringLiteral)},writeParameter:function(text){return writeKind(text,ts.SymbolDisplayPartKind.parameterName)},writeSymbol:writeSymbol,writeLine:writeLine,increaseIndent:function(){indent++},decreaseIndent:function(){indent--},clear:resetWriter,trackSymbol:function(){},reportInaccessibleThisError:function(){}};function writeIndent(){if(lineStart){var indentString=ts.getIndentString(indent);if(indentString){displayParts.push(displayPart(indentString,ts.SymbolDisplayPartKind.space))}lineStart=false}}function writeKind(text,kind){writeIndent();displayParts.push(displayPart(text,kind))}function writeSymbol(text,symbol){writeIndent();displayParts.push(symbolPart(text,symbol))}function writeLine(){displayParts.push(lineBreakPart());lineStart=true}function resetWriter(){displayParts=[];lineStart=true;indent=0}}function symbolPart(text,symbol){return displayPart(text,displayPartKind(symbol),symbol);function displayPartKind(symbol){var flags=symbol.flags;if(flags&3){return isFirstDeclarationOfSymbolParameter(symbol)?ts.SymbolDisplayPartKind.parameterName:ts.SymbolDisplayPartKind.localName}else if(flags&4){return ts.SymbolDisplayPartKind.propertyName}else if(flags&32768){return ts.SymbolDisplayPartKind.propertyName}else if(flags&65536){return ts.SymbolDisplayPartKind.propertyName}else if(flags&8){return ts.SymbolDisplayPartKind.enumMemberName}else if(flags&16){return ts.SymbolDisplayPartKind.functionName}else if(flags&32){return ts.SymbolDisplayPartKind.className}else if(flags&64){return ts.SymbolDisplayPartKind.interfaceName}else if(flags&384){return ts.SymbolDisplayPartKind.enumName}else if(flags&1536){return ts.SymbolDisplayPartKind.moduleName}else if(flags&8192){return ts.SymbolDisplayPartKind.methodName}else if(flags&262144){return ts.SymbolDisplayPartKind.typeParameterName}else if(flags&524288){return ts.SymbolDisplayPartKind.aliasName}else if(flags&8388608){return ts.SymbolDisplayPartKind.aliasName}return ts.SymbolDisplayPartKind.text}}ts.symbolPart=symbolPart;function displayPart(text,kind,symbol){return{text:text,kind:ts.SymbolDisplayPartKind[kind]}}ts.displayPart=displayPart;function spacePart(){return displayPart(" ",ts.SymbolDisplayPartKind.space)}ts.spacePart=spacePart;function keywordPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.keyword)}ts.keywordPart=keywordPart;function punctuationPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.punctuation)}ts.punctuationPart=punctuationPart;function operatorPart(kind){return displayPart(ts.tokenToString(kind),ts.SymbolDisplayPartKind.operator)}ts.operatorPart=operatorPart;function textOrKeywordPart(text){var kind=ts.stringToToken(text);return kind===undefined?textPart(text):keywordPart(kind)}ts.textOrKeywordPart=textOrKeywordPart;function textPart(text){return displayPart(text,ts.SymbolDisplayPartKind.text)}ts.textPart=textPart;var carriageReturnLineFeed="\r\n";function getNewLineOrDefaultFromHost(host){return host.getNewLine?host.getNewLine():carriageReturnLineFeed}ts.getNewLineOrDefaultFromHost=getNewLineOrDefaultFromHost;function lineBreakPart(){return displayPart("\n",ts.SymbolDisplayPartKind.lineBreak)}ts.lineBreakPart=lineBreakPart;function mapToDisplayParts(writeDisplayParts){writeDisplayParts(displayPartWriter);var result=displayPartWriter.displayParts();displayPartWriter.clear();return result}ts.mapToDisplayParts=mapToDisplayParts;function typeToDisplayParts(typechecker,type,enclosingDeclaration,flags){return mapToDisplayParts(function(writer){typechecker.getSymbolDisplayBuilder().buildTypeDisplay(type,writer,enclosingDeclaration,flags)})}ts.typeToDisplayParts=typeToDisplayParts;function symbolToDisplayParts(typeChecker,symbol,enclosingDeclaration,meaning,flags){return mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildSymbolDisplay(symbol,writer,enclosingDeclaration,meaning,flags)})}ts.symbolToDisplayParts=symbolToDisplayParts;function signatureToDisplayParts(typechecker,signature,enclosingDeclaration,flags){return mapToDisplayParts(function(writer){typechecker.getSymbolDisplayBuilder().buildSignatureDisplay(signature,writer,enclosingDeclaration,flags)})}ts.signatureToDisplayParts=signatureToDisplayParts;function getDeclaredName(typeChecker,symbol,location){if(isImportOrExportSpecifierName(location)){return location.getText()}var localExportDefaultSymbol=ts.getLocalSymbolForExportDefault(symbol);var name=typeChecker.symbolToString(localExportDefaultSymbol||symbol);return name}ts.getDeclaredName=getDeclaredName;function isImportOrExportSpecifierName(location){return location.parent&&(location.parent.kind===226||location.parent.kind===230)&&location.parent.propertyName===location}ts.isImportOrExportSpecifierName=isImportOrExportSpecifierName;function stripQuotes(name){var length=name.length;if(length>=2&&name.charCodeAt(0)===name.charCodeAt(length-1)&&(name.charCodeAt(0)===34||name.charCodeAt(0)===39)){return name.substring(1,length-1)}return name}ts.stripQuotes=stripQuotes})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var standardScanner=ts.createScanner(2,false,0);var jsxScanner=ts.createScanner(2,false,1);var scanner;var ScanAction;(function(ScanAction){ScanAction[ScanAction["Scan"]=0]="Scan";ScanAction[ScanAction["RescanGreaterThanToken"]=1]="RescanGreaterThanToken";ScanAction[ScanAction["RescanSlashToken"]=2]="RescanSlashToken";ScanAction[ScanAction["RescanTemplateToken"]=3]="RescanTemplateToken";ScanAction[ScanAction["RescanJsxIdentifier"]=4]="RescanJsxIdentifier"})(ScanAction||(ScanAction={}));function getFormattingScanner(sourceFile,startPos,endPos){ts.Debug.assert(scanner===undefined);scanner=sourceFile.languageVariant===1?jsxScanner:standardScanner;scanner.setText(sourceFile.text);scanner.setTextPos(startPos);var wasNewLine=true;var leadingTrivia;var trailingTrivia;var savedPos;var lastScanAction;var lastTokenInfo;return{advance:advance,readTokenInfo:readTokenInfo,isOnToken:isOnToken,lastTrailingTriviaWasNewLine:function(){return wasNewLine},close:function(){ts.Debug.assert(scanner!==undefined);lastTokenInfo=undefined;scanner.setText(undefined);scanner=undefined}};function advance(){ts.Debug.assert(scanner!==undefined);lastTokenInfo=undefined;var isStarted=scanner.getStartPos()!==startPos;if(isStarted){if(trailingTrivia){ts.Debug.assert(trailingTrivia.length!==0);wasNewLine=ts.lastOrUndefined(trailingTrivia).kind===4}else{wasNewLine=false}}leadingTrivia=undefined;trailingTrivia=undefined;if(!isStarted){scanner.scan()}var t;var pos=scanner.getStartPos();while(pos<endPos){var t_1=scanner.getToken();if(!ts.isTrivia(t_1)){break}scanner.scan();var item={pos:pos,end:scanner.getStartPos(),kind:t_1};pos=scanner.getStartPos();if(!leadingTrivia){leadingTrivia=[]}leadingTrivia.push(item)}savedPos=scanner.getStartPos()}function shouldRescanGreaterThanToken(node){if(node){switch(node.kind){case 29:case 64:case 65:case 45:case 44:return true}}return false}function shouldRescanJsxIdentifier(node){if(node.parent){switch(node.parent.kind){case 238:case 235:case 237:case 234:return node.kind===69}}return false}function shouldRescanSlashToken(container){return container.kind===10}function shouldRescanTemplateToken(container){return container.kind===13||container.kind===14}function startsWithSlashToken(t){return t===39||t===61}function readTokenInfo(n){ts.Debug.assert(scanner!==undefined);if(!isOnToken()){return{leadingTrivia:leadingTrivia,trailingTrivia:undefined,token:undefined}}var expectedScanAction=shouldRescanGreaterThanToken(n)?1:shouldRescanSlashToken(n)?2:shouldRescanTemplateToken(n)?3:shouldRescanJsxIdentifier(n)?4:0;if(lastTokenInfo&&expectedScanAction===lastScanAction){return fixTokenKind(lastTokenInfo,n)}if(scanner.getStartPos()!==savedPos){ts.Debug.assert(lastTokenInfo!==undefined);scanner.setTextPos(savedPos);scanner.scan()}var currentToken=scanner.getToken();if(expectedScanAction===1&&currentToken===27){currentToken=scanner.reScanGreaterToken();ts.Debug.assert(n.kind===currentToken);lastScanAction=1}else if(expectedScanAction===2&&startsWithSlashToken(currentToken)){currentToken=scanner.reScanSlashToken();ts.Debug.assert(n.kind===currentToken);lastScanAction=2}else if(expectedScanAction===3&&currentToken===16){currentToken=scanner.reScanTemplateToken();lastScanAction=3}else if(expectedScanAction===4&&currentToken===69){currentToken=scanner.scanJsxIdentifier();lastScanAction=4}else{lastScanAction=0}var token={pos:scanner.getStartPos(),end:scanner.getTextPos(),kind:currentToken};if(trailingTrivia){trailingTrivia=undefined}while(scanner.getStartPos()<endPos){currentToken=scanner.scan();if(!ts.isTrivia(currentToken)){break}var trivia={pos:scanner.getStartPos(),end:scanner.getTextPos(),kind:currentToken};if(!trailingTrivia){trailingTrivia=[]}trailingTrivia.push(trivia);if(currentToken===4){scanner.scan();break}}lastTokenInfo={leadingTrivia:leadingTrivia,trailingTrivia:trailingTrivia,token:token};return fixTokenKind(lastTokenInfo,n)}function isOnToken(){ts.Debug.assert(scanner!==undefined);var current=lastTokenInfo&&lastTokenInfo.token.kind||scanner.getToken();var startPos=lastTokenInfo&&lastTokenInfo.token.pos||scanner.getStartPos();return startPos<endPos&&current!==1&&!ts.isTrivia(current)}function fixTokenKind(tokenInfo,container){if(ts.isToken(container)&&tokenInfo.token.kind!==container.kind){tokenInfo.token.kind=container.kind}return tokenInfo}}formatting.getFormattingScanner=getFormattingScanner})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var FormattingContext=function(){function FormattingContext(sourceFile,formattingRequestKind){this.sourceFile=sourceFile;this.formattingRequestKind=formattingRequestKind}FormattingContext.prototype.updateContext=function(currentRange,currentTokenParent,nextRange,nextTokenParent,commonParent){ts.Debug.assert(currentRange!==undefined,"currentTokenSpan is null");ts.Debug.assert(currentTokenParent!==undefined,"currentTokenParent is null");ts.Debug.assert(nextRange!==undefined,"nextTokenSpan is null");ts.Debug.assert(nextTokenParent!==undefined,"nextTokenParent is null");ts.Debug.assert(commonParent!==undefined,"commonParent is null");this.currentTokenSpan=currentRange;this.currentTokenParent=currentTokenParent;this.nextTokenSpan=nextRange;this.nextTokenParent=nextTokenParent;this.contextNode=commonParent;this.contextNodeAllOnSameLine=undefined;this.nextNodeAllOnSameLine=undefined;this.tokensAreOnSameLine=undefined;this.contextNodeBlockIsOnOneLine=undefined;this.nextNodeBlockIsOnOneLine=undefined};FormattingContext.prototype.ContextNodeAllOnSameLine=function(){if(this.contextNodeAllOnSameLine===undefined){this.contextNodeAllOnSameLine=this.NodeIsOnOneLine(this.contextNode)}return this.contextNodeAllOnSameLine};FormattingContext.prototype.NextNodeAllOnSameLine=function(){if(this.nextNodeAllOnSameLine===undefined){this.nextNodeAllOnSameLine=this.NodeIsOnOneLine(this.nextTokenParent)}return this.nextNodeAllOnSameLine};FormattingContext.prototype.TokensAreOnSameLine=function(){if(this.tokensAreOnSameLine===undefined){var startLine=this.sourceFile.getLineAndCharacterOfPosition(this.currentTokenSpan.pos).line;var endLine=this.sourceFile.getLineAndCharacterOfPosition(this.nextTokenSpan.pos).line;this.tokensAreOnSameLine=startLine===endLine}return this.tokensAreOnSameLine};FormattingContext.prototype.ContextNodeBlockIsOnOneLine=function(){if(this.contextNodeBlockIsOnOneLine===undefined){this.contextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.contextNode)}return this.contextNodeBlockIsOnOneLine};FormattingContext.prototype.NextNodeBlockIsOnOneLine=function(){if(this.nextNodeBlockIsOnOneLine===undefined){this.nextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.nextTokenParent)}return this.nextNodeBlockIsOnOneLine};FormattingContext.prototype.NodeIsOnOneLine=function(node){var startLine=this.sourceFile.getLineAndCharacterOfPosition(node.getStart(this.sourceFile)).line;var endLine=this.sourceFile.getLineAndCharacterOfPosition(node.getEnd()).line;return startLine===endLine};FormattingContext.prototype.BlockIsOnOneLine=function(node){var openBrace=ts.findChildOfKind(node,15,this.sourceFile);var closeBrace=ts.findChildOfKind(node,16,this.sourceFile);if(openBrace&&closeBrace){var startLine=this.sourceFile.getLineAndCharacterOfPosition(openBrace.getEnd()).line;var endLine=this.sourceFile.getLineAndCharacterOfPosition(closeBrace.getStart(this.sourceFile)).line;return startLine===endLine}return false};return FormattingContext}();formatting.FormattingContext=FormattingContext})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){(function(FormattingRequestKind){FormattingRequestKind[FormattingRequestKind["FormatDocument"]=0]="FormatDocument";FormattingRequestKind[FormattingRequestKind["FormatSelection"]=1]="FormatSelection";FormattingRequestKind[FormattingRequestKind["FormatOnEnter"]=2]="FormatOnEnter";FormattingRequestKind[FormattingRequestKind["FormatOnSemicolon"]=3]="FormatOnSemicolon";FormattingRequestKind[FormattingRequestKind["FormatOnClosingCurlyBrace"]=4]="FormatOnClosingCurlyBrace"})(formatting.FormattingRequestKind||(formatting.FormattingRequestKind={}));var FormattingRequestKind=formatting.FormattingRequestKind})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Rule=function(){function Rule(Descriptor,Operation,Flag){if(Flag===void 0){Flag=0}this.Descriptor=Descriptor;this.Operation=Operation;this.Flag=Flag}Rule.prototype.toString=function(){return"[desc="+this.Descriptor+","+"operation="+this.Operation+","+"flag="+this.Flag+"]"};return Rule}();formatting.Rule=Rule})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){(function(RuleAction){RuleAction[RuleAction["Ignore"]=1]="Ignore";RuleAction[RuleAction["Space"]=2]="Space";RuleAction[RuleAction["NewLine"]=4]="NewLine";RuleAction[RuleAction["Delete"]=8]="Delete"})(formatting.RuleAction||(formatting.RuleAction={}));var RuleAction=formatting.RuleAction})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RuleDescriptor=function(){function RuleDescriptor(LeftTokenRange,RightTokenRange){this.LeftTokenRange=LeftTokenRange;this.RightTokenRange=RightTokenRange}RuleDescriptor.prototype.toString=function(){return"[leftRange="+this.LeftTokenRange+","+"rightRange="+this.RightTokenRange+"]"};RuleDescriptor.create1=function(left,right){return RuleDescriptor.create4(formatting.Shared.TokenRange.FromToken(left),formatting.Shared.TokenRange.FromToken(right))};RuleDescriptor.create2=function(left,right){return RuleDescriptor.create4(left,formatting.Shared.TokenRange.FromToken(right))};RuleDescriptor.create3=function(left,right){return RuleDescriptor.create4(formatting.Shared.TokenRange.FromToken(left),right)};RuleDescriptor.create4=function(left,right){return new RuleDescriptor(left,right)};return RuleDescriptor}();formatting.RuleDescriptor=RuleDescriptor})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){(function(RuleFlags){RuleFlags[RuleFlags["None"]=0]="None";RuleFlags[RuleFlags["CanDeleteNewLines"]=1]="CanDeleteNewLines"})(formatting.RuleFlags||(formatting.RuleFlags={}));var RuleFlags=formatting.RuleFlags})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RuleOperation=function(){function RuleOperation(){this.Context=null;this.Action=null}RuleOperation.prototype.toString=function(){return"[context="+this.Context+","+"action="+this.Action+"]"};RuleOperation.create1=function(action){return RuleOperation.create2(formatting.RuleOperationContext.Any,action)};RuleOperation.create2=function(context,action){var result=new RuleOperation;result.Context=context;result.Action=action;return result};return RuleOperation}();formatting.RuleOperation=RuleOperation})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RuleOperationContext=function(){function RuleOperationContext(){var funcs=[];for(var _i=0;_i<arguments.length;_i++){funcs[_i-0]=arguments[_i]}this.customContextChecks=funcs}RuleOperationContext.prototype.IsAny=function(){return this===RuleOperationContext.Any};RuleOperationContext.prototype.InContext=function(context){if(this.IsAny()){return true}for(var _i=0,_a=this.customContextChecks;_i<_a.length;_i++){var check=_a[_i];if(!check(context)){return false}}return true};RuleOperationContext.Any=new RuleOperationContext;return RuleOperationContext}();formatting.RuleOperationContext=RuleOperationContext})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Rules=function(){function Rules(){this.IgnoreBeforeComment=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.Comments),formatting.RuleOperation.create1(1));this.IgnoreAfterLineComment=new formatting.Rule(formatting.RuleDescriptor.create3(2,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create1(1));this.NoSpaceBeforeSemicolon=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,23),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeColon=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,54),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8));this.NoSpaceBeforeQuestionMark=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,53),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8));this.SpaceAfterColon=new formatting.Rule(formatting.RuleDescriptor.create3(54,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),2));this.SpaceAfterQuestionMarkInConditionalOperator=new formatting.Rule(formatting.RuleDescriptor.create3(53,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsConditionalOperatorContext),2));this.NoSpaceAfterQuestionMark=new formatting.Rule(formatting.RuleDescriptor.create3(53,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterSemicolon=new formatting.Rule(formatting.RuleDescriptor.create3(23,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceAfterCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create3(16,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsAfterCodeBlockContext),2));this.SpaceBetweenCloseBraceAndElse=new formatting.Rule(formatting.RuleDescriptor.create1(16,80),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceBetweenCloseBraceAndWhile=new formatting.Rule(formatting.RuleDescriptor.create1(16,104),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceAfterCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create3(16,formatting.Shared.TokenRange.FromTokens([18,20,24,23])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeDot=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,21),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterDot=new formatting.Rule(formatting.RuleDescriptor.create3(21,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,19),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create3(20,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBeforeBlockInFunctionDeclarationContext),8));this.FunctionOpenBraceLeftTokenRange=formatting.Shared.TokenRange.AnyIncludingMultilineComments;this.SpaceBeforeOpenBraceInFunction=new formatting.Rule(formatting.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext,Rules.IsBeforeBlockContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2),1);this.TypeScriptOpenBraceLeftTokenRange=formatting.Shared.TokenRange.FromTokens([69,3,73]);this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock=new formatting.Rule(formatting.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsTypeScriptDeclWithBlockContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2),1);this.ControlOpenBraceLeftTokenRange=formatting.Shared.TokenRange.FromTokens([18,3,79,100,85,80]);this.SpaceBeforeOpenBraceInControl=new formatting.Rule(formatting.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext,Rules.IsNotFormatOnEnter,Rules.IsSameLineTokenOrBeforeMultilineBlockContext),2),1);this.SpaceAfterOpenBrace=new formatting.Rule(formatting.RuleDescriptor.create3(15,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSingleLineBlockContext),2));this.SpaceBeforeCloseBrace=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSingleLineBlockContext),2));this.NoSpaceBetweenEmptyBraceBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(15,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsObjectContext),8));this.NewLineAfterOpenBraceInBlockContext=new formatting.Rule(formatting.RuleDescriptor.create3(15,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsMultilineBlockContext),4));this.NewLineBeforeCloseBraceInBlockContext=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.AnyIncludingMultilineComments,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsMultilineBlockContext),4));this.NoSpaceAfterUnaryPrefixOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.UnaryPrefixOperators,formatting.Shared.TokenRange.UnaryPrefixExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8));this.NoSpaceAfterUnaryPreincrementOperator=new formatting.Rule(formatting.RuleDescriptor.create3(41,formatting.Shared.TokenRange.UnaryPreincrementExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterUnaryPredecrementOperator=new formatting.Rule(formatting.RuleDescriptor.create3(42,formatting.Shared.TokenRange.UnaryPredecrementExpressions),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeUnaryPostincrementOperator=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.UnaryPostincrementExpressions,41),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeUnaryPostdecrementOperator=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.UnaryPostdecrementExpressions,42),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterPostincrementWhenFollowedByAdd=new formatting.Rule(formatting.RuleDescriptor.create1(41,35),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterAddWhenFollowedByUnaryPlus=new formatting.Rule(formatting.RuleDescriptor.create1(35,35),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterAddWhenFollowedByPreincrement=new formatting.Rule(formatting.RuleDescriptor.create1(35,41),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterPostdecrementWhenFollowedBySubtract=new formatting.Rule(formatting.RuleDescriptor.create1(42,36),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterSubtractWhenFollowedByUnaryMinus=new formatting.Rule(formatting.RuleDescriptor.create1(36,36),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterSubtractWhenFollowedByPredecrement=new formatting.Rule(formatting.RuleDescriptor.create1(36,42),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.NoSpaceBeforeComma=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,24),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterCertainKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([102,98,92,78,94,101,119]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceAfterLetConstInVariableDeclaration=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([108,74]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsStartOfVariableDeclarationList),2));this.NoSpaceBeforeOpenParenInFuncCall=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsFunctionCallOrNewContext,Rules.IsPreviousTokenNotComma),8));this.SpaceAfterFunctionInFuncDecl=new formatting.Rule(formatting.RuleDescriptor.create3(87,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2));this.NoSpaceBeforeOpenParenInFuncDecl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsFunctionDeclContext),8));this.SpaceAfterVoidOperator=new formatting.Rule(formatting.RuleDescriptor.create3(103,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsVoidOpContext),2));this.NoSpaceBetweenReturnAndSemicolon=new formatting.Rule(formatting.RuleDescriptor.create1(94,23),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceBetweenStatements=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([18,79,80,71]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotForContext),2));this.SpaceAfterTryFinally=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([100,85]),15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceAfterGetSetInMember=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([123,129]),69),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2));this.SpaceBeforeBinaryKeywordOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryKeywordOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterBinaryKeywordOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryKeywordOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.NoSpaceAfterConstructor=new formatting.Rule(formatting.RuleDescriptor.create1(121,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterModuleImport=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.FromTokens([125,127]),17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterCertainTypeScriptKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([115,73,122,77,81,82,83,123,106,89,107,125,126,110,112,111,129,113,132]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));
this.SpaceBeforeCertainTypeScriptKeywords=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([83,106])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceAfterModuleName=new formatting.Rule(formatting.RuleDescriptor.create1(9,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsModuleDeclContext),2));this.SpaceAfterArrow=new formatting.Rule(formatting.RuleDescriptor.create3(34,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceAfterEllipsis=new formatting.Rule(formatting.RuleDescriptor.create1(22,69),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterOptionalParameters=new formatting.Rule(formatting.RuleDescriptor.create3(53,formatting.Shared.TokenRange.FromTokens([18,24])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsNotBinaryOpContext),8));this.NoSpaceBeforeOpenAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.TypeNames,25),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8));this.NoSpaceBetweenCloseParenAndAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create1(18,25),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8));this.NoSpaceAfterOpenAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create3(25,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8));this.NoSpaceBeforeCloseAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,27),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8));this.NoSpaceAfterCloseAngularBracket=new formatting.Rule(formatting.RuleDescriptor.create3(27,formatting.Shared.TokenRange.FromTokens([17,19,27,24])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeArgumentOrParameterOrAssertionContext),8));this.NoSpaceAfterTypeAssertion=new formatting.Rule(formatting.RuleDescriptor.create3(27,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsTypeAssertionContext),8));this.NoSpaceBetweenEmptyInterfaceBraceBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(15,16),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsObjectTypeContext),8));this.SpaceBeforeAt=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,55),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceAfterAt=new formatting.Rule(formatting.RuleDescriptor.create3(55,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterDecorator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([115,69,82,77,73,113,112,110,111,123,129,19,37])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsEndOfDecoratorContextOnSameLine),2));this.NoSpaceBetweenFunctionKeywordAndStar=new formatting.Rule(formatting.RuleDescriptor.create1(87,37),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclarationOrFunctionExpressionContext),8));this.SpaceAfterStarInGeneratorDeclaration=new formatting.Rule(formatting.RuleDescriptor.create3(37,formatting.Shared.TokenRange.FromTokens([69,17])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclarationOrFunctionExpressionContext),2));this.NoSpaceBetweenYieldKeywordAndStar=new formatting.Rule(formatting.RuleDescriptor.create1(114,37),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsYieldOrYieldStarWithOperand),8));this.SpaceBetweenYieldOrYieldStarAndOperand=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([114,37]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsYieldOrYieldStarWithOperand),2));this.SpaceBetweenAsyncAndOpenParen=new formatting.Rule(formatting.RuleDescriptor.create1(118,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsArrowFunctionContext,Rules.IsSameLineTokenContext),2));this.SpaceBetweenAsyncAndFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(118,87),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceBetweenTagAndTemplateString=new formatting.Rule(formatting.RuleDescriptor.create3(69,formatting.Shared.TokenRange.FromTokens([11,12])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceAfterTemplateHeadAndMiddle=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.FromTokens([12,13]),formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeTemplateMiddleAndTail=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.FromTokens([13,14])),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.HighPriorityCommonRules=[this.IgnoreBeforeComment,this.IgnoreAfterLineComment,this.NoSpaceBeforeColon,this.SpaceAfterColon,this.NoSpaceBeforeQuestionMark,this.SpaceAfterQuestionMarkInConditionalOperator,this.NoSpaceAfterQuestionMark,this.NoSpaceBeforeDot,this.NoSpaceAfterDot,this.NoSpaceAfterUnaryPrefixOperator,this.NoSpaceAfterUnaryPreincrementOperator,this.NoSpaceAfterUnaryPredecrementOperator,this.NoSpaceBeforeUnaryPostincrementOperator,this.NoSpaceBeforeUnaryPostdecrementOperator,this.SpaceAfterPostincrementWhenFollowedByAdd,this.SpaceAfterAddWhenFollowedByUnaryPlus,this.SpaceAfterAddWhenFollowedByPreincrement,this.SpaceAfterPostdecrementWhenFollowedBySubtract,this.SpaceAfterSubtractWhenFollowedByUnaryMinus,this.SpaceAfterSubtractWhenFollowedByPredecrement,this.NoSpaceAfterCloseBrace,this.SpaceAfterOpenBrace,this.SpaceBeforeCloseBrace,this.NewLineBeforeCloseBraceInBlockContext,this.SpaceAfterCloseBrace,this.SpaceBetweenCloseBraceAndElse,this.SpaceBetweenCloseBraceAndWhile,this.NoSpaceBetweenEmptyBraceBrackets,this.NoSpaceBetweenFunctionKeywordAndStar,this.SpaceAfterStarInGeneratorDeclaration,this.SpaceAfterFunctionInFuncDecl,this.NewLineAfterOpenBraceInBlockContext,this.SpaceAfterGetSetInMember,this.NoSpaceBetweenYieldKeywordAndStar,this.SpaceBetweenYieldOrYieldStarAndOperand,this.NoSpaceBetweenReturnAndSemicolon,this.SpaceAfterCertainKeywords,this.SpaceAfterLetConstInVariableDeclaration,this.NoSpaceBeforeOpenParenInFuncCall,this.SpaceBeforeBinaryKeywordOperator,this.SpaceAfterBinaryKeywordOperator,this.SpaceAfterVoidOperator,this.SpaceBetweenAsyncAndOpenParen,this.SpaceBetweenAsyncAndFunctionKeyword,this.SpaceBetweenTagAndTemplateString,this.NoSpaceAfterTemplateHeadAndMiddle,this.NoSpaceBeforeTemplateMiddleAndTail,this.NoSpaceAfterConstructor,this.NoSpaceAfterModuleImport,this.SpaceAfterCertainTypeScriptKeywords,this.SpaceBeforeCertainTypeScriptKeywords,this.SpaceAfterModuleName,this.SpaceAfterArrow,this.NoSpaceAfterEllipsis,this.NoSpaceAfterOptionalParameters,this.NoSpaceBetweenEmptyInterfaceBraceBrackets,this.NoSpaceBeforeOpenAngularBracket,this.NoSpaceBetweenCloseParenAndAngularBracket,this.NoSpaceAfterOpenAngularBracket,this.NoSpaceBeforeCloseAngularBracket,this.NoSpaceAfterCloseAngularBracket,this.NoSpaceAfterTypeAssertion,this.SpaceBeforeAt,this.NoSpaceAfterAt,this.SpaceAfterDecorator];this.LowPriorityCommonRules=[this.NoSpaceBeforeSemicolon,this.SpaceBeforeOpenBraceInControl,this.SpaceBeforeOpenBraceInFunction,this.SpaceBeforeOpenBraceInTypeScriptDeclWithBlock,this.NoSpaceBeforeComma,this.NoSpaceBeforeOpenBracket,this.NoSpaceAfterCloseBracket,this.SpaceAfterSemicolon,this.NoSpaceBeforeOpenParenInFuncDecl,this.SpaceBetweenStatements,this.SpaceAfterTryFinally];this.SpaceAfterComma=new formatting.Rule(formatting.RuleDescriptor.create3(24,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceAfterComma=new formatting.Rule(formatting.RuleDescriptor.create3(24,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceBeforeBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.SpaceAfterBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),2));this.NoSpaceBeforeBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.Any,formatting.Shared.TokenRange.BinaryOperators),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),8));this.NoSpaceAfterBinaryOperator=new formatting.Rule(formatting.RuleDescriptor.create4(formatting.Shared.TokenRange.BinaryOperators,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsBinaryOpContext),8));this.SpaceAfterKeywordInControl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Keywords,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext),2));this.NoSpaceAfterKeywordInControl=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Keywords,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext),8));this.NewLineBeforeOpenBraceInFunction=new formatting.Rule(formatting.RuleDescriptor.create2(this.FunctionOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext,Rules.IsBeforeMultilineBlockContext),4),1);this.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock=new formatting.Rule(formatting.RuleDescriptor.create2(this.TypeScriptOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsTypeScriptDeclWithBlockContext,Rules.IsBeforeMultilineBlockContext),4),1);this.NewLineBeforeOpenBraceInControl=new formatting.Rule(formatting.RuleDescriptor.create2(this.ControlOpenBraceLeftTokenRange,15),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsControlDeclContext,Rules.IsBeforeMultilineBlockContext),4),1);this.SpaceAfterSemicolonInFor=new formatting.Rule(formatting.RuleDescriptor.create3(23,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsForContext),2));this.NoSpaceAfterSemicolonInFor=new formatting.Rule(formatting.RuleDescriptor.create3(23,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext,Rules.IsForContext),8));this.SpaceAfterOpenParen=new formatting.Rule(formatting.RuleDescriptor.create3(17,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceBeforeCloseParen=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,18),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceBetweenParens=new formatting.Rule(formatting.RuleDescriptor.create1(17,18),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterOpenParen=new formatting.Rule(formatting.RuleDescriptor.create3(17,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeCloseParen=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,18),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create3(19,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.SpaceBeforeCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,20),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),2));this.NoSpaceBetweenBrackets=new formatting.Rule(formatting.RuleDescriptor.create1(19,20),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceAfterOpenBracket=new formatting.Rule(formatting.RuleDescriptor.create3(19,formatting.Shared.TokenRange.Any),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.NoSpaceBeforeCloseBracket=new formatting.Rule(formatting.RuleDescriptor.create2(formatting.Shared.TokenRange.Any,20),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsSameLineTokenContext),8));this.SpaceAfterAnonymousFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(87,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),2));this.NoSpaceAfterAnonymousFunctionKeyword=new formatting.Rule(formatting.RuleDescriptor.create1(87,17),formatting.RuleOperation.create2(new formatting.RuleOperationContext(Rules.IsFunctionDeclContext),8))}Rules.prototype.getRuleName=function(rule){var o=this;for(var name_31 in o){if(o[name_31]===rule){return name_31}}throw new Error("Unknown rule")};Rules.IsForContext=function(context){return context.contextNode.kind===199};Rules.IsNotForContext=function(context){return!Rules.IsForContext(context)};Rules.IsBinaryOpContext=function(context){switch(context.contextNode.kind){case 181:case 182:case 189:case 150:case 158:case 159:return true;case 163:case 216:case 221:case 211:case 138:case 247:case 141:case 140:return context.currentTokenSpan.kind===56||context.nextTokenSpan.kind===56;case 200:return context.currentTokenSpan.kind===90||context.nextTokenSpan.kind===90;case 201:return context.currentTokenSpan.kind===134||context.nextTokenSpan.kind===134}return false};Rules.IsNotBinaryOpContext=function(context){return!Rules.IsBinaryOpContext(context)};Rules.IsConditionalOperatorContext=function(context){return context.contextNode.kind===182};Rules.IsSameLineTokenOrBeforeMultilineBlockContext=function(context){return context.TokensAreOnSameLine()||Rules.IsBeforeMultilineBlockContext(context)};Rules.IsBeforeMultilineBlockContext=function(context){return Rules.IsBeforeBlockContext(context)&&!(context.NextNodeAllOnSameLine()||context.NextNodeBlockIsOnOneLine())};Rules.IsMultilineBlockContext=function(context){return Rules.IsBlockContext(context)&&!(context.ContextNodeAllOnSameLine()||context.ContextNodeBlockIsOnOneLine())};Rules.IsSingleLineBlockContext=function(context){return Rules.IsBlockContext(context)&&(context.ContextNodeAllOnSameLine()||context.ContextNodeBlockIsOnOneLine())};Rules.IsBlockContext=function(context){return Rules.NodeIsBlockContext(context.contextNode)};Rules.IsBeforeBlockContext=function(context){return Rules.NodeIsBlockContext(context.nextTokenParent)};Rules.NodeIsBlockContext=function(node){if(Rules.NodeIsTypeScriptDeclWithBlockContext(node)){return true}switch(node.kind){case 192:case 220:case 165:case 219:return true}return false};Rules.IsFunctionDeclContext=function(context){switch(context.contextNode.kind){case 213:case 143:case 142:case 145:case 146:case 147:case 173:case 144:case 174:case 215:return true}return false};Rules.IsFunctionDeclarationOrFunctionExpressionContext=function(context){return context.contextNode.kind===213||context.contextNode.kind===173};Rules.IsTypeScriptDeclWithBlockContext=function(context){return Rules.NodeIsTypeScriptDeclWithBlockContext(context.contextNode)};Rules.NodeIsTypeScriptDeclWithBlockContext=function(node){switch(node.kind){case 214:case 186:case 215:case 217:case 155:case 218:return true}return false};Rules.IsAfterCodeBlockContext=function(context){switch(context.currentTokenParent.kind){case 214:case 218:case 217:case 192:case 244:case 219:case 206:return true}return false};Rules.IsControlDeclContext=function(context){switch(context.contextNode.kind){case 196:case 206:case 199:case 200:case 201:case 198:case 209:case 197:case 205:case 244:return true;default:return false}};Rules.IsObjectContext=function(context){return context.contextNode.kind===165};Rules.IsFunctionCallContext=function(context){return context.contextNode.kind===168};Rules.IsNewContext=function(context){return context.contextNode.kind===169};Rules.IsFunctionCallOrNewContext=function(context){return Rules.IsFunctionCallContext(context)||Rules.IsNewContext(context)};Rules.IsPreviousTokenNotComma=function(context){return context.currentTokenSpan.kind!==24};Rules.IsArrowFunctionContext=function(context){return context.contextNode.kind===174};Rules.IsSameLineTokenContext=function(context){return context.TokensAreOnSameLine()};Rules.IsNotBeforeBlockInFunctionDeclarationContext=function(context){return!Rules.IsFunctionDeclContext(context)&&!Rules.IsBeforeBlockContext(context)};Rules.IsEndOfDecoratorContextOnSameLine=function(context){return context.TokensAreOnSameLine()&&context.contextNode.decorators&&Rules.NodeIsInDecoratorContext(context.currentTokenParent)&&!Rules.NodeIsInDecoratorContext(context.nextTokenParent)};Rules.NodeIsInDecoratorContext=function(node){while(ts.isExpression(node)){node=node.parent}return node.kind===139};Rules.IsStartOfVariableDeclarationList=function(context){return context.currentTokenParent.kind===212&&context.currentTokenParent.getStart(context.sourceFile)===context.currentTokenSpan.pos};Rules.IsNotFormatOnEnter=function(context){return context.formattingRequestKind!==2};Rules.IsModuleDeclContext=function(context){return context.contextNode.kind===218};Rules.IsObjectTypeContext=function(context){return context.contextNode.kind===155};Rules.IsTypeArgumentOrParameterOrAssertion=function(token,parent){if(token.kind!==25&&token.kind!==27){return false}switch(parent.kind){case 151:case 171:case 214:case 186:case 215:case 213:case 173:case 174:case 143:case 142:case 147:case 148:case 168:case 169:case 188:return true;default:return false}};Rules.IsTypeArgumentOrParameterOrAssertionContext=function(context){return Rules.IsTypeArgumentOrParameterOrAssertion(context.currentTokenSpan,context.currentTokenParent)||Rules.IsTypeArgumentOrParameterOrAssertion(context.nextTokenSpan,context.nextTokenParent)};Rules.IsTypeAssertionContext=function(context){return context.contextNode.kind===171};Rules.IsVoidOpContext=function(context){return context.currentTokenSpan.kind===103&&context.currentTokenParent.kind===177};Rules.IsYieldOrYieldStarWithOperand=function(context){return context.contextNode.kind===184&&context.contextNode.expression!==undefined};return Rules}();formatting.Rules=Rules})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RulesMap=function(){function RulesMap(){this.map=[];this.mapRowLength=0}RulesMap.create=function(rules){var result=new RulesMap;result.Initialize(rules);return result};RulesMap.prototype.Initialize=function(rules){this.mapRowLength=134+1;this.map=new Array(this.mapRowLength*this.mapRowLength);var rulesBucketConstructionStateList=new Array(this.map.length);this.FillRules(rules,rulesBucketConstructionStateList);return this.map};RulesMap.prototype.FillRules=function(rules,rulesBucketConstructionStateList){var _this=this;rules.forEach(function(rule){_this.FillRule(rule,rulesBucketConstructionStateList)})};RulesMap.prototype.GetRuleBucketIndex=function(row,column){var rulesBucketIndex=row*this.mapRowLength+column;return rulesBucketIndex};RulesMap.prototype.FillRule=function(rule,rulesBucketConstructionStateList){var _this=this;var specificRule=rule.Descriptor.LeftTokenRange!==formatting.Shared.TokenRange.Any&&rule.Descriptor.RightTokenRange!==formatting.Shared.TokenRange.Any;rule.Descriptor.LeftTokenRange.GetTokens().forEach(function(left){rule.Descriptor.RightTokenRange.GetTokens().forEach(function(right){var rulesBucketIndex=_this.GetRuleBucketIndex(left,right);var rulesBucket=_this.map[rulesBucketIndex];if(rulesBucket===undefined){rulesBucket=_this.map[rulesBucketIndex]=new RulesBucket}rulesBucket.AddRule(rule,specificRule,rulesBucketConstructionStateList,rulesBucketIndex)})})};RulesMap.prototype.GetRule=function(context){var bucketIndex=this.GetRuleBucketIndex(context.currentTokenSpan.kind,context.nextTokenSpan.kind);var bucket=this.map[bucketIndex];if(bucket!=null){for(var _i=0,_a=bucket.Rules();_i<_a.length;_i++){var rule=_a[_i];if(rule.Operation.Context.InContext(context)){return rule}}}return null};return RulesMap}();formatting.RulesMap=RulesMap;var MaskBitSize=5;var Mask=31;(function(RulesPosition){RulesPosition[RulesPosition["IgnoreRulesSpecific"]=0]="IgnoreRulesSpecific";RulesPosition[RulesPosition["IgnoreRulesAny"]=MaskBitSize*1]="IgnoreRulesAny";RulesPosition[RulesPosition["ContextRulesSpecific"]=MaskBitSize*2]="ContextRulesSpecific";RulesPosition[RulesPosition["ContextRulesAny"]=MaskBitSize*3]="ContextRulesAny";RulesPosition[RulesPosition["NoContextRulesSpecific"]=MaskBitSize*4]="NoContextRulesSpecific";RulesPosition[RulesPosition["NoContextRulesAny"]=MaskBitSize*5]="NoContextRulesAny"})(formatting.RulesPosition||(formatting.RulesPosition={}));var RulesPosition=formatting.RulesPosition;var RulesBucketConstructionState=function(){function RulesBucketConstructionState(){this.rulesInsertionIndexBitmap=0}RulesBucketConstructionState.prototype.GetInsertionIndex=function(maskPosition){var index=0;var pos=0;var indexBitmap=this.rulesInsertionIndexBitmap;while(pos<=maskPosition){index+=indexBitmap&Mask;indexBitmap>>=MaskBitSize;pos+=MaskBitSize}return index};RulesBucketConstructionState.prototype.IncreaseInsertionIndex=function(maskPosition){var value=this.rulesInsertionIndexBitmap>>maskPosition&Mask;value++;ts.Debug.assert((value&Mask)===value,"Adding more rules into the sub-bucket than allowed. Maximum allowed is 32 rules.");var temp=this.rulesInsertionIndexBitmap&~(Mask<<maskPosition);temp|=value<<maskPosition;this.rulesInsertionIndexBitmap=temp};return RulesBucketConstructionState}();formatting.RulesBucketConstructionState=RulesBucketConstructionState;var RulesBucket=function(){function RulesBucket(){this.rules=[]}RulesBucket.prototype.Rules=function(){return this.rules};RulesBucket.prototype.AddRule=function(rule,specificTokens,constructionState,rulesBucketIndex){var position;if(rule.Operation.Action===1){position=specificTokens?RulesPosition.IgnoreRulesSpecific:RulesPosition.IgnoreRulesAny}else if(!rule.Operation.Context.IsAny()){position=specificTokens?RulesPosition.ContextRulesSpecific:RulesPosition.ContextRulesAny}else{position=specificTokens?RulesPosition.NoContextRulesSpecific:RulesPosition.NoContextRulesAny}var state=constructionState[rulesBucketIndex];if(state===undefined){state=constructionState[rulesBucketIndex]=new RulesBucketConstructionState}var index=state.GetInsertionIndex(position);this.rules.splice(index,0,rule);state.IncreaseInsertionIndex(position)};return RulesBucket}();formatting.RulesBucket=RulesBucket})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Shared;(function(Shared){var TokenRangeAccess=function(){function TokenRangeAccess(from,to,except){this.tokens=[];for(var token=from;token<=to;token++){if(except.indexOf(token)<0){this.tokens.push(token)}}}TokenRangeAccess.prototype.GetTokens=function(){return this.tokens};TokenRangeAccess.prototype.Contains=function(token){return this.tokens.indexOf(token)>=0};return TokenRangeAccess}();Shared.TokenRangeAccess=TokenRangeAccess;var TokenValuesAccess=function(){function TokenValuesAccess(tks){this.tokens=tks&&tks.length?tks:[]}TokenValuesAccess.prototype.GetTokens=function(){return this.tokens};TokenValuesAccess.prototype.Contains=function(token){return this.tokens.indexOf(token)>=0};return TokenValuesAccess}();Shared.TokenValuesAccess=TokenValuesAccess;var TokenSingleValueAccess=function(){function TokenSingleValueAccess(token){this.token=token}TokenSingleValueAccess.prototype.GetTokens=function(){return[this.token]};TokenSingleValueAccess.prototype.Contains=function(tokenValue){return tokenValue===this.token};return TokenSingleValueAccess}();Shared.TokenSingleValueAccess=TokenSingleValueAccess;var TokenAllAccess=function(){function TokenAllAccess(){}TokenAllAccess.prototype.GetTokens=function(){var result=[];for(var token=0;token<=134;token++){result.push(token)}return result};TokenAllAccess.prototype.Contains=function(tokenValue){return true};TokenAllAccess.prototype.toString=function(){return"[allTokens]"};return TokenAllAccess}();Shared.TokenAllAccess=TokenAllAccess;var TokenRange=function(){function TokenRange(tokenAccess){this.tokenAccess=tokenAccess}TokenRange.FromToken=function(token){return new TokenRange(new TokenSingleValueAccess(token))};TokenRange.FromTokens=function(tokens){return new TokenRange(new TokenValuesAccess(tokens))};TokenRange.FromRange=function(f,to,except){if(except===void 0){except=[]}return new TokenRange(new TokenRangeAccess(f,to,except))};TokenRange.AllTokens=function(){return new TokenRange(new TokenAllAccess)};TokenRange.prototype.GetTokens=function(){return this.tokenAccess.GetTokens()};TokenRange.prototype.Contains=function(token){return this.tokenAccess.Contains(token)};TokenRange.prototype.toString=function(){return this.tokenAccess.toString()};TokenRange.Any=TokenRange.AllTokens();TokenRange.AnyIncludingMultilineComments=TokenRange.FromTokens(TokenRange.Any.GetTokens().concat([3]));TokenRange.Keywords=TokenRange.FromRange(70,134);TokenRange.BinaryOperators=TokenRange.FromRange(25,68);TokenRange.BinaryKeywordOperators=TokenRange.FromTokens([90,91,134,116,124]);TokenRange.UnaryPrefixOperators=TokenRange.FromTokens([41,42,50,49]);TokenRange.UnaryPrefixExpressions=TokenRange.FromTokens([8,69,17,19,15,97,92]);TokenRange.UnaryPreincrementExpressions=TokenRange.FromTokens([69,17,97,92]);TokenRange.UnaryPostincrementExpressions=TokenRange.FromTokens([69,18,20,92]);TokenRange.UnaryPredecrementExpressions=TokenRange.FromTokens([69,17,97,92]);TokenRange.UnaryPostdecrementExpressions=TokenRange.FromTokens([69,18,20,92]);TokenRange.Comments=TokenRange.FromTokens([2,3]);TokenRange.TypeNames=TokenRange.FromTokens([69,128,130,120,131,103,117]);return TokenRange}();Shared.TokenRange=TokenRange})(Shared=formatting.Shared||(formatting.Shared={}))})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var RulesProvider=function(){function RulesProvider(){this.globalRules=new formatting.Rules}RulesProvider.prototype.getRuleName=function(rule){return this.globalRules.getRuleName(rule)};RulesProvider.prototype.getRuleByName=function(name){return this.globalRules[name]};RulesProvider.prototype.getRulesMap=function(){return this.rulesMap};RulesProvider.prototype.ensureUpToDate=function(options){if(this.options==null||!ts.compareDataObjects(this.options,options)){var activeRules=this.createActiveRules(options);var rulesMap=formatting.RulesMap.create(activeRules);this.activeRules=activeRules;this.rulesMap=rulesMap;this.options=ts.clone(options)}};RulesProvider.prototype.createActiveRules=function(options){var rules=this.globalRules.HighPriorityCommonRules.slice(0);if(options.InsertSpaceAfterCommaDelimiter){rules.push(this.globalRules.SpaceAfterComma)}else{rules.push(this.globalRules.NoSpaceAfterComma)}if(options.InsertSpaceAfterFunctionKeywordForAnonymousFunctions){rules.push(this.globalRules.SpaceAfterAnonymousFunctionKeyword)}else{rules.push(this.globalRules.NoSpaceAfterAnonymousFunctionKeyword)}if(options.InsertSpaceAfterKeywordsInControlFlowStatements){rules.push(this.globalRules.SpaceAfterKeywordInControl)}else{rules.push(this.globalRules.NoSpaceAfterKeywordInControl)}if(options.InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis){rules.push(this.globalRules.SpaceAfterOpenParen);rules.push(this.globalRules.SpaceBeforeCloseParen);rules.push(this.globalRules.NoSpaceBetweenParens)}else{rules.push(this.globalRules.NoSpaceAfterOpenParen);rules.push(this.globalRules.NoSpaceBeforeCloseParen);rules.push(this.globalRules.NoSpaceBetweenParens)}if(options.InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets){rules.push(this.globalRules.SpaceAfterOpenBracket);rules.push(this.globalRules.SpaceBeforeCloseBracket);rules.push(this.globalRules.NoSpaceBetweenBrackets)}else{rules.push(this.globalRules.NoSpaceAfterOpenBracket);rules.push(this.globalRules.NoSpaceBeforeCloseBracket);rules.push(this.globalRules.NoSpaceBetweenBrackets)}if(options.InsertSpaceAfterSemicolonInForStatements){rules.push(this.globalRules.SpaceAfterSemicolonInFor)}else{rules.push(this.globalRules.NoSpaceAfterSemicolonInFor)}if(options.InsertSpaceBeforeAndAfterBinaryOperators){rules.push(this.globalRules.SpaceBeforeBinaryOperator);rules.push(this.globalRules.SpaceAfterBinaryOperator)}else{rules.push(this.globalRules.NoSpaceBeforeBinaryOperator);rules.push(this.globalRules.NoSpaceAfterBinaryOperator)}if(options.PlaceOpenBraceOnNewLineForControlBlocks){rules.push(this.globalRules.NewLineBeforeOpenBraceInControl)}if(options.PlaceOpenBraceOnNewLineForFunctions){rules.push(this.globalRules.NewLineBeforeOpenBraceInFunction);rules.push(this.globalRules.NewLineBeforeOpenBraceInTypeScriptDeclWithBlock)}rules=rules.concat(this.globalRules.LowPriorityCommonRules);return rules};return RulesProvider}();formatting.RulesProvider=RulesProvider})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var Constants;(function(Constants){Constants[Constants["Unknown"]=-1]="Unknown"})(Constants||(Constants={}));function formatOnEnter(position,sourceFile,rulesProvider,options){var line=sourceFile.getLineAndCharacterOfPosition(position).line;if(line===0){return[]}var span={pos:ts.getStartPositionOfLine(line-1,sourceFile),end:ts.getEndLinePosition(line,sourceFile)+1};return formatSpan(span,sourceFile,options,rulesProvider,2)}formatting.formatOnEnter=formatOnEnter;function formatOnSemicolon(position,sourceFile,rulesProvider,options){return formatOutermostParent(position,23,sourceFile,options,rulesProvider,3)}formatting.formatOnSemicolon=formatOnSemicolon;function formatOnClosingCurly(position,sourceFile,rulesProvider,options){return formatOutermostParent(position,16,sourceFile,options,rulesProvider,4)}formatting.formatOnClosingCurly=formatOnClosingCurly;
function formatDocument(sourceFile,rulesProvider,options){var span={pos:0,end:sourceFile.text.length};return formatSpan(span,sourceFile,options,rulesProvider,0)}formatting.formatDocument=formatDocument;function formatSelection(start,end,sourceFile,rulesProvider,options){var span={pos:ts.getLineStartPositionForPosition(start,sourceFile),end:end};return formatSpan(span,sourceFile,options,rulesProvider,1)}formatting.formatSelection=formatSelection;function formatOutermostParent(position,expectedLastToken,sourceFile,options,rulesProvider,requestKind){var parent=findOutermostParent(position,expectedLastToken,sourceFile);if(!parent){return[]}var span={pos:ts.getLineStartPositionForPosition(parent.getStart(sourceFile),sourceFile),end:parent.end};return formatSpan(span,sourceFile,options,rulesProvider,requestKind)}function findOutermostParent(position,expectedTokenKind,sourceFile){var precedingToken=ts.findPrecedingToken(position,sourceFile);if(!precedingToken||precedingToken.kind!==expectedTokenKind||position!==precedingToken.getEnd()){return undefined}var current=precedingToken;while(current&&current.parent&&current.parent.end===precedingToken.end&&!isListElement(current.parent,current)){current=current.parent}return current}function isListElement(parent,node){switch(parent.kind){case 214:case 215:return ts.rangeContainsRange(parent.members,node);case 218:var body=parent.body;return body&&body.kind===192&&ts.rangeContainsRange(body.statements,node);case 248:case 192:case 219:return ts.rangeContainsRange(parent.statements,node);case 244:return ts.rangeContainsRange(parent.block.statements,node)}return false}function findEnclosingNode(range,sourceFile){return find(sourceFile);function find(n){var candidate=ts.forEachChild(n,function(c){return ts.startEndContainsRange(c.getStart(sourceFile),c.end,range)&&c});if(candidate){var result=find(candidate);if(result){return result}}return n}}function prepareRangeContainsErrorFunction(errors,originalRange){if(!errors.length){return rangeHasNoErrors}var sorted=errors.filter(function(d){return ts.rangeOverlapsWithStartEnd(originalRange,d.start,d.start+d.length)}).sort(function(e1,e2){return e1.start-e2.start});if(!sorted.length){return rangeHasNoErrors}var index=0;return function(r){while(true){if(index>=sorted.length){return false}var error=sorted[index];if(r.end<=error.start){return false}if(ts.startEndOverlapsWithStartEnd(r.pos,r.end,error.start,error.start+error.length)){return true}index++}};function rangeHasNoErrors(r){return false}}function getScanStartPosition(enclosingNode,originalRange,sourceFile){var start=enclosingNode.getStart(sourceFile);if(start===originalRange.pos&&enclosingNode.end===originalRange.end){return start}var precedingToken=ts.findPrecedingToken(originalRange.pos,sourceFile);if(!precedingToken){return enclosingNode.pos}if(precedingToken.end>=originalRange.pos){return enclosingNode.pos}return precedingToken.end}function getOwnOrInheritedDelta(n,options,sourceFile){var previousLine=-1;var childKind=0;while(n){var line=sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile)).line;if(previousLine!==-1&&line!==previousLine){break}if(formatting.SmartIndenter.shouldIndentChildNode(n.kind,childKind)){return options.IndentSize}previousLine=line;childKind=n.kind;n=n.parent}return 0}function formatSpan(originalRange,sourceFile,options,rulesProvider,requestKind){var rangeContainsError=prepareRangeContainsErrorFunction(sourceFile.parseDiagnostics,originalRange);var formattingContext=new formatting.FormattingContext(sourceFile,requestKind);var enclosingNode=findEnclosingNode(originalRange,sourceFile);var formattingScanner=formatting.getFormattingScanner(sourceFile,getScanStartPosition(enclosingNode,originalRange,sourceFile),originalRange.end);var initialIndentation=formatting.SmartIndenter.getIndentationForNode(enclosingNode,originalRange,sourceFile,options);var previousRangeHasError;var previousRange;var previousParent;var previousRangeStartLine;var lastIndentedLine;var indentationOnLastIndentedLine;var edits=[];formattingScanner.advance();if(formattingScanner.isOnToken()){var startLine=sourceFile.getLineAndCharacterOfPosition(enclosingNode.getStart(sourceFile)).line;var undecoratedStartLine=startLine;if(enclosingNode.decorators){undecoratedStartLine=sourceFile.getLineAndCharacterOfPosition(ts.getNonDecoratorTokenPosOfNode(enclosingNode,sourceFile)).line}var delta=getOwnOrInheritedDelta(enclosingNode,options,sourceFile);processNode(enclosingNode,enclosingNode,startLine,undecoratedStartLine,initialIndentation,delta)}formattingScanner.close();return edits;function tryComputeIndentationForListItem(startPos,endPos,parentStartLine,range,inheritedIndentation){if(ts.rangeOverlapsWithStartEnd(range,startPos,endPos)){if(inheritedIndentation!==-1){return inheritedIndentation}}else{var startLine=sourceFile.getLineAndCharacterOfPosition(startPos).line;var startLinePosition=ts.getLineStartPositionForPosition(startPos,sourceFile);var column=formatting.SmartIndenter.findFirstNonWhitespaceColumn(startLinePosition,startPos,sourceFile,options);if(startLine!==parentStartLine||startPos===column){return column}}return-1}function computeIndentation(node,startLine,inheritedIndentation,parent,parentDynamicIndentation,effectiveParentStartLine){var indentation=inheritedIndentation;if(indentation===-1){if(isSomeBlock(node.kind)){if(isSomeBlock(parent.kind)||parent.kind===248||parent.kind===241||parent.kind===242){indentation=parentDynamicIndentation.getIndentation()+parentDynamicIndentation.getDelta()}else{indentation=parentDynamicIndentation.getIndentation()}}else{if(formatting.SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement(parent,node,startLine,sourceFile)){indentation=parentDynamicIndentation.getIndentation()}else{indentation=parentDynamicIndentation.getIndentation()+parentDynamicIndentation.getDelta()}}}var delta=formatting.SmartIndenter.shouldIndentChildNode(node.kind,0)?options.IndentSize:0;if(effectiveParentStartLine===startLine){indentation=startLine===lastIndentedLine?indentationOnLastIndentedLine:parentDynamicIndentation.getIndentation();delta=Math.min(options.IndentSize,parentDynamicIndentation.getDelta()+delta)}return{indentation:indentation,delta:delta}}function getFirstNonDecoratorTokenOfNode(node){if(node.modifiers&&node.modifiers.length){return node.modifiers[0].kind}switch(node.kind){case 214:return 73;case 215:return 107;case 213:return 87;case 217:return 217;case 145:return 123;case 146:return 129;case 143:if(node.asteriskToken){return 37}case 141:case 138:return node.name.kind}}function getDynamicIndentation(node,nodeStartLine,indentation,delta){return{getIndentationForComment:function(kind,tokenIndentation){switch(kind){case 16:case 20:case 18:return indentation+delta}return tokenIndentation!==-1?tokenIndentation:indentation},getIndentationForToken:function(line,kind){if(nodeStartLine!==line&&node.decorators){if(kind===getFirstNonDecoratorTokenOfNode(node)){return indentation}}switch(kind){case 15:case 16:case 19:case 20:case 17:case 18:case 80:case 104:case 55:return indentation;default:return nodeStartLine!==line?indentation+delta:indentation}},getIndentation:function(){return indentation},getDelta:function(){return delta},recomputeIndentation:function(lineAdded){if(node.parent&&formatting.SmartIndenter.shouldIndentChildNode(node.parent.kind,node.kind)){if(lineAdded){indentation+=options.IndentSize}else{indentation-=options.IndentSize}if(formatting.SmartIndenter.shouldIndentChildNode(node.kind,0)){delta=options.IndentSize}else{delta=0}}}}}function processNode(node,contextNode,nodeStartLine,undecoratedNodeStartLine,indentation,delta){if(!ts.rangeOverlapsWithStartEnd(originalRange,node.getStart(sourceFile),node.getEnd())){return}var nodeDynamicIndentation=getDynamicIndentation(node,nodeStartLine,indentation,delta);var childContextNode=contextNode;ts.forEachChild(node,function(child){processChildNode(child,-1,node,nodeDynamicIndentation,nodeStartLine,undecoratedNodeStartLine,false)},function(nodes){processChildNodes(nodes,node,nodeStartLine,nodeDynamicIndentation)});while(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(node);if(tokenInfo.token.end>node.end){break}consumeTokenAndAdvanceScanner(tokenInfo,node,nodeDynamicIndentation)}function processChildNode(child,inheritedIndentation,parent,parentDynamicIndentation,parentStartLine,undecoratedParentStartLine,isListItem){var childStartPos=child.getStart(sourceFile);var childStartLine=sourceFile.getLineAndCharacterOfPosition(childStartPos).line;var undecoratedChildStartLine=childStartLine;if(child.decorators){undecoratedChildStartLine=sourceFile.getLineAndCharacterOfPosition(ts.getNonDecoratorTokenPosOfNode(child,sourceFile)).line}var childIndentationAmount=-1;if(isListItem){childIndentationAmount=tryComputeIndentationForListItem(childStartPos,child.end,parentStartLine,originalRange,inheritedIndentation);if(childIndentationAmount!==-1){inheritedIndentation=childIndentationAmount}}if(!ts.rangeOverlapsWithStartEnd(originalRange,child.pos,child.end)){return inheritedIndentation}if(child.getFullWidth()===0){return inheritedIndentation}while(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(node);if(tokenInfo.token.end>childStartPos){break}consumeTokenAndAdvanceScanner(tokenInfo,node,parentDynamicIndentation)}if(!formattingScanner.isOnToken()){return inheritedIndentation}if(ts.isToken(child)){var tokenInfo=formattingScanner.readTokenInfo(child);ts.Debug.assert(tokenInfo.token.end===child.end);consumeTokenAndAdvanceScanner(tokenInfo,node,parentDynamicIndentation);return inheritedIndentation}var effectiveParentStartLine=child.kind===139?childStartLine:undecoratedParentStartLine;var childIndentation=computeIndentation(child,childStartLine,childIndentationAmount,node,parentDynamicIndentation,effectiveParentStartLine);processNode(child,childContextNode,childStartLine,undecoratedChildStartLine,childIndentation.indentation,childIndentation.delta);childContextNode=node;return inheritedIndentation}function processChildNodes(nodes,parent,parentStartLine,parentDynamicIndentation){var listStartToken=getOpenTokenForList(parent,nodes);var listEndToken=getCloseTokenForOpenToken(listStartToken);var listDynamicIndentation=parentDynamicIndentation;var startLine=parentStartLine;if(listStartToken!==0){while(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(parent);if(tokenInfo.token.end>nodes.pos){break}else if(tokenInfo.token.kind===listStartToken){startLine=sourceFile.getLineAndCharacterOfPosition(tokenInfo.token.pos).line;var indentation_1=computeIndentation(tokenInfo.token,startLine,-1,parent,parentDynamicIndentation,parentStartLine);listDynamicIndentation=getDynamicIndentation(parent,parentStartLine,indentation_1.indentation,indentation_1.delta);consumeTokenAndAdvanceScanner(tokenInfo,parent,listDynamicIndentation)}else{consumeTokenAndAdvanceScanner(tokenInfo,parent,parentDynamicIndentation)}}}var inheritedIndentation=-1;for(var _i=0;_i<nodes.length;_i++){var child=nodes[_i];inheritedIndentation=processChildNode(child,inheritedIndentation,node,listDynamicIndentation,startLine,startLine,true)}if(listEndToken!==0){if(formattingScanner.isOnToken()){var tokenInfo=formattingScanner.readTokenInfo(parent);if(tokenInfo.token.kind===listEndToken&&ts.rangeContainsRange(parent,tokenInfo.token)){consumeTokenAndAdvanceScanner(tokenInfo,parent,listDynamicIndentation)}}}}function consumeTokenAndAdvanceScanner(currentTokenInfo,parent,dynamicIndentation){ts.Debug.assert(ts.rangeContainsRange(parent,currentTokenInfo.token));var lastTriviaWasNewLine=formattingScanner.lastTrailingTriviaWasNewLine();var indentToken=false;if(currentTokenInfo.leadingTrivia){processTrivia(currentTokenInfo.leadingTrivia,parent,childContextNode,dynamicIndentation)}var lineAdded;var isTokenInRange=ts.rangeContainsRange(originalRange,currentTokenInfo.token);var tokenStart=sourceFile.getLineAndCharacterOfPosition(currentTokenInfo.token.pos);if(isTokenInRange){var rangeHasError=rangeContainsError(currentTokenInfo.token);var prevStartLine=previousRangeStartLine;lineAdded=processRange(currentTokenInfo.token,tokenStart,parent,childContextNode,dynamicIndentation);if(rangeHasError){indentToken=false}else{if(lineAdded!==undefined){indentToken=lineAdded}else{indentToken=lastTriviaWasNewLine&&tokenStart.line!==prevStartLine}}}if(currentTokenInfo.trailingTrivia){processTrivia(currentTokenInfo.trailingTrivia,parent,childContextNode,dynamicIndentation)}if(indentToken){var tokenIndentation=isTokenInRange&&!rangeContainsError(currentTokenInfo.token)?dynamicIndentation.getIndentationForToken(tokenStart.line,currentTokenInfo.token.kind):-1;if(currentTokenInfo.leadingTrivia){var commentIndentation=dynamicIndentation.getIndentationForComment(currentTokenInfo.token.kind,tokenIndentation);var indentNextTokenOrTrivia=true;for(var _i=0,_a=currentTokenInfo.leadingTrivia;_i<_a.length;_i++){var triviaItem=_a[_i];if(!ts.rangeContainsRange(originalRange,triviaItem)){continue}switch(triviaItem.kind){case 3:indentMultilineComment(triviaItem,commentIndentation,!indentNextTokenOrTrivia);indentNextTokenOrTrivia=false;break;case 2:if(indentNextTokenOrTrivia){insertIndentation(triviaItem.pos,commentIndentation,false);indentNextTokenOrTrivia=false}break;case 4:indentNextTokenOrTrivia=true;break}}}if(tokenIndentation!==-1){insertIndentation(currentTokenInfo.token.pos,tokenIndentation,lineAdded);lastIndentedLine=tokenStart.line;indentationOnLastIndentedLine=tokenIndentation}}formattingScanner.advance();childContextNode=parent}}function processTrivia(trivia,parent,contextNode,dynamicIndentation){for(var _i=0;_i<trivia.length;_i++){var triviaItem=trivia[_i];if(ts.isComment(triviaItem.kind)&&ts.rangeContainsRange(originalRange,triviaItem)){var triviaItemStart=sourceFile.getLineAndCharacterOfPosition(triviaItem.pos);processRange(triviaItem,triviaItemStart,parent,contextNode,dynamicIndentation)}}}function processRange(range,rangeStart,parent,contextNode,dynamicIndentation){var rangeHasError=rangeContainsError(range);var lineAdded;if(!rangeHasError&&!previousRangeHasError){if(!previousRange){var originalStart=sourceFile.getLineAndCharacterOfPosition(originalRange.pos);trimTrailingWhitespacesForLines(originalStart.line,rangeStart.line)}else{lineAdded=processPair(range,rangeStart.line,parent,previousRange,previousRangeStartLine,previousParent,contextNode,dynamicIndentation)}}previousRange=range;previousParent=parent;previousRangeStartLine=rangeStart.line;previousRangeHasError=rangeHasError;return lineAdded}function processPair(currentItem,currentStartLine,currentParent,previousItem,previousStartLine,previousParent,contextNode,dynamicIndentation){formattingContext.updateContext(previousItem,previousParent,currentItem,currentParent,contextNode);var rule=rulesProvider.getRulesMap().GetRule(formattingContext);var trimTrailingWhitespaces;var lineAdded;if(rule){applyRuleEdits(rule,previousItem,previousStartLine,currentItem,currentStartLine);if(rule.Operation.Action&(2|8)&&currentStartLine!==previousStartLine){lineAdded=false;if(currentParent.getStart(sourceFile)===currentItem.pos){dynamicIndentation.recomputeIndentation(false)}}else if(rule.Operation.Action&4&&currentStartLine===previousStartLine){lineAdded=true;if(currentParent.getStart(sourceFile)===currentItem.pos){dynamicIndentation.recomputeIndentation(true)}}trimTrailingWhitespaces=rule.Operation.Action&(4|2)&&rule.Flag!==1}else{trimTrailingWhitespaces=true}if(currentStartLine!==previousStartLine&&trimTrailingWhitespaces){trimTrailingWhitespacesForLines(previousStartLine,currentStartLine,previousItem)}return lineAdded}function insertIndentation(pos,indentation,lineAdded){var indentationString=getIndentationString(indentation,options);if(lineAdded){recordReplace(pos,0,indentationString)}else{var tokenStart=sourceFile.getLineAndCharacterOfPosition(pos);if(indentation!==tokenStart.character){var startLinePosition=ts.getStartPositionOfLine(tokenStart.line,sourceFile);recordReplace(startLinePosition,tokenStart.character,indentationString)}}}function indentMultilineComment(commentRange,indentation,firstLineIsIndented){var startLine=sourceFile.getLineAndCharacterOfPosition(commentRange.pos).line;var endLine=sourceFile.getLineAndCharacterOfPosition(commentRange.end).line;var parts;if(startLine===endLine){if(!firstLineIsIndented){insertIndentation(commentRange.pos,indentation,false)}return}else{parts=[];var startPos=commentRange.pos;for(var line=startLine;line<endLine;++line){var endOfLine=ts.getEndLinePosition(line,sourceFile);parts.push({pos:startPos,end:endOfLine});startPos=ts.getStartPositionOfLine(line+1,sourceFile)}parts.push({pos:startPos,end:commentRange.end})}var startLinePos=ts.getStartPositionOfLine(startLine,sourceFile);var nonWhitespaceColumnInFirstPart=formatting.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(startLinePos,parts[0].pos,sourceFile,options);if(indentation===nonWhitespaceColumnInFirstPart.column){return}var startIndex=0;if(firstLineIsIndented){startIndex=1;startLine++}var delta=indentation-nonWhitespaceColumnInFirstPart.column;for(var i=startIndex,len=parts.length;i<len;++i,++startLine){var startLinePos_1=ts.getStartPositionOfLine(startLine,sourceFile);var nonWhitespaceCharacterAndColumn=i===0?nonWhitespaceColumnInFirstPart:formatting.SmartIndenter.findFirstNonWhitespaceCharacterAndColumn(parts[i].pos,parts[i].end,sourceFile,options);var newIndentation=nonWhitespaceCharacterAndColumn.column+delta;if(newIndentation>0){var indentationString=getIndentationString(newIndentation,options);recordReplace(startLinePos_1,nonWhitespaceCharacterAndColumn.character,indentationString)}else{recordDelete(startLinePos_1,nonWhitespaceCharacterAndColumn.character)}}}function trimTrailingWhitespacesForLines(line1,line2,range){for(var line=line1;line<line2;++line){var lineStartPosition=ts.getStartPositionOfLine(line,sourceFile);var lineEndPosition=ts.getEndLinePosition(line,sourceFile);if(range&&(ts.isComment(range.kind)||ts.isStringOrRegularExpressionOrTemplateLiteral(range.kind))&&range.pos<=lineEndPosition&&range.end>lineEndPosition){continue}var pos=lineEndPosition;while(pos>=lineStartPosition&&ts.isWhiteSpace(sourceFile.text.charCodeAt(pos))){pos--}if(pos!==lineEndPosition){ts.Debug.assert(pos===lineStartPosition||!ts.isWhiteSpace(sourceFile.text.charCodeAt(pos)));recordDelete(pos+1,lineEndPosition-pos)}}}function newTextChange(start,len,newText){return{span:ts.createTextSpan(start,len),newText:newText}}function recordDelete(start,len){if(len){edits.push(newTextChange(start,len,""))}}function recordReplace(start,len,newText){if(len||newText){edits.push(newTextChange(start,len,newText))}}function applyRuleEdits(rule,previousRange,previousStartLine,currentRange,currentStartLine){var between;switch(rule.Operation.Action){case 1:return;case 8:if(previousRange.end!==currentRange.pos){recordDelete(previousRange.end,currentRange.pos-previousRange.end)}break;case 4:if(rule.Flag!==1&&previousStartLine!==currentStartLine){return}var lineDelta=currentStartLine-previousStartLine;if(lineDelta!==1){recordReplace(previousRange.end,currentRange.pos-previousRange.end,options.NewLineCharacter)}break;case 2:if(rule.Flag!==1&&previousStartLine!==currentStartLine){return}var posDelta=currentRange.pos-previousRange.end;if(posDelta!==1||sourceFile.text.charCodeAt(previousRange.end)!==32){recordReplace(previousRange.end,currentRange.pos-previousRange.end," ")}break}}}function isSomeBlock(kind){switch(kind){case 192:case 219:return true}return false}function getOpenTokenForList(node,list){switch(node.kind){case 144:case 213:case 173:case 143:case 142:case 174:if(node.typeParameters===list){return 25}else if(node.parameters===list){return 17}break;case 168:case 169:if(node.typeArguments===list){return 25}else if(node.arguments===list){return 17}break;case 151:if(node.typeArguments===list){return 25}}return 0}function getCloseTokenForOpenToken(kind){switch(kind){case 17:return 18;case 25:return 27}return 0}var internedSizes;var internedTabsIndentation;var internedSpacesIndentation;function getIndentationString(indentation,options){var resetInternedStrings=!internedSizes||(internedSizes.tabSize!==options.TabSize||internedSizes.indentSize!==options.IndentSize);if(resetInternedStrings){internedSizes={tabSize:options.TabSize,indentSize:options.IndentSize};internedTabsIndentation=internedSpacesIndentation=undefined}if(!options.ConvertTabsToSpaces){var tabs=Math.floor(indentation/options.TabSize);var spaces=indentation-tabs*options.TabSize;var tabString;if(!internedTabsIndentation){internedTabsIndentation=[]}if(internedTabsIndentation[tabs]===undefined){internedTabsIndentation[tabs]=tabString=repeat("	",tabs)}else{tabString=internedTabsIndentation[tabs]}return spaces?tabString+repeat(" ",spaces):tabString}else{var spacesString;var quotient=Math.floor(indentation/options.IndentSize);var remainder=indentation%options.IndentSize;if(!internedSpacesIndentation){internedSpacesIndentation=[]}if(internedSpacesIndentation[quotient]===undefined){spacesString=repeat(" ",options.IndentSize*quotient);internedSpacesIndentation[quotient]=spacesString}else{spacesString=internedSpacesIndentation[quotient]}return remainder?spacesString+repeat(" ",remainder):spacesString}function repeat(value,count){var s="";for(var i=0;i<count;++i){s+=value}return s}}formatting.getIndentationString=getIndentationString})(formatting=ts.formatting||(ts.formatting={}))})(ts||(ts={}));var ts;(function(ts){var formatting;(function(formatting){var SmartIndenter;(function(SmartIndenter){var Value;(function(Value){Value[Value["Unknown"]=-1]="Unknown"})(Value||(Value={}));function getIndentation(position,sourceFile,options){if(position>sourceFile.text.length){return 0}if(options.IndentStyle===ts.IndentStyle.None){return 0}var precedingToken=ts.findPrecedingToken(position,sourceFile);if(!precedingToken){return 0}var precedingTokenIsLiteral=ts.isStringOrRegularExpressionOrTemplateLiteral(precedingToken.kind);if(precedingTokenIsLiteral&&precedingToken.getStart(sourceFile)<=position&&precedingToken.end>position){return 0}var lineAtPosition=sourceFile.getLineAndCharacterOfPosition(position).line;if(options.IndentStyle===ts.IndentStyle.Block){var current_1=position;while(current_1>0){var char=sourceFile.text.charCodeAt(current_1);if(!ts.isWhiteSpace(char)&&!ts.isLineBreak(char)){break}current_1--}var lineStart=ts.getLineStartPositionForPosition(current_1,sourceFile);return SmartIndenter.findFirstNonWhitespaceColumn(lineStart,current_1,sourceFile,options)}if(precedingToken.kind===24&&precedingToken.parent.kind!==181){var actualIndentation=getActualIndentationForListItemBeforeComma(precedingToken,sourceFile,options);if(actualIndentation!==-1){return actualIndentation}}var previous;var current=precedingToken;var currentStart;var indentationDelta;while(current){if(ts.positionBelongsToNode(current,position,sourceFile)&&shouldIndentChildNode(current.kind,previous?previous.kind:0)){currentStart=getStartLineAndCharacterForNode(current,sourceFile);if(nextTokenIsCurlyBraceOnSameLineAsCursor(precedingToken,current,lineAtPosition,sourceFile)){indentationDelta=0}else{indentationDelta=lineAtPosition!==currentStart.line?options.IndentSize:0}break}var actualIndentation=getActualIndentationForListItem(current,sourceFile,options);if(actualIndentation!==-1){return actualIndentation}actualIndentation=getLineIndentationWhenExpressionIsInMultiLine(current,sourceFile,options);if(actualIndentation!==-1){return actualIndentation+options.IndentSize}previous=current;current=current.parent}if(!current){return 0}return getIndentationForNodeWorker(current,currentStart,undefined,indentationDelta,sourceFile,options)}SmartIndenter.getIndentation=getIndentation;function getIndentationForNode(n,ignoreActualIndentationRange,sourceFile,options){var start=sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile));return getIndentationForNodeWorker(n,start,ignoreActualIndentationRange,0,sourceFile,options)}SmartIndenter.getIndentationForNode=getIndentationForNode;function getIndentationForNodeWorker(current,currentStart,ignoreActualIndentationRange,indentationDelta,sourceFile,options){var parent=current.parent;var parentStart;while(parent){var useActualIndentation=true;if(ignoreActualIndentationRange){var start=current.getStart(sourceFile);useActualIndentation=start<ignoreActualIndentationRange.pos||start>ignoreActualIndentationRange.end}if(useActualIndentation){var actualIndentation=getActualIndentationForListItem(current,sourceFile,options);if(actualIndentation!==-1){return actualIndentation+indentationDelta}}parentStart=getParentStart(parent,current,sourceFile);var parentAndChildShareLine=parentStart.line===currentStart.line||childStartsOnTheSameLineWithElseInIfStatement(parent,current,currentStart.line,sourceFile);if(useActualIndentation){var actualIndentation=getActualIndentationForNode(current,parent,currentStart,parentAndChildShareLine,sourceFile,options);if(actualIndentation!==-1){return actualIndentation+indentationDelta}actualIndentation=getLineIndentationWhenExpressionIsInMultiLine(current,sourceFile,options);if(actualIndentation!==-1){return actualIndentation+indentationDelta}}if(shouldIndentChildNode(parent.kind,current.kind)&&!parentAndChildShareLine){indentationDelta+=options.IndentSize}current=parent;currentStart=parentStart;parent=current.parent}return indentationDelta}function getParentStart(parent,child,sourceFile){var containingList=getContainingList(child,sourceFile);if(containingList){return sourceFile.getLineAndCharacterOfPosition(containingList.pos)}return sourceFile.getLineAndCharacterOfPosition(parent.getStart(sourceFile))}function getActualIndentationForListItemBeforeComma(commaToken,sourceFile,options){var commaItemInfo=ts.findListItemInfo(commaToken);if(commaItemInfo&&commaItemInfo.listItemIndex>0){return deriveActualIndentationFromList(commaItemInfo.list.getChildren(),commaItemInfo.listItemIndex-1,sourceFile,options)}else{return-1}}function getActualIndentationForNode(current,parent,currentLineAndChar,parentAndChildShareLine,sourceFile,options){var useActualIndentation=(ts.isDeclaration(current)||ts.isStatement(current))&&(parent.kind===248||!parentAndChildShareLine);if(!useActualIndentation){return-1}return findColumnForFirstNonWhitespaceCharacterInLine(currentLineAndChar,sourceFile,options)}function nextTokenIsCurlyBraceOnSameLineAsCursor(precedingToken,current,lineAtPosition,sourceFile){var nextToken=ts.findNextToken(precedingToken,current);if(!nextToken){return false}if(nextToken.kind===15){return true}else if(nextToken.kind===16){var nextTokenStartLine=getStartLineAndCharacterForNode(nextToken,sourceFile).line;return lineAtPosition===nextTokenStartLine}return false}function getStartLineAndCharacterForNode(n,sourceFile){return sourceFile.getLineAndCharacterOfPosition(n.getStart(sourceFile))}function childStartsOnTheSameLineWithElseInIfStatement(parent,child,childStartLine,sourceFile){if(parent.kind===196&&parent.elseStatement===child){var elseKeyword=ts.findChildOfKind(parent,80,sourceFile);ts.Debug.assert(elseKeyword!==undefined);var elseKeywordStartLine=getStartLineAndCharacterForNode(elseKeyword,sourceFile).line;return elseKeywordStartLine===childStartLine}return false}SmartIndenter.childStartsOnTheSameLineWithElseInIfStatement=childStartsOnTheSameLineWithElseInIfStatement;function getContainingList(node,sourceFile){if(node.parent){switch(node.parent.kind){case 151:if(node.parent.typeArguments&&ts.rangeContainsStartEnd(node.parent.typeArguments,node.getStart(sourceFile),node.getEnd())){return node.parent.typeArguments}break;case 165:return node.parent.properties;case 164:return node.parent.elements;case 213:case 173:case 174:case 143:case 142:case 147:case 148:{var start=node.getStart(sourceFile);if(node.parent.typeParameters&&ts.rangeContainsStartEnd(node.parent.typeParameters,start,node.getEnd())){return node.parent.typeParameters}if(ts.rangeContainsStartEnd(node.parent.parameters,start,node.getEnd())){return node.parent.parameters}break}case 169:case 168:{var start=node.getStart(sourceFile);if(node.parent.typeArguments&&ts.rangeContainsStartEnd(node.parent.typeArguments,start,node.getEnd())){return node.parent.typeArguments}if(node.parent.arguments&&ts.rangeContainsStartEnd(node.parent.arguments,start,node.getEnd())){return node.parent.arguments}break}}}return undefined}function getActualIndentationForListItem(node,sourceFile,options){var containingList=getContainingList(node,sourceFile);return containingList?getActualIndentationFromList(containingList):-1;function getActualIndentationFromList(list){var index=ts.indexOf(list,node);return index!==-1?deriveActualIndentationFromList(list,index,sourceFile,options):-1}}function getLineIndentationWhenExpressionIsInMultiLine(node,sourceFile,options){if(node.kind===18){return-1}if(node.parent&&(node.parent.kind===168||node.parent.kind===169)&&node.parent.expression!==node){var fullCallOrNewExpression=node.parent.expression;var startingExpression=getStartingExpression(fullCallOrNewExpression);if(fullCallOrNewExpression===startingExpression){return-1}var fullCallOrNewExpressionEnd=sourceFile.getLineAndCharacterOfPosition(fullCallOrNewExpression.end);var startingExpressionEnd=sourceFile.getLineAndCharacterOfPosition(startingExpression.end);if(fullCallOrNewExpressionEnd.line===startingExpressionEnd.line){return-1}return findColumnForFirstNonWhitespaceCharacterInLine(fullCallOrNewExpressionEnd,sourceFile,options)}return-1;function getStartingExpression(node){while(true){switch(node.kind){case 168:case 169:case 166:case 167:node=node.expression;break;default:return node}}return node}}function deriveActualIndentationFromList(list,index,sourceFile,options){ts.Debug.assert(index>=0&&index<list.length);var node=list[index];var lineAndCharacter=getStartLineAndCharacterForNode(node,sourceFile);for(var i=index-1;i>=0;--i){if(list[i].kind===24){continue}var prevEndLine=sourceFile.getLineAndCharacterOfPosition(list[i].end).line;if(prevEndLine!==lineAndCharacter.line){return findColumnForFirstNonWhitespaceCharacterInLine(lineAndCharacter,sourceFile,options)}lineAndCharacter=getStartLineAndCharacterForNode(list[i],sourceFile)}return-1}function findColumnForFirstNonWhitespaceCharacterInLine(lineAndCharacter,sourceFile,options){var lineStart=sourceFile.getPositionOfLineAndCharacter(lineAndCharacter.line,0);return findFirstNonWhitespaceColumn(lineStart,lineStart+lineAndCharacter.character,sourceFile,options)}function findFirstNonWhitespaceCharacterAndColumn(startPos,endPos,sourceFile,options){var character=0;var column=0;for(var pos=startPos;pos<endPos;++pos){var ch=sourceFile.text.charCodeAt(pos);if(!ts.isWhiteSpace(ch)){break}if(ch===9){column+=options.TabSize+column%options.TabSize}else{column++}character++}return{column:column,character:character}}SmartIndenter.findFirstNonWhitespaceCharacterAndColumn=findFirstNonWhitespaceCharacterAndColumn;function findFirstNonWhitespaceColumn(startPos,endPos,sourceFile,options){return findFirstNonWhitespaceCharacterAndColumn(startPos,endPos,sourceFile,options).column}SmartIndenter.findFirstNonWhitespaceColumn=findFirstNonWhitespaceColumn;function nodeContentIsAlwaysIndented(kind){switch(kind){case 195:case 214:case 186:case 215:case 217:case 216:case 164:case 192:case 219:case 165:case 155:case 157:case 220:case 242:case 241:case 172:case 166:case 168:case 169:case 193:case 211:case 227:case 204:case 182:case 162:case 161:case 233:case 234:case 142:case 147:case 148:case 138:case 152:case 153:case 160:case 170:case 178:return true}return false}function shouldIndentChildNode(parent,child){if(nodeContentIsAlwaysIndented(parent)){return true}switch(parent){case 197:case 198:case 200:case 201:case 199:case 196:case 213:case 173:case 143:case 174:case 144:case 145:case 146:return child!==192;default:return false}}SmartIndenter.shouldIndentChildNode=shouldIndentChildNode})(SmartIndenter=formatting.SmartIndenter||(formatting.SmartIndenter={}))})(formatting=ts.formatting||(ts.formatting={}));
})(ts||(ts={}));var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var ts;(function(ts){ts.servicesVersion="0.4";var ScriptSnapshot;(function(ScriptSnapshot){var StringScriptSnapshot=function(){function StringScriptSnapshot(text){this.text=text}StringScriptSnapshot.prototype.getText=function(start,end){return this.text.substring(start,end)};StringScriptSnapshot.prototype.getLength=function(){return this.text.length};StringScriptSnapshot.prototype.getChangeRange=function(oldSnapshot){return undefined};return StringScriptSnapshot}();function fromString(text){return new StringScriptSnapshot(text)}ScriptSnapshot.fromString=fromString})(ScriptSnapshot=ts.ScriptSnapshot||(ts.ScriptSnapshot={}));var scanner=ts.createScanner(2,true);var emptyArray=[];var jsDocTagNames=["augments","author","argument","borrows","class","constant","constructor","constructs","default","deprecated","description","event","example","extends","field","fileOverview","function","ignore","inner","lends","link","memberOf","name","namespace","param","private","property","public","requires","returns","see","since","static","throws","type","version"];var jsDocCompletionEntries;function createNode(kind,pos,end,flags,parent){var node=new(ts.getNodeConstructor(kind));node.pos=pos;node.end=end;node.flags=flags;node.parent=parent;return node}var NodeObject=function(){function NodeObject(){}NodeObject.prototype.getSourceFile=function(){return ts.getSourceFileOfNode(this)};NodeObject.prototype.getStart=function(sourceFile){return ts.getTokenPosOfNode(this,sourceFile)};NodeObject.prototype.getFullStart=function(){return this.pos};NodeObject.prototype.getEnd=function(){return this.end};NodeObject.prototype.getWidth=function(sourceFile){return this.getEnd()-this.getStart(sourceFile)};NodeObject.prototype.getFullWidth=function(){return this.end-this.pos};NodeObject.prototype.getLeadingTriviaWidth=function(sourceFile){return this.getStart(sourceFile)-this.pos};NodeObject.prototype.getFullText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.pos,this.end)};NodeObject.prototype.getText=function(sourceFile){return(sourceFile||this.getSourceFile()).text.substring(this.getStart(),this.getEnd())};NodeObject.prototype.addSyntheticNodes=function(nodes,pos,end){scanner.setTextPos(pos);while(pos<end){var token=scanner.scan();var textPos=scanner.getTextPos();nodes.push(createNode(token,pos,textPos,4096,this));pos=textPos}return pos};NodeObject.prototype.createSyntaxList=function(nodes){var list=createNode(271,nodes.pos,nodes.end,4096,this);list._children=[];var pos=nodes.pos;for(var _i=0;_i<nodes.length;_i++){var node=nodes[_i];if(pos<node.pos){pos=this.addSyntheticNodes(list._children,pos,node.pos)}list._children.push(node);pos=node.end}if(pos<nodes.end){this.addSyntheticNodes(list._children,pos,nodes.end)}return list};NodeObject.prototype.createChildren=function(sourceFile){var _this=this;var children;if(this.kind>=135){scanner.setText((sourceFile||this.getSourceFile()).text);children=[];var pos=this.pos;var processNode=function(node){if(pos<node.pos){pos=_this.addSyntheticNodes(children,pos,node.pos)}children.push(node);pos=node.end};var processNodes=function(nodes){if(pos<nodes.pos){pos=_this.addSyntheticNodes(children,pos,nodes.pos)}children.push(_this.createSyntaxList(nodes));pos=nodes.end};ts.forEachChild(this,processNode,processNodes);if(pos<this.end){this.addSyntheticNodes(children,pos,this.end)}scanner.setText(undefined)}this._children=children||emptyArray};NodeObject.prototype.getChildCount=function(sourceFile){if(!this._children)this.createChildren(sourceFile);return this._children.length};NodeObject.prototype.getChildAt=function(index,sourceFile){if(!this._children)this.createChildren(sourceFile);return this._children[index]};NodeObject.prototype.getChildren=function(sourceFile){if(!this._children)this.createChildren(sourceFile);return this._children};NodeObject.prototype.getFirstToken=function(sourceFile){var children=this.getChildren(sourceFile);if(!children.length){return undefined}var child=children[0];return child.kind<135?child:child.getFirstToken(sourceFile)};NodeObject.prototype.getLastToken=function(sourceFile){var children=this.getChildren(sourceFile);var child=ts.lastOrUndefined(children);if(!child){return undefined}return child.kind<135?child:child.getLastToken(sourceFile)};return NodeObject}();var SymbolObject=function(){function SymbolObject(flags,name){this.flags=flags;this.name=name}SymbolObject.prototype.getFlags=function(){return this.flags};SymbolObject.prototype.getName=function(){return this.name};SymbolObject.prototype.getDeclarations=function(){return this.declarations};SymbolObject.prototype.getDocumentationComment=function(){if(this.documentationComment===undefined){this.documentationComment=getJsDocCommentsFromDeclarations(this.declarations,this.name,!(this.flags&4))}return this.documentationComment};return SymbolObject}();function getJsDocCommentsFromDeclarations(declarations,name,canUseParsedParamTagComments){var documentationComment=[];var docComments=getJsDocCommentsSeparatedByNewLines();ts.forEach(docComments,function(docComment){if(documentationComment.length){documentationComment.push(ts.lineBreakPart())}documentationComment.push(docComment)});return documentationComment;function getJsDocCommentsSeparatedByNewLines(){var paramTag="@param";var jsDocCommentParts=[];ts.forEach(declarations,function(declaration,indexOfDeclaration){if(ts.indexOf(declarations,declaration)===indexOfDeclaration){var sourceFileOfDeclaration=ts.getSourceFileOfNode(declaration);if(canUseParsedParamTagComments&&declaration.kind===138){ts.forEach(getJsDocCommentTextRange(declaration.parent,sourceFileOfDeclaration),function(jsDocCommentTextRange){var cleanedParamJsDocComment=getCleanedParamJsDocComment(jsDocCommentTextRange.pos,jsDocCommentTextRange.end,sourceFileOfDeclaration);if(cleanedParamJsDocComment){ts.addRange(jsDocCommentParts,cleanedParamJsDocComment)}})}if(declaration.kind===218&&declaration.body.kind===218){return}while(declaration.kind===218&&declaration.parent.kind===218){declaration=declaration.parent}ts.forEach(getJsDocCommentTextRange(declaration.kind===211?declaration.parent.parent:declaration,sourceFileOfDeclaration),function(jsDocCommentTextRange){var cleanedJsDocComment=getCleanedJsDocComment(jsDocCommentTextRange.pos,jsDocCommentTextRange.end,sourceFileOfDeclaration);if(cleanedJsDocComment){ts.addRange(jsDocCommentParts,cleanedJsDocComment)}})}});return jsDocCommentParts;function getJsDocCommentTextRange(node,sourceFile){return ts.map(ts.getJsDocComments(node,sourceFile),function(jsDocComment){return{pos:jsDocComment.pos+"/*".length,end:jsDocComment.end-"*/".length}})}function consumeWhiteSpacesOnTheLine(pos,end,sourceFile,maxSpacesToRemove){if(maxSpacesToRemove!==undefined){end=Math.min(end,pos+maxSpacesToRemove)}for(;pos<end;pos++){var ch=sourceFile.text.charCodeAt(pos);if(!ts.isWhiteSpace(ch)||ts.isLineBreak(ch)){return pos}}return end}function consumeLineBreaks(pos,end,sourceFile){while(pos<end&&ts.isLineBreak(sourceFile.text.charCodeAt(pos))){pos++}return pos}function isName(pos,end,sourceFile,name){return pos+name.length<end&&sourceFile.text.substr(pos,name.length)===name&&(ts.isWhiteSpace(sourceFile.text.charCodeAt(pos+name.length))||ts.isLineBreak(sourceFile.text.charCodeAt(pos+name.length)))}function isParamTag(pos,end,sourceFile){return isName(pos,end,sourceFile,paramTag)}function pushDocCommentLineText(docComments,text,blankLineCount){while(blankLineCount--){docComments.push(ts.textPart(""))}docComments.push(ts.textPart(text))}function getCleanedJsDocComment(pos,end,sourceFile){var spacesToRemoveAfterAsterisk;var docComments=[];var blankLineCount=0;var isInParamTag=false;while(pos<end){var docCommentTextOfLine="";pos=consumeWhiteSpacesOnTheLine(pos,end,sourceFile);if(pos<end&&sourceFile.text.charCodeAt(pos)===42){var lineStartPos=pos+1;pos=consumeWhiteSpacesOnTheLine(pos+1,end,sourceFile,spacesToRemoveAfterAsterisk);if(spacesToRemoveAfterAsterisk===undefined&&pos<end&&!ts.isLineBreak(sourceFile.text.charCodeAt(pos))){spacesToRemoveAfterAsterisk=pos-lineStartPos}}else if(spacesToRemoveAfterAsterisk===undefined){spacesToRemoveAfterAsterisk=0}while(pos<end&&!ts.isLineBreak(sourceFile.text.charCodeAt(pos))){var ch=sourceFile.text.charAt(pos);if(ch==="@"){if(isParamTag(pos,end,sourceFile)){isInParamTag=true;pos+=paramTag.length;continue}else{isInParamTag=false}}if(!isInParamTag){docCommentTextOfLine+=ch}pos++}pos=consumeLineBreaks(pos,end,sourceFile);if(docCommentTextOfLine){pushDocCommentLineText(docComments,docCommentTextOfLine,blankLineCount);blankLineCount=0}else if(!isInParamTag&&docComments.length){blankLineCount++}}return docComments}function getCleanedParamJsDocComment(pos,end,sourceFile){var paramHelpStringMargin;var paramDocComments=[];while(pos<end){if(isParamTag(pos,end,sourceFile)){var blankLineCount=0;var recordedParamTag=false;pos=consumeWhiteSpaces(pos+paramTag.length);if(pos>=end){break}if(sourceFile.text.charCodeAt(pos)===123){pos++;for(var curlies=1;pos<end;pos++){var charCode=sourceFile.text.charCodeAt(pos);if(charCode===123){curlies++;continue}if(charCode===125){curlies--;if(curlies===0){pos++;break}else{continue}}if(charCode===64){break}}pos=consumeWhiteSpaces(pos);if(pos>=end){break}}if(isName(pos,end,sourceFile,name)){pos=consumeWhiteSpaces(pos+name.length);if(pos>=end){break}var paramHelpString="";var firstLineParamHelpStringPos=pos;while(pos<end){var ch=sourceFile.text.charCodeAt(pos);if(ts.isLineBreak(ch)){if(paramHelpString){pushDocCommentLineText(paramDocComments,paramHelpString,blankLineCount);paramHelpString="";blankLineCount=0;recordedParamTag=true}else if(recordedParamTag){blankLineCount++}setPosForParamHelpStringOnNextLine(firstLineParamHelpStringPos);continue}if(ch===64){break}paramHelpString+=sourceFile.text.charAt(pos);pos++}if(paramHelpString){pushDocCommentLineText(paramDocComments,paramHelpString,blankLineCount)}paramHelpStringMargin=undefined}if(sourceFile.text.charCodeAt(pos)===64){continue}}pos++}return paramDocComments;function consumeWhiteSpaces(pos){while(pos<end&&ts.isWhiteSpace(sourceFile.text.charCodeAt(pos))){pos++}return pos}function setPosForParamHelpStringOnNextLine(firstLineParamHelpStringPos){pos=consumeLineBreaks(pos,end,sourceFile);if(pos>=end){return}if(paramHelpStringMargin===undefined){paramHelpStringMargin=sourceFile.getLineAndCharacterOfPosition(firstLineParamHelpStringPos).character}var startOfLinePos=pos;pos=consumeWhiteSpacesOnTheLine(pos,end,sourceFile,paramHelpStringMargin);if(pos>=end){return}var consumedSpaces=pos-startOfLinePos;if(consumedSpaces<paramHelpStringMargin){var ch=sourceFile.text.charCodeAt(pos);if(ch===42){pos=consumeWhiteSpacesOnTheLine(pos+1,end,sourceFile,paramHelpStringMargin-consumedSpaces-1)}}}}}}var TypeObject=function(){function TypeObject(checker,flags){this.checker=checker;this.flags=flags}TypeObject.prototype.getFlags=function(){return this.flags};TypeObject.prototype.getSymbol=function(){return this.symbol};TypeObject.prototype.getProperties=function(){return this.checker.getPropertiesOfType(this)};TypeObject.prototype.getProperty=function(propertyName){return this.checker.getPropertyOfType(this,propertyName)};TypeObject.prototype.getApparentProperties=function(){return this.checker.getAugmentedPropertiesOfType(this)};TypeObject.prototype.getCallSignatures=function(){return this.checker.getSignaturesOfType(this,0)};TypeObject.prototype.getConstructSignatures=function(){return this.checker.getSignaturesOfType(this,1)};TypeObject.prototype.getStringIndexType=function(){return this.checker.getIndexTypeOfType(this,0)};TypeObject.prototype.getNumberIndexType=function(){return this.checker.getIndexTypeOfType(this,1)};TypeObject.prototype.getBaseTypes=function(){return this.flags&(1024|2048)?this.checker.getBaseTypes(this):undefined};return TypeObject}();var SignatureObject=function(){function SignatureObject(checker){this.checker=checker}SignatureObject.prototype.getDeclaration=function(){return this.declaration};SignatureObject.prototype.getTypeParameters=function(){return this.typeParameters};SignatureObject.prototype.getParameters=function(){return this.parameters};SignatureObject.prototype.getReturnType=function(){return this.checker.getReturnTypeOfSignature(this)};SignatureObject.prototype.getDocumentationComment=function(){if(this.documentationComment===undefined){this.documentationComment=this.declaration?getJsDocCommentsFromDeclarations([this.declaration],undefined,false):[]}return this.documentationComment};return SignatureObject}();var SourceFileObject=function(_super){__extends(SourceFileObject,_super);function SourceFileObject(){_super.apply(this,arguments)}SourceFileObject.prototype.update=function(newText,textChangeRange){return ts.updateSourceFile(this,newText,textChangeRange)};SourceFileObject.prototype.getLineAndCharacterOfPosition=function(position){return ts.getLineAndCharacterOfPosition(this,position)};SourceFileObject.prototype.getLineStarts=function(){return ts.getLineStarts(this)};SourceFileObject.prototype.getPositionOfLineAndCharacter=function(line,character){return ts.getPositionOfLineAndCharacter(this,line,character)};SourceFileObject.prototype.getNamedDeclarations=function(){if(!this.namedDeclarations){this.namedDeclarations=this.computeNamedDeclarations()}return this.namedDeclarations};SourceFileObject.prototype.computeNamedDeclarations=function(){var result={};ts.forEachChild(this,visit);return result;function addDeclaration(declaration){var name=getDeclarationName(declaration);if(name){var declarations=getDeclarations(name);declarations.push(declaration)}}function getDeclarations(name){return ts.getProperty(result,name)||(result[name]=[])}function getDeclarationName(declaration){if(declaration.name){var result_2=getTextOfIdentifierOrLiteral(declaration.name);if(result_2!==undefined){return result_2}if(declaration.name.kind===136){var expr=declaration.name.expression;if(expr.kind===166){return expr.name.text}return getTextOfIdentifierOrLiteral(expr)}}return undefined}function getTextOfIdentifierOrLiteral(node){if(node){if(node.kind===69||node.kind===9||node.kind===8){return node.text}}return undefined}function visit(node){switch(node.kind){case 213:case 143:case 142:var functionDeclaration=node;var declarationName=getDeclarationName(functionDeclaration);if(declarationName){var declarations=getDeclarations(declarationName);var lastDeclaration=ts.lastOrUndefined(declarations);if(lastDeclaration&&functionDeclaration.parent===lastDeclaration.parent&&functionDeclaration.symbol===lastDeclaration.symbol){if(functionDeclaration.body&&!lastDeclaration.body){declarations[declarations.length-1]=functionDeclaration}}else{declarations.push(functionDeclaration)}ts.forEachChild(node,visit)}break;case 214:case 215:case 216:case 217:case 218:case 221:case 230:case 226:case 221:case 223:case 224:case 145:case 146:case 155:addDeclaration(node);case 144:case 193:case 212:case 161:case 162:case 219:ts.forEachChild(node,visit);break;case 192:if(ts.isFunctionBlock(node)){ts.forEachChild(node,visit)}break;case 138:if(!(node.flags&112)){break}case 211:case 163:if(ts.isBindingPattern(node.name)){ts.forEachChild(node.name,visit);break}case 247:case 141:case 140:addDeclaration(node);break;case 228:if(node.exportClause){ts.forEach(node.exportClause.elements,visit)}break;case 222:var importClause=node.importClause;if(importClause){if(importClause.name){addDeclaration(importClause)}if(importClause.namedBindings){if(importClause.namedBindings.kind===224){addDeclaration(importClause.namedBindings)}else{ts.forEach(importClause.namedBindings.elements,visit)}}}break}}};return SourceFileObject}(NodeObject);var TextChange=function(){function TextChange(){}return TextChange}();ts.TextChange=TextChange;var HighlightSpanKind;(function(HighlightSpanKind){HighlightSpanKind.none="none";HighlightSpanKind.definition="definition";HighlightSpanKind.reference="reference";HighlightSpanKind.writtenReference="writtenReference"})(HighlightSpanKind=ts.HighlightSpanKind||(ts.HighlightSpanKind={}));(function(IndentStyle){IndentStyle[IndentStyle["None"]=0]="None";IndentStyle[IndentStyle["Block"]=1]="Block";IndentStyle[IndentStyle["Smart"]=2]="Smart"})(ts.IndentStyle||(ts.IndentStyle={}));var IndentStyle=ts.IndentStyle;(function(SymbolDisplayPartKind){SymbolDisplayPartKind[SymbolDisplayPartKind["aliasName"]=0]="aliasName";SymbolDisplayPartKind[SymbolDisplayPartKind["className"]=1]="className";SymbolDisplayPartKind[SymbolDisplayPartKind["enumName"]=2]="enumName";SymbolDisplayPartKind[SymbolDisplayPartKind["fieldName"]=3]="fieldName";SymbolDisplayPartKind[SymbolDisplayPartKind["interfaceName"]=4]="interfaceName";SymbolDisplayPartKind[SymbolDisplayPartKind["keyword"]=5]="keyword";SymbolDisplayPartKind[SymbolDisplayPartKind["lineBreak"]=6]="lineBreak";SymbolDisplayPartKind[SymbolDisplayPartKind["numericLiteral"]=7]="numericLiteral";SymbolDisplayPartKind[SymbolDisplayPartKind["stringLiteral"]=8]="stringLiteral";SymbolDisplayPartKind[SymbolDisplayPartKind["localName"]=9]="localName";SymbolDisplayPartKind[SymbolDisplayPartKind["methodName"]=10]="methodName";SymbolDisplayPartKind[SymbolDisplayPartKind["moduleName"]=11]="moduleName";SymbolDisplayPartKind[SymbolDisplayPartKind["operator"]=12]="operator";SymbolDisplayPartKind[SymbolDisplayPartKind["parameterName"]=13]="parameterName";SymbolDisplayPartKind[SymbolDisplayPartKind["propertyName"]=14]="propertyName";SymbolDisplayPartKind[SymbolDisplayPartKind["punctuation"]=15]="punctuation";SymbolDisplayPartKind[SymbolDisplayPartKind["space"]=16]="space";SymbolDisplayPartKind[SymbolDisplayPartKind["text"]=17]="text";SymbolDisplayPartKind[SymbolDisplayPartKind["typeParameterName"]=18]="typeParameterName";SymbolDisplayPartKind[SymbolDisplayPartKind["enumMemberName"]=19]="enumMemberName";SymbolDisplayPartKind[SymbolDisplayPartKind["functionName"]=20]="functionName";SymbolDisplayPartKind[SymbolDisplayPartKind["regularExpressionLiteral"]=21]="regularExpressionLiteral"})(ts.SymbolDisplayPartKind||(ts.SymbolDisplayPartKind={}));var SymbolDisplayPartKind=ts.SymbolDisplayPartKind;(function(OutputFileType){OutputFileType[OutputFileType["JavaScript"]=0]="JavaScript";OutputFileType[OutputFileType["SourceMap"]=1]="SourceMap";OutputFileType[OutputFileType["Declaration"]=2]="Declaration"})(ts.OutputFileType||(ts.OutputFileType={}));var OutputFileType=ts.OutputFileType;(function(EndOfLineState){EndOfLineState[EndOfLineState["None"]=0]="None";EndOfLineState[EndOfLineState["InMultiLineCommentTrivia"]=1]="InMultiLineCommentTrivia";EndOfLineState[EndOfLineState["InSingleQuoteStringLiteral"]=2]="InSingleQuoteStringLiteral";EndOfLineState[EndOfLineState["InDoubleQuoteStringLiteral"]=3]="InDoubleQuoteStringLiteral";EndOfLineState[EndOfLineState["InTemplateHeadOrNoSubstitutionTemplate"]=4]="InTemplateHeadOrNoSubstitutionTemplate";EndOfLineState[EndOfLineState["InTemplateMiddleOrTail"]=5]="InTemplateMiddleOrTail";EndOfLineState[EndOfLineState["InTemplateSubstitutionPosition"]=6]="InTemplateSubstitutionPosition"})(ts.EndOfLineState||(ts.EndOfLineState={}));var EndOfLineState=ts.EndOfLineState;(function(TokenClass){TokenClass[TokenClass["Punctuation"]=0]="Punctuation";TokenClass[TokenClass["Keyword"]=1]="Keyword";TokenClass[TokenClass["Operator"]=2]="Operator";TokenClass[TokenClass["Comment"]=3]="Comment";TokenClass[TokenClass["Whitespace"]=4]="Whitespace";TokenClass[TokenClass["Identifier"]=5]="Identifier";TokenClass[TokenClass["NumberLiteral"]=6]="NumberLiteral";TokenClass[TokenClass["StringLiteral"]=7]="StringLiteral";TokenClass[TokenClass["RegExpLiteral"]=8]="RegExpLiteral"})(ts.TokenClass||(ts.TokenClass={}));var TokenClass=ts.TokenClass;var ScriptElementKind;(function(ScriptElementKind){ScriptElementKind.unknown="";ScriptElementKind.warning="warning";ScriptElementKind.keyword="keyword";ScriptElementKind.scriptElement="script";ScriptElementKind.moduleElement="module";ScriptElementKind.classElement="class";ScriptElementKind.localClassElement="local class";ScriptElementKind.interfaceElement="interface";ScriptElementKind.typeElement="type";ScriptElementKind.enumElement="enum";ScriptElementKind.variableElement="var";ScriptElementKind.localVariableElement="local var";ScriptElementKind.functionElement="function";ScriptElementKind.localFunctionElement="local function";ScriptElementKind.memberFunctionElement="method";ScriptElementKind.memberGetAccessorElement="getter";ScriptElementKind.memberSetAccessorElement="setter";ScriptElementKind.memberVariableElement="property";ScriptElementKind.constructorImplementationElement="constructor";ScriptElementKind.callSignatureElement="call";ScriptElementKind.indexSignatureElement="index";ScriptElementKind.constructSignatureElement="construct";ScriptElementKind.parameterElement="parameter";ScriptElementKind.typeParameterElement="type parameter";ScriptElementKind.primitiveType="primitive type";ScriptElementKind.label="label";ScriptElementKind.alias="alias";ScriptElementKind.constElement="const";ScriptElementKind.letElement="let"})(ScriptElementKind=ts.ScriptElementKind||(ts.ScriptElementKind={}));var ScriptElementKindModifier;(function(ScriptElementKindModifier){ScriptElementKindModifier.none="";ScriptElementKindModifier.publicMemberModifier="public";ScriptElementKindModifier.privateMemberModifier="private";ScriptElementKindModifier.protectedMemberModifier="protected";ScriptElementKindModifier.exportedModifier="export";ScriptElementKindModifier.ambientModifier="declare";ScriptElementKindModifier.staticModifier="static";ScriptElementKindModifier.abstractModifier="abstract"})(ScriptElementKindModifier=ts.ScriptElementKindModifier||(ts.ScriptElementKindModifier={}));var ClassificationTypeNames=function(){function ClassificationTypeNames(){}ClassificationTypeNames.comment="comment";ClassificationTypeNames.identifier="identifier";ClassificationTypeNames.keyword="keyword";ClassificationTypeNames.numericLiteral="number";ClassificationTypeNames.operator="operator";ClassificationTypeNames.stringLiteral="string";ClassificationTypeNames.whiteSpace="whitespace";ClassificationTypeNames.text="text";ClassificationTypeNames.punctuation="punctuation";ClassificationTypeNames.className="class name";ClassificationTypeNames.enumName="enum name";ClassificationTypeNames.interfaceName="interface name";ClassificationTypeNames.moduleName="module name";ClassificationTypeNames.typeParameterName="type parameter name";ClassificationTypeNames.typeAliasName="type alias name";ClassificationTypeNames.parameterName="parameter name";ClassificationTypeNames.docCommentTagName="doc comment tag name";return ClassificationTypeNames}();ts.ClassificationTypeNames=ClassificationTypeNames;(function(ClassificationType){ClassificationType[ClassificationType["comment"]=1]="comment";ClassificationType[ClassificationType["identifier"]=2]="identifier";ClassificationType[ClassificationType["keyword"]=3]="keyword";ClassificationType[ClassificationType["numericLiteral"]=4]="numericLiteral";ClassificationType[ClassificationType["operator"]=5]="operator";ClassificationType[ClassificationType["stringLiteral"]=6]="stringLiteral";ClassificationType[ClassificationType["regularExpressionLiteral"]=7]="regularExpressionLiteral";ClassificationType[ClassificationType["whiteSpace"]=8]="whiteSpace";ClassificationType[ClassificationType["text"]=9]="text";ClassificationType[ClassificationType["punctuation"]=10]="punctuation";ClassificationType[ClassificationType["className"]=11]="className";ClassificationType[ClassificationType["enumName"]=12]="enumName";ClassificationType[ClassificationType["interfaceName"]=13]="interfaceName";ClassificationType[ClassificationType["moduleName"]=14]="moduleName";ClassificationType[ClassificationType["typeParameterName"]=15]="typeParameterName";ClassificationType[ClassificationType["typeAliasName"]=16]="typeAliasName";ClassificationType[ClassificationType["parameterName"]=17]="parameterName";ClassificationType[ClassificationType["docCommentTagName"]=18]="docCommentTagName"})(ts.ClassificationType||(ts.ClassificationType={}));var ClassificationType=ts.ClassificationType;function displayPartsToString(displayParts){if(displayParts){return ts.map(displayParts,function(displayPart){return displayPart.text}).join("")}return""}ts.displayPartsToString=displayPartsToString;function isLocalVariableOrFunction(symbol){if(symbol.parent){return false}return ts.forEach(symbol.declarations,function(declaration){if(declaration.kind===173){return true}if(declaration.kind!==211&&declaration.kind!==213){return false}for(var parent_8=declaration.parent;!ts.isFunctionBlock(parent_8);parent_8=parent_8.parent){if(parent_8.kind===248||parent_8.kind===219){return false}}return true})}function getDefaultCompilerOptions(){return{target:1,module:0,jsx:1}}ts.getDefaultCompilerOptions=getDefaultCompilerOptions;var HostCache=function(){function HostCache(host,getCanonicalFileName){this.host=host;this.fileNameToEntry=ts.createFileMap(getCanonicalFileName);var rootFileNames=host.getScriptFileNames();for(var _i=0;_i<rootFileNames.length;_i++){var fileName=rootFileNames[_i];this.createEntry(fileName)}this._compilationSettings=host.getCompilationSettings()||getDefaultCompilerOptions()}HostCache.prototype.compilationSettings=function(){return this._compilationSettings};HostCache.prototype.createEntry=function(fileName){var entry;var scriptSnapshot=this.host.getScriptSnapshot(fileName);if(scriptSnapshot){entry={hostFileName:fileName,version:this.host.getScriptVersion(fileName),scriptSnapshot:scriptSnapshot}}this.fileNameToEntry.set(fileName,entry);return entry};HostCache.prototype.getEntry=function(fileName){return this.fileNameToEntry.get(fileName)};HostCache.prototype.contains=function(fileName){return this.fileNameToEntry.contains(fileName)};HostCache.prototype.getOrCreateEntry=function(fileName){if(this.contains(fileName)){return this.getEntry(fileName)}return this.createEntry(fileName)};HostCache.prototype.getRootFileNames=function(){var fileNames=[];this.fileNameToEntry.forEachValue(function(value){if(value){fileNames.push(value.hostFileName)}});return fileNames};HostCache.prototype.getVersion=function(fileName){var file=this.getEntry(fileName);return file&&file.version};HostCache.prototype.getScriptSnapshot=function(fileName){var file=this.getEntry(fileName);return file&&file.scriptSnapshot};return HostCache}();var SyntaxTreeCache=function(){function SyntaxTreeCache(host){this.host=host}SyntaxTreeCache.prototype.getCurrentSourceFile=function(fileName){var scriptSnapshot=this.host.getScriptSnapshot(fileName);if(!scriptSnapshot){throw new Error("Could not find file: '"+fileName+"'.")}var version=this.host.getScriptVersion(fileName);var sourceFile;if(this.currentFileName!==fileName){sourceFile=createLanguageServiceSourceFile(fileName,scriptSnapshot,2,version,true)}else if(this.currentFileVersion!==version){var editRange=scriptSnapshot.getChangeRange(this.currentFileScriptSnapshot);sourceFile=updateLanguageServiceSourceFile(this.currentSourceFile,scriptSnapshot,version,editRange)}if(sourceFile){this.currentFileVersion=version;this.currentFileName=fileName;this.currentFileScriptSnapshot=scriptSnapshot;this.currentSourceFile=sourceFile}return this.currentSourceFile};return SyntaxTreeCache}();function setSourceFileFields(sourceFile,scriptSnapshot,version){sourceFile.version=version;sourceFile.scriptSnapshot=scriptSnapshot}function transpileModule(input,transpileOptions){var options=transpileOptions.compilerOptions?ts.clone(transpileOptions.compilerOptions):getDefaultCompilerOptions();options.isolatedModules=true;options.allowNonTsExtensions=true;options.noLib=true;options.noResolve=true;var inputFileName=transpileOptions.fileName||(options.jsx?"module.tsx":"module.ts");var sourceFile=ts.createSourceFile(inputFileName,input,options.target);if(transpileOptions.moduleName){sourceFile.moduleName=transpileOptions.moduleName}sourceFile.renamedDependencies=transpileOptions.renamedDependencies;var newLine=ts.getNewLineCharacter(options);var outputText;var sourceMapText;var compilerHost={getSourceFile:function(fileName,target){return fileName===ts.normalizeSlashes(inputFileName)?sourceFile:undefined},writeFile:function(name,text,writeByteOrderMark){if(ts.fileExtensionIs(name,".map")){ts.Debug.assert(sourceMapText===undefined,"Unexpected multiple source map outputs for the file '"+name+"'");sourceMapText=text}else{ts.Debug.assert(outputText===undefined,"Unexpected multiple outputs for the file: "+name);outputText=text}},getDefaultLibFileName:function(){return"lib.d.ts"},useCaseSensitiveFileNames:function(){return false},getCanonicalFileName:function(fileName){return fileName},getCurrentDirectory:function(){return""},getNewLine:function(){return newLine},fileExists:function(fileName){return fileName===inputFileName},readFile:function(fileName){return""}};var program=ts.createProgram([inputFileName],options,compilerHost);var diagnostics;if(transpileOptions.reportDiagnostics){diagnostics=[];ts.addRange(diagnostics,program.getSyntacticDiagnostics(sourceFile));ts.addRange(diagnostics,program.getOptionsDiagnostics())}program.emit();ts.Debug.assert(outputText!==undefined,"Output generation failed");return{outputText:outputText,diagnostics:diagnostics,sourceMapText:sourceMapText}}ts.transpileModule=transpileModule;function transpile(input,compilerOptions,fileName,diagnostics,moduleName){var output=transpileModule(input,{compilerOptions:compilerOptions,fileName:fileName,reportDiagnostics:!!diagnostics,moduleName:moduleName});ts.addRange(diagnostics,output.diagnostics);return output.outputText}ts.transpile=transpile;function createLanguageServiceSourceFile(fileName,scriptSnapshot,scriptTarget,version,setNodeParents){var text=scriptSnapshot.getText(0,scriptSnapshot.getLength());var sourceFile=ts.createSourceFile(fileName,text,scriptTarget,setNodeParents);setSourceFileFields(sourceFile,scriptSnapshot,version);sourceFile.nameTable=sourceFile.identifiers;return sourceFile}ts.createLanguageServiceSourceFile=createLanguageServiceSourceFile;ts.disableIncrementalParsing=false;function updateLanguageServiceSourceFile(sourceFile,scriptSnapshot,version,textChangeRange,aggressiveChecks){if(textChangeRange){if(version!==sourceFile.version){if(!ts.disableIncrementalParsing){var newText;var prefix=textChangeRange.span.start!==0?sourceFile.text.substr(0,textChangeRange.span.start):"";var suffix=ts.textSpanEnd(textChangeRange.span)!==sourceFile.text.length?sourceFile.text.substr(ts.textSpanEnd(textChangeRange.span)):"";if(textChangeRange.newLength===0){newText=prefix&&suffix?prefix+suffix:prefix||suffix}else{var changedText=scriptSnapshot.getText(textChangeRange.span.start,textChangeRange.span.start+textChangeRange.newLength);newText=prefix&&suffix?prefix+changedText+suffix:prefix?prefix+changedText:changedText+suffix}var newSourceFile=ts.updateSourceFile(sourceFile,newText,textChangeRange,aggressiveChecks);setSourceFileFields(newSourceFile,scriptSnapshot,version);newSourceFile.nameTable=undefined;if(sourceFile!==newSourceFile&&sourceFile.scriptSnapshot){if(sourceFile.scriptSnapshot.dispose){sourceFile.scriptSnapshot.dispose()}sourceFile.scriptSnapshot=undefined}return newSourceFile}}}return createLanguageServiceSourceFile(sourceFile.fileName,scriptSnapshot,sourceFile.languageVersion,version,true)}ts.updateLanguageServiceSourceFile=updateLanguageServiceSourceFile;function createGetCanonicalFileName(useCaseSensitivefileNames){return useCaseSensitivefileNames?function(fileName){return fileName}:function(fileName){return fileName.toLowerCase()}}ts.createGetCanonicalFileName=createGetCanonicalFileName;function createDocumentRegistry(useCaseSensitiveFileNames){var buckets={};var getCanonicalFileName=createGetCanonicalFileName(!!useCaseSensitiveFileNames);function getKeyFromCompilationSettings(settings){return"_"+settings.target+"|"+settings.module+"|"+settings.noResolve+"|"+settings.jsx;
}function getBucketForCompilationSettings(settings,createIfMissing){var key=getKeyFromCompilationSettings(settings);var bucket=ts.lookUp(buckets,key);if(!bucket&&createIfMissing){buckets[key]=bucket=ts.createFileMap(getCanonicalFileName)}return bucket}function reportStats(){var bucketInfoArray=Object.keys(buckets).filter(function(name){return name&&name.charAt(0)==="_"}).map(function(name){var entries=ts.lookUp(buckets,name);var sourceFiles=[];for(var i in entries){var entry=entries.get(i);sourceFiles.push({name:i,refCount:entry.languageServiceRefCount,references:entry.owners.slice(0)})}sourceFiles.sort(function(x,y){return y.refCount-x.refCount});return{bucket:name,sourceFiles:sourceFiles}});return JSON.stringify(bucketInfoArray,null,2)}function acquireDocument(fileName,compilationSettings,scriptSnapshot,version){return acquireOrUpdateDocument(fileName,compilationSettings,scriptSnapshot,version,true)}function updateDocument(fileName,compilationSettings,scriptSnapshot,version){return acquireOrUpdateDocument(fileName,compilationSettings,scriptSnapshot,version,false)}function acquireOrUpdateDocument(fileName,compilationSettings,scriptSnapshot,version,acquiring){var bucket=getBucketForCompilationSettings(compilationSettings,true);var entry=bucket.get(fileName);if(!entry){ts.Debug.assert(acquiring,"How could we be trying to update a document that the registry doesn't have?");var sourceFile=createLanguageServiceSourceFile(fileName,scriptSnapshot,compilationSettings.target,version,false);entry={sourceFile:sourceFile,languageServiceRefCount:0,owners:[]};bucket.set(fileName,entry)}else{if(entry.sourceFile.version!==version){entry.sourceFile=updateLanguageServiceSourceFile(entry.sourceFile,scriptSnapshot,version,scriptSnapshot.getChangeRange(entry.sourceFile.scriptSnapshot))}}if(acquiring){entry.languageServiceRefCount++}return entry.sourceFile}function releaseDocument(fileName,compilationSettings){var bucket=getBucketForCompilationSettings(compilationSettings,false);ts.Debug.assert(bucket!==undefined);var entry=bucket.get(fileName);entry.languageServiceRefCount--;ts.Debug.assert(entry.languageServiceRefCount>=0);if(entry.languageServiceRefCount===0){bucket.remove(fileName)}}return{acquireDocument:acquireDocument,updateDocument:updateDocument,releaseDocument:releaseDocument,reportStats:reportStats}}ts.createDocumentRegistry=createDocumentRegistry;function preProcessFile(sourceText,readImportFiles){if(readImportFiles===void 0){readImportFiles=true}var referencedFiles=[];var importedFiles=[];var ambientExternalModules;var isNoDefaultLib=false;function processTripleSlashDirectives(){var commentRanges=ts.getLeadingCommentRanges(sourceText,0);ts.forEach(commentRanges,function(commentRange){var comment=sourceText.substring(commentRange.pos,commentRange.end);var referencePathMatchResult=ts.getFileReferenceFromReferencePath(comment,commentRange);if(referencePathMatchResult){isNoDefaultLib=referencePathMatchResult.isNoDefaultLib;var fileReference=referencePathMatchResult.fileReference;if(fileReference){referencedFiles.push(fileReference)}}})}function recordAmbientExternalModule(){if(!ambientExternalModules){ambientExternalModules=[]}ambientExternalModules.push(scanner.getTokenValue())}function recordModuleName(){var importPath=scanner.getTokenValue();var pos=scanner.getTokenPos();importedFiles.push({fileName:importPath,pos:pos,end:pos+importPath.length})}function processImport(){scanner.setText(sourceText);var token=scanner.scan();while(token!==1){if(token===122){token=scanner.scan();if(token===125){token=scanner.scan();if(token===9){recordAmbientExternalModule();continue}}}else if(token===89){token=scanner.scan();if(token===9){recordModuleName();continue}else{if(token===69||ts.isKeyword(token)){token=scanner.scan();if(token===133){token=scanner.scan();if(token===9){recordModuleName();continue}}else if(token===56){token=scanner.scan();if(token===127){token=scanner.scan();if(token===17){token=scanner.scan();if(token===9){recordModuleName();continue}}}}else if(token===24){token=scanner.scan()}else{continue}}if(token===15){token=scanner.scan();while(token!==16){token=scanner.scan()}if(token===16){token=scanner.scan();if(token===133){token=scanner.scan();if(token===9){recordModuleName()}}}}else if(token===37){token=scanner.scan();if(token===116){token=scanner.scan();if(token===69||ts.isKeyword(token)){token=scanner.scan();if(token===133){token=scanner.scan();if(token===9){recordModuleName()}}}}}}}else if(token===82){token=scanner.scan();if(token===15){token=scanner.scan();while(token!==16){token=scanner.scan()}if(token===16){token=scanner.scan();if(token===133){token=scanner.scan();if(token===9){recordModuleName()}}}}else if(token===37){token=scanner.scan();if(token===133){token=scanner.scan();if(token===9){recordModuleName()}}}else if(token===89){token=scanner.scan();if(token===69||ts.isKeyword(token)){token=scanner.scan();if(token===56){token=scanner.scan();if(token===127){token=scanner.scan();if(token===17){token=scanner.scan();if(token===9){recordModuleName()}}}}}}}token=scanner.scan()}scanner.setText(undefined)}if(readImportFiles){processImport()}processTripleSlashDirectives();return{referencedFiles:referencedFiles,importedFiles:importedFiles,isLibFile:isNoDefaultLib,ambientExternalModules:ambientExternalModules}}ts.preProcessFile=preProcessFile;function getTargetLabel(referenceNode,labelName){while(referenceNode){if(referenceNode.kind===207&&referenceNode.label.text===labelName){return referenceNode.label}referenceNode=referenceNode.parent}return undefined}function isJumpStatementTarget(node){return node.kind===69&&(node.parent.kind===203||node.parent.kind===202)&&node.parent.label===node}function isLabelOfLabeledStatement(node){return node.kind===69&&node.parent.kind===207&&node.parent.label===node}function isLabeledBy(node,labelName){for(var owner=node.parent;owner.kind===207;owner=owner.parent){if(owner.label.text===labelName){return true}}return false}function isLabelName(node){return isLabelOfLabeledStatement(node)||isJumpStatementTarget(node)}function isRightSideOfQualifiedName(node){return node.parent.kind===135&&node.parent.right===node}function isRightSideOfPropertyAccess(node){return node&&node.parent&&node.parent.kind===166&&node.parent.name===node}function isCallExpressionTarget(node){if(isRightSideOfPropertyAccess(node)){node=node.parent}return node&&node.parent&&node.parent.kind===168&&node.parent.expression===node}function isNewExpressionTarget(node){if(isRightSideOfPropertyAccess(node)){node=node.parent}return node&&node.parent&&node.parent.kind===169&&node.parent.expression===node}function isNameOfModuleDeclaration(node){return node.parent.kind===218&&node.parent.name===node}function isNameOfFunctionDeclaration(node){return node.kind===69&&ts.isFunctionLike(node.parent)&&node.parent.name===node}function isNameOfPropertyAssignment(node){return(node.kind===69||node.kind===9||node.kind===8)&&(node.parent.kind===245||node.parent.kind===246)&&node.parent.name===node}function isLiteralNameOfPropertyDeclarationOrIndexAccess(node){if(node.kind===9||node.kind===8){switch(node.parent.kind){case 141:case 140:case 245:case 247:case 143:case 142:case 145:case 146:case 218:return node.parent.name===node;case 167:return node.parent.argumentExpression===node}}return false}function isNameOfExternalModuleImportOrDeclaration(node){if(node.kind===9){return isNameOfModuleDeclaration(node)||ts.isExternalModuleImportEqualsDeclaration(node.parent.parent)&&ts.getExternalModuleImportEqualsDeclarationExpression(node.parent.parent)===node}return false}function isInsideComment(sourceFile,token,position){return position<=token.getStart(sourceFile)&&(isInsideCommentRange(ts.getTrailingCommentRanges(sourceFile.text,token.getFullStart()))||isInsideCommentRange(ts.getLeadingCommentRanges(sourceFile.text,token.getFullStart())));function isInsideCommentRange(comments){return ts.forEach(comments,function(comment){if(comment.pos<position&&position<comment.end){return true}else if(position===comment.end){var text=sourceFile.text;var width=comment.end-comment.pos;if(width<=2||text.charCodeAt(comment.pos+1)===47){return true}else{return!(text.charCodeAt(comment.end-1)===47&&text.charCodeAt(comment.end-2)===42)}}return false})}}var SemanticMeaning;(function(SemanticMeaning){SemanticMeaning[SemanticMeaning["None"]=0]="None";SemanticMeaning[SemanticMeaning["Value"]=1]="Value";SemanticMeaning[SemanticMeaning["Type"]=2]="Type";SemanticMeaning[SemanticMeaning["Namespace"]=4]="Namespace";SemanticMeaning[SemanticMeaning["All"]=7]="All"})(SemanticMeaning||(SemanticMeaning={}));var BreakContinueSearchType;(function(BreakContinueSearchType){BreakContinueSearchType[BreakContinueSearchType["None"]=0]="None";BreakContinueSearchType[BreakContinueSearchType["Unlabeled"]=1]="Unlabeled";BreakContinueSearchType[BreakContinueSearchType["Labeled"]=2]="Labeled";BreakContinueSearchType[BreakContinueSearchType["All"]=3]="All"})(BreakContinueSearchType||(BreakContinueSearchType={}));var keywordCompletions=[];for(var i=70;i<=134;i++){keywordCompletions.push({name:ts.tokenToString(i),kind:ScriptElementKind.keyword,kindModifiers:ScriptElementKindModifier.none,sortText:"0"})}function getContainerNode(node){while(true){node=node.parent;if(!node){return undefined}switch(node.kind){case 248:case 143:case 142:case 213:case 173:case 145:case 146:case 214:case 215:case 217:case 218:return node}}}ts.getContainerNode=getContainerNode;function getNodeKind(node){switch(node.kind){case 218:return ScriptElementKind.moduleElement;case 214:return ScriptElementKind.classElement;case 215:return ScriptElementKind.interfaceElement;case 216:return ScriptElementKind.typeElement;case 217:return ScriptElementKind.enumElement;case 211:return ts.isConst(node)?ScriptElementKind.constElement:ts.isLet(node)?ScriptElementKind.letElement:ScriptElementKind.variableElement;case 213:return ScriptElementKind.functionElement;case 145:return ScriptElementKind.memberGetAccessorElement;case 146:return ScriptElementKind.memberSetAccessorElement;case 143:case 142:return ScriptElementKind.memberFunctionElement;case 141:case 140:return ScriptElementKind.memberVariableElement;case 149:return ScriptElementKind.indexSignatureElement;case 148:return ScriptElementKind.constructSignatureElement;case 147:return ScriptElementKind.callSignatureElement;case 144:return ScriptElementKind.constructorImplementationElement;case 137:return ScriptElementKind.typeParameterElement;case 247:return ScriptElementKind.variableElement;case 138:return node.flags&112?ScriptElementKind.memberVariableElement:ScriptElementKind.parameterElement;case 221:case 226:case 223:case 230:case 224:return ScriptElementKind.alias}return ScriptElementKind.unknown}ts.getNodeKind=getNodeKind;var CancellationTokenObject=function(){function CancellationTokenObject(cancellationToken){this.cancellationToken=cancellationToken}CancellationTokenObject.prototype.isCancellationRequested=function(){return this.cancellationToken&&this.cancellationToken.isCancellationRequested()};CancellationTokenObject.prototype.throwIfCancellationRequested=function(){if(this.isCancellationRequested()){throw new ts.OperationCanceledException}};return CancellationTokenObject}();function createLanguageService(host,documentRegistry){if(documentRegistry===void 0){documentRegistry=createDocumentRegistry()}var syntaxTreeCache=new SyntaxTreeCache(host);var ruleProvider;var program;var lastProjectVersion;var useCaseSensitivefileNames=false;var cancellationToken=new CancellationTokenObject(host.getCancellationToken&&host.getCancellationToken());if(!ts.localizedDiagnosticMessages&&host.getLocalizedDiagnosticMessages){ts.localizedDiagnosticMessages=host.getLocalizedDiagnosticMessages()}function log(message){if(host.log){host.log(message)}}var getCanonicalFileName=createGetCanonicalFileName(useCaseSensitivefileNames);function getValidSourceFile(fileName){fileName=ts.normalizeSlashes(fileName);var sourceFile=program.getSourceFile(getCanonicalFileName(fileName));if(!sourceFile){throw new Error("Could not find file: '"+fileName+"'.")}return sourceFile}function getRuleProvider(options){if(!ruleProvider){ruleProvider=new ts.formatting.RulesProvider}ruleProvider.ensureUpToDate(options);return ruleProvider}function synchronizeHostData(){if(host.getProjectVersion){var hostProjectVersion=host.getProjectVersion();if(hostProjectVersion){if(lastProjectVersion===hostProjectVersion){return}lastProjectVersion=hostProjectVersion}}var hostCache=new HostCache(host,getCanonicalFileName);if(programUpToDate()){return}var oldSettings=program&&program.getCompilerOptions();var newSettings=hostCache.compilationSettings();var changesInCompilationSettingsAffectSyntax=oldSettings&&(oldSettings.target!==newSettings.target||oldSettings.module!==newSettings.module||oldSettings.noResolve!==newSettings.noResolve||oldSettings.jsx!==newSettings.jsx);var compilerHost={getSourceFile:getOrCreateSourceFile,getCancellationToken:function(){return cancellationToken},getCanonicalFileName:getCanonicalFileName,useCaseSensitiveFileNames:function(){return useCaseSensitivefileNames},getNewLine:function(){return ts.getNewLineOrDefaultFromHost(host)},getDefaultLibFileName:function(options){return host.getDefaultLibFileName(options)},writeFile:function(fileName,data,writeByteOrderMark){},getCurrentDirectory:function(){return host.getCurrentDirectory()},fileExists:function(fileName){ts.Debug.assert(!host.resolveModuleNames);return hostCache.getOrCreateEntry(fileName)!==undefined},readFile:function(fileName){var entry=hostCache.getOrCreateEntry(fileName);return entry&&entry.scriptSnapshot.getText(0,entry.scriptSnapshot.getLength())}};if(host.resolveModuleNames){compilerHost.resolveModuleNames=function(moduleNames,containingFile){return host.resolveModuleNames(moduleNames,containingFile)}}var newProgram=ts.createProgram(hostCache.getRootFileNames(),newSettings,compilerHost,program);if(program){var oldSourceFiles=program.getSourceFiles();for(var _i=0;_i<oldSourceFiles.length;_i++){var oldSourceFile=oldSourceFiles[_i];var fileName=oldSourceFile.fileName;if(!newProgram.getSourceFile(fileName)||changesInCompilationSettingsAffectSyntax){documentRegistry.releaseDocument(fileName,oldSettings)}}}hostCache=undefined;program=newProgram;program.getTypeChecker();return;function getOrCreateSourceFile(fileName){ts.Debug.assert(hostCache!==undefined);var hostFileInformation=hostCache.getOrCreateEntry(fileName);if(!hostFileInformation){return undefined}if(!changesInCompilationSettingsAffectSyntax){var oldSourceFile=program&&program.getSourceFile(fileName);if(oldSourceFile){return documentRegistry.updateDocument(fileName,newSettings,hostFileInformation.scriptSnapshot,hostFileInformation.version)}}return documentRegistry.acquireDocument(fileName,newSettings,hostFileInformation.scriptSnapshot,hostFileInformation.version)}function sourceFileUpToDate(sourceFile){return sourceFile&&sourceFile.version===hostCache.getVersion(sourceFile.fileName)}function programUpToDate(){if(!program){return false}var rootFileNames=hostCache.getRootFileNames();if(program.getSourceFiles().length!==rootFileNames.length){return false}for(var _i=0;_i<rootFileNames.length;_i++){var fileName=rootFileNames[_i];if(!sourceFileUpToDate(program.getSourceFile(fileName))){return false}}return ts.compareDataObjects(program.getCompilerOptions(),hostCache.compilationSettings())}}function getProgram(){synchronizeHostData();return program}function cleanupSemanticCache(){}function dispose(){if(program){ts.forEach(program.getSourceFiles(),function(f){return documentRegistry.releaseDocument(f.fileName,program.getCompilerOptions())})}}function getSyntacticDiagnostics(fileName){synchronizeHostData();return program.getSyntacticDiagnostics(getValidSourceFile(fileName),cancellationToken)}function getSemanticDiagnostics(fileName){synchronizeHostData();var targetSourceFile=getValidSourceFile(fileName);if(ts.isJavaScript(fileName)){return getJavaScriptSemanticDiagnostics(targetSourceFile)}var semanticDiagnostics=program.getSemanticDiagnostics(targetSourceFile,cancellationToken);if(!program.getCompilerOptions().declaration){return semanticDiagnostics}var declarationDiagnostics=program.getDeclarationDiagnostics(targetSourceFile,cancellationToken);return ts.concatenate(semanticDiagnostics,declarationDiagnostics)}function getJavaScriptSemanticDiagnostics(sourceFile){var diagnostics=[];walk(sourceFile);return diagnostics;function walk(node){if(!node){return false}switch(node.kind){case 221:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.import_can_only_be_used_in_a_ts_file));return true;case 227:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.export_can_only_be_used_in_a_ts_file));return true;case 214:var classDeclaration=node;if(checkModifiers(classDeclaration.modifiers)||checkTypeParameters(classDeclaration.typeParameters)){return true}break;case 243:var heritageClause=node;if(heritageClause.token===106){diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.implements_clauses_can_only_be_used_in_a_ts_file));return true}break;case 215:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.interface_declarations_can_only_be_used_in_a_ts_file));return true;case 218:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.module_declarations_can_only_be_used_in_a_ts_file));return true;case 216:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.type_aliases_can_only_be_used_in_a_ts_file));return true;case 143:case 142:case 144:case 145:case 146:case 173:case 213:case 174:case 213:var functionDeclaration=node;if(checkModifiers(functionDeclaration.modifiers)||checkTypeParameters(functionDeclaration.typeParameters)||checkTypeAnnotation(functionDeclaration.type)){return true}break;case 193:var variableStatement=node;if(checkModifiers(variableStatement.modifiers)){return true}break;case 211:var variableDeclaration=node;if(checkTypeAnnotation(variableDeclaration.type)){return true}break;case 168:case 169:var expression=node;if(expression.typeArguments&&expression.typeArguments.length>0){var start=expression.typeArguments.pos;diagnostics.push(ts.createFileDiagnostic(sourceFile,start,expression.typeArguments.end-start,ts.Diagnostics.type_arguments_can_only_be_used_in_a_ts_file));return true}break;case 138:var parameter=node;if(parameter.modifiers){var start=parameter.modifiers.pos;diagnostics.push(ts.createFileDiagnostic(sourceFile,start,parameter.modifiers.end-start,ts.Diagnostics.parameter_modifiers_can_only_be_used_in_a_ts_file));return true}if(parameter.questionToken){diagnostics.push(ts.createDiagnosticForNode(parameter.questionToken,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,"?"));return true}if(parameter.type){diagnostics.push(ts.createDiagnosticForNode(parameter.type,ts.Diagnostics.types_can_only_be_used_in_a_ts_file));return true}break;case 141:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.property_declarations_can_only_be_used_in_a_ts_file));return true;case 217:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.enum_declarations_can_only_be_used_in_a_ts_file));return true;case 171:var typeAssertionExpression=node;diagnostics.push(ts.createDiagnosticForNode(typeAssertionExpression.type,ts.Diagnostics.type_assertion_expressions_can_only_be_used_in_a_ts_file));return true;case 139:diagnostics.push(ts.createDiagnosticForNode(node,ts.Diagnostics.decorators_can_only_be_used_in_a_ts_file));return true}return ts.forEachChild(node,walk)}function checkTypeParameters(typeParameters){if(typeParameters){var start=typeParameters.pos;diagnostics.push(ts.createFileDiagnostic(sourceFile,start,typeParameters.end-start,ts.Diagnostics.type_parameter_declarations_can_only_be_used_in_a_ts_file));return true}return false}function checkTypeAnnotation(type){if(type){diagnostics.push(ts.createDiagnosticForNode(type,ts.Diagnostics.types_can_only_be_used_in_a_ts_file));return true}return false}function checkModifiers(modifiers){if(modifiers){for(var _i=0;_i<modifiers.length;_i++){var modifier=modifiers[_i];switch(modifier.kind){case 112:case 110:case 111:case 122:diagnostics.push(ts.createDiagnosticForNode(modifier,ts.Diagnostics._0_can_only_be_used_in_a_ts_file,ts.tokenToString(modifier.kind)));return true;case 113:case 82:case 74:case 77:case 115:}}}return false}}function getCompilerOptionsDiagnostics(){synchronizeHostData();return program.getOptionsDiagnostics(cancellationToken).concat(program.getGlobalDiagnostics(cancellationToken))}function getCompletionEntryDisplayNameForSymbol(symbol,target,performCharacterChecks,location){var displayName=ts.getDeclaredName(program.getTypeChecker(),symbol,location);if(displayName){var firstCharCode=displayName.charCodeAt(0);if(symbol.flags&1536&&(firstCharCode===39||firstCharCode===34)){return undefined}}return getCompletionEntryDisplayName(displayName,target,performCharacterChecks)}function getCompletionEntryDisplayName(name,target,performCharacterChecks){if(!name){return undefined}name=ts.stripQuotes(name);if(!name){return undefined}if(performCharacterChecks){if(!ts.isIdentifierStart(name.charCodeAt(0),target)){return undefined}for(var i=1,n=name.length;i<n;i++){if(!ts.isIdentifierPart(name.charCodeAt(i),target)){return undefined}}}return name}function getCompletionData(fileName,position){var typeChecker=program.getTypeChecker();var syntacticStart=(new Date).getTime();var sourceFile=getValidSourceFile(fileName);var isJavaScriptFile=ts.isJavaScript(fileName);var isJsDocTagName=false;var start=(new Date).getTime();var currentToken=ts.getTokenAtPosition(sourceFile,position);log("getCompletionData: Get current token: "+((new Date).getTime()-start));start=(new Date).getTime();var insideComment=isInsideComment(sourceFile,currentToken,position);log("getCompletionData: Is inside comment: "+((new Date).getTime()-start));if(insideComment){if(ts.hasDocComment(sourceFile,position)&&sourceFile.text.charCodeAt(position-1)===64){isJsDocTagName=true}var insideJsDocTagExpression=false;var tag=ts.getJsDocTagAtPosition(sourceFile,position);if(tag){if(tag.tagName.pos<=position&&position<=tag.tagName.end){isJsDocTagName=true}switch(tag.kind){case 269:case 267:case 268:var tagWithExpression=tag;if(tagWithExpression.typeExpression){insideJsDocTagExpression=tagWithExpression.typeExpression.pos<position&&position<tagWithExpression.typeExpression.end}break}}if(isJsDocTagName){return{symbols:undefined,isMemberCompletion:false,isNewIdentifierLocation:false,location:undefined,isRightOfDot:false,isJsDocTagName:isJsDocTagName}}if(!insideJsDocTagExpression){log("Returning an empty list because completion was inside a regular comment or plain text part of a JsDoc comment.");return undefined}}start=(new Date).getTime();var previousToken=ts.findPrecedingToken(position,sourceFile);log("getCompletionData: Get previous token 1: "+((new Date).getTime()-start));var contextToken=previousToken;if(contextToken&&position<=contextToken.end&&ts.isWord(contextToken.kind)){var start_3=(new Date).getTime();contextToken=ts.findPrecedingToken(contextToken.getFullStart(),sourceFile);log("getCompletionData: Get previous token 2: "+((new Date).getTime()-start_3))}var node=currentToken;var isRightOfDot=false;var isRightOfOpenTag=false;var isStartingCloseTag=false;var location=ts.getTouchingPropertyName(sourceFile,position);if(contextToken){if(isCompletionListBlocker(contextToken)){log("Returning an empty list because completion was requested in an invalid position.");return undefined}var parent_9=contextToken.parent,kind=contextToken.kind;if(kind===21){if(parent_9.kind===166){node=contextToken.parent.expression;isRightOfDot=true}else if(parent_9.kind===135){node=contextToken.parent.left;isRightOfDot=true}else{return undefined}}else if(sourceFile.languageVariant===1){if(kind===25){isRightOfOpenTag=true;location=contextToken}else if(kind===39&&contextToken.parent.kind===237){isStartingCloseTag=true}}}var semanticStart=(new Date).getTime();var isMemberCompletion;var isNewIdentifierLocation;var symbols=[];if(isRightOfDot){getTypeScriptMemberSymbols()}else if(isRightOfOpenTag){var tagSymbols=typeChecker.getJsxIntrinsicTagNames();if(tryGetGlobalSymbols()){symbols=tagSymbols.concat(symbols.filter(function(s){return!!(s.flags&107455)}))}else{symbols=tagSymbols}isMemberCompletion=true;isNewIdentifierLocation=false}else if(isStartingCloseTag){var tagName=contextToken.parent.parent.openingElement.tagName;symbols=[typeChecker.getSymbolAtLocation(tagName)];isMemberCompletion=true;isNewIdentifierLocation=false}else{if(!tryGetGlobalSymbols()){return undefined}}log("getCompletionData: Semantic work: "+((new Date).getTime()-semanticStart));return{symbols:symbols,isMemberCompletion:isMemberCompletion,isNewIdentifierLocation:isNewIdentifierLocation,location:location,isRightOfDot:isRightOfDot||isRightOfOpenTag,isJsDocTagName:isJsDocTagName};function getTypeScriptMemberSymbols(){isMemberCompletion=true;isNewIdentifierLocation=false;if(node.kind===69||node.kind===135||node.kind===166){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol&&symbol.flags&8388608){symbol=typeChecker.getAliasedSymbol(symbol)}if(symbol&&symbol.flags&1952){var exportedSymbols=typeChecker.getExportsOfModule(symbol);ts.forEach(exportedSymbols,function(symbol){if(typeChecker.isValidPropertyAccess(node.parent,symbol.name)){symbols.push(symbol)}})}}var type=typeChecker.getTypeAtLocation(node);addTypeProperties(type)}function addTypeProperties(type){if(type){for(var _i=0,_a=type.getApparentProperties();_i<_a.length;_i++){var symbol=_a[_i];if(typeChecker.isValidPropertyAccess(node.parent,symbol.name)){symbols.push(symbol)}}if(isJavaScriptFile&&type.flags&16384){var unionType=type;for(var _b=0,_c=unionType.types;_b<_c.length;_b++){var elementType=_c[_b];addTypeProperties(elementType)}}}}function tryGetGlobalSymbols(){var objectLikeContainer;var namedImportsOrExports;var jsxContainer;if(objectLikeContainer=tryGetObjectLikeCompletionContainer(contextToken)){return tryGetObjectLikeCompletionSymbols(objectLikeContainer)}if(namedImportsOrExports=tryGetNamedImportsOrExportsForCompletion(contextToken)){return tryGetImportOrExportClauseCompletionSymbols(namedImportsOrExports)}if(jsxContainer=tryGetContainingJsxElement(contextToken)){var attrsType;if(jsxContainer.kind===234||jsxContainer.kind===235){attrsType=typeChecker.getJsxElementAttributesType(jsxContainer);if(attrsType){symbols=filterJsxAttributes(typeChecker.getPropertiesOfType(attrsType),jsxContainer.attributes);isMemberCompletion=true;isNewIdentifierLocation=false;return true}}}isMemberCompletion=false;isNewIdentifierLocation=isNewIdentifierDefinitionLocation(contextToken);if(previousToken!==contextToken){ts.Debug.assert(!!previousToken,"Expected 'contextToken' to be defined when different from 'previousToken'.")}var adjustedPosition=previousToken!==contextToken?previousToken.getStart():position;var scopeNode=getScopeNode(contextToken,adjustedPosition,sourceFile)||sourceFile;var symbolMeanings=793056|107455|1536|8388608;symbols=typeChecker.getSymbolsInScope(scopeNode,symbolMeanings);return true}function getScopeNode(initialToken,position,sourceFile){var scope=initialToken;while(scope&&!ts.positionBelongsToNode(scope,position,sourceFile)){scope=scope.parent}return scope}function isCompletionListBlocker(contextToken){var start=(new Date).getTime();var result=isInStringOrRegularExpressionOrTemplateLiteral(contextToken)||isSolelyIdentifierDefinitionLocation(contextToken)||isDotOfNumericLiteral(contextToken)||isInJsxText(contextToken);log("getCompletionsAtPosition: isCompletionListBlocker: "+((new Date).getTime()-start));return result}function isInJsxText(contextToken){if(contextToken.kind===236){return true}if(contextToken.kind===27&&contextToken.parent){if(contextToken.parent.kind===235){return true}if(contextToken.parent.kind===237||contextToken.parent.kind===234){return contextToken.parent.parent&&contextToken.parent.parent.kind===233}}return false}function isNewIdentifierDefinitionLocation(previousToken){if(previousToken){var containingNodeKind=previousToken.parent.kind;switch(previousToken.kind){case 24:return containingNodeKind===168||containingNodeKind===144||containingNodeKind===169||containingNodeKind===164||containingNodeKind===181||containingNodeKind===152;case 17:return containingNodeKind===168||containingNodeKind===144||containingNodeKind===169||containingNodeKind===172||containingNodeKind===160;case 19:return containingNodeKind===164||containingNodeKind===149||containingNodeKind===136;case 125:case 126:return true;case 21:return containingNodeKind===218;case 15:return containingNodeKind===214;case 56:return containingNodeKind===211||containingNodeKind===181;case 12:return containingNodeKind===183;case 13:return containingNodeKind===190;case 112:case 110:case 111:return containingNodeKind===141}switch(previousToken.getText()){case"public":case"protected":case"private":return true}}return false}function isInStringOrRegularExpressionOrTemplateLiteral(contextToken){if(contextToken.kind===9||contextToken.kind===10||ts.isTemplateLiteralKind(contextToken.kind)){var start_4=contextToken.getStart();var end=contextToken.getEnd();if(start_4<position&&position<end){return true}if(position===end){return!!contextToken.isUnterminated||contextToken.kind===10}}return false}function tryGetObjectLikeCompletionSymbols(objectLikeContainer){isMemberCompletion=true;var typeForObject;var existingMembers;if(objectLikeContainer.kind===165){isNewIdentifierLocation=true;typeForObject=typeChecker.getContextualType(objectLikeContainer);existingMembers=objectLikeContainer.properties}else if(objectLikeContainer.kind===161){isNewIdentifierLocation=false;var rootDeclaration=ts.getRootDeclaration(objectLikeContainer.parent);if(ts.isVariableLike(rootDeclaration)){if(rootDeclaration.initializer||rootDeclaration.type){typeForObject=typeChecker.getTypeAtLocation(objectLikeContainer);existingMembers=objectLikeContainer.elements}}else{ts.Debug.fail("Root declaration is not variable-like.")}}else{ts.Debug.fail("Expected object literal or binding pattern, got "+objectLikeContainer.kind)}if(!typeForObject){return false}var typeMembers=typeChecker.getPropertiesOfType(typeForObject);if(typeMembers&&typeMembers.length>0){symbols=filterObjectMembersList(typeMembers,existingMembers)}return true}function tryGetImportOrExportClauseCompletionSymbols(namedImportsOrExports){var declarationKind=namedImportsOrExports.kind===225?222:228;var importOrExportDeclaration=ts.getAncestor(namedImportsOrExports,declarationKind);var moduleSpecifier=importOrExportDeclaration.moduleSpecifier;if(!moduleSpecifier){return false}isMemberCompletion=true;isNewIdentifierLocation=false;var exports;var moduleSpecifierSymbol=typeChecker.getSymbolAtLocation(importOrExportDeclaration.moduleSpecifier);if(moduleSpecifierSymbol){exports=typeChecker.getExportsOfModule(moduleSpecifierSymbol)}symbols=exports?filterNamedImportOrExportCompletionItems(exports,namedImportsOrExports.elements):emptyArray;return true}function tryGetObjectLikeCompletionContainer(contextToken){if(contextToken){switch(contextToken.kind){case 15:case 24:var parent_10=contextToken.parent;if(parent_10&&(parent_10.kind===165||parent_10.kind===161)){return parent_10}break}}return undefined}function tryGetNamedImportsOrExportsForCompletion(contextToken){if(contextToken){switch(contextToken.kind){case 15:case 24:switch(contextToken.parent.kind){case 225:case 229:return contextToken.parent}}}return undefined}function tryGetContainingJsxElement(contextToken){if(contextToken){var parent_11=contextToken.parent;switch(contextToken.kind){case 26:case 39:case 69:case 238:case 239:if(parent_11&&(parent_11.kind===234||parent_11.kind===235)){return parent_11}else if(parent_11.kind===238){return parent_11.parent}break;case 9:if(parent_11&&(parent_11.kind===238||parent_11.kind===239)){return parent_11.parent}break;case 16:if(parent_11&&parent_11.kind===240&&parent_11.parent&&parent_11.parent.kind===238){return parent_11.parent.parent}if(parent_11&&parent_11.kind===239){
return parent_11.parent}break}}return undefined}function isFunction(kind){switch(kind){case 173:case 174:case 213:case 143:case 142:case 145:case 146:case 147:case 148:case 149:return true}return false}function isSolelyIdentifierDefinitionLocation(contextToken){var containingNodeKind=contextToken.parent.kind;switch(contextToken.kind){case 24:return containingNodeKind===211||containingNodeKind===212||containingNodeKind===193||containingNodeKind===217||isFunction(containingNodeKind)||containingNodeKind===214||containingNodeKind===186||containingNodeKind===215||containingNodeKind===162||containingNodeKind===216;case 21:return containingNodeKind===162;case 54:return containingNodeKind===163;case 19:return containingNodeKind===162;case 17:return containingNodeKind===244||isFunction(containingNodeKind);case 15:return containingNodeKind===217||containingNodeKind===215||containingNodeKind===155;case 23:return containingNodeKind===140&&contextToken.parent&&contextToken.parent.parent&&(contextToken.parent.parent.kind===215||contextToken.parent.parent.kind===155);case 25:return containingNodeKind===214||containingNodeKind===186||containingNodeKind===215||containingNodeKind===216||isFunction(containingNodeKind);case 113:return containingNodeKind===141;case 22:return containingNodeKind===138||contextToken.parent&&contextToken.parent.parent&&contextToken.parent.parent.kind===162;case 112:case 110:case 111:return containingNodeKind===138;case 116:return containingNodeKind===226||containingNodeKind===230||containingNodeKind===224;case 73:case 81:case 107:case 87:case 102:case 123:case 129:case 89:case 108:case 74:case 114:case 132:return true}switch(contextToken.getText()){case"abstract":case"async":case"class":case"const":case"declare":case"enum":case"function":case"interface":case"let":case"private":case"protected":case"public":case"static":case"var":case"yield":return true}return false}function isDotOfNumericLiteral(contextToken){if(contextToken.kind===8){var text=contextToken.getFullText();return text.charAt(text.length-1)==="."}return false}function filterNamedImportOrExportCompletionItems(exportsOfModule,namedImportsOrExports){var exisingImportsOrExports={};for(var _i=0;_i<namedImportsOrExports.length;_i++){var element=namedImportsOrExports[_i];if(element.getStart()<=position&&position<=element.getEnd()){continue}var name_32=element.propertyName||element.name;exisingImportsOrExports[name_32.text]=true}if(ts.isEmpty(exisingImportsOrExports)){return exportsOfModule}return ts.filter(exportsOfModule,function(e){return!ts.lookUp(exisingImportsOrExports,e.name)})}function filterObjectMembersList(contextualMemberSymbols,existingMembers){if(!existingMembers||existingMembers.length===0){return contextualMemberSymbols}var existingMemberNames={};for(var _i=0;_i<existingMembers.length;_i++){var m=existingMembers[_i];if(m.kind!==245&&m.kind!==246&&m.kind!==163){continue}if(m.getStart()<=position&&position<=m.getEnd()){continue}var existingName=void 0;if(m.kind===163&&m.propertyName){existingName=m.propertyName.text}else{existingName=m.name.text}existingMemberNames[existingName]=true}return ts.filter(contextualMemberSymbols,function(m){return!ts.lookUp(existingMemberNames,m.name)})}function filterJsxAttributes(symbols,attributes){var seenNames={};for(var _i=0;_i<attributes.length;_i++){var attr=attributes[_i];if(attr.getStart()<=position&&position<=attr.getEnd()){continue}if(attr.kind===238){seenNames[attr.name.text]=true}}return ts.filter(symbols,function(a){return!ts.lookUp(seenNames,a.name)})}}function getCompletionsAtPosition(fileName,position){synchronizeHostData();var completionData=getCompletionData(fileName,position);if(!completionData){return undefined}var symbols=completionData.symbols,isMemberCompletion=completionData.isMemberCompletion,isNewIdentifierLocation=completionData.isNewIdentifierLocation,location=completionData.location,isRightOfDot=completionData.isRightOfDot,isJsDocTagName=completionData.isJsDocTagName;var entries;if(isJsDocTagName){return{isMemberCompletion:false,isNewIdentifierLocation:false,entries:getAllJsDocCompletionEntries()}}if(isRightOfDot&&ts.isJavaScript(fileName)){entries=getCompletionEntriesFromSymbols(symbols);ts.addRange(entries,getJavaScriptCompletionEntries())}else{if(!symbols||symbols.length===0){return undefined}entries=getCompletionEntriesFromSymbols(symbols)}if(!isMemberCompletion&&!isJsDocTagName){ts.addRange(entries,keywordCompletions)}return{isMemberCompletion:isMemberCompletion,isNewIdentifierLocation:isNewIdentifierLocation,entries:entries};function getJavaScriptCompletionEntries(){var entries=[];var allNames={};var target=program.getCompilerOptions().target;for(var _i=0,_a=program.getSourceFiles();_i<_a.length;_i++){var sourceFile=_a[_i];var nameTable=getNameTable(sourceFile);for(var name_33 in nameTable){if(!allNames[name_33]){allNames[name_33]=name_33;var displayName=getCompletionEntryDisplayName(name_33,target,true);if(displayName){var entry={name:displayName,kind:ScriptElementKind.warning,kindModifiers:"",sortText:"1"};entries.push(entry)}}}}return entries}function getAllJsDocCompletionEntries(){return jsDocCompletionEntries||(jsDocCompletionEntries=ts.map(jsDocTagNames,function(tagName){return{name:tagName,kind:ScriptElementKind.keyword,kindModifiers:"",sortText:"0"}}))}function createCompletionEntry(symbol,location){var displayName=getCompletionEntryDisplayNameForSymbol(symbol,program.getCompilerOptions().target,true,location);if(!displayName){return undefined}return{name:displayName,kind:getSymbolKind(symbol,location),kindModifiers:getSymbolModifiers(symbol),sortText:"0"}}function getCompletionEntriesFromSymbols(symbols){var start=(new Date).getTime();var entries=[];if(symbols){var nameToSymbol={};for(var _i=0;_i<symbols.length;_i++){var symbol=symbols[_i];var entry=createCompletionEntry(symbol,location);if(entry){var id=ts.escapeIdentifier(entry.name);if(!ts.lookUp(nameToSymbol,id)){entries.push(entry);nameToSymbol[id]=symbol}}}}log("getCompletionsAtPosition: getCompletionEntriesFromSymbols: "+((new Date).getTime()-start));return entries}}function getCompletionEntryDetails(fileName,position,entryName){synchronizeHostData();var completionData=getCompletionData(fileName,position);if(completionData){var symbols=completionData.symbols,location_2=completionData.location;var target=program.getCompilerOptions().target;var symbol=ts.forEach(symbols,function(s){return getCompletionEntryDisplayNameForSymbol(s,target,false,location_2)===entryName?s:undefined});if(symbol){var _a=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,getValidSourceFile(fileName),location_2,location_2,7),displayParts=_a.displayParts,documentation=_a.documentation,symbolKind=_a.symbolKind;return{name:entryName,kindModifiers:getSymbolModifiers(symbol),kind:symbolKind,displayParts:displayParts,documentation:documentation}}}var keywordCompletion=ts.forEach(keywordCompletions,function(c){return c.name===entryName});if(keywordCompletion){return{name:entryName,kind:ScriptElementKind.keyword,kindModifiers:ScriptElementKindModifier.none,displayParts:[ts.displayPart(entryName,SymbolDisplayPartKind.keyword)],documentation:undefined}}return undefined}function getSymbolKind(symbol,location){var flags=symbol.getFlags();if(flags&32)return ts.getDeclarationOfKind(symbol,186)?ScriptElementKind.localClassElement:ScriptElementKind.classElement;if(flags&384)return ScriptElementKind.enumElement;if(flags&524288)return ScriptElementKind.typeElement;if(flags&64)return ScriptElementKind.interfaceElement;if(flags&262144)return ScriptElementKind.typeParameterElement;var result=getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,flags,location);if(result===ScriptElementKind.unknown){if(flags&262144)return ScriptElementKind.typeParameterElement;if(flags&8)return ScriptElementKind.variableElement;if(flags&8388608)return ScriptElementKind.alias;if(flags&1536)return ScriptElementKind.moduleElement}return result}function getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,flags,location){var typeChecker=program.getTypeChecker();if(typeChecker.isUndefinedSymbol(symbol)){return ScriptElementKind.variableElement}if(typeChecker.isArgumentsSymbol(symbol)){return ScriptElementKind.localVariableElement}if(flags&3){if(ts.isFirstDeclarationOfSymbolParameter(symbol)){return ScriptElementKind.parameterElement}else if(symbol.valueDeclaration&&ts.isConst(symbol.valueDeclaration)){return ScriptElementKind.constElement}else if(ts.forEach(symbol.declarations,ts.isLet)){return ScriptElementKind.letElement}return isLocalVariableOrFunction(symbol)?ScriptElementKind.localVariableElement:ScriptElementKind.variableElement}if(flags&16)return isLocalVariableOrFunction(symbol)?ScriptElementKind.localFunctionElement:ScriptElementKind.functionElement;if(flags&32768)return ScriptElementKind.memberGetAccessorElement;if(flags&65536)return ScriptElementKind.memberSetAccessorElement;if(flags&8192)return ScriptElementKind.memberFunctionElement;if(flags&16384)return ScriptElementKind.constructorImplementationElement;if(flags&4){if(flags&268435456){var unionPropertyKind=ts.forEach(typeChecker.getRootSymbols(symbol),function(rootSymbol){var rootSymbolFlags=rootSymbol.getFlags();if(rootSymbolFlags&(98308|3)){return ScriptElementKind.memberVariableElement}ts.Debug.assert(!!(rootSymbolFlags&8192))});if(!unionPropertyKind){var typeOfUnionProperty=typeChecker.getTypeOfSymbolAtLocation(symbol,location);if(typeOfUnionProperty.getCallSignatures().length){return ScriptElementKind.memberFunctionElement}return ScriptElementKind.memberVariableElement}return unionPropertyKind}return ScriptElementKind.memberVariableElement}return ScriptElementKind.unknown}function getSymbolModifiers(symbol){return symbol&&symbol.declarations&&symbol.declarations.length>0?ts.getNodeModifiers(symbol.declarations[0]):ScriptElementKindModifier.none}function getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,sourceFile,enclosingDeclaration,location,semanticMeaning){if(semanticMeaning===void 0){semanticMeaning=getMeaningFromLocation(location)}var typeChecker=program.getTypeChecker();var displayParts=[];var documentation;var symbolFlags=symbol.flags;var symbolKind=getSymbolKindOfConstructorPropertyMethodAccessorFunctionOrVar(symbol,symbolFlags,location);var hasAddedSymbolInfo;var type;if(symbolKind!==ScriptElementKind.unknown||symbolFlags&32||symbolFlags&8388608){if(symbolKind===ScriptElementKind.memberGetAccessorElement||symbolKind===ScriptElementKind.memberSetAccessorElement){symbolKind=ScriptElementKind.memberVariableElement}var signature;type=typeChecker.getTypeOfSymbolAtLocation(symbol,location);if(type){if(location.parent&&location.parent.kind===166){var right=location.parent.name;if(right===location||right&&right.getFullWidth()===0){location=location.parent}}var callExpression;if(location.kind===168||location.kind===169){callExpression=location}else if(isCallExpressionTarget(location)||isNewExpressionTarget(location)){callExpression=location.parent}if(callExpression){var candidateSignatures=[];signature=typeChecker.getResolvedSignature(callExpression,candidateSignatures);if(!signature&&candidateSignatures.length){signature=candidateSignatures[0]}var useConstructSignatures=callExpression.kind===169||callExpression.expression.kind===95;var allSignatures=useConstructSignatures?type.getConstructSignatures():type.getCallSignatures();if(!ts.contains(allSignatures,signature.target)&&!ts.contains(allSignatures,signature)){signature=allSignatures.length?allSignatures[0]:undefined}if(signature){if(useConstructSignatures&&symbolFlags&32){symbolKind=ScriptElementKind.constructorImplementationElement;addPrefixForAnyFunctionOrVar(type.symbol,symbolKind)}else if(symbolFlags&8388608){symbolKind=ScriptElementKind.alias;pushTypePart(symbolKind);displayParts.push(ts.spacePart());if(useConstructSignatures){displayParts.push(ts.keywordPart(92));displayParts.push(ts.spacePart())}addFullSymbolName(symbol)}else{addPrefixForAnyFunctionOrVar(symbol,symbolKind)}switch(symbolKind){case ScriptElementKind.memberVariableElement:case ScriptElementKind.variableElement:case ScriptElementKind.constElement:case ScriptElementKind.letElement:case ScriptElementKind.parameterElement:case ScriptElementKind.localVariableElement:displayParts.push(ts.punctuationPart(54));displayParts.push(ts.spacePart());if(useConstructSignatures){displayParts.push(ts.keywordPart(92));displayParts.push(ts.spacePart())}if(!(type.flags&65536)){ts.addRange(displayParts,ts.symbolToDisplayParts(typeChecker,type.symbol,enclosingDeclaration,undefined,1))}addSignatureDisplayParts(signature,allSignatures,8);break;default:addSignatureDisplayParts(signature,allSignatures)}hasAddedSymbolInfo=true}}else if(isNameOfFunctionDeclaration(location)&&!(symbol.flags&98304)||location.kind===121&&location.parent.kind===144){var functionDeclaration=location.parent;var allSignatures=functionDeclaration.kind===144?type.getConstructSignatures():type.getCallSignatures();if(!typeChecker.isImplementationOfOverload(functionDeclaration)){signature=typeChecker.getSignatureFromDeclaration(functionDeclaration)}else{signature=allSignatures[0]}if(functionDeclaration.kind===144){symbolKind=ScriptElementKind.constructorImplementationElement;addPrefixForAnyFunctionOrVar(type.symbol,symbolKind)}else{addPrefixForAnyFunctionOrVar(functionDeclaration.kind===147&&!(type.symbol.flags&2048||type.symbol.flags&4096)?type.symbol:symbol,symbolKind)}addSignatureDisplayParts(signature,allSignatures);hasAddedSymbolInfo=true}}}if(symbolFlags&32&&!hasAddedSymbolInfo){if(ts.getDeclarationOfKind(symbol,186)){pushTypePart(ScriptElementKind.localClassElement)}else{displayParts.push(ts.keywordPart(73))}displayParts.push(ts.spacePart());addFullSymbolName(symbol);writeTypeParametersOfSymbol(symbol,sourceFile)}if(symbolFlags&64&&semanticMeaning&2){addNewLineIfDisplayPartsExist();displayParts.push(ts.keywordPart(107));displayParts.push(ts.spacePart());addFullSymbolName(symbol);writeTypeParametersOfSymbol(symbol,sourceFile)}if(symbolFlags&524288){addNewLineIfDisplayPartsExist();displayParts.push(ts.keywordPart(132));displayParts.push(ts.spacePart());addFullSymbolName(symbol);writeTypeParametersOfSymbol(symbol,sourceFile);displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56));displayParts.push(ts.spacePart());ts.addRange(displayParts,ts.typeToDisplayParts(typeChecker,typeChecker.getDeclaredTypeOfSymbol(symbol),enclosingDeclaration))}if(symbolFlags&384){addNewLineIfDisplayPartsExist();if(ts.forEach(symbol.declarations,ts.isConstEnumDeclaration)){displayParts.push(ts.keywordPart(74));displayParts.push(ts.spacePart())}displayParts.push(ts.keywordPart(81));displayParts.push(ts.spacePart());addFullSymbolName(symbol)}if(symbolFlags&1536){addNewLineIfDisplayPartsExist();var declaration=ts.getDeclarationOfKind(symbol,218);var isNamespace=declaration&&declaration.name&&declaration.name.kind===69;displayParts.push(ts.keywordPart(isNamespace?126:125));displayParts.push(ts.spacePart());addFullSymbolName(symbol)}if(symbolFlags&262144&&semanticMeaning&2){addNewLineIfDisplayPartsExist();displayParts.push(ts.punctuationPart(17));displayParts.push(ts.textPart("type parameter"));displayParts.push(ts.punctuationPart(18));displayParts.push(ts.spacePart());addFullSymbolName(symbol);displayParts.push(ts.spacePart());displayParts.push(ts.keywordPart(90));displayParts.push(ts.spacePart());if(symbol.parent){addFullSymbolName(symbol.parent,enclosingDeclaration);writeTypeParametersOfSymbol(symbol.parent,enclosingDeclaration)}else{var container=ts.getContainingFunction(location);if(container){var signatureDeclaration=ts.getDeclarationOfKind(symbol,137).parent;var signature=typeChecker.getSignatureFromDeclaration(signatureDeclaration);if(signatureDeclaration.kind===148){displayParts.push(ts.keywordPart(92));displayParts.push(ts.spacePart())}else if(signatureDeclaration.kind!==147&&signatureDeclaration.name){addFullSymbolName(signatureDeclaration.symbol)}ts.addRange(displayParts,ts.signatureToDisplayParts(typeChecker,signature,sourceFile,32))}else{var declaration=ts.getDeclarationOfKind(symbol,137).parent;displayParts.push(ts.keywordPart(132));displayParts.push(ts.spacePart());addFullSymbolName(declaration.symbol);writeTypeParametersOfSymbol(declaration.symbol,sourceFile)}}}if(symbolFlags&8){addPrefixForAnyFunctionOrVar(symbol,"enum member");var declaration=symbol.declarations[0];if(declaration.kind===247){var constantValue=typeChecker.getConstantValue(declaration);if(constantValue!==undefined){displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56));displayParts.push(ts.spacePart());displayParts.push(ts.displayPart(constantValue.toString(),SymbolDisplayPartKind.numericLiteral))}}}if(symbolFlags&8388608){addNewLineIfDisplayPartsExist();displayParts.push(ts.keywordPart(89));displayParts.push(ts.spacePart());addFullSymbolName(symbol);ts.forEach(symbol.declarations,function(declaration){if(declaration.kind===221){var importEqualsDeclaration=declaration;if(ts.isExternalModuleImportEqualsDeclaration(importEqualsDeclaration)){displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56));displayParts.push(ts.spacePart());displayParts.push(ts.keywordPart(127));displayParts.push(ts.punctuationPart(17));displayParts.push(ts.displayPart(ts.getTextOfNode(ts.getExternalModuleImportEqualsDeclarationExpression(importEqualsDeclaration)),SymbolDisplayPartKind.stringLiteral));displayParts.push(ts.punctuationPart(18))}else{var internalAliasSymbol=typeChecker.getSymbolAtLocation(importEqualsDeclaration.moduleReference);if(internalAliasSymbol){displayParts.push(ts.spacePart());displayParts.push(ts.operatorPart(56));displayParts.push(ts.spacePart());addFullSymbolName(internalAliasSymbol,enclosingDeclaration)}}return true}})}if(!hasAddedSymbolInfo){if(symbolKind!==ScriptElementKind.unknown){if(type){addPrefixForAnyFunctionOrVar(symbol,symbolKind);if(symbolKind===ScriptElementKind.memberVariableElement||symbolFlags&3||symbolKind===ScriptElementKind.localVariableElement){displayParts.push(ts.punctuationPart(54));displayParts.push(ts.spacePart());if(type.symbol&&type.symbol.flags&262144){var typeParameterParts=ts.mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplay(type,writer,enclosingDeclaration)});ts.addRange(displayParts,typeParameterParts)}else{ts.addRange(displayParts,ts.typeToDisplayParts(typeChecker,type,enclosingDeclaration))}}else if(symbolFlags&16||symbolFlags&8192||symbolFlags&16384||symbolFlags&131072||symbolFlags&98304||symbolKind===ScriptElementKind.memberFunctionElement){var allSignatures=type.getCallSignatures();addSignatureDisplayParts(allSignatures[0],allSignatures)}}}else{symbolKind=getSymbolKind(symbol,location)}}if(!documentation){documentation=symbol.getDocumentationComment()}return{displayParts:displayParts,documentation:documentation,symbolKind:symbolKind};function addNewLineIfDisplayPartsExist(){if(displayParts.length){displayParts.push(ts.lineBreakPart())}}function addFullSymbolName(symbol,enclosingDeclaration){var fullSymbolDisplayParts=ts.symbolToDisplayParts(typeChecker,symbol,enclosingDeclaration||sourceFile,undefined,1|2);ts.addRange(displayParts,fullSymbolDisplayParts)}function addPrefixForAnyFunctionOrVar(symbol,symbolKind){addNewLineIfDisplayPartsExist();if(symbolKind){pushTypePart(symbolKind);displayParts.push(ts.spacePart());addFullSymbolName(symbol)}}function pushTypePart(symbolKind){switch(symbolKind){case ScriptElementKind.variableElement:case ScriptElementKind.functionElement:case ScriptElementKind.letElement:case ScriptElementKind.constElement:case ScriptElementKind.constructorImplementationElement:displayParts.push(ts.textOrKeywordPart(symbolKind));return;default:displayParts.push(ts.punctuationPart(17));displayParts.push(ts.textOrKeywordPart(symbolKind));displayParts.push(ts.punctuationPart(18));return}}function addSignatureDisplayParts(signature,allSignatures,flags){ts.addRange(displayParts,ts.signatureToDisplayParts(typeChecker,signature,enclosingDeclaration,flags|32));if(allSignatures.length>1){displayParts.push(ts.spacePart());displayParts.push(ts.punctuationPart(17));displayParts.push(ts.operatorPart(35));displayParts.push(ts.displayPart((allSignatures.length-1).toString(),SymbolDisplayPartKind.numericLiteral));displayParts.push(ts.spacePart());displayParts.push(ts.textPart(allSignatures.length===2?"overload":"overloads"));displayParts.push(ts.punctuationPart(18))}documentation=signature.getDocumentationComment()}function writeTypeParametersOfSymbol(symbol,enclosingDeclaration){var typeParameterParts=ts.mapToDisplayParts(function(writer){typeChecker.getSymbolDisplayBuilder().buildTypeParameterDisplayFromSymbol(symbol,writer,enclosingDeclaration)});ts.addRange(displayParts,typeParameterParts)}}function getQuickInfoAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined}if(isLabelName(node)){return undefined}var typeChecker=program.getTypeChecker();var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){switch(node.kind){case 69:case 166:case 135:case 97:case 95:var type=typeChecker.getTypeAtLocation(node);if(type){return{kind:ScriptElementKind.unknown,kindModifiers:ScriptElementKindModifier.none,textSpan:ts.createTextSpan(node.getStart(),node.getWidth()),displayParts:ts.typeToDisplayParts(typeChecker,type,getContainerNode(node)),documentation:type.symbol?type.symbol.getDocumentationComment():undefined}}}return undefined}var displayPartsDocumentationsAndKind=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,sourceFile,getContainerNode(node),node);return{kind:displayPartsDocumentationsAndKind.symbolKind,kindModifiers:getSymbolModifiers(symbol),textSpan:ts.createTextSpan(node.getStart(),node.getWidth()),displayParts:displayPartsDocumentationsAndKind.displayParts,documentation:displayPartsDocumentationsAndKind.documentation}}function createDefinitionInfo(node,symbolKind,symbolName,containerName){return{fileName:node.getSourceFile().fileName,textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd()),kind:symbolKind,name:symbolName,containerKind:undefined,containerName:containerName}}function getDefinitionFromSymbol(symbol,node){var typeChecker=program.getTypeChecker();var result=[];var declarations=symbol.getDeclarations();var symbolName=typeChecker.symbolToString(symbol);var symbolKind=getSymbolKind(symbol,node);var containerSymbol=symbol.parent;var containerName=containerSymbol?typeChecker.symbolToString(containerSymbol,node):"";if(!tryAddConstructSignature(symbol,node,symbolKind,symbolName,containerName,result)&&!tryAddCallSignature(symbol,node,symbolKind,symbolName,containerName,result)){ts.forEach(declarations,function(declaration){result.push(createDefinitionInfo(declaration,symbolKind,symbolName,containerName))})}return result;function tryAddConstructSignature(symbol,location,symbolKind,symbolName,containerName,result){if(isNewExpressionTarget(location)||location.kind===121){if(symbol.flags&32){for(var _i=0,_a=symbol.getDeclarations();_i<_a.length;_i++){var declaration=_a[_i];if(ts.isClassLike(declaration)){return tryAddSignature(declaration.members,true,symbolKind,symbolName,containerName,result)}}ts.Debug.fail("Expected declaration to have at least one class-like declaration")}}return false}function tryAddCallSignature(symbol,location,symbolKind,symbolName,containerName,result){if(isCallExpressionTarget(location)||isNewExpressionTarget(location)||isNameOfFunctionDeclaration(location)){return tryAddSignature(symbol.declarations,false,symbolKind,symbolName,containerName,result)}return false}function tryAddSignature(signatureDeclarations,selectConstructors,symbolKind,symbolName,containerName,result){var declarations=[];var definition;ts.forEach(signatureDeclarations,function(d){if(selectConstructors&&d.kind===144||!selectConstructors&&(d.kind===213||d.kind===143||d.kind===142)){declarations.push(d);if(d.body)definition=d}});if(definition){result.push(createDefinitionInfo(definition,symbolKind,symbolName,containerName));return true}else if(declarations.length){result.push(createDefinitionInfo(ts.lastOrUndefined(declarations),symbolKind,symbolName,containerName));return true}return false}}function getDefinitionAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined}if(isJumpStatementTarget(node)){var labelName=node.text;var label=getTargetLabel(node.parent,node.text);return label?[createDefinitionInfo(label,ScriptElementKind.label,labelName,undefined)]:undefined}var comment=ts.forEach(sourceFile.referencedFiles,function(r){return r.pos<=position&&position<r.end?r:undefined});if(comment){var referenceFile=ts.tryResolveScriptReference(program,sourceFile,comment);if(referenceFile){return[{fileName:referenceFile.fileName,textSpan:ts.createTextSpanFromBounds(0,0),kind:ScriptElementKind.scriptElement,name:comment.fileName,containerName:undefined,containerKind:undefined}]}return undefined}var typeChecker=program.getTypeChecker();var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){return undefined}if(symbol.flags&8388608){var declaration=symbol.declarations[0];if(node.kind===69&&node.parent===declaration){symbol=typeChecker.getAliasedSymbol(symbol)}}if(node.parent.kind===246){var shorthandSymbol=typeChecker.getShorthandAssignmentValueSymbol(symbol.valueDeclaration);if(!shorthandSymbol){return[]}var shorthandDeclarations=shorthandSymbol.getDeclarations();var shorthandSymbolKind=getSymbolKind(shorthandSymbol,node);var shorthandSymbolName=typeChecker.symbolToString(shorthandSymbol);var shorthandContainerName=typeChecker.symbolToString(symbol.parent,node);return ts.map(shorthandDeclarations,function(declaration){return createDefinitionInfo(declaration,shorthandSymbolKind,shorthandSymbolName,shorthandContainerName)})}return getDefinitionFromSymbol(symbol,node)}function getTypeDefinitionAtPosition(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined}var typeChecker=program.getTypeChecker();var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){return undefined}var type=typeChecker.getTypeOfSymbolAtLocation(symbol,node);if(!type){return undefined}if(type.flags&16384){var result=[];ts.forEach(type.types,function(t){if(t.symbol){ts.addRange(result,getDefinitionFromSymbol(t.symbol,node))}});return result}if(!type.symbol){return undefined}return getDefinitionFromSymbol(type.symbol,node)}function getOccurrencesAtPosition(fileName,position){var results=getOccurrencesAtPositionCore(fileName,position);if(results){var sourceFile=getCanonicalFileName(ts.normalizeSlashes(fileName));results=ts.filter(results,function(r){return getCanonicalFileName(ts.normalizeSlashes(r.fileName))===sourceFile})}return results}function getDocumentHighlights(fileName,position,filesToSearch){synchronizeHostData();filesToSearch=ts.map(filesToSearch,ts.normalizeSlashes);var sourceFilesToSearch=ts.filter(program.getSourceFiles(),function(f){return ts.contains(filesToSearch,f.fileName)});var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingWord(sourceFile,position);if(!node){return undefined}return getSemanticDocumentHighlights(node)||getSyntacticDocumentHighlights(node);function getHighlightSpanForNode(node){var start=node.getStart();var end=node.getEnd();return{fileName:sourceFile.fileName,textSpan:ts.createTextSpanFromBounds(start,end),kind:HighlightSpanKind.none}}function getSemanticDocumentHighlights(node){if(node.kind===69||node.kind===97||node.kind===95||isLiteralNameOfPropertyDeclarationOrIndexAccess(node)||isNameOfExternalModuleImportOrDeclaration(node)){var referencedSymbols=getReferencedSymbolsForNode(node,sourceFilesToSearch,false,false);return convertReferencedSymbols(referencedSymbols)}return undefined;function convertReferencedSymbols(referencedSymbols){if(!referencedSymbols){return undefined}var fileNameToDocumentHighlights={};var result=[];for(var _i=0;_i<referencedSymbols.length;_i++){var referencedSymbol=referencedSymbols[_i];for(var _a=0,_b=referencedSymbol.references;_a<_b.length;_a++){var referenceEntry=_b[_a];var fileName_1=referenceEntry.fileName;var documentHighlights=ts.getProperty(fileNameToDocumentHighlights,fileName_1);if(!documentHighlights){documentHighlights={fileName:fileName_1,highlightSpans:[]};fileNameToDocumentHighlights[fileName_1]=documentHighlights;result.push(documentHighlights)}documentHighlights.highlightSpans.push({textSpan:referenceEntry.textSpan,kind:referenceEntry.isWriteAccess?HighlightSpanKind.writtenReference:HighlightSpanKind.reference})}}return result}}function getSyntacticDocumentHighlights(node){var fileName=sourceFile.fileName;var highlightSpans=getHighlightSpans(node);if(!highlightSpans||highlightSpans.length===0){return undefined}return[{fileName:fileName,highlightSpans:highlightSpans}];function hasKind(node,kind){return node!==undefined&&node.kind===kind}function parent(node){return node&&node.parent}function getHighlightSpans(node){if(node){switch(node.kind){case 88:case 80:if(hasKind(node.parent,196)){return getIfElseOccurrences(node.parent)}break;case 94:if(hasKind(node.parent,204)){return getReturnOccurrences(node.parent)}break;case 98:if(hasKind(node.parent,208)){return getThrowOccurrences(node.parent)}break;case 72:if(hasKind(parent(parent(node)),209)){return getTryCatchFinallyOccurrences(node.parent.parent)}break;case 100:case 85:if(hasKind(parent(node),209)){return getTryCatchFinallyOccurrences(node.parent)}break;case 96:if(hasKind(node.parent,206)){return getSwitchCaseDefaultOccurrences(node.parent)}break;case 71:case 77:if(hasKind(parent(parent(parent(node))),206)){return getSwitchCaseDefaultOccurrences(node.parent.parent.parent)}break;case 70:case 75:if(hasKind(node.parent,203)||hasKind(node.parent,202)){return getBreakOrContinueStatementOccurrences(node.parent)}break;case 86:if(hasKind(node.parent,199)||hasKind(node.parent,200)||hasKind(node.parent,201)){return getLoopBreakContinueOccurrences(node.parent)}break;case 104:case 79:if(hasKind(node.parent,198)||hasKind(node.parent,197)){return getLoopBreakContinueOccurrences(node.parent)}break;case 121:if(hasKind(node.parent,144)){return getConstructorOccurrences(node.parent)}break;case 123:case 129:if(hasKind(node.parent,145)||hasKind(node.parent,146)){return getGetAndSetOccurrences(node.parent)}break;default:if(ts.isModifier(node.kind)&&node.parent&&(ts.isDeclaration(node.parent)||node.parent.kind===193)){return getModifierOccurrences(node.kind,node.parent)}}}return undefined}function aggregateOwnedThrowStatements(node){var statementAccumulator=[];aggregate(node);return statementAccumulator;function aggregate(node){if(node.kind===208){statementAccumulator.push(node)}else if(node.kind===209){var tryStatement=node;if(tryStatement.catchClause){aggregate(tryStatement.catchClause)}else{aggregate(tryStatement.tryBlock)}if(tryStatement.finallyBlock){aggregate(tryStatement.finallyBlock)}}else if(!ts.isFunctionLike(node)){ts.forEachChild(node,aggregate)}}}function getThrowStatementOwner(throwStatement){var child=throwStatement;while(child.parent){var parent_12=child.parent;if(ts.isFunctionBlock(parent_12)||parent_12.kind===248){return parent_12}if(parent_12.kind===209){var tryStatement=parent_12;if(tryStatement.tryBlock===child&&tryStatement.catchClause){return child}}child=parent_12}return undefined}function aggregateAllBreakAndContinueStatements(node){var statementAccumulator=[];aggregate(node);return statementAccumulator;function aggregate(node){if(node.kind===203||node.kind===202){statementAccumulator.push(node)}else if(!ts.isFunctionLike(node)){ts.forEachChild(node,aggregate)}}}function ownsBreakOrContinueStatement(owner,statement){var actualOwner=getBreakOrContinueOwner(statement);return actualOwner&&actualOwner===owner;
}function getBreakOrContinueOwner(statement){for(var node_2=statement.parent;node_2;node_2=node_2.parent){switch(node_2.kind){case 206:if(statement.kind===202){continue}case 199:case 200:case 201:case 198:case 197:if(!statement.label||isLabeledBy(node_2,statement.label.text)){return node_2}break;default:if(ts.isFunctionLike(node_2)){return undefined}break}}return undefined}function getModifierOccurrences(modifier,declaration){var container=declaration.parent;if(ts.isAccessibilityModifier(modifier)){if(!(container.kind===214||container.kind===186||declaration.kind===138&&hasKind(container,144))){return undefined}}else if(modifier===113){if(!(container.kind===214||container.kind===186)){return undefined}}else if(modifier===82||modifier===122){if(!(container.kind===219||container.kind===248)){return undefined}}else if(modifier===115){if(!(container.kind===214||declaration.kind===214)){return undefined}}else{return undefined}var keywords=[];var modifierFlag=getFlagFromModifier(modifier);var nodes;switch(container.kind){case 219:case 248:if(modifierFlag&256){nodes=declaration.members.concat(declaration)}else{nodes=container.statements}break;case 144:nodes=container.parameters.concat(container.parent.members);break;case 214:case 186:nodes=container.members;if(modifierFlag&112){var constructor=ts.forEach(container.members,function(member){return member.kind===144&&member});if(constructor){nodes=nodes.concat(constructor.parameters)}}else if(modifierFlag&256){nodes=nodes.concat(container)}break;default:ts.Debug.fail("Invalid container kind.")}ts.forEach(nodes,function(node){if(node.modifiers&&node.flags&modifierFlag){ts.forEach(node.modifiers,function(child){return pushKeywordIf(keywords,child,modifier)})}});return ts.map(keywords,getHighlightSpanForNode);function getFlagFromModifier(modifier){switch(modifier){case 112:return 16;case 110:return 32;case 111:return 64;case 113:return 128;case 82:return 1;case 122:return 2;case 115:return 256;default:ts.Debug.fail()}}}function pushKeywordIf(keywordList,token){var expected=[];for(var _i=2;_i<arguments.length;_i++){expected[_i-2]=arguments[_i]}if(token&&ts.contains(expected,token.kind)){keywordList.push(token);return true}return false}function getGetAndSetOccurrences(accessorDeclaration){var keywords=[];tryPushAccessorKeyword(accessorDeclaration.symbol,145);tryPushAccessorKeyword(accessorDeclaration.symbol,146);return ts.map(keywords,getHighlightSpanForNode);function tryPushAccessorKeyword(accessorSymbol,accessorKind){var accessor=ts.getDeclarationOfKind(accessorSymbol,accessorKind);if(accessor){ts.forEach(accessor.getChildren(),function(child){return pushKeywordIf(keywords,child,123,129)})}}}function getConstructorOccurrences(constructorDeclaration){var declarations=constructorDeclaration.symbol.getDeclarations();var keywords=[];ts.forEach(declarations,function(declaration){ts.forEach(declaration.getChildren(),function(token){return pushKeywordIf(keywords,token,121)})});return ts.map(keywords,getHighlightSpanForNode)}function getLoopBreakContinueOccurrences(loopNode){var keywords=[];if(pushKeywordIf(keywords,loopNode.getFirstToken(),86,104,79)){if(loopNode.kind===197){var loopTokens=loopNode.getChildren();for(var i=loopTokens.length-1;i>=0;i--){if(pushKeywordIf(keywords,loopTokens[i],104)){break}}}}var breaksAndContinues=aggregateAllBreakAndContinueStatements(loopNode.statement);ts.forEach(breaksAndContinues,function(statement){if(ownsBreakOrContinueStatement(loopNode,statement)){pushKeywordIf(keywords,statement.getFirstToken(),70,75)}});return ts.map(keywords,getHighlightSpanForNode)}function getBreakOrContinueStatementOccurrences(breakOrContinueStatement){var owner=getBreakOrContinueOwner(breakOrContinueStatement);if(owner){switch(owner.kind){case 199:case 200:case 201:case 197:case 198:return getLoopBreakContinueOccurrences(owner);case 206:return getSwitchCaseDefaultOccurrences(owner)}}return undefined}function getSwitchCaseDefaultOccurrences(switchStatement){var keywords=[];pushKeywordIf(keywords,switchStatement.getFirstToken(),96);ts.forEach(switchStatement.caseBlock.clauses,function(clause){pushKeywordIf(keywords,clause.getFirstToken(),71,77);var breaksAndContinues=aggregateAllBreakAndContinueStatements(clause);ts.forEach(breaksAndContinues,function(statement){if(ownsBreakOrContinueStatement(switchStatement,statement)){pushKeywordIf(keywords,statement.getFirstToken(),70)}})});return ts.map(keywords,getHighlightSpanForNode)}function getTryCatchFinallyOccurrences(tryStatement){var keywords=[];pushKeywordIf(keywords,tryStatement.getFirstToken(),100);if(tryStatement.catchClause){pushKeywordIf(keywords,tryStatement.catchClause.getFirstToken(),72)}if(tryStatement.finallyBlock){var finallyKeyword=ts.findChildOfKind(tryStatement,85,sourceFile);pushKeywordIf(keywords,finallyKeyword,85)}return ts.map(keywords,getHighlightSpanForNode)}function getThrowOccurrences(throwStatement){var owner=getThrowStatementOwner(throwStatement);if(!owner){return undefined}var keywords=[];ts.forEach(aggregateOwnedThrowStatements(owner),function(throwStatement){pushKeywordIf(keywords,throwStatement.getFirstToken(),98)});if(ts.isFunctionBlock(owner)){ts.forEachReturnStatement(owner,function(returnStatement){pushKeywordIf(keywords,returnStatement.getFirstToken(),94)})}return ts.map(keywords,getHighlightSpanForNode)}function getReturnOccurrences(returnStatement){var func=ts.getContainingFunction(returnStatement);if(!(func&&hasKind(func.body,192))){return undefined}var keywords=[];ts.forEachReturnStatement(func.body,function(returnStatement){pushKeywordIf(keywords,returnStatement.getFirstToken(),94)});ts.forEach(aggregateOwnedThrowStatements(func.body),function(throwStatement){pushKeywordIf(keywords,throwStatement.getFirstToken(),98)});return ts.map(keywords,getHighlightSpanForNode)}function getIfElseOccurrences(ifStatement){var keywords=[];while(hasKind(ifStatement.parent,196)&&ifStatement.parent.elseStatement===ifStatement){ifStatement=ifStatement.parent}while(ifStatement){var children=ifStatement.getChildren();pushKeywordIf(keywords,children[0],88);for(var i=children.length-1;i>=0;i--){if(pushKeywordIf(keywords,children[i],80)){break}}if(!hasKind(ifStatement.elseStatement,196)){break}ifStatement=ifStatement.elseStatement}var result=[];for(var i=0;i<keywords.length;i++){if(keywords[i].kind===80&&i<keywords.length-1){var elseKeyword=keywords[i];var ifKeyword=keywords[i+1];var shouldCombindElseAndIf=true;for(var j=ifKeyword.getStart()-1;j>=elseKeyword.end;j--){if(!ts.isWhiteSpace(sourceFile.text.charCodeAt(j))){shouldCombindElseAndIf=false;break}}if(shouldCombindElseAndIf){result.push({fileName:fileName,textSpan:ts.createTextSpanFromBounds(elseKeyword.getStart(),ifKeyword.end),kind:HighlightSpanKind.reference});i++;continue}}result.push(getHighlightSpanForNode(keywords[i]))}return result}}}function getOccurrencesAtPositionCore(fileName,position){synchronizeHostData();return convertDocumentHighlights(getDocumentHighlights(fileName,position,[fileName]));function convertDocumentHighlights(documentHighlights){if(!documentHighlights){return undefined}var result=[];for(var _i=0;_i<documentHighlights.length;_i++){var entry=documentHighlights[_i];for(var _a=0,_b=entry.highlightSpans;_a<_b.length;_a++){var highlightSpan=_b[_a];result.push({fileName:entry.fileName,textSpan:highlightSpan.textSpan,isWriteAccess:highlightSpan.kind===HighlightSpanKind.writtenReference})}}return result}}function convertReferences(referenceSymbols){if(!referenceSymbols){return undefined}var referenceEntries=[];for(var _i=0;_i<referenceSymbols.length;_i++){var referenceSymbol=referenceSymbols[_i];ts.addRange(referenceEntries,referenceSymbol.references)}return referenceEntries}function findRenameLocations(fileName,position,findInStrings,findInComments){var referencedSymbols=findReferencedSymbols(fileName,position,findInStrings,findInComments);return convertReferences(referencedSymbols)}function getReferencesAtPosition(fileName,position){var referencedSymbols=findReferencedSymbols(fileName,position,false,false);return convertReferences(referencedSymbols)}function findReferences(fileName,position){var referencedSymbols=findReferencedSymbols(fileName,position,false,false);return ts.filter(referencedSymbols,function(rs){return!!rs.definition})}function findReferencedSymbols(fileName,position,findInStrings,findInComments){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,position);if(!node){return undefined}if(node.kind!==69&&!isLiteralNameOfPropertyDeclarationOrIndexAccess(node)&&!isNameOfExternalModuleImportOrDeclaration(node)){return undefined}ts.Debug.assert(node.kind===69||node.kind===8||node.kind===9);return getReferencedSymbolsForNode(node,program.getSourceFiles(),findInStrings,findInComments)}function getReferencedSymbolsForNode(node,sourceFiles,findInStrings,findInComments){var typeChecker=program.getTypeChecker();if(isLabelName(node)){if(isJumpStatementTarget(node)){var labelDefinition=getTargetLabel(node.parent,node.text);return labelDefinition?getLabelReferencesInNode(labelDefinition.parent,labelDefinition):undefined}else{return getLabelReferencesInNode(node.parent,node)}}if(node.kind===97){return getReferencesForThisKeyword(node,sourceFiles)}if(node.kind===95){return getReferencesForSuperKeyword(node)}var symbol=typeChecker.getSymbolAtLocation(node);if(!symbol){return undefined}var declarations=symbol.declarations;if(!declarations||!declarations.length){return undefined}var result;var searchMeaning=getIntersectingMeaningFromDeclarations(getMeaningFromLocation(node),declarations);var declaredName=ts.stripQuotes(ts.getDeclaredName(typeChecker,symbol,node));var scope=getSymbolScope(symbol);var symbolToIndex=[];if(scope){result=[];getReferencesInNode(scope,symbol,declaredName,node,searchMeaning,findInStrings,findInComments,result,symbolToIndex)}else{var internedName=getInternedName(symbol,node,declarations);for(var _i=0;_i<sourceFiles.length;_i++){var sourceFile=sourceFiles[_i];cancellationToken.throwIfCancellationRequested();var nameTable=getNameTable(sourceFile);if(ts.lookUp(nameTable,internedName)){result=result||[];getReferencesInNode(sourceFile,symbol,declaredName,node,searchMeaning,findInStrings,findInComments,result,symbolToIndex)}}}return result;function getDefinition(symbol){var info=getSymbolDisplayPartsDocumentationAndSymbolKind(symbol,node.getSourceFile(),getContainerNode(node),node);var name=ts.map(info.displayParts,function(p){return p.text}).join("");var declarations=symbol.declarations;if(!declarations||declarations.length===0){return undefined}return{containerKind:"",containerName:"",name:name,kind:info.symbolKind,fileName:declarations[0].getSourceFile().fileName,textSpan:ts.createTextSpan(declarations[0].getStart(),0)}}function isImportOrExportSpecifierImportSymbol(symbol){return symbol.flags&8388608&&ts.forEach(symbol.declarations,function(declaration){return declaration.kind===226||declaration.kind===230})}function getInternedName(symbol,location,declarations){if(ts.isImportOrExportSpecifierName(location)){return location.getText()}var localExportDefaultSymbol=ts.getLocalSymbolForExportDefault(symbol);symbol=localExportDefaultSymbol||symbol;return ts.stripQuotes(symbol.name)}function getSymbolScope(symbol){var valueDeclaration=symbol.valueDeclaration;if(valueDeclaration&&(valueDeclaration.kind===173||valueDeclaration.kind===186)){return valueDeclaration}if(symbol.flags&(4|8192)){var privateDeclaration=ts.forEach(symbol.getDeclarations(),function(d){return d.flags&32?d:undefined});if(privateDeclaration){return ts.getAncestor(privateDeclaration,214)}}if(symbol.flags&8388608){return undefined}if(symbol.parent||symbol.flags&268435456){return undefined}var scope=undefined;var declarations=symbol.getDeclarations();if(declarations){for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];var container=getContainerNode(declaration);if(!container){return undefined}if(scope&&scope!==container){return undefined}if(container.kind===248&&!ts.isExternalModule(container)){return undefined}scope=container}}return scope}function getPossibleSymbolReferencePositions(sourceFile,symbolName,start,end){var positions=[];if(!symbolName||!symbolName.length){return positions}var text=sourceFile.text;var sourceLength=text.length;var symbolNameLength=symbolName.length;var position=text.indexOf(symbolName,start);while(position>=0){cancellationToken.throwIfCancellationRequested();if(position>end)break;var endPosition=position+symbolNameLength;if((position===0||!ts.isIdentifierPart(text.charCodeAt(position-1),2))&&(endPosition===sourceLength||!ts.isIdentifierPart(text.charCodeAt(endPosition),2))){positions.push(position)}position=text.indexOf(symbolName,position+symbolNameLength+1)}return positions}function getLabelReferencesInNode(container,targetLabel){var references=[];var sourceFile=container.getSourceFile();var labelName=targetLabel.text;var possiblePositions=getPossibleSymbolReferencePositions(sourceFile,labelName,container.getStart(),container.getEnd());ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(!node||node.getWidth()!==labelName.length){return}if(node===targetLabel||isJumpStatementTarget(node)&&getTargetLabel(node,labelName)===targetLabel){references.push(getReferenceEntryFromNode(node))}});var definition={containerKind:"",containerName:"",fileName:targetLabel.getSourceFile().fileName,kind:ScriptElementKind.label,name:labelName,textSpan:ts.createTextSpanFromBounds(targetLabel.getStart(),targetLabel.getEnd())};return[{definition:definition,references:references}]}function isValidReferencePosition(node,searchSymbolName){if(node){switch(node.kind){case 69:return node.getWidth()===searchSymbolName.length;case 9:if(isLiteralNameOfPropertyDeclarationOrIndexAccess(node)||isNameOfExternalModuleImportOrDeclaration(node)){return node.getWidth()===searchSymbolName.length+2}break;case 8:if(isLiteralNameOfPropertyDeclarationOrIndexAccess(node)){return node.getWidth()===searchSymbolName.length}break}}return false}function getReferencesInNode(container,searchSymbol,searchText,searchLocation,searchMeaning,findInStrings,findInComments,result,symbolToIndex){var sourceFile=container.getSourceFile();var tripleSlashDirectivePrefixRegex=/^\/\/\/\s*</;var possiblePositions=getPossibleSymbolReferencePositions(sourceFile,searchText,container.getStart(),container.getEnd());if(possiblePositions.length){var searchSymbols=populateSearchSymbolSet(searchSymbol,searchLocation);ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var referenceLocation=ts.getTouchingPropertyName(sourceFile,position);if(!isValidReferencePosition(referenceLocation,searchText)){if(findInStrings&&ts.isInString(sourceFile,position)||findInComments&&isInNonReferenceComment(sourceFile,position)){result.push({definition:undefined,references:[{fileName:sourceFile.fileName,textSpan:ts.createTextSpan(position,searchText.length),isWriteAccess:false}]})}return}if(!(getMeaningFromLocation(referenceLocation)&searchMeaning)){return}var referenceSymbol=typeChecker.getSymbolAtLocation(referenceLocation);if(referenceSymbol){var referenceSymbolDeclaration=referenceSymbol.valueDeclaration;var shorthandValueSymbol=typeChecker.getShorthandAssignmentValueSymbol(referenceSymbolDeclaration);var relatedSymbol=getRelatedSymbol(searchSymbols,referenceSymbol,referenceLocation);if(relatedSymbol){var referencedSymbol=getReferencedSymbol(relatedSymbol);referencedSymbol.references.push(getReferenceEntryFromNode(referenceLocation))}else if(!(referenceSymbol.flags&67108864)&&searchSymbols.indexOf(shorthandValueSymbol)>=0){var referencedSymbol=getReferencedSymbol(shorthandValueSymbol);referencedSymbol.references.push(getReferenceEntryFromNode(referenceSymbolDeclaration.name))}}})}return;function getReferencedSymbol(symbol){var symbolId=ts.getSymbolId(symbol);var index=symbolToIndex[symbolId];if(index===undefined){index=result.length;symbolToIndex[symbolId]=index;result.push({definition:getDefinition(symbol),references:[]})}return result[index]}function isInNonReferenceComment(sourceFile,position){return ts.isInCommentHelper(sourceFile,position,isNonReferenceComment);function isNonReferenceComment(c){var commentText=sourceFile.text.substring(c.pos,c.end);return!tripleSlashDirectivePrefixRegex.test(commentText)}}}function getReferencesForSuperKeyword(superKeyword){var searchSpaceNode=ts.getSuperContainer(superKeyword,false);if(!searchSpaceNode){return undefined}var staticFlag=128;switch(searchSpaceNode.kind){case 141:case 140:case 143:case 142:case 144:case 145:case 146:staticFlag&=searchSpaceNode.flags;searchSpaceNode=searchSpaceNode.parent;break;default:return undefined}var references=[];var sourceFile=searchSpaceNode.getSourceFile();var possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"super",searchSpaceNode.getStart(),searchSpaceNode.getEnd());ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(!node||node.kind!==95){return}var container=ts.getSuperContainer(node,false);if(container&&(128&container.flags)===staticFlag&&container.parent.symbol===searchSpaceNode.symbol){references.push(getReferenceEntryFromNode(node))}});var definition=getDefinition(searchSpaceNode.symbol);return[{definition:definition,references:references}]}function getReferencesForThisKeyword(thisOrSuperKeyword,sourceFiles){var searchSpaceNode=ts.getThisContainer(thisOrSuperKeyword,false);var staticFlag=128;switch(searchSpaceNode.kind){case 143:case 142:if(ts.isObjectLiteralMethod(searchSpaceNode)){break}case 141:case 140:case 144:case 145:case 146:staticFlag&=searchSpaceNode.flags;searchSpaceNode=searchSpaceNode.parent;break;case 248:if(ts.isExternalModule(searchSpaceNode)){return undefined}case 213:case 173:break;default:return undefined}var references=[];var possiblePositions;if(searchSpaceNode.kind===248){ts.forEach(sourceFiles,function(sourceFile){possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"this",sourceFile.getStart(),sourceFile.getEnd());getThisReferencesInFile(sourceFile,sourceFile,possiblePositions,references)})}else{var sourceFile=searchSpaceNode.getSourceFile();possiblePositions=getPossibleSymbolReferencePositions(sourceFile,"this",searchSpaceNode.getStart(),searchSpaceNode.getEnd());getThisReferencesInFile(sourceFile,searchSpaceNode,possiblePositions,references)}return[{definition:{containerKind:"",containerName:"",fileName:node.getSourceFile().fileName,kind:ScriptElementKind.variableElement,name:"this",textSpan:ts.createTextSpanFromBounds(node.getStart(),node.getEnd())},references:references}];function getThisReferencesInFile(sourceFile,searchSpaceNode,possiblePositions,result){ts.forEach(possiblePositions,function(position){cancellationToken.throwIfCancellationRequested();var node=ts.getTouchingWord(sourceFile,position);if(!node||node.kind!==97){return}var container=ts.getThisContainer(node,false);switch(searchSpaceNode.kind){case 173:case 213:if(searchSpaceNode.symbol===container.symbol){result.push(getReferenceEntryFromNode(node))}break;case 143:case 142:if(ts.isObjectLiteralMethod(searchSpaceNode)&&searchSpaceNode.symbol===container.symbol){result.push(getReferenceEntryFromNode(node))}break;case 186:case 214:if(container.parent&&searchSpaceNode.symbol===container.parent.symbol&&(container.flags&128)===staticFlag){result.push(getReferenceEntryFromNode(node))}break;case 248:if(container.kind===248&&!ts.isExternalModule(container)){result.push(getReferenceEntryFromNode(node))}break}})}}function populateSearchSymbolSet(symbol,location){var result=[symbol];if(isImportOrExportSpecifierImportSymbol(symbol)){result.push(typeChecker.getAliasedSymbol(symbol))}if(isNameOfPropertyAssignment(location)){ts.forEach(getPropertySymbolsFromContextualType(location),function(contextualSymbol){ts.addRange(result,typeChecker.getRootSymbols(contextualSymbol))});var shorthandValueSymbol=typeChecker.getShorthandAssignmentValueSymbol(location.parent);if(shorthandValueSymbol){result.push(shorthandValueSymbol)}}ts.forEach(typeChecker.getRootSymbols(symbol),function(rootSymbol){if(rootSymbol!==symbol){result.push(rootSymbol)}if(rootSymbol.parent&&rootSymbol.parent.flags&(32|64)){getPropertySymbolsFromBaseTypes(rootSymbol.parent,rootSymbol.getName(),result)}});return result}function getPropertySymbolsFromBaseTypes(symbol,propertyName,result){if(symbol&&symbol.flags&(32|64)){ts.forEach(symbol.getDeclarations(),function(declaration){if(declaration.kind===214){getPropertySymbolFromTypeReference(ts.getClassExtendsHeritageClauseElement(declaration));ts.forEach(ts.getClassImplementsHeritageClauseElements(declaration),getPropertySymbolFromTypeReference)}else if(declaration.kind===215){ts.forEach(ts.getInterfaceBaseTypeNodes(declaration),getPropertySymbolFromTypeReference)}})}return;function getPropertySymbolFromTypeReference(typeReference){if(typeReference){var type=typeChecker.getTypeAtLocation(typeReference);if(type){var propertySymbol=typeChecker.getPropertyOfType(type,propertyName);if(propertySymbol){result.push(propertySymbol)}getPropertySymbolsFromBaseTypes(type.symbol,propertyName,result)}}}}function getRelatedSymbol(searchSymbols,referenceSymbol,referenceLocation){if(searchSymbols.indexOf(referenceSymbol)>=0){return referenceSymbol}if(isImportOrExportSpecifierImportSymbol(referenceSymbol)){var aliasedSymbol=typeChecker.getAliasedSymbol(referenceSymbol);if(searchSymbols.indexOf(aliasedSymbol)>=0){return aliasedSymbol}}if(isNameOfPropertyAssignment(referenceLocation)){return ts.forEach(getPropertySymbolsFromContextualType(referenceLocation),function(contextualSymbol){return ts.forEach(typeChecker.getRootSymbols(contextualSymbol),function(s){return searchSymbols.indexOf(s)>=0?s:undefined})})}return ts.forEach(typeChecker.getRootSymbols(referenceSymbol),function(rootSymbol){if(searchSymbols.indexOf(rootSymbol)>=0){return rootSymbol}if(rootSymbol.parent&&rootSymbol.parent.flags&(32|64)){var result_3=[];getPropertySymbolsFromBaseTypes(rootSymbol.parent,rootSymbol.getName(),result_3);return ts.forEach(result_3,function(s){return searchSymbols.indexOf(s)>=0?s:undefined})}return undefined})}function getPropertySymbolsFromContextualType(node){if(isNameOfPropertyAssignment(node)){var objectLiteral=node.parent.parent;var contextualType=typeChecker.getContextualType(objectLiteral);var name_34=node.text;if(contextualType){if(contextualType.flags&16384){var unionProperty=contextualType.getProperty(name_34);if(unionProperty){return[unionProperty]}else{var result_4=[];ts.forEach(contextualType.types,function(t){var symbol=t.getProperty(name_34);if(symbol){result_4.push(symbol)}});return result_4}}else{var symbol_1=contextualType.getProperty(name_34);if(symbol_1){return[symbol_1]}}}}return undefined}function getIntersectingMeaningFromDeclarations(meaning,declarations){if(declarations){var lastIterationMeaning;do{lastIterationMeaning=meaning;for(var _i=0;_i<declarations.length;_i++){var declaration=declarations[_i];var declarationMeaning=getMeaningFromDeclaration(declaration);if(declarationMeaning&meaning){meaning|=declarationMeaning}}}while(meaning!==lastIterationMeaning)}return meaning}}function getReferenceEntryFromNode(node){var start=node.getStart();var end=node.getEnd();if(node.kind===9){start+=1;end-=1}return{fileName:node.getSourceFile().fileName,textSpan:ts.createTextSpanFromBounds(start,end),isWriteAccess:isWriteAccess(node)}}function isWriteAccess(node){if(node.kind===69&&ts.isDeclarationName(node)){return true}var parent=node.parent;if(parent){if(parent.kind===180||parent.kind===179){return true}else if(parent.kind===181&&parent.left===node){var operator=parent.operatorToken.kind;return 56<=operator&&operator<=68}}return false}function getNavigateToItems(searchValue,maxResultCount){synchronizeHostData();return ts.NavigateTo.getNavigateToItems(program,cancellationToken,searchValue,maxResultCount)}function containErrors(diagnostics){return ts.forEach(diagnostics,function(diagnostic){return diagnostic.category===ts.DiagnosticCategory.Error})}function getEmitOutput(fileName){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var outputFiles=[];function writeFile(fileName,data,writeByteOrderMark){outputFiles.push({name:fileName,writeByteOrderMark:writeByteOrderMark,text:data})}var emitOutput=program.emit(sourceFile,writeFile,cancellationToken);return{outputFiles:outputFiles,emitSkipped:emitOutput.emitSkipped}}function getMeaningFromDeclaration(node){switch(node.kind){case 138:case 211:case 163:case 141:case 140:case 245:case 246:case 247:case 143:case 142:case 144:case 145:case 146:case 213:case 173:case 174:case 244:return 1;case 137:case 215:case 216:case 155:return 2;case 214:case 217:return 1|2;case 218:if(node.name.kind===9){return 4|1}else if(ts.getModuleInstanceState(node)===1){return 4|1}else{return 4}case 225:case 226:case 221:case 222:case 227:case 228:return 1|2|4;case 248:return 4|1}return 1|2|4;ts.Debug.fail("Unknown declaration type")}function isTypeReference(node){if(ts.isRightSideOfQualifiedNameOrPropertyAccess(node)){node=node.parent}return node.parent.kind===151||node.parent.kind===188&&!ts.isExpressionWithTypeArgumentsInClassExtendsClause(node.parent)||node.kind===97&&!ts.isExpression(node)}function isNamespaceReference(node){return isQualifiedNameNamespaceReference(node)||isPropertyAccessNamespaceReference(node)}function isPropertyAccessNamespaceReference(node){var root=node;var isLastClause=true;if(root.parent.kind===166){while(root.parent&&root.parent.kind===166){root=root.parent}isLastClause=root.name===node}if(!isLastClause&&root.parent.kind===188&&root.parent.parent.kind===243){var decl=root.parent.parent.parent;return decl.kind===214&&root.parent.parent.token===106||decl.kind===215&&root.parent.parent.token===83}return false}function isQualifiedNameNamespaceReference(node){var root=node;var isLastClause=true;if(root.parent.kind===135){while(root.parent&&root.parent.kind===135){root=root.parent}isLastClause=root.right===node}return root.parent.kind===151&&!isLastClause}function isInRightSideOfImport(node){while(node.parent.kind===135){node=node.parent}return ts.isInternalModuleImportEqualsDeclaration(node.parent)&&node.parent.moduleReference===node}function getMeaningFromRightHandSideOfImportEquals(node){ts.Debug.assert(node.kind===69);if(node.parent.kind===135&&node.parent.right===node&&node.parent.parent.kind===221){return 1|2|4}return 4}function getMeaningFromLocation(node){if(node.parent.kind===227){return 1|2|4}else if(isInRightSideOfImport(node)){return getMeaningFromRightHandSideOfImportEquals(node)}else if(ts.isDeclarationName(node)){return getMeaningFromDeclaration(node.parent)}else if(isTypeReference(node)){return 2}else if(isNamespaceReference(node)){return 4}else{return 1}}function getSignatureHelpItems(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);return ts.SignatureHelp.getSignatureHelpItems(program,sourceFile,position,cancellationToken)}function getSourceFile(fileName){return syntaxTreeCache.getCurrentSourceFile(fileName)}function getNameOrDottedNameSpan(fileName,startPos,endPos){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);var node=ts.getTouchingPropertyName(sourceFile,startPos);if(!node){return}switch(node.kind){case 166:case 135:case 9:case 84:case 99:case 93:case 95:case 97:case 69:break;default:return}var nodeForStartPos=node;while(true){if(isRightSideOfPropertyAccess(nodeForStartPos)||isRightSideOfQualifiedName(nodeForStartPos)){nodeForStartPos=nodeForStartPos.parent}else if(isNameOfModuleDeclaration(nodeForStartPos)){if(nodeForStartPos.parent.parent.kind===218&&nodeForStartPos.parent.parent.body===nodeForStartPos.parent){nodeForStartPos=nodeForStartPos.parent.parent.name}else{break}}else{break}}return ts.createTextSpanFromBounds(nodeForStartPos.getStart(),node.getEnd())}function getBreakpointStatementAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.BreakpointResolver.spanInSourceFileAtLocation(sourceFile,position)}function getNavigationBarItems(fileName){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.NavigationBar.getNavigationBarItems(sourceFile)}function getSemanticClassifications(fileName,span){return convertClassifications(getEncodedSemanticClassifications(fileName,span))}function checkForClassificationCancellation(kind){switch(kind){case 218:case 214:case 215:case 213:cancellationToken.throwIfCancellationRequested()}}function getEncodedSemanticClassifications(fileName,span){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var typeChecker=program.getTypeChecker();var result=[];var classifiableNames=program.getClassifiableNames();processNode(sourceFile);return{spans:result,endOfLineState:0};function pushClassification(start,length,type){result.push(start);result.push(length);result.push(type)}function classifySymbol(symbol,meaningAtPosition){var flags=symbol.getFlags();if((flags&788448)===0){return}if(flags&32){return 11}else if(flags&384){return 12}else if(flags&524288){return 16}else if(meaningAtPosition&2){if(flags&64){return 13}else if(flags&262144){return 15}}else if(flags&1536){if(meaningAtPosition&4||meaningAtPosition&1&&hasValueSideModule(symbol)){return 14}}return undefined;function hasValueSideModule(symbol){return ts.forEach(symbol.declarations,function(declaration){return declaration.kind===218&&ts.getModuleInstanceState(declaration)===1})}}function processNode(node){if(node&&ts.textSpanIntersectsWith(span,node.getFullStart(),node.getFullWidth())){var kind=node.kind;checkForClassificationCancellation(kind);if(kind===69&&!ts.nodeIsMissing(node)){var identifier=node;if(classifiableNames[identifier.text]){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol){var type=classifySymbol(symbol,getMeaningFromLocation(node));if(type){pushClassification(node.getStart(),node.getWidth(),type)}}}}ts.forEachChild(node,processNode)}}}function getClassificationTypeName(type){switch(type){case 1:return ClassificationTypeNames.comment;case 2:return ClassificationTypeNames.identifier;case 3:return ClassificationTypeNames.keyword;case 4:return ClassificationTypeNames.numericLiteral;case 5:return ClassificationTypeNames.operator;case 6:return ClassificationTypeNames.stringLiteral;case 8:return ClassificationTypeNames.whiteSpace;case 9:return ClassificationTypeNames.text;case 10:return ClassificationTypeNames.punctuation;case 11:return ClassificationTypeNames.className;case 12:return ClassificationTypeNames.enumName;case 13:return ClassificationTypeNames.interfaceName;case 14:return ClassificationTypeNames.moduleName;case 15:return ClassificationTypeNames.typeParameterName;case 16:return ClassificationTypeNames.typeAliasName;case 17:return ClassificationTypeNames.parameterName;case 18:return ClassificationTypeNames.docCommentTagName}}function convertClassifications(classifications){ts.Debug.assert(classifications.spans.length%3===0);var dense=classifications.spans;var result=[];for(var i=0,n=dense.length;i<n;i+=3){result.push({textSpan:ts.createTextSpan(dense[i],dense[i+1]),classificationType:getClassificationTypeName(dense[i+2])})}return result}function getSyntacticClassifications(fileName,span){return convertClassifications(getEncodedSyntacticClassifications(fileName,span))}function getEncodedSyntacticClassifications(fileName,span){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);var spanStart=span.start;var spanLength=span.length;var triviaScanner=ts.createScanner(2,false,sourceFile.languageVariant,sourceFile.text);var mergeConflictScanner=ts.createScanner(2,false,sourceFile.languageVariant,sourceFile.text);var result=[];processElement(sourceFile);return{spans:result,endOfLineState:0};function pushClassification(start,length,type){result.push(start);result.push(length);
result.push(type)}function classifyLeadingTriviaAndGetTokenStart(token){triviaScanner.setTextPos(token.pos);while(true){var start=triviaScanner.getTextPos();if(!ts.couldStartTrivia(sourceFile.text,start)){return start}var kind=triviaScanner.scan();var end=triviaScanner.getTextPos();var width=end-start;if(!ts.isTrivia(kind)){return start}if(kind===4||kind===5){continue}if(ts.isComment(kind)){classifyComment(token,kind,start,width);triviaScanner.setTextPos(end);continue}if(kind===7){var text=sourceFile.text;var ch=text.charCodeAt(start);if(ch===60||ch===62){pushClassification(start,width,1);continue}ts.Debug.assert(ch===61);classifyDisabledMergeCode(text,start,end)}}}function classifyComment(token,kind,start,width){if(kind===3){var docCommentAndDiagnostics=ts.parseIsolatedJSDocComment(sourceFile.text,start,width);if(docCommentAndDiagnostics&&docCommentAndDiagnostics.jsDocComment){docCommentAndDiagnostics.jsDocComment.parent=token;classifyJSDocComment(docCommentAndDiagnostics.jsDocComment);return}}pushCommentRange(start,width)}function pushCommentRange(start,width){pushClassification(start,width,1)}function classifyJSDocComment(docComment){var pos=docComment.pos;for(var _i=0,_a=docComment.tags;_i<_a.length;_i++){var tag=_a[_i];if(tag.pos!==pos){pushCommentRange(pos,tag.pos-pos)}pushClassification(tag.atToken.pos,tag.atToken.end-tag.atToken.pos,10);pushClassification(tag.tagName.pos,tag.tagName.end-tag.tagName.pos,18);pos=tag.tagName.end;switch(tag.kind){case 267:processJSDocParameterTag(tag);break;case 270:processJSDocTemplateTag(tag);break;case 269:processElement(tag.typeExpression);break;case 268:processElement(tag.typeExpression);break}pos=tag.end}if(pos!==docComment.end){pushCommentRange(pos,docComment.end-pos)}return;function processJSDocParameterTag(tag){if(tag.preParameterName){pushCommentRange(pos,tag.preParameterName.pos-pos);pushClassification(tag.preParameterName.pos,tag.preParameterName.end-tag.preParameterName.pos,17);pos=tag.preParameterName.end}if(tag.typeExpression){pushCommentRange(pos,tag.typeExpression.pos-pos);processElement(tag.typeExpression);pos=tag.typeExpression.end}if(tag.postParameterName){pushCommentRange(pos,tag.postParameterName.pos-pos);pushClassification(tag.postParameterName.pos,tag.postParameterName.end-tag.postParameterName.pos,17);pos=tag.postParameterName.end}}}function processJSDocTemplateTag(tag){for(var _i=0,_a=tag.getChildren();_i<_a.length;_i++){var child=_a[_i];processElement(child)}}function classifyDisabledMergeCode(text,start,end){for(var i=start;i<end;i++){if(ts.isLineBreak(text.charCodeAt(i))){break}}pushClassification(start,i-start,1);mergeConflictScanner.setTextPos(i);while(mergeConflictScanner.getTextPos()<end){classifyDisabledCodeToken()}}function classifyDisabledCodeToken(){var start=mergeConflictScanner.getTextPos();var tokenKind=mergeConflictScanner.scan();var end=mergeConflictScanner.getTextPos();var type=classifyTokenType(tokenKind);if(type){pushClassification(start,end-start,type)}}function classifyToken(token){if(ts.nodeIsMissing(token)){return}var tokenStart=classifyLeadingTriviaAndGetTokenStart(token);var tokenWidth=token.end-tokenStart;ts.Debug.assert(tokenWidth>=0);if(tokenWidth>0){var type=classifyTokenType(token.kind,token);if(type){pushClassification(tokenStart,tokenWidth,type)}}}function classifyTokenType(tokenKind,token){if(ts.isKeyword(tokenKind)){return 3}if(tokenKind===25||tokenKind===27){if(token&&ts.getTypeArgumentOrTypeParameterList(token.parent)){return 10}}if(ts.isPunctuation(tokenKind)){if(token){if(tokenKind===56){if(token.parent.kind===211||token.parent.kind===141||token.parent.kind===138){return 5}}if(token.parent.kind===181||token.parent.kind===179||token.parent.kind===180||token.parent.kind===182){return 5}}return 10}else if(tokenKind===8){return 4}else if(tokenKind===9){return 6}else if(tokenKind===10){return 6}else if(ts.isTemplateLiteralKind(tokenKind)){return 6}else if(tokenKind===69){if(token){switch(token.parent.kind){case 214:if(token.parent.name===token){return 11}return;case 137:if(token.parent.name===token){return 15}return;case 215:if(token.parent.name===token){return 13}return;case 217:if(token.parent.name===token){return 12}return;case 218:if(token.parent.name===token){return 14}return;case 138:if(token.parent.name===token){return 17}return}}return 2}}function processElement(element){if(!element){return}if(ts.decodedTextSpanIntersectsWith(spanStart,spanLength,element.pos,element.getFullWidth())){checkForClassificationCancellation(element.kind);var children=element.getChildren(sourceFile);for(var i=0,n=children.length;i<n;i++){var child=children[i];if(ts.isToken(child)){classifyToken(child)}else{processElement(child)}}}}}function getOutliningSpans(fileName){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.OutliningElementsCollector.collectElements(sourceFile)}function getBraceMatchingAtPosition(fileName,position){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);var result=[];var token=ts.getTouchingToken(sourceFile,position);if(token.getStart(sourceFile)===position){var matchKind=getMatchingTokenKind(token);if(matchKind){var parentElement=token.parent;var childNodes=parentElement.getChildren(sourceFile);for(var _i=0;_i<childNodes.length;_i++){var current=childNodes[_i];if(current.kind===matchKind){var range1=ts.createTextSpan(token.getStart(sourceFile),token.getWidth(sourceFile));var range2=ts.createTextSpan(current.getStart(sourceFile),current.getWidth(sourceFile));if(range1.start<range2.start){result.push(range1,range2)}else{result.push(range2,range1)}break}}}}return result;function getMatchingTokenKind(token){switch(token.kind){case 15:return 16;case 17:return 18;case 19:return 20;case 25:return 27;case 16:return 15;case 18:return 17;case 20:return 19;case 27:return 25}return undefined}}function getIndentationAtPosition(fileName,position,editorOptions){var start=(new Date).getTime();var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);log("getIndentationAtPosition: getCurrentSourceFile: "+((new Date).getTime()-start));start=(new Date).getTime();var result=ts.formatting.SmartIndenter.getIndentation(position,sourceFile,editorOptions);log("getIndentationAtPosition: computeIndentation  : "+((new Date).getTime()-start));return result}function getFormattingEditsForRange(fileName,start,end,options){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.formatting.formatSelection(start,end,sourceFile,getRuleProvider(options),options)}function getFormattingEditsForDocument(fileName,options){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);return ts.formatting.formatDocument(sourceFile,getRuleProvider(options),options)}function getFormattingEditsAfterKeystroke(fileName,position,key,options){var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);if(key==="}"){return ts.formatting.formatOnClosingCurly(position,sourceFile,getRuleProvider(options),options)}else if(key===";"){return ts.formatting.formatOnSemicolon(position,sourceFile,getRuleProvider(options),options)}else if(key==="\n"){return ts.formatting.formatOnEnter(position,sourceFile,getRuleProvider(options),options)}return[]}function getDocCommentTemplateAtPosition(fileName,position){var start=(new Date).getTime();var sourceFile=syntaxTreeCache.getCurrentSourceFile(fileName);if(ts.isInString(sourceFile,position)||ts.isInComment(sourceFile,position)||ts.hasDocComment(sourceFile,position)){return undefined}var tokenAtPos=ts.getTokenAtPosition(sourceFile,position);var tokenStart=tokenAtPos.getStart();if(!tokenAtPos||tokenStart<position){return undefined}var commentOwner;findOwner:for(commentOwner=tokenAtPos;commentOwner;commentOwner=commentOwner.parent){switch(commentOwner.kind){case 213:case 143:case 144:case 214:case 193:break findOwner;case 248:return undefined;case 218:if(commentOwner.parent.kind===218){return undefined}break findOwner}}if(!commentOwner||commentOwner.getStart()<position){return undefined}var parameters=getParametersForJsDocOwningNode(commentOwner);var posLineAndChar=sourceFile.getLineAndCharacterOfPosition(position);var lineStart=sourceFile.getLineStarts()[posLineAndChar.line];var indentationStr=sourceFile.text.substr(lineStart,posLineAndChar.character);var newLine=host.getNewLine?host.getNewLine():"\r\n";var docParams="";for(var i=0,numParams=parameters.length;i<numParams;i++){var currentName=parameters[i].name;var paramName=currentName.kind===69?currentName.text:"param"+i;docParams+=indentationStr+" * @param "+paramName+newLine}var preamble="/**"+newLine+indentationStr+" * ";var result=preamble+newLine+docParams+indentationStr+" */"+(tokenStart===position?newLine+indentationStr:"");return{newText:result,caretOffset:preamble.length}}function getParametersForJsDocOwningNode(commentOwner){if(ts.isFunctionLike(commentOwner)){return commentOwner.parameters}if(commentOwner.kind===193){var varStatement=commentOwner;var varDeclarations=varStatement.declarationList.declarations;if(varDeclarations.length===1&&varDeclarations[0].initializer){return getParametersFromRightHandSideOfAssignment(varDeclarations[0].initializer)}}return emptyArray}function getParametersFromRightHandSideOfAssignment(rightHandSide){while(rightHandSide.kind===172){rightHandSide=rightHandSide.expression}switch(rightHandSide.kind){case 173:case 174:return rightHandSide.parameters;case 186:for(var _i=0,_a=rightHandSide.members;_i<_a.length;_i++){var member=_a[_i];if(member.kind===144){return member.parameters}}break}return emptyArray}function getTodoComments(fileName,descriptors){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);cancellationToken.throwIfCancellationRequested();var fileContents=sourceFile.text;var result=[];if(descriptors.length>0){var regExp=getTodoCommentsRegExp();var matchArray;while(matchArray=regExp.exec(fileContents)){cancellationToken.throwIfCancellationRequested();var firstDescriptorCaptureIndex=3;ts.Debug.assert(matchArray.length===descriptors.length+firstDescriptorCaptureIndex);var preamble=matchArray[1];var matchPosition=matchArray.index+preamble.length;var token=ts.getTokenAtPosition(sourceFile,matchPosition);if(!isInsideComment(sourceFile,token,matchPosition)){continue}var descriptor=undefined;for(var i=0,n=descriptors.length;i<n;i++){if(matchArray[i+firstDescriptorCaptureIndex]){descriptor=descriptors[i]}}ts.Debug.assert(descriptor!==undefined);if(isLetterOrDigit(fileContents.charCodeAt(matchPosition+descriptor.text.length))){continue}var message=matchArray[2];result.push({descriptor:descriptor,message:message,position:matchPosition})}}return result;function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function getTodoCommentsRegExp(){var singleLineCommentStart=/(?:\/\/+\s*)/.source;var multiLineCommentStart=/(?:\/\*+\s*)/.source;var anyNumberOfSpacesAndAsterixesAtStartOfLine=/(?:^(?:\s|\*)*)/.source;var preamble="("+anyNumberOfSpacesAndAsterixesAtStartOfLine+"|"+singleLineCommentStart+"|"+multiLineCommentStart+")";var literals="(?:"+ts.map(descriptors,function(d){return"("+escapeRegExp(d.text)+")"}).join("|")+")";var endOfLineOrEndOfComment=/(?:$|\*\/)/.source;var messageRemainder=/(?:.*?)/.source;var messagePortion="("+literals+messageRemainder+")";var regExpString=preamble+messagePortion+endOfLineOrEndOfComment;return new RegExp(regExpString,"gim")}function isLetterOrDigit(char){return char>=97&&char<=122||char>=65&&char<=90||char>=48&&char<=57}}function getRenameInfo(fileName,position){synchronizeHostData();var sourceFile=getValidSourceFile(fileName);var typeChecker=program.getTypeChecker();var node=ts.getTouchingWord(sourceFile,position);if(node&&node.kind===69){var symbol=typeChecker.getSymbolAtLocation(node);if(symbol){var declarations=symbol.getDeclarations();if(declarations&&declarations.length>0){var defaultLibFileName=host.getDefaultLibFileName(host.getCompilationSettings());if(defaultLibFileName){for(var _i=0;_i<declarations.length;_i++){var current=declarations[_i];var sourceFile_2=current.getSourceFile();var canonicalName=getCanonicalFileName(ts.normalizePath(sourceFile_2.fileName));if(sourceFile_2&&getCanonicalFileName(ts.normalizePath(sourceFile_2.fileName))===getCanonicalFileName(ts.normalizePath(defaultLibFileName))){return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library.key))}}}var displayName=ts.stripQuotes(ts.getDeclaredName(typeChecker,symbol,node));var kind=getSymbolKind(symbol,node);if(kind){return{canRename:true,localizedErrorMessage:undefined,displayName:displayName,fullDisplayName:typeChecker.getFullyQualifiedName(symbol),kind:kind,kindModifiers:getSymbolModifiers(symbol),triggerSpan:ts.createTextSpan(node.getStart(),node.getWidth())}}}}}return getRenameInfoError(ts.getLocaleSpecificMessage(ts.Diagnostics.You_cannot_rename_this_element.key));function getRenameInfoError(localizedErrorMessage){return{canRename:false,localizedErrorMessage:localizedErrorMessage,displayName:undefined,fullDisplayName:undefined,kind:undefined,kindModifiers:undefined,triggerSpan:undefined}}}return{dispose:dispose,cleanupSemanticCache:cleanupSemanticCache,getSyntacticDiagnostics:getSyntacticDiagnostics,getSemanticDiagnostics:getSemanticDiagnostics,getCompilerOptionsDiagnostics:getCompilerOptionsDiagnostics,getSyntacticClassifications:getSyntacticClassifications,getSemanticClassifications:getSemanticClassifications,getEncodedSyntacticClassifications:getEncodedSyntacticClassifications,getEncodedSemanticClassifications:getEncodedSemanticClassifications,getCompletionsAtPosition:getCompletionsAtPosition,getCompletionEntryDetails:getCompletionEntryDetails,getSignatureHelpItems:getSignatureHelpItems,getQuickInfoAtPosition:getQuickInfoAtPosition,getDefinitionAtPosition:getDefinitionAtPosition,getTypeDefinitionAtPosition:getTypeDefinitionAtPosition,getReferencesAtPosition:getReferencesAtPosition,findReferences:findReferences,getOccurrencesAtPosition:getOccurrencesAtPosition,getDocumentHighlights:getDocumentHighlights,getNameOrDottedNameSpan:getNameOrDottedNameSpan,getBreakpointStatementAtPosition:getBreakpointStatementAtPosition,getNavigateToItems:getNavigateToItems,getRenameInfo:getRenameInfo,findRenameLocations:findRenameLocations,getNavigationBarItems:getNavigationBarItems,getOutliningSpans:getOutliningSpans,getTodoComments:getTodoComments,getBraceMatchingAtPosition:getBraceMatchingAtPosition,getIndentationAtPosition:getIndentationAtPosition,getFormattingEditsForRange:getFormattingEditsForRange,getFormattingEditsForDocument:getFormattingEditsForDocument,getFormattingEditsAfterKeystroke:getFormattingEditsAfterKeystroke,getDocCommentTemplateAtPosition:getDocCommentTemplateAtPosition,getEmitOutput:getEmitOutput,getSourceFile:getSourceFile,getProgram:getProgram}}ts.createLanguageService=createLanguageService;function getNameTable(sourceFile){if(!sourceFile.nameTable){initializeNameTable(sourceFile)}return sourceFile.nameTable}ts.getNameTable=getNameTable;function initializeNameTable(sourceFile){var nameTable={};walk(sourceFile);sourceFile.nameTable=nameTable;function walk(node){switch(node.kind){case 69:nameTable[node.text]=node.text;break;case 9:case 8:if(ts.isDeclarationName(node)||node.parent.kind===232||isArgumentOfElementAccessExpression(node)){nameTable[node.text]=node.text}break;default:ts.forEachChild(node,walk)}}}function isArgumentOfElementAccessExpression(node){return node&&node.parent&&node.parent.kind===167&&node.parent.argumentExpression===node}function createClassifier(){var scanner=ts.createScanner(2,false);var noRegexTable=[];noRegexTable[69]=true;noRegexTable[9]=true;noRegexTable[8]=true;noRegexTable[10]=true;noRegexTable[97]=true;noRegexTable[41]=true;noRegexTable[42]=true;noRegexTable[18]=true;noRegexTable[20]=true;noRegexTable[16]=true;noRegexTable[99]=true;noRegexTable[84]=true;var templateStack=[];function canFollow(keyword1,keyword2){if(ts.isAccessibilityModifier(keyword1)){if(keyword2===123||keyword2===129||keyword2===121||keyword2===113){return true}return false}return true}function convertClassifications(classifications,text){var entries=[];var dense=classifications.spans;var lastEnd=0;for(var i=0,n=dense.length;i<n;i+=3){var start=dense[i];var length_3=dense[i+1];var type=dense[i+2];if(lastEnd>=0){var whitespaceLength_1=start-lastEnd;if(whitespaceLength_1>0){entries.push({length:whitespaceLength_1,classification:TokenClass.Whitespace})}}entries.push({length:length_3,classification:convertClassification(type)});lastEnd=start+length_3}var whitespaceLength=text.length-lastEnd;if(whitespaceLength>0){entries.push({length:whitespaceLength,classification:TokenClass.Whitespace})}return{entries:entries,finalLexState:classifications.endOfLineState}}function convertClassification(type){switch(type){case 1:return TokenClass.Comment;case 3:return TokenClass.Keyword;case 4:return TokenClass.NumberLiteral;case 5:return TokenClass.Operator;case 6:return TokenClass.StringLiteral;case 8:return TokenClass.Whitespace;case 10:return TokenClass.Punctuation;case 2:case 11:case 12:case 13:case 14:case 15:case 16:case 9:case 17:default:return TokenClass.Identifier}}function getClassificationsForLine(text,lexState,syntacticClassifierAbsent){return convertClassifications(getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent),text)}function getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent){var offset=0;var token=0;var lastNonTriviaToken=0;while(templateStack.length>0){templateStack.pop()}switch(lexState){case 3:text='"\\\n'+text;offset=3;break;case 2:text="'\\\n"+text;offset=3;break;case 1:text="/*\n"+text;offset=3;break;case 4:text="`\n"+text;offset=2;break;case 5:text="}\n"+text;offset=2;case 6:templateStack.push(12);break}scanner.setText(text);var result={endOfLineState:0,spans:[]};var angleBracketStack=0;do{token=scanner.scan();if(!ts.isTrivia(token)){if((token===39||token===61)&&!noRegexTable[lastNonTriviaToken]){if(scanner.reScanSlashToken()===10){token=10}}else if(lastNonTriviaToken===21&&isKeyword(token)){token=69}else if(isKeyword(lastNonTriviaToken)&&isKeyword(token)&&!canFollow(lastNonTriviaToken,token)){token=69}else if(lastNonTriviaToken===69&&token===25){angleBracketStack++}else if(token===27&&angleBracketStack>0){angleBracketStack--}else if(token===117||token===130||token===128||token===120||token===131){if(angleBracketStack>0&&!syntacticClassifierAbsent){token=69}}else if(token===12){templateStack.push(token)}else if(token===15){if(templateStack.length>0){templateStack.push(token)}}else if(token===16){if(templateStack.length>0){var lastTemplateStackToken=ts.lastOrUndefined(templateStack);if(lastTemplateStackToken===12){token=scanner.reScanTemplateToken();if(token===14){templateStack.pop()}else{ts.Debug.assert(token===13,"Should have been a template middle. Was "+token)}}else{ts.Debug.assert(lastTemplateStackToken===15,"Should have been an open brace. Was: "+token);templateStack.pop()}}}lastNonTriviaToken=token}processToken()}while(token!==1);return result;function processToken(){var start=scanner.getTokenPos();var end=scanner.getTextPos();addResult(start,end,classFromKind(token));if(end>=text.length){if(token===9){var tokenText=scanner.getTokenText();if(scanner.isUnterminated()){var lastCharIndex=tokenText.length-1;var numBackslashes=0;while(tokenText.charCodeAt(lastCharIndex-numBackslashes)===92){numBackslashes++}if(numBackslashes&1){var quoteChar=tokenText.charCodeAt(0);result.endOfLineState=quoteChar===34?3:2}}}else if(token===3){if(scanner.isUnterminated()){result.endOfLineState=1}}else if(ts.isTemplateLiteralKind(token)){if(scanner.isUnterminated()){if(token===14){result.endOfLineState=5}else if(token===11){result.endOfLineState=4}else{ts.Debug.fail("Only 'NoSubstitutionTemplateLiteral's and 'TemplateTail's can be unterminated; got SyntaxKind #"+token)}}}else if(templateStack.length>0&&ts.lastOrUndefined(templateStack)===12){result.endOfLineState=6}}}function addResult(start,end,classification){if(classification===8){return}if(start===0&&offset>0){start+=offset}start-=offset;end-=offset;var length=end-start;if(length>0){result.spans.push(start);result.spans.push(length);result.spans.push(classification)}}}function isBinaryExpressionOperatorToken(token){switch(token){case 37:case 39:case 40:case 35:case 36:case 43:case 44:case 45:case 25:case 27:case 28:case 29:case 91:case 90:case 116:case 30:case 31:case 32:case 33:case 46:case 48:case 47:case 51:case 52:case 67:case 66:case 68:case 63:case 64:case 65:case 57:case 58:case 59:case 61:case 62:case 56:case 24:return true;default:return false}}function isPrefixUnaryExpressionOperatorToken(token){switch(token){case 35:case 36:case 50:case 49:case 41:case 42:return true;default:return false}}function isKeyword(token){return token>=70&&token<=134}function classFromKind(token){if(isKeyword(token)){return 3}else if(isBinaryExpressionOperatorToken(token)||isPrefixUnaryExpressionOperatorToken(token)){return 5}else if(token>=15&&token<=68){return 10}switch(token){case 8:return 4;case 9:return 6;case 10:return 7;case 7:case 3:case 2:return 1;case 5:case 4:return 8;case 69:default:if(ts.isTemplateLiteralKind(token)){return 6}return 2}}return{getClassificationsForLine:getClassificationsForLine,getEncodedLexicalClassifications:getEncodedLexicalClassifications}}ts.createClassifier=createClassifier;function getDefaultLibFilePath(options){if(typeof __dirname!=="undefined"){return __dirname+ts.directorySeparator+ts.getDefaultLibFileName(options)}throw new Error("getDefaultLibFilePath is only supported when consumed as a node module. ")}ts.getDefaultLibFilePath=getDefaultLibFilePath;function initializeServices(){ts.objectAllocator={getNodeConstructor:function(kind){function Node(){}var proto=kind===248?new SourceFileObject:new NodeObject;proto.kind=kind;proto.pos=-1;proto.end=-1;proto.flags=0;proto.parent=undefined;Node.prototype=proto;return Node},getSymbolConstructor:function(){return SymbolObject},getTypeConstructor:function(){return TypeObject},getSignatureConstructor:function(){return SignatureObject}}}initializeServices()})(ts||(ts={}));var ts;(function(ts){var BreakpointResolver;(function(BreakpointResolver){function spanInSourceFileAtLocation(sourceFile,position){if(sourceFile.flags&8192){return undefined}var tokenAtLocation=ts.getTokenAtPosition(sourceFile,position);var lineOfPosition=sourceFile.getLineAndCharacterOfPosition(position).line;if(sourceFile.getLineAndCharacterOfPosition(tokenAtLocation.getStart()).line>lineOfPosition){tokenAtLocation=ts.findPrecedingToken(tokenAtLocation.pos,sourceFile);if(!tokenAtLocation||sourceFile.getLineAndCharacterOfPosition(tokenAtLocation.getEnd()).line!==lineOfPosition){return undefined}}if(ts.isInAmbientContext(tokenAtLocation)){return undefined}return spanInNode(tokenAtLocation);function textSpan(startNode,endNode){return ts.createTextSpanFromBounds(startNode.getStart(),(endNode||startNode).getEnd())}function spanInNodeIfStartsOnSameLine(node,otherwiseOnNode){if(node&&lineOfPosition===sourceFile.getLineAndCharacterOfPosition(node.getStart()).line){return spanInNode(node)}return spanInNode(otherwiseOnNode)}function spanInPreviousNode(node){return spanInNode(ts.findPrecedingToken(node.pos,sourceFile))}function spanInNextNode(node){return spanInNode(ts.findNextToken(node,node.parent))}function spanInNode(node){if(node){if(ts.isExpression(node)){if(node.parent.kind===197){return spanInPreviousNode(node)}if(node.parent.kind===199){return textSpan(node)}if(node.parent.kind===181&&node.parent.operatorToken.kind===24){return textSpan(node)}if(node.parent.kind===174&&node.parent.body===node){return textSpan(node)}}switch(node.kind){case 193:return spanInVariableDeclaration(node.declarationList.declarations[0]);case 211:case 141:case 140:return spanInVariableDeclaration(node);case 138:return spanInParameterDeclaration(node);case 213:case 143:case 142:case 145:case 146:case 144:case 173:case 174:return spanInFunctionDeclaration(node);case 192:if(ts.isFunctionBlock(node)){return spanInFunctionBlock(node)}case 219:return spanInBlock(node);case 244:return spanInBlock(node.block);case 195:return textSpan(node.expression);case 204:return textSpan(node.getChildAt(0),node.expression);case 198:return textSpan(node,ts.findNextToken(node.expression,node));case 197:return spanInNode(node.statement);case 210:return textSpan(node.getChildAt(0));case 196:return textSpan(node,ts.findNextToken(node.expression,node));case 207:return spanInNode(node.statement);case 203:case 202:return textSpan(node.getChildAt(0),node.label);case 199:return spanInForStatement(node);case 200:case 201:return textSpan(node,ts.findNextToken(node.expression,node));case 206:return textSpan(node,ts.findNextToken(node.expression,node));case 241:case 242:return spanInNode(node.statements[0]);case 209:return spanInBlock(node.tryBlock);case 208:return textSpan(node,node.expression);case 227:return textSpan(node,node.expression);case 221:return textSpan(node,node.moduleReference);case 222:return textSpan(node,node.moduleSpecifier);case 228:return textSpan(node,node.moduleSpecifier);case 218:if(ts.getModuleInstanceState(node)!==1){return undefined}case 214:case 217:case 247:case 168:case 169:return textSpan(node);case 205:return spanInNode(node.statement);case 215:case 216:return undefined;case 23:case 1:return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile));case 24:return spanInPreviousNode(node);case 15:return spanInOpenBraceToken(node);case 16:return spanInCloseBraceToken(node);case 17:return spanInOpenParenToken(node);case 18:return spanInCloseParenToken(node);case 54:return spanInColonToken(node);case 27:case 25:return spanInGreaterThanOrLessThanToken(node);case 104:return spanInWhileKeyword(node);case 80:case 72:case 85:return spanInNextNode(node);default:if(node.parent.kind===245&&node.parent.name===node){return spanInNode(node.parent.initializer)}if(node.parent.kind===171&&node.parent.type===node){return spanInNode(node.parent.expression)}if(ts.isFunctionLike(node.parent)&&node.parent.type===node){return spanInPreviousNode(node)}return spanInNode(node.parent)}}function spanInVariableDeclaration(variableDeclaration){if(variableDeclaration.parent.parent.kind===200||variableDeclaration.parent.parent.kind===201){return spanInNode(variableDeclaration.parent.parent)}var isParentVariableStatement=variableDeclaration.parent.parent.kind===193;var isDeclarationOfForStatement=variableDeclaration.parent.parent.kind===199&&ts.contains(variableDeclaration.parent.parent.initializer.declarations,variableDeclaration);var declarations=isParentVariableStatement?variableDeclaration.parent.parent.declarationList.declarations:isDeclarationOfForStatement?variableDeclaration.parent.parent.initializer.declarations:undefined;if(variableDeclaration.initializer||variableDeclaration.flags&1){if(declarations&&declarations[0]===variableDeclaration){if(isParentVariableStatement){return textSpan(variableDeclaration.parent,variableDeclaration)}else{ts.Debug.assert(isDeclarationOfForStatement);return textSpan(ts.findPrecedingToken(variableDeclaration.pos,sourceFile,variableDeclaration.parent),variableDeclaration)}}else{return textSpan(variableDeclaration)}}else if(declarations&&declarations[0]!==variableDeclaration){var indexOfCurrentDeclaration=ts.indexOf(declarations,variableDeclaration);return spanInVariableDeclaration(declarations[indexOfCurrentDeclaration-1])}}function canHaveSpanInParameterDeclaration(parameter){return!!parameter.initializer||parameter.dotDotDotToken!==undefined||!!(parameter.flags&16)||!!(parameter.flags&32)}function spanInParameterDeclaration(parameter){if(canHaveSpanInParameterDeclaration(parameter)){return textSpan(parameter)}else{var functionDeclaration=parameter.parent;var indexOfParameter=ts.indexOf(functionDeclaration.parameters,parameter);if(indexOfParameter){return spanInParameterDeclaration(functionDeclaration.parameters[indexOfParameter-1])}else{return spanInNode(functionDeclaration.body)}}}function canFunctionHaveSpanInWholeDeclaration(functionDeclaration){return!!(functionDeclaration.flags&1)||functionDeclaration.parent.kind===214&&functionDeclaration.kind!==144}function spanInFunctionDeclaration(functionDeclaration){if(!functionDeclaration.body){return undefined}if(canFunctionHaveSpanInWholeDeclaration(functionDeclaration)){return textSpan(functionDeclaration)}return spanInNode(functionDeclaration.body)}function spanInFunctionBlock(block){var nodeForSpanInBlock=block.statements.length?block.statements[0]:block.getLastToken();if(canFunctionHaveSpanInWholeDeclaration(block.parent)){return spanInNodeIfStartsOnSameLine(block.parent,nodeForSpanInBlock)}return spanInNode(nodeForSpanInBlock)}function spanInBlock(block){switch(block.parent.kind){case 218:if(ts.getModuleInstanceState(block.parent)!==1){return undefined}case 198:case 196:case 200:case 201:return spanInNodeIfStartsOnSameLine(block.parent,block.statements[0]);case 199:return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(block.pos,sourceFile,block.parent),block.statements[0])}return spanInNode(block.statements[0])}function spanInForStatement(forStatement){if(forStatement.initializer){if(forStatement.initializer.kind===212){var variableDeclarationList=forStatement.initializer;if(variableDeclarationList.declarations.length>0){return spanInNode(variableDeclarationList.declarations[0])}}else{return spanInNode(forStatement.initializer)}}if(forStatement.condition){return textSpan(forStatement.condition)}if(forStatement.incrementor){return textSpan(forStatement.incrementor)}}function spanInOpenBraceToken(node){switch(node.parent.kind){case 217:var enumDeclaration=node.parent;return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile,node.parent),enumDeclaration.members.length?enumDeclaration.members[0]:enumDeclaration.getLastToken(sourceFile));case 214:var classDeclaration=node.parent;return spanInNodeIfStartsOnSameLine(ts.findPrecedingToken(node.pos,sourceFile,node.parent),classDeclaration.members.length?classDeclaration.members[0]:classDeclaration.getLastToken(sourceFile));case 220:return spanInNodeIfStartsOnSameLine(node.parent.parent,node.parent.clauses[0])}return spanInNode(node.parent)}function spanInCloseBraceToken(node){switch(node.parent.kind){case 219:if(ts.getModuleInstanceState(node.parent.parent)!==1){return undefined}case 217:case 214:return textSpan(node);case 192:if(ts.isFunctionBlock(node.parent)){return textSpan(node)}case 244:return spanInNode(ts.lastOrUndefined(node.parent.statements));case 220:var caseBlock=node.parent;var lastClause=ts.lastOrUndefined(caseBlock.clauses);if(lastClause){return spanInNode(ts.lastOrUndefined(lastClause.statements))}return undefined;default:return spanInNode(node.parent)}}function spanInOpenParenToken(node){if(node.parent.kind===197){return spanInPreviousNode(node)}return spanInNode(node.parent)}function spanInCloseParenToken(node){switch(node.parent.kind){case 173:case 213:case 174:case 143:case 142:case 145:case 146:case 144:case 198:case 197:case 199:return spanInPreviousNode(node);default:return spanInNode(node.parent)}return spanInNode(node.parent)}function spanInColonToken(node){if(ts.isFunctionLike(node.parent)||node.parent.kind===245){return spanInPreviousNode(node)}return spanInNode(node.parent)}function spanInGreaterThanOrLessThanToken(node){if(node.parent.kind===171){return spanInNode(node.parent.expression)}return spanInNode(node.parent)}function spanInWhileKeyword(node){if(node.parent.kind===197){return textSpan(node,ts.findNextToken(node.parent.expression,node.parent))}return spanInNode(node.parent)}}}BreakpointResolver.spanInSourceFileAtLocation=spanInSourceFileAtLocation})(BreakpointResolver=ts.BreakpointResolver||(ts.BreakpointResolver={}))})(ts||(ts={}));var debugObjectHost=this;var ts;(function(ts){function logInternalError(logger,err){if(logger){logger.log("*INTERNAL ERROR* - Exception in typescript services: "+err.message)}}var ScriptSnapshotShimAdapter=function(){
function ScriptSnapshotShimAdapter(scriptSnapshotShim){this.scriptSnapshotShim=scriptSnapshotShim;this.lineStartPositions=null}ScriptSnapshotShimAdapter.prototype.getText=function(start,end){return this.scriptSnapshotShim.getText(start,end)};ScriptSnapshotShimAdapter.prototype.getLength=function(){return this.scriptSnapshotShim.getLength()};ScriptSnapshotShimAdapter.prototype.getChangeRange=function(oldSnapshot){var oldSnapshotShim=oldSnapshot;var encoded=this.scriptSnapshotShim.getChangeRange(oldSnapshotShim.scriptSnapshotShim);if(encoded==null){return null}var decoded=JSON.parse(encoded);return ts.createTextChangeRange(ts.createTextSpan(decoded.span.start,decoded.span.length),decoded.newLength)};ScriptSnapshotShimAdapter.prototype.dispose=function(){if("dispose"in this.scriptSnapshotShim){this.scriptSnapshotShim.dispose()}};return ScriptSnapshotShimAdapter}();var LanguageServiceShimHostAdapter=function(){function LanguageServiceShimHostAdapter(shimHost){var _this=this;this.shimHost=shimHost;this.loggingEnabled=false;this.tracingEnabled=false;if("getModuleResolutionsForFile"in this.shimHost){this.resolveModuleNames=function(moduleNames,containingFile){var resolutionsInFile=JSON.parse(_this.shimHost.getModuleResolutionsForFile(containingFile));return ts.map(moduleNames,function(name){var result=ts.lookUp(resolutionsInFile,name);return result?{resolvedFileName:result}:undefined})}}}LanguageServiceShimHostAdapter.prototype.log=function(s){if(this.loggingEnabled){this.shimHost.log(s)}};LanguageServiceShimHostAdapter.prototype.trace=function(s){if(this.tracingEnabled){this.shimHost.trace(s)}};LanguageServiceShimHostAdapter.prototype.error=function(s){this.shimHost.error(s)};LanguageServiceShimHostAdapter.prototype.getProjectVersion=function(){if(!this.shimHost.getProjectVersion){return undefined}return this.shimHost.getProjectVersion()};LanguageServiceShimHostAdapter.prototype.useCaseSensitiveFileNames=function(){return this.shimHost.useCaseSensitiveFileNames?this.shimHost.useCaseSensitiveFileNames():false};LanguageServiceShimHostAdapter.prototype.getCompilationSettings=function(){var settingsJson=this.shimHost.getCompilationSettings();if(settingsJson==null||settingsJson==""){throw Error("LanguageServiceShimHostAdapter.getCompilationSettings: empty compilationSettings");return null}return JSON.parse(settingsJson)};LanguageServiceShimHostAdapter.prototype.getScriptFileNames=function(){var encoded=this.shimHost.getScriptFileNames();return this.files=JSON.parse(encoded)};LanguageServiceShimHostAdapter.prototype.getScriptSnapshot=function(fileName){if(this.files&&this.files.indexOf(fileName)<0){return undefined}var scriptSnapshot=this.shimHost.getScriptSnapshot(fileName);return scriptSnapshot&&new ScriptSnapshotShimAdapter(scriptSnapshot)};LanguageServiceShimHostAdapter.prototype.getScriptVersion=function(fileName){return this.shimHost.getScriptVersion(fileName)};LanguageServiceShimHostAdapter.prototype.getLocalizedDiagnosticMessages=function(){var diagnosticMessagesJson=this.shimHost.getLocalizedDiagnosticMessages();if(diagnosticMessagesJson==null||diagnosticMessagesJson==""){return null}try{return JSON.parse(diagnosticMessagesJson)}catch(e){this.log(e.description||"diagnosticMessages.generated.json has invalid JSON format");return null}};LanguageServiceShimHostAdapter.prototype.getCancellationToken=function(){var hostCancellationToken=this.shimHost.getCancellationToken();return new ThrottledCancellationToken(hostCancellationToken)};LanguageServiceShimHostAdapter.prototype.getCurrentDirectory=function(){return this.shimHost.getCurrentDirectory()};LanguageServiceShimHostAdapter.prototype.getDefaultLibFileName=function(options){try{return this.shimHost.getDefaultLibFileName(JSON.stringify(options))}catch(e){return""}};return LanguageServiceShimHostAdapter}();ts.LanguageServiceShimHostAdapter=LanguageServiceShimHostAdapter;var ThrottledCancellationToken=function(){function ThrottledCancellationToken(hostCancellationToken){this.hostCancellationToken=hostCancellationToken;this.lastCancellationCheckTime=0}ThrottledCancellationToken.prototype.isCancellationRequested=function(){var time=Date.now();var duration=Math.abs(time-this.lastCancellationCheckTime);if(duration>10){this.lastCancellationCheckTime=time;return this.hostCancellationToken.isCancellationRequested()}return false};return ThrottledCancellationToken}();var CoreServicesShimHostAdapter=function(){function CoreServicesShimHostAdapter(shimHost){this.shimHost=shimHost}CoreServicesShimHostAdapter.prototype.readDirectory=function(rootDir,extension,exclude){var encoded;try{encoded=this.shimHost.readDirectory(rootDir,extension,JSON.stringify(exclude))}catch(e){encoded=this.shimHost.readDirectory(rootDir,extension)}return JSON.parse(encoded)};CoreServicesShimHostAdapter.prototype.fileExists=function(fileName){return this.shimHost.fileExists(fileName)};CoreServicesShimHostAdapter.prototype.readFile=function(fileName){return this.shimHost.readFile(fileName)};return CoreServicesShimHostAdapter}();ts.CoreServicesShimHostAdapter=CoreServicesShimHostAdapter;function simpleForwardCall(logger,actionDescription,action,logPerformance){if(logPerformance){logger.log(actionDescription);var start=Date.now()}var result=action();if(logPerformance){var end=Date.now();logger.log(actionDescription+" completed in "+(end-start)+" msec");if(typeof result==="string"){var str=result;if(str.length>128){str=str.substring(0,128)+"..."}logger.log("  result.length="+str.length+", result='"+JSON.stringify(str)+"'")}}return result}function forwardJSONCall(logger,actionDescription,action,logPerformance){try{var result=simpleForwardCall(logger,actionDescription,action,logPerformance);return JSON.stringify({result:result})}catch(err){if(err instanceof ts.OperationCanceledException){return JSON.stringify({canceled:true})}logInternalError(logger,err);err.description=actionDescription;return JSON.stringify({error:err})}}var ShimBase=function(){function ShimBase(factory){this.factory=factory;factory.registerShim(this)}ShimBase.prototype.dispose=function(dummy){this.factory.unregisterShim(this)};return ShimBase}();function realizeDiagnostics(diagnostics,newLine){return diagnostics.map(function(d){return realizeDiagnostic(d,newLine)})}ts.realizeDiagnostics=realizeDiagnostics;function realizeDiagnostic(diagnostic,newLine){return{message:ts.flattenDiagnosticMessageText(diagnostic.messageText,newLine),start:diagnostic.start,length:diagnostic.length,category:ts.DiagnosticCategory[diagnostic.category].toLowerCase(),code:diagnostic.code}}var LanguageServiceShimObject=function(_super){__extends(LanguageServiceShimObject,_super);function LanguageServiceShimObject(factory,host,languageService){_super.call(this,factory);this.host=host;this.languageService=languageService;this.logPerformance=false;this.logger=this.host}LanguageServiceShimObject.prototype.forwardJSONCall=function(actionDescription,action){return forwardJSONCall(this.logger,actionDescription,action,this.logPerformance)};LanguageServiceShimObject.prototype.dispose=function(dummy){this.logger.log("dispose()");this.languageService.dispose();this.languageService=null;if(debugObjectHost&&debugObjectHost.CollectGarbage){debugObjectHost.CollectGarbage();this.logger.log("CollectGarbage()")}this.logger=null;_super.prototype.dispose.call(this,dummy)};LanguageServiceShimObject.prototype.refresh=function(throwOnError){this.forwardJSONCall("refresh("+throwOnError+")",function(){return null})};LanguageServiceShimObject.prototype.cleanupSemanticCache=function(){var _this=this;this.forwardJSONCall("cleanupSemanticCache()",function(){_this.languageService.cleanupSemanticCache();return null})};LanguageServiceShimObject.prototype.realizeDiagnostics=function(diagnostics){var newLine=ts.getNewLineOrDefaultFromHost(this.host);return ts.realizeDiagnostics(diagnostics,newLine)};LanguageServiceShimObject.prototype.getSyntacticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getSyntacticClassifications('"+fileName+"', "+start+", "+length+")",function(){var classifications=_this.languageService.getSyntacticClassifications(fileName,ts.createTextSpan(start,length));return classifications})};LanguageServiceShimObject.prototype.getSemanticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getSemanticClassifications('"+fileName+"', "+start+", "+length+")",function(){var classifications=_this.languageService.getSemanticClassifications(fileName,ts.createTextSpan(start,length));return classifications})};LanguageServiceShimObject.prototype.getEncodedSyntacticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getEncodedSyntacticClassifications('"+fileName+"', "+start+", "+length+")",function(){return convertClassifications(_this.languageService.getEncodedSyntacticClassifications(fileName,ts.createTextSpan(start,length)))})};LanguageServiceShimObject.prototype.getEncodedSemanticClassifications=function(fileName,start,length){var _this=this;return this.forwardJSONCall("getEncodedSemanticClassifications('"+fileName+"', "+start+", "+length+")",function(){return convertClassifications(_this.languageService.getEncodedSemanticClassifications(fileName,ts.createTextSpan(start,length)))})};LanguageServiceShimObject.prototype.getSyntacticDiagnostics=function(fileName){var _this=this;return this.forwardJSONCall("getSyntacticDiagnostics('"+fileName+"')",function(){var diagnostics=_this.languageService.getSyntacticDiagnostics(fileName);return _this.realizeDiagnostics(diagnostics)})};LanguageServiceShimObject.prototype.getSemanticDiagnostics=function(fileName){var _this=this;return this.forwardJSONCall("getSemanticDiagnostics('"+fileName+"')",function(){var diagnostics=_this.languageService.getSemanticDiagnostics(fileName);return _this.realizeDiagnostics(diagnostics)})};LanguageServiceShimObject.prototype.getCompilerOptionsDiagnostics=function(){var _this=this;return this.forwardJSONCall("getCompilerOptionsDiagnostics()",function(){var diagnostics=_this.languageService.getCompilerOptionsDiagnostics();return _this.realizeDiagnostics(diagnostics)})};LanguageServiceShimObject.prototype.getQuickInfoAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getQuickInfoAtPosition('"+fileName+"', "+position+")",function(){var quickInfo=_this.languageService.getQuickInfoAtPosition(fileName,position);return quickInfo})};LanguageServiceShimObject.prototype.getNameOrDottedNameSpan=function(fileName,startPos,endPos){var _this=this;return this.forwardJSONCall("getNameOrDottedNameSpan('"+fileName+"', "+startPos+", "+endPos+")",function(){var spanInfo=_this.languageService.getNameOrDottedNameSpan(fileName,startPos,endPos);return spanInfo})};LanguageServiceShimObject.prototype.getBreakpointStatementAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getBreakpointStatementAtPosition('"+fileName+"', "+position+")",function(){var spanInfo=_this.languageService.getBreakpointStatementAtPosition(fileName,position);return spanInfo})};LanguageServiceShimObject.prototype.getSignatureHelpItems=function(fileName,position){var _this=this;return this.forwardJSONCall("getSignatureHelpItems('"+fileName+"', "+position+")",function(){var signatureInfo=_this.languageService.getSignatureHelpItems(fileName,position);return signatureInfo})};LanguageServiceShimObject.prototype.getDefinitionAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getDefinitionAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getDefinitionAtPosition(fileName,position)})};LanguageServiceShimObject.prototype.getTypeDefinitionAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getTypeDefinitionAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getTypeDefinitionAtPosition(fileName,position)})};LanguageServiceShimObject.prototype.getRenameInfo=function(fileName,position){var _this=this;return this.forwardJSONCall("getRenameInfo('"+fileName+"', "+position+")",function(){return _this.languageService.getRenameInfo(fileName,position)})};LanguageServiceShimObject.prototype.findRenameLocations=function(fileName,position,findInStrings,findInComments){var _this=this;return this.forwardJSONCall("findRenameLocations('"+fileName+"', "+position+", "+findInStrings+", "+findInComments+")",function(){return _this.languageService.findRenameLocations(fileName,position,findInStrings,findInComments)})};LanguageServiceShimObject.prototype.getBraceMatchingAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getBraceMatchingAtPosition('"+fileName+"', "+position+")",function(){var textRanges=_this.languageService.getBraceMatchingAtPosition(fileName,position);return textRanges})};LanguageServiceShimObject.prototype.getIndentationAtPosition=function(fileName,position,options){var _this=this;return this.forwardJSONCall("getIndentationAtPosition('"+fileName+"', "+position+")",function(){var localOptions=JSON.parse(options);return _this.languageService.getIndentationAtPosition(fileName,position,localOptions)})};LanguageServiceShimObject.prototype.getReferencesAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getReferencesAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getReferencesAtPosition(fileName,position)})};LanguageServiceShimObject.prototype.findReferences=function(fileName,position){var _this=this;return this.forwardJSONCall("findReferences('"+fileName+"', "+position+")",function(){return _this.languageService.findReferences(fileName,position)})};LanguageServiceShimObject.prototype.getOccurrencesAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getOccurrencesAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getOccurrencesAtPosition(fileName,position)})};LanguageServiceShimObject.prototype.getDocumentHighlights=function(fileName,position,filesToSearch){var _this=this;return this.forwardJSONCall("getDocumentHighlights('"+fileName+"', "+position+")",function(){var results=_this.languageService.getDocumentHighlights(fileName,position,JSON.parse(filesToSearch));var normalizedName=ts.normalizeSlashes(fileName).toLowerCase();return ts.filter(results,function(r){return ts.normalizeSlashes(r.fileName).toLowerCase()===normalizedName})})};LanguageServiceShimObject.prototype.getCompletionsAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getCompletionsAtPosition('"+fileName+"', "+position+")",function(){var completion=_this.languageService.getCompletionsAtPosition(fileName,position);return completion})};LanguageServiceShimObject.prototype.getCompletionEntryDetails=function(fileName,position,entryName){var _this=this;return this.forwardJSONCall("getCompletionEntryDetails('"+fileName+"', "+position+", "+entryName+")",function(){var details=_this.languageService.getCompletionEntryDetails(fileName,position,entryName);return details})};LanguageServiceShimObject.prototype.getFormattingEditsForRange=function(fileName,start,end,options){var _this=this;return this.forwardJSONCall("getFormattingEditsForRange('"+fileName+"', "+start+", "+end+")",function(){var localOptions=JSON.parse(options);var edits=_this.languageService.getFormattingEditsForRange(fileName,start,end,localOptions);return edits})};LanguageServiceShimObject.prototype.getFormattingEditsForDocument=function(fileName,options){var _this=this;return this.forwardJSONCall("getFormattingEditsForDocument('"+fileName+"')",function(){var localOptions=JSON.parse(options);var edits=_this.languageService.getFormattingEditsForDocument(fileName,localOptions);return edits})};LanguageServiceShimObject.prototype.getFormattingEditsAfterKeystroke=function(fileName,position,key,options){var _this=this;return this.forwardJSONCall("getFormattingEditsAfterKeystroke('"+fileName+"', "+position+", '"+key+"')",function(){var localOptions=JSON.parse(options);var edits=_this.languageService.getFormattingEditsAfterKeystroke(fileName,position,key,localOptions);return edits})};LanguageServiceShimObject.prototype.getDocCommentTemplateAtPosition=function(fileName,position){var _this=this;return this.forwardJSONCall("getDocCommentTemplateAtPosition('"+fileName+"', "+position+")",function(){return _this.languageService.getDocCommentTemplateAtPosition(fileName,position)})};LanguageServiceShimObject.prototype.getNavigateToItems=function(searchValue,maxResultCount){var _this=this;return this.forwardJSONCall("getNavigateToItems('"+searchValue+"', "+maxResultCount+")",function(){var items=_this.languageService.getNavigateToItems(searchValue,maxResultCount);return items})};LanguageServiceShimObject.prototype.getNavigationBarItems=function(fileName){var _this=this;return this.forwardJSONCall("getNavigationBarItems('"+fileName+"')",function(){var items=_this.languageService.getNavigationBarItems(fileName);return items})};LanguageServiceShimObject.prototype.getOutliningSpans=function(fileName){var _this=this;return this.forwardJSONCall("getOutliningSpans('"+fileName+"')",function(){var items=_this.languageService.getOutliningSpans(fileName);return items})};LanguageServiceShimObject.prototype.getTodoComments=function(fileName,descriptors){var _this=this;return this.forwardJSONCall("getTodoComments('"+fileName+"')",function(){var items=_this.languageService.getTodoComments(fileName,JSON.parse(descriptors));return items})};LanguageServiceShimObject.prototype.getEmitOutput=function(fileName){var _this=this;return this.forwardJSONCall("getEmitOutput('"+fileName+"')",function(){var output=_this.languageService.getEmitOutput(fileName);output.emitOutputStatus=output.emitSkipped?1:0;return output})};return LanguageServiceShimObject}(ShimBase);function convertClassifications(classifications){return{spans:classifications.spans.join(","),endOfLineState:classifications.endOfLineState}}var ClassifierShimObject=function(_super){__extends(ClassifierShimObject,_super);function ClassifierShimObject(factory,logger){_super.call(this,factory);this.logger=logger;this.logPerformance=false;this.classifier=ts.createClassifier()}ClassifierShimObject.prototype.getEncodedLexicalClassifications=function(text,lexState,syntacticClassifierAbsent){var _this=this;return forwardJSONCall(this.logger,"getEncodedLexicalClassifications",function(){return convertClassifications(_this.classifier.getEncodedLexicalClassifications(text,lexState,syntacticClassifierAbsent))},this.logPerformance)};ClassifierShimObject.prototype.getClassificationsForLine=function(text,lexState,classifyKeywordsInGenerics){var classification=this.classifier.getClassificationsForLine(text,lexState,classifyKeywordsInGenerics);var items=classification.entries;var result="";for(var i=0;i<items.length;i++){result+=items[i].length+"\n";result+=items[i].classification+"\n"}result+=classification.finalLexState;return result};return ClassifierShimObject}(ShimBase);var CoreServicesShimObject=function(_super){__extends(CoreServicesShimObject,_super);function CoreServicesShimObject(factory,logger,host){_super.call(this,factory);this.logger=logger;this.host=host;this.logPerformance=false}CoreServicesShimObject.prototype.forwardJSONCall=function(actionDescription,action){return forwardJSONCall(this.logger,actionDescription,action,this.logPerformance)};CoreServicesShimObject.prototype.resolveModuleName=function(fileName,moduleName,compilerOptionsJson){var _this=this;return this.forwardJSONCall("resolveModuleName('"+fileName+"')",function(){var compilerOptions=JSON.parse(compilerOptionsJson);var result=ts.resolveModuleName(moduleName,ts.normalizeSlashes(fileName),compilerOptions,_this.host);return{resolvedFileName:result.resolvedModule?result.resolvedModule.resolvedFileName:undefined,failedLookupLocations:result.failedLookupLocations}})};CoreServicesShimObject.prototype.getPreProcessedFileInfo=function(fileName,sourceTextSnapshot){return this.forwardJSONCall("getPreProcessedFileInfo('"+fileName+"')",function(){var result=ts.preProcessFile(sourceTextSnapshot.getText(0,sourceTextSnapshot.getLength()));var convertResult={referencedFiles:[],importedFiles:[],ambientExternalModules:result.ambientExternalModules,isLibFile:result.isLibFile};ts.forEach(result.referencedFiles,function(refFile){convertResult.referencedFiles.push({path:ts.normalizePath(refFile.fileName),position:refFile.pos,length:refFile.end-refFile.pos})});ts.forEach(result.importedFiles,function(importedFile){convertResult.importedFiles.push({path:ts.normalizeSlashes(importedFile.fileName),position:importedFile.pos,length:importedFile.end-importedFile.pos})});return convertResult})};CoreServicesShimObject.prototype.getTSConfigFileInfo=function(fileName,sourceTextSnapshot){var _this=this;return this.forwardJSONCall("getTSConfigFileInfo('"+fileName+"')",function(){var text=sourceTextSnapshot.getText(0,sourceTextSnapshot.getLength());var result=ts.parseConfigFileTextToJson(fileName,text);if(result.error){return{options:{},files:[],errors:[realizeDiagnostic(result.error,"\r\n")]}}var configFile=ts.parseJsonConfigFileContent(result.config,_this.host,ts.getDirectoryPath(ts.normalizeSlashes(fileName)));return{options:configFile.options,files:configFile.fileNames,errors:realizeDiagnostics(configFile.errors,"\r\n")}})};CoreServicesShimObject.prototype.getDefaultCompilationSettings=function(){return this.forwardJSONCall("getDefaultCompilationSettings()",function(){return ts.getDefaultCompilerOptions()})};return CoreServicesShimObject}(ShimBase);var TypeScriptServicesFactory=function(){function TypeScriptServicesFactory(){this._shims=[]}TypeScriptServicesFactory.prototype.getServicesVersion=function(){return ts.servicesVersion};TypeScriptServicesFactory.prototype.createLanguageServiceShim=function(host){try{if(this.documentRegistry===undefined){this.documentRegistry=ts.createDocumentRegistry(host.useCaseSensitiveFileNames&&host.useCaseSensitiveFileNames())}var hostAdapter=new LanguageServiceShimHostAdapter(host);var languageService=ts.createLanguageService(hostAdapter,this.documentRegistry);return new LanguageServiceShimObject(this,host,languageService)}catch(err){logInternalError(host,err);throw err}};TypeScriptServicesFactory.prototype.createClassifierShim=function(logger){try{return new ClassifierShimObject(this,logger)}catch(err){logInternalError(logger,err);throw err}};TypeScriptServicesFactory.prototype.createCoreServicesShim=function(host){try{var adapter=new CoreServicesShimHostAdapter(host);return new CoreServicesShimObject(this,host,adapter)}catch(err){logInternalError(host,err);throw err}};TypeScriptServicesFactory.prototype.close=function(){this._shims=[];this.documentRegistry=ts.createDocumentRegistry()};TypeScriptServicesFactory.prototype.registerShim=function(shim){this._shims.push(shim)};TypeScriptServicesFactory.prototype.unregisterShim=function(shim){for(var i=0,n=this._shims.length;i<n;i++){if(this._shims[i]===shim){delete this._shims[i];return}}throw new Error("Invalid operation")};return TypeScriptServicesFactory}();ts.TypeScriptServicesFactory=TypeScriptServicesFactory;if(typeof module!=="undefined"&&module.exports){module.exports=ts}})(ts||(ts={}));var TypeScript;(function(TypeScript){var Services;(function(Services){Services.TypeScriptServicesFactory=ts.TypeScriptServicesFactory})(Services=TypeScript.Services||(TypeScript.Services={}))})(TypeScript||(TypeScript={}));var toolsVersion="1.7";"format register";System.register("angular2/src/facade/lang",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var globalScope;if(typeof window==="undefined"){if(typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope){globalScope=self}else{globalScope=global}}else{globalScope=window}exports.IS_DART=false;var _global=globalScope;exports.global=_global;exports.Type=Function;function getTypeNameForDebugging(type){return type["name"]}exports.getTypeNameForDebugging=getTypeNameForDebugging;exports.Math=_global.Math;exports.Date=_global.Date;var _devMode=true;var _modeLocked=false;function lockMode(){_modeLocked=true}exports.lockMode=lockMode;function enableProdMode(){if(_modeLocked){throw"Cannot enable prod mode after platform setup."}_devMode=false}exports.enableProdMode=enableProdMode;function assertionsEnabled(){return _devMode}exports.assertionsEnabled=assertionsEnabled;_global.assert=function assert(condition){};function CONST_EXPR(expr){return expr}exports.CONST_EXPR=CONST_EXPR;function CONST(){return function(target){return target}}exports.CONST=CONST;function isPresent(obj){return obj!==undefined&&obj!==null}exports.isPresent=isPresent;function isBlank(obj){return obj===undefined||obj===null}exports.isBlank=isBlank;function isString(obj){return typeof obj==="string"}exports.isString=isString;function isFunction(obj){return typeof obj==="function"}exports.isFunction=isFunction;function isType(obj){return isFunction(obj)}exports.isType=isType;function isStringMap(obj){return typeof obj==="object"&&obj!==null}exports.isStringMap=isStringMap;function isPromise(obj){return obj instanceof _global.Promise}exports.isPromise=isPromise;function isArray(obj){return Array.isArray(obj)}exports.isArray=isArray;function isNumber(obj){return typeof obj==="number"}exports.isNumber=isNumber;function isDate(obj){return obj instanceof exports.Date&&!isNaN(obj.valueOf())}exports.isDate=isDate;function noop(){}exports.noop=noop;function stringify(token){if(typeof token==="string"){return token}if(token===undefined||token===null){return""+token}if(token.name){return token.name}if(token.overriddenName){return token.overriddenName}var res=token.toString();var newLineIndex=res.indexOf("\n");return newLineIndex===-1?res:res.substring(0,newLineIndex)}exports.stringify=stringify;function serializeEnum(val){return val}exports.serializeEnum=serializeEnum;function deserializeEnum(val,values){return val}exports.deserializeEnum=deserializeEnum;var StringWrapper=function(){function StringWrapper(){}StringWrapper.fromCharCode=function(code){return String.fromCharCode(code)};StringWrapper.charCodeAt=function(s,index){return s.charCodeAt(index)};StringWrapper.split=function(s,regExp){return s.split(regExp)};StringWrapper.equals=function(s,s2){return s===s2};StringWrapper.stripLeft=function(s,charVal){if(s&&s.length){var pos=0;for(var i=0;i<s.length;i++){if(s[i]!=charVal)break;pos++}s=s.substring(pos)}return s};StringWrapper.stripRight=function(s,charVal){if(s&&s.length){var pos=s.length;for(var i=s.length-1;i>=0;i--){if(s[i]!=charVal)break;pos--}s=s.substring(0,pos)}return s};StringWrapper.replace=function(s,from,replace){return s.replace(from,replace)};StringWrapper.replaceAll=function(s,from,replace){return s.replace(from,replace)};StringWrapper.slice=function(s,from,to){if(from===void 0){from=0}if(to===void 0){to=null}return s.slice(from,to===null?undefined:to)};StringWrapper.replaceAllMapped=function(s,from,cb){return s.replace(from,function(){var matches=[];for(var _i=0;_i<arguments.length;_i++){matches[_i-0]=arguments[_i]}matches.splice(-2,2);return cb(matches)})};StringWrapper.contains=function(s,substr){return s.indexOf(substr)!=-1};StringWrapper.compare=function(a,b){if(a<b){return-1}else if(a>b){return 1}else{return 0}};return StringWrapper}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function StringJoiner(parts){if(parts===void 0){parts=[]}this.parts=parts}StringJoiner.prototype.add=function(part){this.parts.push(part)};StringJoiner.prototype.toString=function(){return this.parts.join("")};return StringJoiner}();exports.StringJoiner=StringJoiner;var NumberParseError=function(_super){__extends(NumberParseError,_super);function NumberParseError(message){_super.call(this);this.message=message}NumberParseError.prototype.toString=function(){return this.message};return NumberParseError}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function NumberWrapper(){}NumberWrapper.toFixed=function(n,fractionDigits){return n.toFixed(fractionDigits)};NumberWrapper.equal=function(a,b){return a===b};NumberWrapper.parseIntAutoRadix=function(text){var result=parseInt(text);if(isNaN(result)){throw new NumberParseError("Invalid integer literal when parsing "+text)}return result};NumberWrapper.parseInt=function(text,radix){if(radix==10){if(/^(\-|\+)?[0-9]+$/.test(text)){return parseInt(text,radix)}}else if(radix==16){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(text)){return parseInt(text,radix)}}else{var result=parseInt(text,radix);if(!isNaN(result)){return result}}throw new NumberParseError("Invalid integer literal when parsing "+text+" in base "+radix)};NumberWrapper.parseFloat=function(text){return parseFloat(text)};Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:true,configurable:true});NumberWrapper.isNaN=function(value){return isNaN(value)};NumberWrapper.isInteger=function(value){return Number.isInteger(value)};return NumberWrapper}();exports.NumberWrapper=NumberWrapper;exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function RegExpWrapper(){}RegExpWrapper.create=function(regExpStr,flags){if(flags===void 0){flags=""}flags=flags.replace(/g/g,"");return new _global.RegExp(regExpStr,flags+"g")};RegExpWrapper.firstMatch=function(regExp,input){regExp.lastIndex=0;return regExp.exec(input)};RegExpWrapper.test=function(regExp,input){regExp.lastIndex=0;return regExp.test(input)};RegExpWrapper.matcher=function(regExp,input){regExp.lastIndex=0;return{re:regExp,input:input}};return RegExpWrapper}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function RegExpMatcherWrapper(){}RegExpMatcherWrapper.next=function(matcher){return matcher.re.exec(matcher.input)};return RegExpMatcherWrapper}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function FunctionWrapper(){}FunctionWrapper.apply=function(fn,posArgs){return fn.apply(null,posArgs)};return FunctionWrapper}();exports.FunctionWrapper=FunctionWrapper;function looseIdentical(a,b){return a===b||typeof a==="number"&&typeof b==="number"&&isNaN(a)&&isNaN(b)}exports.looseIdentical=looseIdentical;function getMapKey(value){return value}exports.getMapKey=getMapKey;function normalizeBlank(obj){return isBlank(obj)?null:obj}exports.normalizeBlank=normalizeBlank;function normalizeBool(obj){return isBlank(obj)?false:obj}exports.normalizeBool=normalizeBool;function isJsObject(o){return o!==null&&(typeof o==="function"||typeof o==="object")}exports.isJsObject=isJsObject;function print(obj){console.log(obj)}exports.print=print;var Json=function(){function Json(){}Json.parse=function(s){return _global.JSON.parse(s)};Json.stringify=function(data){return _global.JSON.stringify(data,null,2)};return Json}();exports.Json=Json;var DateWrapper=function(){function DateWrapper(){}DateWrapper.create=function(year,month,day,hour,minutes,seconds,milliseconds){if(month===void 0){month=1}if(day===void 0){day=1}if(hour===void 0){hour=0}if(minutes===void 0){minutes=0}if(seconds===void 0){seconds=0}if(milliseconds===void 0){milliseconds=0}return new exports.Date(year,month-1,day,hour,minutes,seconds,milliseconds)};DateWrapper.fromISOString=function(str){return new exports.Date(str)};DateWrapper.fromMillis=function(ms){return new exports.Date(ms)};DateWrapper.toMillis=function(date){return date.getTime()};DateWrapper.now=function(){return new exports.Date};DateWrapper.toJson=function(date){return date.toJSON()};return DateWrapper}();exports.DateWrapper=DateWrapper;function setValueOnPath(global,path,value){var parts=path.split(".");var obj=global;while(parts.length>1){var name=parts.shift();if(obj.hasOwnProperty(name)&&isPresent(obj[name])){
obj=obj[name]}else{obj=obj[name]={}}}if(obj===undefined||obj===null){obj={}}obj[parts.shift()]=value}exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;function getSymbolIterator(){if(isBlank(_symbolIterator)){if(isPresent(Symbol)&&isPresent(Symbol.iterator)){_symbolIterator=Symbol.iterator}else{var keys=Object.getOwnPropertyNames(Map.prototype);for(var i=0;i<keys.length;++i){var key=keys[i];if(key!=="entries"&&key!=="size"&&Map.prototype[key]===Map.prototype["entries"]){_symbolIterator=key}}}}return _symbolIterator}exports.getSymbolIterator=getSymbolIterator;function evalExpression(sourceUrl,expr,declarations,vars){var fnBody=declarations+"\nreturn "+expr+"\n//# sourceURL="+sourceUrl;var fnArgNames=[];var fnArgValues=[];for(var argName in vars){fnArgNames.push(argName);fnArgValues.push(vars[argName])}return(new(Function.bind.apply(Function,[void 0].concat(fnArgNames.concat(fnBody))))).apply(void 0,fnArgValues)}exports.evalExpression=evalExpression;function isPrimitive(obj){return!isJsObject(obj)}exports.isPrimitive=isPrimitive;global.define=__define;return module.exports});System.register("angular2/src/core/di/metadata",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var InjectMetadata=function(){function InjectMetadata(token){this.token=token}InjectMetadata.prototype.toString=function(){return"@Inject("+lang_1.stringify(this.token)+")"};InjectMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],InjectMetadata);return InjectMetadata}();exports.InjectMetadata=InjectMetadata;var OptionalMetadata=function(){function OptionalMetadata(){}OptionalMetadata.prototype.toString=function(){return"@Optional()"};OptionalMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],OptionalMetadata);return OptionalMetadata}();exports.OptionalMetadata=OptionalMetadata;var DependencyMetadata=function(){function DependencyMetadata(){}Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null},enumerable:true,configurable:true});DependencyMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DependencyMetadata);return DependencyMetadata}();exports.DependencyMetadata=DependencyMetadata;var InjectableMetadata=function(){function InjectableMetadata(){}InjectableMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],InjectableMetadata);return InjectableMetadata}();exports.InjectableMetadata=InjectableMetadata;var SelfMetadata=function(){function SelfMetadata(){}SelfMetadata.prototype.toString=function(){return"@Self()"};SelfMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],SelfMetadata);return SelfMetadata}();exports.SelfMetadata=SelfMetadata;var SkipSelfMetadata=function(){function SkipSelfMetadata(){}SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()"};SkipSelfMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],SkipSelfMetadata);return SkipSelfMetadata}();exports.SkipSelfMetadata=SkipSelfMetadata;var HostMetadata=function(){function HostMetadata(){}HostMetadata.prototype.toString=function(){return"@Host()"};HostMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],HostMetadata);return HostMetadata}();exports.HostMetadata=HostMetadata;global.define=__define;return module.exports});System.register("angular2/src/core/util/decorators",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var _nextClassId=0;function extractAnnotation(annotation){if(lang_1.isFunction(annotation)&&annotation.hasOwnProperty("annotation")){annotation=annotation.annotation}return annotation}function applyParams(fnOrArray,key){if(fnOrArray===Object||fnOrArray===String||fnOrArray===Function||fnOrArray===Number||fnOrArray===Array){throw new Error("Can not use native "+lang_1.stringify(fnOrArray)+" as constructor")}if(lang_1.isFunction(fnOrArray)){return fnOrArray}else if(fnOrArray instanceof Array){var annotations=fnOrArray;var fn=fnOrArray[fnOrArray.length-1];if(!lang_1.isFunction(fn)){throw new Error("Last position of Class method array must be Function in key "+key+" was '"+lang_1.stringify(fn)+"'")}var annoLength=annotations.length-1;if(annoLength!=fn.length){throw new Error("Number of annotations ("+annoLength+") does not match number of arguments ("+fn.length+") in the function: "+lang_1.stringify(fn))}var paramsAnnotations=[];for(var i=0,ii=annotations.length-1;i<ii;i++){var paramAnnotations=[];paramsAnnotations.push(paramAnnotations);var annotation=annotations[i];if(annotation instanceof Array){for(var j=0;j<annotation.length;j++){paramAnnotations.push(extractAnnotation(annotation[j]))}}else if(lang_1.isFunction(annotation)){paramAnnotations.push(extractAnnotation(annotation))}else{paramAnnotations.push(annotation)}}Reflect.defineMetadata("parameters",paramsAnnotations,fn);return fn}else{throw new Error("Only Function or Array is supported in Class definition for key '"+key+"' is '"+lang_1.stringify(fnOrArray)+"'")}}function Class(clsDef){var constructor=applyParams(clsDef.hasOwnProperty("constructor")?clsDef.constructor:undefined,"constructor");var proto=constructor.prototype;if(clsDef.hasOwnProperty("extends")){if(lang_1.isFunction(clsDef.extends)){constructor.prototype=proto=Object.create(clsDef.extends.prototype)}else{throw new Error("Class definition 'extends' property must be a constructor function was: "+lang_1.stringify(clsDef.extends))}}for(var key in clsDef){if(key!="extends"&&key!="prototype"&&clsDef.hasOwnProperty(key)){proto[key]=applyParams(clsDef[key],key)}}if(this&&this.annotations instanceof Array){Reflect.defineMetadata("annotations",this.annotations,constructor)}if(!constructor["name"]){constructor["overriddenName"]="class"+_nextClassId++}return constructor}exports.Class=Class;var Reflect=lang_1.global.Reflect;if(!(Reflect&&Reflect.getMetadata)){throw"reflect-metadata shim is required when using class decorators"}function makeDecorator(annotationCls,chainFn){if(chainFn===void 0){chainFn=null}function DecoratorFactory(objOrType){var annotationInstance=new annotationCls(objOrType);if(this instanceof annotationCls){return annotationInstance}else{var chainAnnotation=lang_1.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];chainAnnotation.push(annotationInstance);var TypeDecorator=function TypeDecorator(cls){var annotations=Reflect.getOwnMetadata("annotations",cls);annotations=annotations||[];annotations.push(annotationInstance);Reflect.defineMetadata("annotations",annotations,cls);return cls};TypeDecorator.annotations=chainAnnotation;TypeDecorator.Class=Class;if(chainFn)chainFn(TypeDecorator);return TypeDecorator}}DecoratorFactory.prototype=Object.create(annotationCls.prototype);return DecoratorFactory}exports.makeDecorator=makeDecorator;function makeParamDecorator(annotationCls){function ParamDecoratorFactory(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i]}var annotationInstance=Object.create(annotationCls.prototype);annotationCls.apply(annotationInstance,args);if(this instanceof annotationCls){return annotationInstance}else{ParamDecorator.annotation=annotationInstance;return ParamDecorator}function ParamDecorator(cls,unusedKey,index){var parameters=Reflect.getMetadata("parameters",cls);parameters=parameters||[];while(parameters.length<=index){parameters.push(null)}parameters[index]=parameters[index]||[];var annotationsForParam=parameters[index];annotationsForParam.push(annotationInstance);Reflect.defineMetadata("parameters",parameters,cls);return cls}}ParamDecoratorFactory.prototype=Object.create(annotationCls.prototype);return ParamDecoratorFactory}exports.makeParamDecorator=makeParamDecorator;function makePropDecorator(decoratorCls){function PropDecoratorFactory(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i-0]=arguments[_i]}var decoratorInstance=Object.create(decoratorCls.prototype);decoratorCls.apply(decoratorInstance,args);if(this instanceof decoratorCls){return decoratorInstance}else{return function PropDecorator(target,name){var meta=Reflect.getOwnMetadata("propMetadata",target.constructor);meta=meta||{};meta[name]=meta[name]||[];meta[name].unshift(decoratorInstance);Reflect.defineMetadata("propMetadata",meta,target.constructor)}}}PropDecoratorFactory.prototype=Object.create(decoratorCls.prototype);return PropDecoratorFactory}exports.makePropDecorator=makePropDecorator;global.define=__define;return module.exports});System.register("angular2/src/core/di/forward_ref",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");function forwardRef(forwardRefFn){forwardRefFn.__forward_ref__=forwardRef;forwardRefFn.toString=function(){return lang_1.stringify(this())};return forwardRefFn}exports.forwardRef=forwardRef;function resolveForwardRef(type){if(lang_1.isFunction(type)&&type.hasOwnProperty("__forward_ref__")&&type.__forward_ref__===forwardRef){return type()}else{return type}}exports.resolveForwardRef=resolveForwardRef;global.define=__define;return module.exports});System.register("angular2/src/facade/collection",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.Map=lang_1.global.Map;exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(new exports.Map([[1,2]]).size===1){return function createMapFromPairs(pairs){return new exports.Map(pairs)}}}catch(e){}return function createMapAndPopulateFromPairs(pairs){var map=new exports.Map;for(var i=0;i<pairs.length;i++){var pair=pairs[i];map.set(pair[0],pair[1])}return map}}();var createMapFromMap=function(){try{if(new exports.Map(new exports.Map)){return function createMapFromMap(m){return new exports.Map(m)}}}catch(e){}return function createMapAndPopulateFromMap(m){var map=new exports.Map;m.forEach(function(v,k){map.set(k,v)});return map}}();var _clearValues=function(){if((new exports.Map).keys().next){return function _clearValues(m){var keyIterator=m.keys();var k;while(!(k=keyIterator.next()).done){m.set(k.value,null)}}}else{return function _clearValuesWithForeEach(m){m.forEach(function(v,k){m.set(k,null)})}}}();var _arrayFromMap=function(){try{if((new exports.Map).values().next){return function createArrayFromMap(m,getValues){return getValues?Array.from(m.values()):Array.from(m.keys())}}}catch(e){}return function createArrayFromMapWithForeach(m,getValues){var res=ListWrapper.createFixedSize(m.size),i=0;m.forEach(function(v,k){res[i]=getValues?v:k;i++});return res}}();var MapWrapper=function(){function MapWrapper(){}MapWrapper.clone=function(m){return createMapFromMap(m)};MapWrapper.createFromStringMap=function(stringMap){var result=new exports.Map;for(var prop in stringMap){result.set(prop,stringMap[prop])}return result};MapWrapper.toStringMap=function(m){var r={};m.forEach(function(v,k){return r[k]=v});return r};MapWrapper.createFromPairs=function(pairs){return createMapFromPairs(pairs)};MapWrapper.clearValues=function(m){_clearValues(m)};MapWrapper.iterable=function(m){return m};MapWrapper.keys=function(m){return _arrayFromMap(m,false)};MapWrapper.values=function(m){return _arrayFromMap(m,true)};return MapWrapper}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function StringMapWrapper(){}StringMapWrapper.create=function(){return{}};StringMapWrapper.contains=function(map,key){return map.hasOwnProperty(key)};StringMapWrapper.get=function(map,key){return map.hasOwnProperty(key)?map[key]:undefined};StringMapWrapper.set=function(map,key,value){map[key]=value};StringMapWrapper.keys=function(map){return Object.keys(map)};StringMapWrapper.isEmpty=function(map){for(var prop in map){return false}return true};StringMapWrapper.delete=function(map,key){delete map[key]};StringMapWrapper.forEach=function(map,callback){for(var prop in map){if(map.hasOwnProperty(prop)){callback(map[prop],prop)}}};StringMapWrapper.merge=function(m1,m2){var m={};for(var attr in m1){if(m1.hasOwnProperty(attr)){m[attr]=m1[attr]}}for(var attr in m2){if(m2.hasOwnProperty(attr)){m[attr]=m2[attr]}}return m};StringMapWrapper.equals=function(m1,m2){var k1=Object.keys(m1);var k2=Object.keys(m2);if(k1.length!=k2.length){return false}var key;for(var i=0;i<k1.length;i++){key=k1[i];if(m1[key]!==m2[key]){return false}}return true};return StringMapWrapper}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function ListWrapper(){}ListWrapper.createFixedSize=function(size){return new Array(size)};ListWrapper.createGrowableSize=function(size){return new Array(size)};ListWrapper.clone=function(array){return array.slice(0)};ListWrapper.forEachWithIndex=function(array,fn){for(var i=0;i<array.length;i++){fn(array[i],i)}};ListWrapper.first=function(array){if(!array)return null;return array[0]};ListWrapper.last=function(array){if(!array||array.length==0)return null;return array[array.length-1]};ListWrapper.indexOf=function(array,value,startIndex){if(startIndex===void 0){startIndex=0}return array.indexOf(value,startIndex)};ListWrapper.contains=function(list,el){return list.indexOf(el)!==-1};ListWrapper.reversed=function(array){var a=ListWrapper.clone(array);return a.reverse()};ListWrapper.concat=function(a,b){return a.concat(b)};ListWrapper.insert=function(list,index,value){list.splice(index,0,value)};ListWrapper.removeAt=function(list,index){var res=list[index];list.splice(index,1);return res};ListWrapper.removeAll=function(list,items){for(var i=0;i<items.length;++i){var index=list.indexOf(items[i]);list.splice(index,1)}};ListWrapper.remove=function(list,el){var index=list.indexOf(el);if(index>-1){list.splice(index,1);return true}return false};ListWrapper.clear=function(list){list.length=0};ListWrapper.isEmpty=function(list){return list.length==0};ListWrapper.fill=function(list,value,start,end){if(start===void 0){start=0}if(end===void 0){end=null}list.fill(value,start,end===null?list.length:end)};ListWrapper.equals=function(a,b){if(a.length!=b.length)return false;for(var i=0;i<a.length;++i){if(a[i]!==b[i])return false}return true};ListWrapper.slice=function(l,from,to){if(from===void 0){from=0}if(to===void 0){to=null}return l.slice(from,to===null?undefined:to)};ListWrapper.splice=function(l,from,length){return l.splice(from,length)};ListWrapper.sort=function(l,compareFn){if(lang_1.isPresent(compareFn)){l.sort(compareFn)}else{l.sort()}};ListWrapper.toString=function(l){return l.toString()};ListWrapper.toJSON=function(l){return JSON.stringify(l)};ListWrapper.maximum=function(list,predicate){if(list.length==0){return null}var solution=null;var maxValue=-Infinity;for(var index=0;index<list.length;index++){var candidate=list[index];if(lang_1.isBlank(candidate)){continue}var candidateValue=predicate(candidate);if(candidateValue>maxValue){solution=candidate;maxValue=candidateValue}}return solution};return ListWrapper}();exports.ListWrapper=ListWrapper;function isListLikeIterable(obj){if(!lang_1.isJsObject(obj))return false;return lang_1.isArray(obj)||!(obj instanceof exports.Map)&&lang_1.getSymbolIterator()in obj}exports.isListLikeIterable=isListLikeIterable;function areIterablesEqual(a,b,comparator){var iterator1=a[lang_1.getSymbolIterator()]();var iterator2=b[lang_1.getSymbolIterator()]();while(true){var item1=iterator1.next();var item2=iterator2.next();if(item1.done&&item2.done)return true;if(item1.done||item2.done)return false;if(!comparator(item1.value,item2.value))return false}}exports.areIterablesEqual=areIterablesEqual;function iterateListLike(obj,fn){if(lang_1.isArray(obj)){for(var i=0;i<obj.length;i++){fn(obj[i])}}else{var iterator=obj[lang_1.getSymbolIterator()]();var item;while(!(item=iterator.next()).done){fn(item.value)}}}exports.iterateListLike=iterateListLike;var createSetFromList=function(){var test=new exports.Set([1,2,3]);if(test.size===3){return function createSetFromList(lst){return new exports.Set(lst)}}else{return function createSetAndPopulateFromList(lst){var res=new exports.Set(lst);if(res.size!==lst.length){for(var i=0;i<lst.length;i++){res.add(lst[i])}}return res}}}();var SetWrapper=function(){function SetWrapper(){}SetWrapper.createFromList=function(lst){return createSetFromList(lst)};SetWrapper.has=function(s,key){return s.has(key)};SetWrapper.delete=function(m,k){m.delete(k)};return SetWrapper}();exports.SetWrapper=SetWrapper;global.define=__define;return module.exports});System.register("angular2/src/facade/exception_handler",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var _ArrayLogger=function(){function _ArrayLogger(){this.res=[]}_ArrayLogger.prototype.log=function(s){this.res.push(s)};_ArrayLogger.prototype.logError=function(s){this.res.push(s)};_ArrayLogger.prototype.logGroup=function(s){this.res.push(s)};_ArrayLogger.prototype.logGroupEnd=function(){};return _ArrayLogger}();var ExceptionHandler=function(){function ExceptionHandler(_logger,_rethrowException){if(_rethrowException===void 0){_rethrowException=true}this._logger=_logger;this._rethrowException=_rethrowException}ExceptionHandler.exceptionToString=function(exception,stackTrace,reason){if(stackTrace===void 0){stackTrace=null}if(reason===void 0){reason=null}var l=new _ArrayLogger;var e=new ExceptionHandler(l,false);e.call(exception,stackTrace,reason);return l.res.join("\n")};ExceptionHandler.prototype.call=function(exception,stackTrace,reason){if(stackTrace===void 0){stackTrace=null}if(reason===void 0){reason=null}var originalException=this._findOriginalException(exception);var originalStack=this._findOriginalStack(exception);var context=this._findContext(exception);this._logger.logGroup("EXCEPTION: "+this._extractMessage(exception));if(lang_1.isPresent(stackTrace)&&lang_1.isBlank(originalStack)){this._logger.logError("STACKTRACE:");this._logger.logError(this._longStackTrace(stackTrace))}if(lang_1.isPresent(reason)){this._logger.logError("REASON: "+reason)}if(lang_1.isPresent(originalException)){this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(originalException))}if(lang_1.isPresent(originalStack)){this._logger.logError("ORIGINAL STACKTRACE:");this._logger.logError(this._longStackTrace(originalStack))}if(lang_1.isPresent(context)){this._logger.logError("ERROR CONTEXT:");this._logger.logError(context)}this._logger.logGroupEnd();if(this._rethrowException)throw exception};ExceptionHandler.prototype._extractMessage=function(exception){return exception instanceof exceptions_1.WrappedException?exception.wrapperMessage:exception.toString()};ExceptionHandler.prototype._longStackTrace=function(stackTrace){return collection_1.isListLikeIterable(stackTrace)?stackTrace.join("\n\n-----async gap-----\n"):stackTrace.toString()};ExceptionHandler.prototype._findContext=function(exception){try{if(!(exception instanceof exceptions_1.WrappedException))return null;return lang_1.isPresent(exception.context)?exception.context:this._findContext(exception.originalException)}catch(e){return null}};ExceptionHandler.prototype._findOriginalException=function(exception){if(!(exception instanceof exceptions_1.WrappedException))return null;var e=exception.originalException;while(e instanceof exceptions_1.WrappedException&&lang_1.isPresent(e.originalException)){e=e.originalException}return e};ExceptionHandler.prototype._findOriginalStack=function(exception){if(!(exception instanceof exceptions_1.WrappedException))return null;var e=exception;var stack=exception.originalStack;while(e instanceof exceptions_1.WrappedException&&lang_1.isPresent(e.originalException)){e=e.originalException;if(e instanceof exceptions_1.WrappedException&&lang_1.isPresent(e.originalException)){stack=e.originalStack}}return stack};return ExceptionHandler}();exports.ExceptionHandler=ExceptionHandler;global.define=__define;return module.exports});System.register("angular2/src/core/reflection/reflector",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var ReflectionInfo=function(){function ReflectionInfo(annotations,parameters,factory,interfaces,propMetadata){this.annotations=annotations;this.parameters=parameters;this.factory=factory;this.interfaces=interfaces;this.propMetadata=propMetadata}return ReflectionInfo}();exports.ReflectionInfo=ReflectionInfo;var Reflector=function(){function Reflector(reflectionCapabilities){this._injectableInfo=new collection_1.Map;this._getters=new collection_1.Map;this._setters=new collection_1.Map;this._methods=new collection_1.Map;this._usedKeys=null;this.reflectionCapabilities=reflectionCapabilities}Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()};Reflector.prototype.trackUsage=function(){this._usedKeys=new collection_1.Set};Reflector.prototype.listUnusedKeys=function(){var _this=this;if(this._usedKeys==null){throw new exceptions_1.BaseException("Usage tracking is disabled")}var allTypes=collection_1.MapWrapper.keys(this._injectableInfo);return allTypes.filter(function(key){return!collection_1.SetWrapper.has(_this._usedKeys,key)})};Reflector.prototype.registerFunction=function(func,funcInfo){this._injectableInfo.set(func,funcInfo)};Reflector.prototype.registerType=function(type,typeInfo){this._injectableInfo.set(type,typeInfo)};Reflector.prototype.registerGetters=function(getters){_mergeMaps(this._getters,getters)};Reflector.prototype.registerSetters=function(setters){_mergeMaps(this._setters,setters)};Reflector.prototype.registerMethods=function(methods){_mergeMaps(this._methods,methods)};Reflector.prototype.factory=function(type){if(this._containsReflectionInfo(type)){var res=this._getReflectionInfo(type).factory;return lang_1.isPresent(res)?res:null}else{return this.reflectionCapabilities.factory(type)}};Reflector.prototype.parameters=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).parameters;return lang_1.isPresent(res)?res:[]}else{return this.reflectionCapabilities.parameters(typeOrFunc)}};Reflector.prototype.annotations=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).annotations;return lang_1.isPresent(res)?res:[]}else{return this.reflectionCapabilities.annotations(typeOrFunc)}};Reflector.prototype.propMetadata=function(typeOrFunc){if(this._injectableInfo.has(typeOrFunc)){var res=this._getReflectionInfo(typeOrFunc).propMetadata;return lang_1.isPresent(res)?res:{}}else{return this.reflectionCapabilities.propMetadata(typeOrFunc)}};Reflector.prototype.interfaces=function(type){if(this._injectableInfo.has(type)){var res=this._getReflectionInfo(type).interfaces;return lang_1.isPresent(res)?res:[]}else{return this.reflectionCapabilities.interfaces(type)}};Reflector.prototype.getter=function(name){if(this._getters.has(name)){return this._getters.get(name)}else{return this.reflectionCapabilities.getter(name)}};Reflector.prototype.setter=function(name){if(this._setters.has(name)){return this._setters.get(name)}else{return this.reflectionCapabilities.setter(name)}};Reflector.prototype.method=function(name){if(this._methods.has(name)){return this._methods.get(name)}else{return this.reflectionCapabilities.method(name)}};Reflector.prototype._getReflectionInfo=function(typeOrFunc){if(lang_1.isPresent(this._usedKeys)){this._usedKeys.add(typeOrFunc)}return this._injectableInfo.get(typeOrFunc)};Reflector.prototype._containsReflectionInfo=function(typeOrFunc){return this._injectableInfo.has(typeOrFunc)};Reflector.prototype.importUri=function(type){return this.reflectionCapabilities.importUri(type)};return Reflector}();exports.Reflector=Reflector;function _mergeMaps(target,config){collection_1.StringMapWrapper.forEach(config,function(v,k){return target.set(k,v)})}global.define=__define;return module.exports});System.register("angular2/src/core/reflection/reflection_capabilities",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var ReflectionCapabilities=function(){function ReflectionCapabilities(reflect){this._reflect=lang_1.isPresent(reflect)?reflect:lang_1.global.Reflect}ReflectionCapabilities.prototype.isReflectionEnabled=function(){return true};ReflectionCapabilities.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t};case 1:return function(a1){return new t(a1)};case 2:return function(a1,a2){return new t(a1,a2)};case 3:return function(a1,a2,a3){return new t(a1,a2,a3)};case 4:return function(a1,a2,a3,a4){return new t(a1,a2,a3,a4)};case 5:return function(a1,a2,a3,a4,a5){return new t(a1,a2,a3,a4,a5)};case 6:return function(a1,a2,a3,a4,a5,a6){return new t(a1,a2,a3,a4,a5,a6)};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return new t(a1,a2,a3,a4,a5,a6,a7)};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return new t(a1,a2,a3,a4,a5,a6,a7,a8)};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9)};case 10:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)};case 11:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11)};case 12:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)};case 13:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13)};case 14:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14)};case 15:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15)};case 16:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16)};case 17:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17)};case 18:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18)};case 19:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19)};case 20:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20){return new t(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20)}}throw new Error("Cannot create a factory for '"+lang_1.stringify(t)+"' because its constructor has more than 20 arguments")};ReflectionCapabilities.prototype._zipTypesAndAnnotaions=function(paramTypes,paramAnnotations){var result;if(typeof paramTypes==="undefined"){result=new Array(paramAnnotations.length)}else{result=new Array(paramTypes.length)}for(var i=0;i<result.length;i++){if(typeof paramTypes==="undefined"){result[i]=[]}else if(paramTypes[i]!=Object){result[i]=[paramTypes[i]]}else{result[i]=[]}if(lang_1.isPresent(paramAnnotations)&&lang_1.isPresent(paramAnnotations[i])){result[i]=result[i].concat(paramAnnotations[i])}}return result};ReflectionCapabilities.prototype.parameters=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.parameters)){return typeOrFunc.parameters}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var paramAnnotations=this._reflect.getMetadata("parameters",typeOrFunc);var paramTypes=this._reflect.getMetadata("design:paramtypes",typeOrFunc);if(lang_1.isPresent(paramTypes)||lang_1.isPresent(paramAnnotations)){return this._zipTypesAndAnnotaions(paramTypes,paramAnnotations)}}var parameters=new Array(typeOrFunc.length);parameters.fill(undefined);return parameters};ReflectionCapabilities.prototype.annotations=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.annotations)){var annotations=typeOrFunc.annotations;if(lang_1.isFunction(annotations)&&annotations.annotations){annotations=annotations.annotations}return annotations}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var annotations=this._reflect.getMetadata("annotations",typeOrFunc);if(lang_1.isPresent(annotations))return annotations}return[]};ReflectionCapabilities.prototype.propMetadata=function(typeOrFunc){if(lang_1.isPresent(typeOrFunc.propMetadata)){var propMetadata=typeOrFunc.propMetadata;if(lang_1.isFunction(propMetadata)&&propMetadata.propMetadata){propMetadata=propMetadata.propMetadata}return propMetadata}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var propMetadata=this._reflect.getMetadata("propMetadata",typeOrFunc);if(lang_1.isPresent(propMetadata))return propMetadata}return{}};ReflectionCapabilities.prototype.interfaces=function(type){throw new exceptions_1.BaseException("JavaScript does not support interfaces")};ReflectionCapabilities.prototype.getter=function(name){return new Function("o","return o."+name+";")};ReflectionCapabilities.prototype.setter=function(name){return new Function("o","v","return o."+name+" = v;")};ReflectionCapabilities.prototype.method=function(name){var functionBody="if (!o."+name+") throw new Error('\""+name+"\" is undefined');\n        return o."+name+".apply(o, args);";return new Function("o","args",functionBody)};ReflectionCapabilities.prototype.importUri=function(type){return"./"};return ReflectionCapabilities}();exports.ReflectionCapabilities=ReflectionCapabilities;global.define=__define;return module.exports});System.register("angular2/src/core/di/type_literal",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var TypeLiteral=function(){function TypeLiteral(){}Object.defineProperty(TypeLiteral.prototype,"type",{get:function(){throw new Error("Type literals are only supported in Dart")},enumerable:true,configurable:true});return TypeLiteral}();exports.TypeLiteral=TypeLiteral;global.define=__define;return module.exports});System.register("angular2/src/core/di/exceptions",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,
new __)};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");function findFirstClosedCycle(keys){var res=[];for(var i=0;i<keys.length;++i){if(collection_1.ListWrapper.contains(res,keys[i])){res.push(keys[i]);return res}else{res.push(keys[i])}}return res}function constructResolvingPath(keys){if(keys.length>1){var reversed=findFirstClosedCycle(collection_1.ListWrapper.reversed(keys));var tokenStrs=reversed.map(function(k){return lang_1.stringify(k.token)});return" ("+tokenStrs.join(" -> ")+")"}else{return""}}var AbstractProviderError=function(_super){__extends(AbstractProviderError,_super);function AbstractProviderError(injector,key,constructResolvingMessage){_super.call(this,"DI Exception");this.keys=[key];this.injectors=[injector];this.constructResolvingMessage=constructResolvingMessage;this.message=this.constructResolvingMessage(this.keys)}AbstractProviderError.prototype.addKey=function(injector,key){this.injectors.push(injector);this.keys.push(key);this.message=this.constructResolvingMessage(this.keys)};Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:true,configurable:true});return AbstractProviderError}(exceptions_1.BaseException);exports.AbstractProviderError=AbstractProviderError;var NoProviderError=function(_super){__extends(NoProviderError,_super);function NoProviderError(injector,key){_super.call(this,injector,key,function(keys){var first=lang_1.stringify(collection_1.ListWrapper.first(keys).token);return"No provider for "+first+"!"+constructResolvingPath(keys)})}return NoProviderError}(AbstractProviderError);exports.NoProviderError=NoProviderError;var CyclicDependencyError=function(_super){__extends(CyclicDependencyError,_super);function CyclicDependencyError(injector,key){_super.call(this,injector,key,function(keys){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(keys)})}return CyclicDependencyError}(AbstractProviderError);exports.CyclicDependencyError=CyclicDependencyError;var InstantiationError=function(_super){__extends(InstantiationError,_super);function InstantiationError(injector,originalException,originalStack,key){_super.call(this,"DI Exception",originalException,originalStack,null);this.keys=[key];this.injectors=[injector]}InstantiationError.prototype.addKey=function(injector,key){this.injectors.push(injector);this.keys.push(key)};Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{get:function(){var first=lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);return"Error during instantiation of "+first+"!"+constructResolvingPath(this.keys)+"."},enumerable:true,configurable:true});Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:true,configurable:true});Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:true,configurable:true});return InstantiationError}(exceptions_1.WrappedException);exports.InstantiationError=InstantiationError;var InvalidProviderError=function(_super){__extends(InvalidProviderError,_super);function InvalidProviderError(provider){_super.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+provider.toString())}return InvalidProviderError}(exceptions_1.BaseException);exports.InvalidProviderError=InvalidProviderError;var NoAnnotationError=function(_super){__extends(NoAnnotationError,_super);function NoAnnotationError(typeOrFunc,params){_super.call(this,NoAnnotationError._genMessage(typeOrFunc,params))}NoAnnotationError._genMessage=function(typeOrFunc,params){var signature=[];for(var i=0,ii=params.length;i<ii;i++){var parameter=params[i];if(lang_1.isBlank(parameter)||parameter.length==0){signature.push("?")}else{signature.push(parameter.map(lang_1.stringify).join(" "))}}return"Cannot resolve all parameters for '"+lang_1.stringify(typeOrFunc)+"'("+signature.join(", ")+"). "+"Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+lang_1.stringify(typeOrFunc)+"' is decorated with Injectable."};return NoAnnotationError}(exceptions_1.BaseException);exports.NoAnnotationError=NoAnnotationError;var OutOfBoundsError=function(_super){__extends(OutOfBoundsError,_super);function OutOfBoundsError(index){_super.call(this,"Index "+index+" is out-of-bounds.")}return OutOfBoundsError}(exceptions_1.BaseException);exports.OutOfBoundsError=OutOfBoundsError;var MixingMultiProvidersWithRegularProvidersError=function(_super){__extends(MixingMultiProvidersWithRegularProvidersError,_super);function MixingMultiProvidersWithRegularProvidersError(provider1,provider2){_super.call(this,"Cannot mix multi providers and regular providers, got: "+provider1.toString()+" "+provider2.toString())}return MixingMultiProvidersWithRegularProvidersError}(exceptions_1.BaseException);exports.MixingMultiProvidersWithRegularProvidersError=MixingMultiProvidersWithRegularProvidersError;global.define=__define;return module.exports});System.register("angular2/src/core/di/opaque_token",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var OpaqueToken=function(){function OpaqueToken(_desc){this._desc=_desc}OpaqueToken.prototype.toString=function(){return"Token "+this._desc};OpaqueToken=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],OpaqueToken);return OpaqueToken}();exports.OpaqueToken=OpaqueToken;global.define=__define;return module.exports});System.register("angular2/src/animate/css_animation_options",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var CssAnimationOptions=function(){function CssAnimationOptions(){this.classesToAdd=[];this.classesToRemove=[];this.animationClasses=[]}return CssAnimationOptions}();exports.CssAnimationOptions=CssAnimationOptions;global.define=__define;return module.exports});System.register("angular2/src/facade/math",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.Math=lang_1.global.Math;exports.NaN=typeof exports.NaN;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/util",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var CAMEL_CASE_REGEXP=/([A-Z])/g;var DASH_CASE_REGEXP=/-([a-z])/g;function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}exports.camelCaseToDashCase=camelCaseToDashCase;function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}exports.dashCaseToCamelCase=dashCaseToCamelCase;global.define=__define;return module.exports});System.register("angular2/src/animate/browser_details",["angular2/src/core/di","angular2/src/facade/math","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var math_1=require("angular2/src/facade/math");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var BrowserDetails=function(){function BrowserDetails(){this.elapsedTimeIncludesDelay=false;this.doesElapsedTimeIncludesDelay()}BrowserDetails.prototype.doesElapsedTimeIncludesDelay=function(){var _this=this;var div=dom_adapter_1.DOM.createElement("div");dom_adapter_1.DOM.setAttribute(div,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;");this.raf(function(timestamp){dom_adapter_1.DOM.on(div,"transitionend",function(event){var elapsed=math_1.Math.round(event.elapsedTime*1e3);_this.elapsedTimeIncludesDelay=elapsed==2;dom_adapter_1.DOM.remove(div)});dom_adapter_1.DOM.setStyle(div,"width","2px")},2)};BrowserDetails.prototype.raf=function(callback,frames){if(frames===void 0){frames=1}var queue=new RafQueue(callback,frames);return function(){return queue.cancel()}};BrowserDetails=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],BrowserDetails);return BrowserDetails}();exports.BrowserDetails=BrowserDetails;var RafQueue=function(){function RafQueue(callback,frames){this.callback=callback;this.frames=frames;this._raf()}RafQueue.prototype._raf=function(){var _this=this;this.currentFrameId=dom_adapter_1.DOM.requestAnimationFrame(function(timestamp){return _this._nextFrame(timestamp)})};RafQueue.prototype._nextFrame=function(timestamp){this.frames--;if(this.frames>0){this._raf()}else{this.callback(timestamp)}};RafQueue.prototype.cancel=function(){dom_adapter_1.DOM.cancelAnimationFrame(this.currentFrameId);this.currentFrameId=null};return RafQueue}();global.define=__define;return module.exports});System.register("angular2/src/platform/dom/dom_tokens",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");exports.DOCUMENT=lang_1.CONST_EXPR(new di_1.OpaqueToken("DocumentToken"));global.define=__define;return module.exports});System.register("angular2/src/facade/promise",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var PromiseWrapper=function(){function PromiseWrapper(){}PromiseWrapper.resolve=function(obj){return Promise.resolve(obj)};PromiseWrapper.reject=function(obj,_){return Promise.reject(obj)};PromiseWrapper.catchError=function(promise,onError){return promise.catch(onError)};PromiseWrapper.all=function(promises){if(promises.length==0)return Promise.resolve([]);return Promise.all(promises)};PromiseWrapper.then=function(promise,success,rejection){return promise.then(success,rejection)};PromiseWrapper.wrap=function(computation){return new Promise(function(res,rej){try{res(computation())}catch(e){rej(e)}})};PromiseWrapper.scheduleMicrotask=function(computation){PromiseWrapper.then(PromiseWrapper.resolve(null),computation,function(_){})};PromiseWrapper.isPromise=function(obj){return obj instanceof Promise};PromiseWrapper.completer=function(){var resolve;var reject;var p=new Promise(function(res,rej){resolve=res;reject=rej});return{promise:p,resolve:resolve,reject:reject}};return PromiseWrapper}();exports.PromiseWrapper=PromiseWrapper;global.define=__define;return module.exports});System.register("angular2/src/core/profile/wtf_impl",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var trace;var events;function detectWTF(){var wtf=lang_1.global["wtf"];if(wtf){trace=wtf["trace"];if(trace){events=trace["events"];return true}}return false}exports.detectWTF=detectWTF;function createScope(signature,flags){if(flags===void 0){flags=null}return events.createScope(signature,flags)}exports.createScope=createScope;function leave(scope,returnValue){trace.leaveScope(scope,returnValue);return returnValue}exports.leave=leave;function startTimeRange(rangeType,action){return trace.beginTimeRange(rangeType,action)}exports.startTimeRange=startTimeRange;function endTimeRange(range){trace.endTimeRange(range)}exports.endTimeRange=endTimeRange;global.define=__define;return module.exports});System.register("angular2/src/core/metadata/di",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/di/metadata"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var metadata_1=require("angular2/src/core/di/metadata");var AttributeMetadata=function(_super){__extends(AttributeMetadata,_super);function AttributeMetadata(attributeName){_super.call(this);this.attributeName=attributeName}Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this},enumerable:true,configurable:true});AttributeMetadata.prototype.toString=function(){return"@Attribute("+lang_1.stringify(this.attributeName)+")"};AttributeMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],AttributeMetadata);return AttributeMetadata}(metadata_1.DependencyMetadata);exports.AttributeMetadata=AttributeMetadata;var QueryMetadata=function(_super){__extends(QueryMetadata,_super);function QueryMetadata(_selector,_a){var _b=_a===void 0?{}:_a,_c=_b.descendants,descendants=_c===void 0?false:_c,_d=_b.first,first=_d===void 0?false:_d;_super.call(this);this._selector=_selector;this.descendants=descendants;this.first=first}Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return false},enumerable:true,configurable:true});Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return di_1.resolveForwardRef(this._selector)},enumerable:true,configurable:true});Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return lang_1.isString(this.selector)},enumerable:true,configurable:true});Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:true,configurable:true});QueryMetadata.prototype.toString=function(){return"@Query("+lang_1.stringify(this.selector)+")"};QueryMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],QueryMetadata);return QueryMetadata}(metadata_1.DependencyMetadata);exports.QueryMetadata=QueryMetadata;var ContentChildrenMetadata=function(_super){__extends(ContentChildrenMetadata,_super);function ContentChildrenMetadata(_selector,_a){var _b=(_a===void 0?{}:_a).descendants,descendants=_b===void 0?false:_b;_super.call(this,_selector,{descendants:descendants})}ContentChildrenMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],ContentChildrenMetadata);return ContentChildrenMetadata}(QueryMetadata);exports.ContentChildrenMetadata=ContentChildrenMetadata;var ContentChildMetadata=function(_super){__extends(ContentChildMetadata,_super);function ContentChildMetadata(_selector){_super.call(this,_selector,{descendants:true,first:true})}ContentChildMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ContentChildMetadata);return ContentChildMetadata}(QueryMetadata);exports.ContentChildMetadata=ContentChildMetadata;var ViewQueryMetadata=function(_super){__extends(ViewQueryMetadata,_super);function ViewQueryMetadata(_selector,_a){var _b=_a===void 0?{}:_a,_c=_b.descendants,descendants=_c===void 0?false:_c,_d=_b.first,first=_d===void 0?false:_d;_super.call(this,_selector,{descendants:descendants,first:first})}Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return true},enumerable:true,configurable:true});ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+lang_1.stringify(this.selector)+")"};ViewQueryMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],ViewQueryMetadata);return ViewQueryMetadata}(QueryMetadata);exports.ViewQueryMetadata=ViewQueryMetadata;var ViewChildrenMetadata=function(_super){__extends(ViewChildrenMetadata,_super);function ViewChildrenMetadata(_selector){_super.call(this,_selector,{descendants:true})}ViewChildrenMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewChildrenMetadata);return ViewChildrenMetadata}(ViewQueryMetadata);exports.ViewChildrenMetadata=ViewChildrenMetadata;var ViewChildMetadata=function(_super){__extends(ViewChildMetadata,_super);function ViewChildMetadata(_selector){_super.call(this,_selector,{descendants:true,first:true})}ViewChildMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewChildMetadata);return ViewChildMetadata}(ViewQueryMetadata);exports.ViewChildMetadata=ViewChildMetadata;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/differs/iterable_differs",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var di_1=require("angular2/src/core/di");var IterableDiffers=function(){function IterableDiffers(factories){this.factories=factories}IterableDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);factories=factories.concat(copied);return new IterableDiffers(factories)}else{return new IterableDiffers(factories)}};IterableDiffers.extend=function(factories){return new di_1.Provider(IterableDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent)){throw new exceptions_1.BaseException("Cannot extend IterableDiffers without a parent injector")}return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})};IterableDiffers.prototype.find=function(iterable){var factory=this.factories.find(function(f){return f.supports(iterable)});if(lang_1.isPresent(factory)){return factory}else{throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+iterable+"'")}};IterableDiffers=__decorate([di_1.Injectable(),lang_1.CONST(),__metadata("design:paramtypes",[Array])],IterableDiffers);return IterableDiffers}();exports.IterableDiffers=IterableDiffers;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/differs/default_iterable_differ",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var lang_2=require("angular2/src/facade/lang");var DefaultIterableDifferFactory=function(){function DefaultIterableDifferFactory(){}DefaultIterableDifferFactory.prototype.supports=function(obj){return collection_1.isListLikeIterable(obj)};DefaultIterableDifferFactory.prototype.create=function(cdRef,trackByFn){return new DefaultIterableDiffer(trackByFn)};DefaultIterableDifferFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DefaultIterableDifferFactory);return DefaultIterableDifferFactory}();exports.DefaultIterableDifferFactory=DefaultIterableDifferFactory;var trackByIdentity=function(index,item){return item};var DefaultIterableDiffer=function(){function DefaultIterableDiffer(_trackByFn){this._trackByFn=_trackByFn;this._length=null;this._collection=null;this._linkedRecords=null;this._unlinkedRecords=null;this._previousItHead=null;this._itHead=null;this._itTail=null;this._additionsHead=null;this._additionsTail=null;this._movesHead=null;this._movesTail=null;this._removalsHead=null;this._removalsTail=null;this._trackByFn=lang_2.isPresent(this._trackByFn)?this._trackByFn:trackByIdentity}Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:true,configurable:true});Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:true,configurable:true});DefaultIterableDiffer.prototype.forEachItem=function(fn){var record;for(record=this._itHead;record!==null;record=record._next){fn(record)}};DefaultIterableDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousItHead;record!==null;record=record._nextPrevious){fn(record)}};DefaultIterableDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;record!==null;record=record._nextAdded){fn(record)}};DefaultIterableDiffer.prototype.forEachMovedItem=function(fn){var record;for(record=this._movesHead;record!==null;record=record._nextMoved){fn(record)}};DefaultIterableDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;record!==null;record=record._nextRemoved){fn(record)}};DefaultIterableDiffer.prototype.diff=function(collection){if(lang_2.isBlank(collection))collection=[];if(!collection_1.isListLikeIterable(collection)){throw new exceptions_1.BaseException("Error trying to diff '"+collection+"'")}if(this.check(collection)){return this}else{return null}};DefaultIterableDiffer.prototype.onDestroy=function(){};DefaultIterableDiffer.prototype.check=function(collection){var _this=this;this._reset();var record=this._itHead;var mayBeDirty=false;var index;var item;var itemTrackBy;if(lang_2.isArray(collection)){var list=collection;this._length=collection.length;for(index=0;index<this._length;index++){item=list[index];itemTrackBy=this._trackByFn(index,item);if(record===null||!lang_2.looseIdentical(record.trackById,itemTrackBy)){record=this._mismatch(record,item,itemTrackBy,index);mayBeDirty=true}else{if(mayBeDirty){record=this._verifyReinsertion(record,item,itemTrackBy,index)}record.item=item}record=record._next}}else{index=0;collection_1.iterateListLike(collection,function(item){itemTrackBy=_this._trackByFn(index,item);if(record===null||!lang_2.looseIdentical(record.trackById,itemTrackBy)){record=_this._mismatch(record,item,itemTrackBy,index);mayBeDirty=true}else if(mayBeDirty){record=_this._verifyReinsertion(record,item,itemTrackBy,index)}record=record._next;index++});this._length=index}this._truncate(record);this._collection=collection;return this.isDirty};Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null},enumerable:true,configurable:true});DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var record;var nextRecord;for(record=this._previousItHead=this._itHead;record!==null;record=record._next){record._nextPrevious=record._next}for(record=this._additionsHead;record!==null;record=record._nextAdded){record.previousIndex=record.currentIndex}this._additionsHead=this._additionsTail=null;for(record=this._movesHead;record!==null;record=nextRecord){record.previousIndex=record.currentIndex;nextRecord=record._nextMoved}this._movesHead=this._movesTail=null;this._removalsHead=this._removalsTail=null}};DefaultIterableDiffer.prototype._mismatch=function(record,item,itemTrackBy,index){var previousRecord;if(record===null){previousRecord=this._itTail}else{previousRecord=record._prev;this._remove(record)}record=this._linkedRecords===null?null:this._linkedRecords.get(itemTrackBy,index);if(record!==null){this._moveAfter(record,previousRecord,index)}else{record=this._unlinkedRecords===null?null:this._unlinkedRecords.get(itemTrackBy);if(record!==null){this._reinsertAfter(record,previousRecord,index)}else{record=this._addAfter(new CollectionChangeRecord(item,itemTrackBy),previousRecord,index)}}return record};DefaultIterableDiffer.prototype._verifyReinsertion=function(record,item,itemTrackBy,index){var reinsertRecord=this._unlinkedRecords===null?null:this._unlinkedRecords.get(itemTrackBy);if(reinsertRecord!==null){record=this._reinsertAfter(reinsertRecord,record._prev,index)}else if(record.currentIndex!=index){record.currentIndex=index;this._addToMoves(record,index)}record.item=item;return record};DefaultIterableDiffer.prototype._truncate=function(record){while(record!==null){var nextRecord=record._next;this._addToRemovals(this._unlink(record));record=nextRecord}if(this._unlinkedRecords!==null){this._unlinkedRecords.clear()}if(this._additionsTail!==null){this._additionsTail._nextAdded=null}if(this._movesTail!==null){this._movesTail._nextMoved=null}if(this._itTail!==null){this._itTail._next=null}if(this._removalsTail!==null){this._removalsTail._nextRemoved=null}};DefaultIterableDiffer.prototype._reinsertAfter=function(record,prevRecord,index){if(this._unlinkedRecords!==null){this._unlinkedRecords.remove(record)}var prev=record._prevRemoved;var next=record._nextRemoved;if(prev===null){this._removalsHead=next}else{prev._nextRemoved=next}if(next===null){this._removalsTail=prev}else{next._prevRemoved=prev}this._insertAfter(record,prevRecord,index);this._addToMoves(record,index);return record};DefaultIterableDiffer.prototype._moveAfter=function(record,prevRecord,index){this._unlink(record);this._insertAfter(record,prevRecord,index);this._addToMoves(record,index);return record};DefaultIterableDiffer.prototype._addAfter=function(record,prevRecord,index){this._insertAfter(record,prevRecord,index);if(this._additionsTail===null){this._additionsTail=this._additionsHead=record}else{this._additionsTail=this._additionsTail._nextAdded=record}return record};DefaultIterableDiffer.prototype._insertAfter=function(record,prevRecord,index){var next=prevRecord===null?this._itHead:prevRecord._next;record._next=next;record._prev=prevRecord;if(next===null){this._itTail=record}else{next._prev=record}if(prevRecord===null){this._itHead=record}else{prevRecord._next=record}if(this._linkedRecords===null){this._linkedRecords=new _DuplicateMap}this._linkedRecords.put(record);record.currentIndex=index;return record};DefaultIterableDiffer.prototype._remove=function(record){return this._addToRemovals(this._unlink(record))};DefaultIterableDiffer.prototype._unlink=function(record){if(this._linkedRecords!==null){this._linkedRecords.remove(record)}var prev=record._prev;var next=record._next;if(prev===null){this._itHead=next}else{prev._next=next}if(next===null){this._itTail=prev}else{next._prev=prev}return record};DefaultIterableDiffer.prototype._addToMoves=function(record,toIndex){if(record.previousIndex===toIndex){return record}if(this._movesTail===null){this._movesTail=this._movesHead=record}else{this._movesTail=this._movesTail._nextMoved=record}return record};DefaultIterableDiffer.prototype._addToRemovals=function(record){if(this._unlinkedRecords===null){this._unlinkedRecords=new _DuplicateMap}this._unlinkedRecords.put(record);record.currentIndex=null;record._nextRemoved=null;if(this._removalsTail===null){this._removalsTail=this._removalsHead=record;record._prevRemoved=null}else{record._prevRemoved=this._removalsTail;this._removalsTail=this._removalsTail._nextRemoved=record}return record};DefaultIterableDiffer.prototype.toString=function(){var list=[];this.forEachItem(function(record){return list.push(record)});var previous=[];this.forEachPreviousItem(function(record){return previous.push(record)});var additions=[];this.forEachAddedItem(function(record){return additions.push(record)});var moves=[];this.forEachMovedItem(function(record){return moves.push(record)});var removals=[];this.forEachRemovedItem(function(record){return removals.push(record)});return"collection: "+list.join(", ")+"\n"+"previous: "+previous.join(", ")+"\n"+"additions: "+additions.join(", ")+"\n"+"moves: "+moves.join(", ")+"\n"+"removals: "+removals.join(", ")+"\n"};return DefaultIterableDiffer}();exports.DefaultIterableDiffer=DefaultIterableDiffer;var CollectionChangeRecord=function(){function CollectionChangeRecord(item,trackById){this.item=item;this.trackById=trackById;this.currentIndex=null;this.previousIndex=null;this._nextPrevious=null;this._prev=null;this._next=null;this._prevDup=null;this._nextDup=null;this._prevRemoved=null;this._nextRemoved=null;this._nextAdded=null;this._nextMoved=null}CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?lang_2.stringify(this.item):lang_2.stringify(this.item)+"["+lang_2.stringify(this.previousIndex)+"->"+lang_2.stringify(this.currentIndex)+"]"};return CollectionChangeRecord}();exports.CollectionChangeRecord=CollectionChangeRecord;var _DuplicateItemRecordList=function(){function _DuplicateItemRecordList(){this._head=null;this._tail=null}_DuplicateItemRecordList.prototype.add=function(record){if(this._head===null){this._head=this._tail=record;record._nextDup=null;record._prevDup=null}else{this._tail._nextDup=record;record._prevDup=this._tail;record._nextDup=null;this._tail=record;
}};_DuplicateItemRecordList.prototype.get=function(trackById,afterIndex){var record;for(record=this._head;record!==null;record=record._nextDup){if((afterIndex===null||afterIndex<record.currentIndex)&&lang_2.looseIdentical(record.trackById,trackById)){return record}}return null};_DuplicateItemRecordList.prototype.remove=function(record){var prev=record._prevDup;var next=record._nextDup;if(prev===null){this._head=next}else{prev._nextDup=next}if(next===null){this._tail=prev}else{next._prevDup=prev}return this._head===null};return _DuplicateItemRecordList}();var _DuplicateMap=function(){function _DuplicateMap(){this.map=new Map}_DuplicateMap.prototype.put=function(record){var key=lang_2.getMapKey(record.trackById);var duplicates=this.map.get(key);if(!lang_2.isPresent(duplicates)){duplicates=new _DuplicateItemRecordList;this.map.set(key,duplicates)}duplicates.add(record)};_DuplicateMap.prototype.get=function(trackById,afterIndex){if(afterIndex===void 0){afterIndex=null}var key=lang_2.getMapKey(trackById);var recordList=this.map.get(key);return lang_2.isBlank(recordList)?null:recordList.get(trackById,afterIndex)};_DuplicateMap.prototype.remove=function(record){var key=lang_2.getMapKey(record.trackById);var recordList=this.map.get(key);if(recordList.remove(record)){this.map.delete(key)}return record};Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return this.map.size===0},enumerable:true,configurable:true});_DuplicateMap.prototype.clear=function(){this.map.clear()};_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+lang_2.stringify(this.map)+")"};return _DuplicateMap}();global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/differs/keyvalue_differs",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var di_1=require("angular2/src/core/di");var KeyValueDiffers=function(){function KeyValueDiffers(factories){this.factories=factories}KeyValueDiffers.create=function(factories,parent){if(lang_1.isPresent(parent)){var copied=collection_1.ListWrapper.clone(parent.factories);factories=factories.concat(copied);return new KeyValueDiffers(factories)}else{return new KeyValueDiffers(factories)}};KeyValueDiffers.extend=function(factories){return new di_1.Provider(KeyValueDiffers,{useFactory:function(parent){if(lang_1.isBlank(parent)){throw new exceptions_1.BaseException("Cannot extend KeyValueDiffers without a parent injector")}return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})};KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv)});if(lang_1.isPresent(factory)){return factory}else{throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+kv+"'")}};KeyValueDiffers=__decorate([di_1.Injectable(),lang_1.CONST(),__metadata("design:paramtypes",[Array])],KeyValueDiffers);return KeyValueDiffers}();exports.KeyValueDiffers=KeyValueDiffers;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/differs/default_keyvalue_differ",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var DefaultKeyValueDifferFactory=function(){function DefaultKeyValueDifferFactory(){}DefaultKeyValueDifferFactory.prototype.supports=function(obj){return obj instanceof Map||lang_1.isJsObject(obj)};DefaultKeyValueDifferFactory.prototype.create=function(cdRef){return new DefaultKeyValueDiffer};DefaultKeyValueDifferFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],DefaultKeyValueDifferFactory);return DefaultKeyValueDifferFactory}();exports.DefaultKeyValueDifferFactory=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=function(){function DefaultKeyValueDiffer(){this._records=new Map;this._mapHead=null;this._previousMapHead=null;this._changesHead=null;this._changesTail=null;this._additionsHead=null;this._additionsTail=null;this._removalsHead=null;this._removalsTail=null}Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null},enumerable:true,configurable:true});DefaultKeyValueDiffer.prototype.forEachItem=function(fn){var record;for(record=this._mapHead;record!==null;record=record._next){fn(record)}};DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(fn){var record;for(record=this._previousMapHead;record!==null;record=record._nextPrevious){fn(record)}};DefaultKeyValueDiffer.prototype.forEachChangedItem=function(fn){var record;for(record=this._changesHead;record!==null;record=record._nextChanged){fn(record)}};DefaultKeyValueDiffer.prototype.forEachAddedItem=function(fn){var record;for(record=this._additionsHead;record!==null;record=record._nextAdded){fn(record)}};DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(fn){var record;for(record=this._removalsHead;record!==null;record=record._nextRemoved){fn(record)}};DefaultKeyValueDiffer.prototype.diff=function(map){if(lang_1.isBlank(map))map=collection_1.MapWrapper.createFromPairs([]);if(!(map instanceof Map||lang_1.isJsObject(map))){throw new exceptions_1.BaseException("Error trying to diff '"+map+"'")}if(this.check(map)){return this}else{return null}};DefaultKeyValueDiffer.prototype.onDestroy=function(){};DefaultKeyValueDiffer.prototype.check=function(map){var _this=this;this._reset();var records=this._records;var oldSeqRecord=this._mapHead;var lastOldSeqRecord=null;var lastNewSeqRecord=null;var seqChanged=false;this._forEach(map,function(value,key){var newSeqRecord;if(oldSeqRecord!==null&&key===oldSeqRecord.key){newSeqRecord=oldSeqRecord;if(!lang_1.looseIdentical(value,oldSeqRecord.currentValue)){oldSeqRecord.previousValue=oldSeqRecord.currentValue;oldSeqRecord.currentValue=value;_this._addToChanges(oldSeqRecord)}}else{seqChanged=true;if(oldSeqRecord!==null){oldSeqRecord._next=null;_this._removeFromSeq(lastOldSeqRecord,oldSeqRecord);_this._addToRemovals(oldSeqRecord)}if(records.has(key)){newSeqRecord=records.get(key)}else{newSeqRecord=new KVChangeRecord(key);records.set(key,newSeqRecord);newSeqRecord.currentValue=value;_this._addToAdditions(newSeqRecord)}}if(seqChanged){if(_this._isInRemovals(newSeqRecord)){_this._removeFromRemovals(newSeqRecord)}if(lastNewSeqRecord==null){_this._mapHead=newSeqRecord}else{lastNewSeqRecord._next=newSeqRecord}}lastOldSeqRecord=oldSeqRecord;lastNewSeqRecord=newSeqRecord;oldSeqRecord=oldSeqRecord===null?null:oldSeqRecord._next});this._truncate(lastOldSeqRecord,oldSeqRecord);return this.isDirty};DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var record;for(record=this._previousMapHead=this._mapHead;record!==null;record=record._next){record._nextPrevious=record._next}for(record=this._changesHead;record!==null;record=record._nextChanged){record.previousValue=record.currentValue}for(record=this._additionsHead;record!=null;record=record._nextAdded){record.previousValue=record.currentValue}this._changesHead=this._changesTail=null;this._additionsHead=this._additionsTail=null;this._removalsHead=this._removalsTail=null}};DefaultKeyValueDiffer.prototype._truncate=function(lastRecord,record){while(record!==null){if(lastRecord===null){this._mapHead=null}else{lastRecord._next=null}var nextRecord=record._next;this._addToRemovals(record);lastRecord=record;record=nextRecord}for(var rec=this._removalsHead;rec!==null;rec=rec._nextRemoved){rec.previousValue=rec.currentValue;rec.currentValue=null;this._records.delete(rec.key)}};DefaultKeyValueDiffer.prototype._isInRemovals=function(record){return record===this._removalsHead||record._nextRemoved!==null||record._prevRemoved!==null};DefaultKeyValueDiffer.prototype._addToRemovals=function(record){if(this._removalsHead===null){this._removalsHead=this._removalsTail=record}else{this._removalsTail._nextRemoved=record;record._prevRemoved=this._removalsTail;this._removalsTail=record}};DefaultKeyValueDiffer.prototype._removeFromSeq=function(prev,record){var next=record._next;if(prev===null){this._mapHead=next}else{prev._next=next}};DefaultKeyValueDiffer.prototype._removeFromRemovals=function(record){var prev=record._prevRemoved;var next=record._nextRemoved;if(prev===null){this._removalsHead=next}else{prev._nextRemoved=next}if(next===null){this._removalsTail=prev}else{next._prevRemoved=prev}record._prevRemoved=record._nextRemoved=null};DefaultKeyValueDiffer.prototype._addToAdditions=function(record){if(this._additionsHead===null){this._additionsHead=this._additionsTail=record}else{this._additionsTail._nextAdded=record;this._additionsTail=record}};DefaultKeyValueDiffer.prototype._addToChanges=function(record){if(this._changesHead===null){this._changesHead=this._changesTail=record}else{this._changesTail._nextChanged=record;this._changesTail=record}};DefaultKeyValueDiffer.prototype.toString=function(){var items=[];var previous=[];var changes=[];var additions=[];var removals=[];var record;for(record=this._mapHead;record!==null;record=record._next){items.push(lang_1.stringify(record))}for(record=this._previousMapHead;record!==null;record=record._nextPrevious){previous.push(lang_1.stringify(record))}for(record=this._changesHead;record!==null;record=record._nextChanged){changes.push(lang_1.stringify(record))}for(record=this._additionsHead;record!==null;record=record._nextAdded){additions.push(lang_1.stringify(record))}for(record=this._removalsHead;record!==null;record=record._nextRemoved){removals.push(lang_1.stringify(record))}return"map: "+items.join(", ")+"\n"+"previous: "+previous.join(", ")+"\n"+"additions: "+additions.join(", ")+"\n"+"changes: "+changes.join(", ")+"\n"+"removals: "+removals.join(", ")+"\n"};DefaultKeyValueDiffer.prototype._forEach=function(obj,fn){if(obj instanceof Map){obj.forEach(fn)}else{collection_1.StringMapWrapper.forEach(obj,fn)}};return DefaultKeyValueDiffer}();exports.DefaultKeyValueDiffer=DefaultKeyValueDiffer;var KVChangeRecord=function(){function KVChangeRecord(key){this.key=key;this.previousValue=null;this.currentValue=null;this._nextPrevious=null;this._next=null;this._nextAdded=null;this._nextRemoved=null;this._prevRemoved=null;this._nextChanged=null}KVChangeRecord.prototype.toString=function(){return lang_1.looseIdentical(this.previousValue,this.currentValue)?lang_1.stringify(this.key):lang_1.stringify(this.key)+"["+lang_1.stringify(this.previousValue)+"->"+lang_1.stringify(this.currentValue)+"]"};return KVChangeRecord}();exports.KVChangeRecord=KVChangeRecord;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/parser/ast",["angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var collection_1=require("angular2/src/facade/collection");var AST=function(){function AST(){}AST.prototype.visit=function(visitor){return null};AST.prototype.toString=function(){return"AST"};return AST}();exports.AST=AST;var Quote=function(_super){__extends(Quote,_super);function Quote(prefix,uninterpretedExpression,location){_super.call(this);this.prefix=prefix;this.uninterpretedExpression=uninterpretedExpression;this.location=location}Quote.prototype.visit=function(visitor){return visitor.visitQuote(this)};Quote.prototype.toString=function(){return"Quote"};return Quote}(AST);exports.Quote=Quote;var EmptyExpr=function(_super){__extends(EmptyExpr,_super);function EmptyExpr(){_super.apply(this,arguments)}EmptyExpr.prototype.visit=function(visitor){};return EmptyExpr}(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=function(_super){__extends(ImplicitReceiver,_super);function ImplicitReceiver(){_super.apply(this,arguments)}ImplicitReceiver.prototype.visit=function(visitor){return visitor.visitImplicitReceiver(this)};return ImplicitReceiver}(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=function(_super){__extends(Chain,_super);function Chain(expressions){_super.call(this);this.expressions=expressions}Chain.prototype.visit=function(visitor){return visitor.visitChain(this)};return Chain}(AST);exports.Chain=Chain;var Conditional=function(_super){__extends(Conditional,_super);function Conditional(condition,trueExp,falseExp){_super.call(this);this.condition=condition;this.trueExp=trueExp;this.falseExp=falseExp}Conditional.prototype.visit=function(visitor){return visitor.visitConditional(this)};return Conditional}(AST);exports.Conditional=Conditional;var PropertyRead=function(_super){__extends(PropertyRead,_super);function PropertyRead(receiver,name,getter){_super.call(this);this.receiver=receiver;this.name=name;this.getter=getter}PropertyRead.prototype.visit=function(visitor){return visitor.visitPropertyRead(this)};return PropertyRead}(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=function(_super){__extends(PropertyWrite,_super);function PropertyWrite(receiver,name,setter,value){_super.call(this);this.receiver=receiver;this.name=name;this.setter=setter;this.value=value}PropertyWrite.prototype.visit=function(visitor){return visitor.visitPropertyWrite(this)};return PropertyWrite}(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=function(_super){__extends(SafePropertyRead,_super);function SafePropertyRead(receiver,name,getter){_super.call(this);this.receiver=receiver;this.name=name;this.getter=getter}SafePropertyRead.prototype.visit=function(visitor){return visitor.visitSafePropertyRead(this)};return SafePropertyRead}(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=function(_super){__extends(KeyedRead,_super);function KeyedRead(obj,key){_super.call(this);this.obj=obj;this.key=key}KeyedRead.prototype.visit=function(visitor){return visitor.visitKeyedRead(this)};return KeyedRead}(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=function(_super){__extends(KeyedWrite,_super);function KeyedWrite(obj,key,value){_super.call(this);this.obj=obj;this.key=key;this.value=value}KeyedWrite.prototype.visit=function(visitor){return visitor.visitKeyedWrite(this)};return KeyedWrite}(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=function(_super){__extends(BindingPipe,_super);function BindingPipe(exp,name,args){_super.call(this);this.exp=exp;this.name=name;this.args=args}BindingPipe.prototype.visit=function(visitor){return visitor.visitPipe(this)};return BindingPipe}(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=function(_super){__extends(LiteralPrimitive,_super);function LiteralPrimitive(value){_super.call(this);this.value=value}LiteralPrimitive.prototype.visit=function(visitor){return visitor.visitLiteralPrimitive(this)};return LiteralPrimitive}(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=function(_super){__extends(LiteralArray,_super);function LiteralArray(expressions){_super.call(this);this.expressions=expressions}LiteralArray.prototype.visit=function(visitor){return visitor.visitLiteralArray(this)};return LiteralArray}(AST);exports.LiteralArray=LiteralArray;var LiteralMap=function(_super){__extends(LiteralMap,_super);function LiteralMap(keys,values){_super.call(this);this.keys=keys;this.values=values}LiteralMap.prototype.visit=function(visitor){return visitor.visitLiteralMap(this)};return LiteralMap}(AST);exports.LiteralMap=LiteralMap;var Interpolation=function(_super){__extends(Interpolation,_super);function Interpolation(strings,expressions){_super.call(this);this.strings=strings;this.expressions=expressions}Interpolation.prototype.visit=function(visitor){return visitor.visitInterpolation(this)};return Interpolation}(AST);exports.Interpolation=Interpolation;var Binary=function(_super){__extends(Binary,_super);function Binary(operation,left,right){_super.call(this);this.operation=operation;this.left=left;this.right=right}Binary.prototype.visit=function(visitor){return visitor.visitBinary(this)};return Binary}(AST);exports.Binary=Binary;var PrefixNot=function(_super){__extends(PrefixNot,_super);function PrefixNot(expression){_super.call(this);this.expression=expression}PrefixNot.prototype.visit=function(visitor){return visitor.visitPrefixNot(this)};return PrefixNot}(AST);exports.PrefixNot=PrefixNot;var MethodCall=function(_super){__extends(MethodCall,_super);function MethodCall(receiver,name,fn,args){_super.call(this);this.receiver=receiver;this.name=name;this.fn=fn;this.args=args}MethodCall.prototype.visit=function(visitor){return visitor.visitMethodCall(this)};return MethodCall}(AST);exports.MethodCall=MethodCall;var SafeMethodCall=function(_super){__extends(SafeMethodCall,_super);function SafeMethodCall(receiver,name,fn,args){_super.call(this);this.receiver=receiver;this.name=name;this.fn=fn;this.args=args}SafeMethodCall.prototype.visit=function(visitor){return visitor.visitSafeMethodCall(this)};return SafeMethodCall}(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=function(_super){__extends(FunctionCall,_super);function FunctionCall(target,args){_super.call(this);this.target=target;this.args=args}FunctionCall.prototype.visit=function(visitor){return visitor.visitFunctionCall(this)};return FunctionCall}(AST);exports.FunctionCall=FunctionCall;var ASTWithSource=function(_super){__extends(ASTWithSource,_super);function ASTWithSource(ast,source,location){_super.call(this);this.ast=ast;this.source=source;this.location=location}ASTWithSource.prototype.visit=function(visitor){return this.ast.visit(visitor)};ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location};return ASTWithSource}(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=function(){function TemplateBinding(key,keyIsVar,name,expression){this.key=key;this.keyIsVar=keyIsVar;this.name=name;this.expression=expression}return TemplateBinding}();exports.TemplateBinding=TemplateBinding;var RecursiveAstVisitor=function(){function RecursiveAstVisitor(){}RecursiveAstVisitor.prototype.visitBinary=function(ast){ast.left.visit(this);ast.right.visit(this);return null};RecursiveAstVisitor.prototype.visitChain=function(ast){return this.visitAll(ast.expressions)};RecursiveAstVisitor.prototype.visitConditional=function(ast){ast.condition.visit(this);ast.trueExp.visit(this);ast.falseExp.visit(this);return null};RecursiveAstVisitor.prototype.visitPipe=function(ast){ast.exp.visit(this);this.visitAll(ast.args);return null};RecursiveAstVisitor.prototype.visitFunctionCall=function(ast){ast.target.visit(this);this.visitAll(ast.args);return null};RecursiveAstVisitor.prototype.visitImplicitReceiver=function(ast){return null};RecursiveAstVisitor.prototype.visitInterpolation=function(ast){return this.visitAll(ast.expressions)};RecursiveAstVisitor.prototype.visitKeyedRead=function(ast){ast.obj.visit(this);ast.key.visit(this);return null};RecursiveAstVisitor.prototype.visitKeyedWrite=function(ast){ast.obj.visit(this);ast.key.visit(this);ast.value.visit(this);return null};RecursiveAstVisitor.prototype.visitLiteralArray=function(ast){return this.visitAll(ast.expressions)};RecursiveAstVisitor.prototype.visitLiteralMap=function(ast){return this.visitAll(ast.values)};RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(ast){return null};RecursiveAstVisitor.prototype.visitMethodCall=function(ast){ast.receiver.visit(this);return this.visitAll(ast.args)};RecursiveAstVisitor.prototype.visitPrefixNot=function(ast){ast.expression.visit(this);return null};RecursiveAstVisitor.prototype.visitPropertyRead=function(ast){ast.receiver.visit(this);return null};RecursiveAstVisitor.prototype.visitPropertyWrite=function(ast){ast.receiver.visit(this);ast.value.visit(this);return null};RecursiveAstVisitor.prototype.visitSafePropertyRead=function(ast){ast.receiver.visit(this);return null};RecursiveAstVisitor.prototype.visitSafeMethodCall=function(ast){ast.receiver.visit(this);return this.visitAll(ast.args)};RecursiveAstVisitor.prototype.visitAll=function(asts){var _this=this;asts.forEach(function(ast){return ast.visit(_this)});return null};RecursiveAstVisitor.prototype.visitQuote=function(ast){return null};return RecursiveAstVisitor}();exports.RecursiveAstVisitor=RecursiveAstVisitor;var AstTransformer=function(){function AstTransformer(){}AstTransformer.prototype.visitImplicitReceiver=function(ast){return ast};AstTransformer.prototype.visitInterpolation=function(ast){return new Interpolation(ast.strings,this.visitAll(ast.expressions))};AstTransformer.prototype.visitLiteralPrimitive=function(ast){return new LiteralPrimitive(ast.value)};AstTransformer.prototype.visitPropertyRead=function(ast){return new PropertyRead(ast.receiver.visit(this),ast.name,ast.getter)};AstTransformer.prototype.visitPropertyWrite=function(ast){return new PropertyWrite(ast.receiver.visit(this),ast.name,ast.setter,ast.value)};AstTransformer.prototype.visitSafePropertyRead=function(ast){return new SafePropertyRead(ast.receiver.visit(this),ast.name,ast.getter)};AstTransformer.prototype.visitMethodCall=function(ast){return new MethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args))};AstTransformer.prototype.visitSafeMethodCall=function(ast){return new SafeMethodCall(ast.receiver.visit(this),ast.name,ast.fn,this.visitAll(ast.args))};AstTransformer.prototype.visitFunctionCall=function(ast){return new FunctionCall(ast.target.visit(this),this.visitAll(ast.args))};AstTransformer.prototype.visitLiteralArray=function(ast){return new LiteralArray(this.visitAll(ast.expressions))};AstTransformer.prototype.visitLiteralMap=function(ast){return new LiteralMap(ast.keys,this.visitAll(ast.values))};AstTransformer.prototype.visitBinary=function(ast){return new Binary(ast.operation,ast.left.visit(this),ast.right.visit(this))};AstTransformer.prototype.visitPrefixNot=function(ast){return new PrefixNot(ast.expression.visit(this))};AstTransformer.prototype.visitConditional=function(ast){return new Conditional(ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))};AstTransformer.prototype.visitPipe=function(ast){return new BindingPipe(ast.exp.visit(this),ast.name,this.visitAll(ast.args))};AstTransformer.prototype.visitKeyedRead=function(ast){return new KeyedRead(ast.obj.visit(this),ast.key.visit(this))};AstTransformer.prototype.visitKeyedWrite=function(ast){return new KeyedWrite(ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))};AstTransformer.prototype.visitAll=function(asts){var res=collection_1.ListWrapper.createFixedSize(asts.length);for(var i=0;i<asts.length;++i){res[i]=asts[i].visit(this)}return res};AstTransformer.prototype.visitChain=function(ast){return new Chain(this.visitAll(ast.expressions))};AstTransformer.prototype.visitQuote=function(ast){return new Quote(ast.prefix,ast.uninterpretedExpression,ast.location)};return AstTransformer}();exports.AstTransformer=AstTransformer;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/parser/lexer",["angular2/src/core/di/decorators","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var decorators_1=require("angular2/src/core/di/decorators");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");(function(TokenType){TokenType[TokenType["Character"]=0]="Character";TokenType[TokenType["Identifier"]=1]="Identifier";TokenType[TokenType["Keyword"]=2]="Keyword";TokenType[TokenType["String"]=3]="String";TokenType[TokenType["Operator"]=4]="Operator";TokenType[TokenType["Number"]=5]="Number"})(exports.TokenType||(exports.TokenType={}));var TokenType=exports.TokenType;var Lexer=function(){function Lexer(){}Lexer.prototype.tokenize=function(text){var scanner=new _Scanner(text);var tokens=[];var token=scanner.scanToken();while(token!=null){tokens.push(token);token=scanner.scanToken()}return tokens};Lexer=__decorate([decorators_1.Injectable(),__metadata("design:paramtypes",[])],Lexer);return Lexer}();exports.Lexer=Lexer;var Token=function(){function Token(index,type,numValue,strValue){this.index=index;this.type=type;this.numValue=numValue;this.strValue=strValue}Token.prototype.isCharacter=function(code){return this.type==TokenType.Character&&this.numValue==code};Token.prototype.isNumber=function(){return this.type==TokenType.Number};Token.prototype.isString=function(){return this.type==TokenType.String};Token.prototype.isOperator=function(operater){return this.type==TokenType.Operator&&this.strValue==operater};Token.prototype.isIdentifier=function(){return this.type==TokenType.Identifier};Token.prototype.isKeyword=function(){return this.type==TokenType.Keyword};Token.prototype.isKeywordVar=function(){return this.type==TokenType.Keyword&&this.strValue=="var"};Token.prototype.isKeywordNull=function(){return this.type==TokenType.Keyword&&this.strValue=="null"};Token.prototype.isKeywordUndefined=function(){return this.type==TokenType.Keyword&&this.strValue=="undefined"};Token.prototype.isKeywordTrue=function(){return this.type==TokenType.Keyword&&this.strValue=="true"};Token.prototype.isKeywordFalse=function(){return this.type==TokenType.Keyword&&this.strValue=="false"};Token.prototype.toNumber=function(){return this.type==TokenType.Number?this.numValue:-1};Token.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}};return Token}();exports.Token=Token;function newCharacterToken(index,code){return new Token(index,TokenType.Character,code,lang_1.StringWrapper.fromCharCode(code))}function newIdentifierToken(index,text){return new Token(index,TokenType.Identifier,0,text)}function newKeywordToken(index,text){return new Token(index,TokenType.Keyword,0,text)}function newOperatorToken(index,text){return new Token(index,TokenType.Operator,0,text)}function newStringToken(index,text){return new Token(index,TokenType.String,0,text)}function newNumberToken(index,n){return new Token(index,TokenType.Number,n,"")}exports.EOF=new Token(-1,TokenType.Character,0,"");exports.$EOF=0;exports.$TAB=9;exports.$LF=10;exports.$VTAB=11;exports.$FF=12;exports.$CR=13;exports.$SPACE=32;exports.$BANG=33;exports.$DQ=34;exports.$HASH=35;exports.$$=36;exports.$PERCENT=37;exports.$AMPERSAND=38;exports.$SQ=39;exports.$LPAREN=40;exports.$RPAREN=41;exports.$STAR=42;exports.$PLUS=43;exports.$COMMA=44;exports.$MINUS=45;exports.$PERIOD=46;exports.$SLASH=47;exports.$COLON=58;exports.$SEMICOLON=59;exports.$LT=60;exports.$EQ=61;exports.$GT=62;exports.$QUESTION=63;var $0=48;var $9=57;var $A=65,$E=69,$Z=90;exports.$LBRACKET=91;exports.$BACKSLASH=92;exports.$RBRACKET=93;var $CARET=94;var $_=95;var $a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$z=122;exports.$LBRACE=123;exports.$BAR=124;exports.$RBRACE=125;var $NBSP=160;var ScannerError=function(_super){__extends(ScannerError,_super);function ScannerError(message){_super.call(this);this.message=message}ScannerError.prototype.toString=function(){return this.message};return ScannerError}(exceptions_1.BaseException);exports.ScannerError=ScannerError;var _Scanner=function(){function _Scanner(input){this.input=input;this.peek=0;this.index=-1;this.length=input.length;this.advance()}_Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?exports.$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)};_Scanner.prototype.scanToken=function(){var input=this.input,length=this.length,peek=this.peek,index=this.index;while(peek<=exports.$SPACE){if(++index>=length){peek=exports.$EOF;break}else{peek=lang_1.StringWrapper.charCodeAt(input,index)}}this.peek=peek;this.index=index;if(index>=length){return null}if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);var start=index;switch(peek){case exports.$PERIOD:this.advance();return isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,exports.$PERIOD);case exports.$LPAREN:case exports.$RPAREN:case exports.$LBRACE:case exports.$RBRACE:case exports.$LBRACKET:case exports.$RBRACKET:case exports.$COMMA:case exports.$COLON:case exports.$SEMICOLON:return this.scanCharacter(start,peek);case exports.$SQ:case exports.$DQ:return this.scanString();case exports.$HASH:case exports.$PLUS:case exports.$MINUS:case exports.$STAR:case exports.$SLASH:case exports.$PERCENT:case $CARET:return this.scanOperator(start,lang_1.StringWrapper.fromCharCode(peek));case exports.$QUESTION:return this.scanComplexOperator(start,"?",exports.$PERIOD,".");case exports.$LT:case exports.$GT:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,"=");case exports.$BANG:case exports.$EQ:return this.scanComplexOperator(start,lang_1.StringWrapper.fromCharCode(peek),exports.$EQ,"=",exports.$EQ,"=");case exports.$AMPERSAND:return this.scanComplexOperator(start,"&",exports.$AMPERSAND,"&");case exports.$BAR:return this.scanComplexOperator(start,"|",exports.$BAR,"|");case $NBSP:while(isWhitespace(this.peek))this.advance();return this.scanToken();
}this.error("Unexpected character ["+lang_1.StringWrapper.fromCharCode(peek)+"]",0);return null};_Scanner.prototype.scanCharacter=function(start,code){assert(this.peek==code);this.advance();return newCharacterToken(start,code)};_Scanner.prototype.scanOperator=function(start,str){assert(this.peek==lang_1.StringWrapper.charCodeAt(str,0));assert(collection_1.SetWrapper.has(OPERATORS,str));this.advance();return newOperatorToken(start,str)};_Scanner.prototype.scanComplexOperator=function(start,one,twoCode,two,threeCode,three){assert(this.peek==lang_1.StringWrapper.charCodeAt(one,0));this.advance();var str=one;if(this.peek==twoCode){this.advance();str+=two}if(lang_1.isPresent(threeCode)&&this.peek==threeCode){this.advance();str+=three}assert(collection_1.SetWrapper.has(OPERATORS,str));return newOperatorToken(start,str)};_Scanner.prototype.scanIdentifier=function(){assert(isIdentifierStart(this.peek));var start=this.index;this.advance();while(isIdentifierPart(this.peek))this.advance();var str=this.input.substring(start,this.index);if(collection_1.SetWrapper.has(KEYWORDS,str)){return newKeywordToken(start,str)}else{return newIdentifierToken(start,str)}};_Scanner.prototype.scanNumber=function(start){assert(isDigit(this.peek));var simple=this.index===start;this.advance();while(true){if(isDigit(this.peek)){}else if(this.peek==exports.$PERIOD){simple=false}else if(isExponentStart(this.peek)){this.advance();if(isExponentSign(this.peek))this.advance();if(!isDigit(this.peek))this.error("Invalid exponent",-1);simple=false}else{break}this.advance()}var str=this.input.substring(start,this.index);var value=simple?lang_1.NumberWrapper.parseIntAutoRadix(str):lang_1.NumberWrapper.parseFloat(str);return newNumberToken(start,value)};_Scanner.prototype.scanString=function(){assert(this.peek==exports.$SQ||this.peek==exports.$DQ);var start=this.index;var quote=this.peek;this.advance();var buffer;var marker=this.index;var input=this.input;while(this.peek!=quote){if(this.peek==exports.$BACKSLASH){if(buffer==null)buffer=new lang_1.StringJoiner;buffer.add(input.substring(marker,this.index));this.advance();var unescapedCode;if(this.peek==$u){var hex=input.substring(this.index+1,this.index+5);try{unescapedCode=lang_1.NumberWrapper.parseInt(hex,16)}catch(e){this.error("Invalid unicode escape [\\u"+hex+"]",0)}for(var i=0;i<5;i++){this.advance()}}else{unescapedCode=unescape(this.peek);this.advance()}buffer.add(lang_1.StringWrapper.fromCharCode(unescapedCode));marker=this.index}else if(this.peek==exports.$EOF){this.error("Unterminated quote",0)}else{this.advance()}}var last=input.substring(marker,this.index);this.advance();var unescaped=last;if(buffer!=null){buffer.add(last);unescaped=buffer.toString()}return newStringToken(start,unescaped)};_Scanner.prototype.error=function(message,offset){var position=this.index+offset;throw new ScannerError("Lexer Error: "+message+" at column "+position+" in expression ["+this.input+"]")};return _Scanner}();function isWhitespace(code){return code>=exports.$TAB&&code<=exports.$SPACE||code==$NBSP}function isIdentifierStart(code){return $a<=code&&code<=$z||$A<=code&&code<=$Z||code==$_||code==exports.$$}function isIdentifier(input){if(input.length==0)return false;var scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return false;scanner.advance();while(scanner.peek!==exports.$EOF){if(!isIdentifierPart(scanner.peek))return false;scanner.advance()}return true}exports.isIdentifier=isIdentifier;function isIdentifierPart(code){return $a<=code&&code<=$z||$A<=code&&code<=$Z||$0<=code&&code<=$9||code==$_||code==exports.$$}function isDigit(code){return $0<=code&&code<=$9}function isExponentStart(code){return code==$e||code==$E}function isExponentSign(code){return code==exports.$MINUS||code==exports.$PLUS}function unescape(code){switch(code){case $n:return exports.$LF;case $f:return exports.$FF;case $r:return exports.$CR;case $t:return exports.$TAB;case $v:return exports.$VTAB;default:return code}}var OPERATORS=collection_1.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]);var KEYWORDS=collection_1.SetWrapper.createFromList(["var","null","undefined","true","false","if","else"]);global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/parser/parser",["angular2/src/core/di/decorators","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/parser/lexer","angular2/src/core/reflection/reflection","angular2/src/core/change_detection/parser/ast"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var decorators_1=require("angular2/src/core/di/decorators");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var lexer_1=require("angular2/src/core/change_detection/parser/lexer");var reflection_1=require("angular2/src/core/reflection/reflection");var ast_1=require("angular2/src/core/change_detection/parser/ast");var _implicitReceiver=new ast_1.ImplicitReceiver;var INTERPOLATION_REGEXP=/\{\{(.*?)\}\}/g;var ParseException=function(_super){__extends(ParseException,_super);function ParseException(message,input,errLocation,ctxLocation){_super.call(this,"Parser Error: "+message+" "+errLocation+" ["+input+"] in "+ctxLocation)}return ParseException}(exceptions_1.BaseException);var Parser=function(){function Parser(_lexer,providedReflector){if(providedReflector===void 0){providedReflector=null}this._lexer=_lexer;this._reflector=lang_1.isPresent(providedReflector)?providedReflector:reflection_1.reflector}Parser.prototype.parseAction=function(input,location){this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input);var ast=new _ParseAST(input,location,tokens,this._reflector,true).parseChain();return new ast_1.ASTWithSource(ast,input,location)};Parser.prototype.parseBinding=function(input,location){var ast=this._parseBindingAst(input,location);return new ast_1.ASTWithSource(ast,input,location)};Parser.prototype.parseSimpleBinding=function(input,location){var ast=this._parseBindingAst(input,location);if(!SimpleExpressionChecker.check(ast)){throw new ParseException("Host binding expression can only contain field access and constants",input,location)}return new ast_1.ASTWithSource(ast,input,location)};Parser.prototype._parseBindingAst=function(input,location){var quote=this._parseQuote(input,location);if(lang_1.isPresent(quote)){return quote}this._checkNoInterpolation(input,location);var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,false).parseChain()};Parser.prototype._parseQuote=function(input,location){if(lang_1.isBlank(input))return null;var prefixSeparatorIndex=input.indexOf(":");if(prefixSeparatorIndex==-1)return null;var prefix=input.substring(0,prefixSeparatorIndex).trim();if(!lexer_1.isIdentifier(prefix))return null;var uninterpretedExpression=input.substring(prefixSeparatorIndex+1);return new ast_1.Quote(prefix,uninterpretedExpression,location)};Parser.prototype.parseTemplateBindings=function(input,location){var tokens=this._lexer.tokenize(input);return new _ParseAST(input,location,tokens,this._reflector,false).parseTemplateBindings()};Parser.prototype.parseInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length<=1){return null}var strings=[];var expressions=[];for(var i=0;i<parts.length;i++){var part=parts[i];if(i%2===0){strings.push(part)}else if(part.trim().length>0){var tokens=this._lexer.tokenize(part);var ast=new _ParseAST(input,location,tokens,this._reflector,false).parseChain();expressions.push(ast)}else{throw new ParseException("Blank expressions are not allowed in interpolated strings",input,"at column "+this._findInterpolationErrorColumn(parts,i)+" in",location)}}return new ast_1.ASTWithSource(new ast_1.Interpolation(strings,expressions),input,location)};Parser.prototype.wrapLiteralPrimitive=function(input,location){return new ast_1.ASTWithSource(new ast_1.LiteralPrimitive(input),input,location)};Parser.prototype._checkNoInterpolation=function(input,location){var parts=lang_1.StringWrapper.split(input,INTERPOLATION_REGEXP);if(parts.length>1){throw new ParseException("Got interpolation ({{}}) where expression was expected",input,"at column "+this._findInterpolationErrorColumn(parts,1)+" in",location)}};Parser.prototype._findInterpolationErrorColumn=function(parts,partInErrIdx){var errLocation="";for(var j=0;j<partInErrIdx;j++){errLocation+=j%2===0?parts[j]:"{{"+parts[j]+"}}"}return errLocation.length};Parser=__decorate([decorators_1.Injectable(),__metadata("design:paramtypes",[lexer_1.Lexer,reflection_1.Reflector])],Parser);return Parser}();exports.Parser=Parser;var _ParseAST=function(){function _ParseAST(input,location,tokens,reflector,parseAction){this.input=input;this.location=location;this.tokens=tokens;this.reflector=reflector;this.parseAction=parseAction;this.index=0}_ParseAST.prototype.peek=function(offset){var i=this.index+offset;return i<this.tokens.length?this.tokens[i]:lexer_1.EOF};Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:true,configurable:true});Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:true,configurable:true});_ParseAST.prototype.advance=function(){this.index++};_ParseAST.prototype.optionalCharacter=function(code){if(this.next.isCharacter(code)){this.advance();return true}else{return false}};_ParseAST.prototype.optionalKeywordVar=function(){if(this.peekKeywordVar()){this.advance();return true}else{return false}};_ParseAST.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator("#")};_ParseAST.prototype.expectCharacter=function(code){if(this.optionalCharacter(code))return;this.error("Missing expected "+lang_1.StringWrapper.fromCharCode(code))};_ParseAST.prototype.optionalOperator=function(op){if(this.next.isOperator(op)){this.advance();return true}else{return false}};_ParseAST.prototype.expectOperator=function(operator){if(this.optionalOperator(operator))return;this.error("Missing expected operator "+operator)};_ParseAST.prototype.expectIdentifierOrKeyword=function(){var n=this.next;if(!n.isIdentifier()&&!n.isKeyword()){this.error("Unexpected token "+n+", expected identifier or keyword")}this.advance();return n.toString()};_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var n=this.next;if(!n.isIdentifier()&&!n.isKeyword()&&!n.isString()){this.error("Unexpected token "+n+", expected identifier, keyword, or string")}this.advance();return n.toString()};_ParseAST.prototype.parseChain=function(){var exprs=[];while(this.index<this.tokens.length){var expr=this.parsePipe();exprs.push(expr);if(this.optionalCharacter(lexer_1.$SEMICOLON)){if(!this.parseAction){this.error("Binding expression cannot contain chained expression")}while(this.optionalCharacter(lexer_1.$SEMICOLON)){}}else if(this.index<this.tokens.length){this.error("Unexpected token '"+this.next+"'")}}if(exprs.length==0)return new ast_1.EmptyExpr;if(exprs.length==1)return exprs[0];return new ast_1.Chain(exprs)};_ParseAST.prototype.parsePipe=function(){var result=this.parseExpression();if(this.optionalOperator("|")){if(this.parseAction){this.error("Cannot have a pipe in an action expression")}do{var name=this.expectIdentifierOrKeyword();var args=[];while(this.optionalCharacter(lexer_1.$COLON)){args.push(this.parseExpression())}result=new ast_1.BindingPipe(result,name,args)}while(this.optionalOperator("|"))}return result};_ParseAST.prototype.parseExpression=function(){return this.parseConditional()};_ParseAST.prototype.parseConditional=function(){var start=this.inputIndex;var result=this.parseLogicalOr();if(this.optionalOperator("?")){var yes=this.parsePipe();if(!this.optionalCharacter(lexer_1.$COLON)){var end=this.inputIndex;var expression=this.input.substring(start,end);this.error("Conditional expression "+expression+" requires all 3 expressions")}var no=this.parsePipe();return new ast_1.Conditional(result,yes,no)}else{return result}};_ParseAST.prototype.parseLogicalOr=function(){var result=this.parseLogicalAnd();while(this.optionalOperator("||")){result=new ast_1.Binary("||",result,this.parseLogicalAnd())}return result};_ParseAST.prototype.parseLogicalAnd=function(){var result=this.parseEquality();while(this.optionalOperator("&&")){result=new ast_1.Binary("&&",result,this.parseEquality())}return result};_ParseAST.prototype.parseEquality=function(){var result=this.parseRelational();while(true){if(this.optionalOperator("==")){result=new ast_1.Binary("==",result,this.parseRelational())}else if(this.optionalOperator("===")){result=new ast_1.Binary("===",result,this.parseRelational())}else if(this.optionalOperator("!=")){result=new ast_1.Binary("!=",result,this.parseRelational())}else if(this.optionalOperator("!==")){result=new ast_1.Binary("!==",result,this.parseRelational())}else{return result}}};_ParseAST.prototype.parseRelational=function(){var result=this.parseAdditive();while(true){if(this.optionalOperator("<")){result=new ast_1.Binary("<",result,this.parseAdditive())}else if(this.optionalOperator(">")){result=new ast_1.Binary(">",result,this.parseAdditive())}else if(this.optionalOperator("<=")){result=new ast_1.Binary("<=",result,this.parseAdditive())}else if(this.optionalOperator(">=")){result=new ast_1.Binary(">=",result,this.parseAdditive())}else{return result}}};_ParseAST.prototype.parseAdditive=function(){var result=this.parseMultiplicative();while(true){if(this.optionalOperator("+")){result=new ast_1.Binary("+",result,this.parseMultiplicative())}else if(this.optionalOperator("-")){result=new ast_1.Binary("-",result,this.parseMultiplicative())}else{return result}}};_ParseAST.prototype.parseMultiplicative=function(){var result=this.parsePrefix();while(true){if(this.optionalOperator("*")){result=new ast_1.Binary("*",result,this.parsePrefix())}else if(this.optionalOperator("%")){result=new ast_1.Binary("%",result,this.parsePrefix())}else if(this.optionalOperator("/")){result=new ast_1.Binary("/",result,this.parsePrefix())}else{return result}}};_ParseAST.prototype.parsePrefix=function(){if(this.optionalOperator("+")){return this.parsePrefix()}else if(this.optionalOperator("-")){return new ast_1.Binary("-",new ast_1.LiteralPrimitive(0),this.parsePrefix())}else if(this.optionalOperator("!")){return new ast_1.PrefixNot(this.parsePrefix())}else{return this.parseCallChain()}};_ParseAST.prototype.parseCallChain=function(){var result=this.parsePrimary();while(true){if(this.optionalCharacter(lexer_1.$PERIOD)){result=this.parseAccessMemberOrMethodCall(result,false)}else if(this.optionalOperator("?.")){result=this.parseAccessMemberOrMethodCall(result,true)}else if(this.optionalCharacter(lexer_1.$LBRACKET)){var key=this.parsePipe();this.expectCharacter(lexer_1.$RBRACKET);if(this.optionalOperator("=")){var value=this.parseConditional();result=new ast_1.KeyedWrite(result,key,value)}else{result=new ast_1.KeyedRead(result,key)}}else if(this.optionalCharacter(lexer_1.$LPAREN)){var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN);result=new ast_1.FunctionCall(result,args)}else{return result}}};_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(lexer_1.$LPAREN)){var result=this.parsePipe();this.expectCharacter(lexer_1.$RPAREN);return result}else if(this.next.isKeywordNull()||this.next.isKeywordUndefined()){this.advance();return new ast_1.LiteralPrimitive(null)}else if(this.next.isKeywordTrue()){this.advance();return new ast_1.LiteralPrimitive(true)}else if(this.next.isKeywordFalse()){this.advance();return new ast_1.LiteralPrimitive(false)}else if(this.optionalCharacter(lexer_1.$LBRACKET)){var elements=this.parseExpressionList(lexer_1.$RBRACKET);this.expectCharacter(lexer_1.$RBRACKET);return new ast_1.LiteralArray(elements)}else if(this.next.isCharacter(lexer_1.$LBRACE)){return this.parseLiteralMap()}else if(this.next.isIdentifier()){return this.parseAccessMemberOrMethodCall(_implicitReceiver,false)}else if(this.next.isNumber()){var value=this.next.toNumber();this.advance();return new ast_1.LiteralPrimitive(value)}else if(this.next.isString()){var literalValue=this.next.toString();this.advance();return new ast_1.LiteralPrimitive(literalValue)}else if(this.index>=this.tokens.length){this.error("Unexpected end of expression: "+this.input)}else{this.error("Unexpected token "+this.next)}throw new exceptions_1.BaseException("Fell through all cases in parsePrimary")};_ParseAST.prototype.parseExpressionList=function(terminator){var result=[];if(!this.next.isCharacter(terminator)){do{result.push(this.parsePipe())}while(this.optionalCharacter(lexer_1.$COMMA))}return result};_ParseAST.prototype.parseLiteralMap=function(){var keys=[];var values=[];this.expectCharacter(lexer_1.$LBRACE);if(!this.optionalCharacter(lexer_1.$RBRACE)){do{var key=this.expectIdentifierOrKeywordOrString();keys.push(key);this.expectCharacter(lexer_1.$COLON);values.push(this.parsePipe())}while(this.optionalCharacter(lexer_1.$COMMA));this.expectCharacter(lexer_1.$RBRACE)}return new ast_1.LiteralMap(keys,values)};_ParseAST.prototype.parseAccessMemberOrMethodCall=function(receiver,isSafe){if(isSafe===void 0){isSafe=false}var id=this.expectIdentifierOrKeyword();if(this.optionalCharacter(lexer_1.$LPAREN)){var args=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN);var fn=this.reflector.method(id);return isSafe?new ast_1.SafeMethodCall(receiver,id,fn,args):new ast_1.MethodCall(receiver,id,fn,args)}else{if(isSafe){if(this.optionalOperator("=")){this.error("The '?.' operator cannot be used in the assignment")}else{return new ast_1.SafePropertyRead(receiver,id,this.reflector.getter(id))}}else{if(this.optionalOperator("=")){if(!this.parseAction){this.error("Bindings cannot contain assignments")}var value=this.parseConditional();return new ast_1.PropertyWrite(receiver,id,this.reflector.setter(id),value)}else{return new ast_1.PropertyRead(receiver,id,this.reflector.getter(id))}}}return null};_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(lexer_1.$RPAREN))return[];var positionals=[];do{positionals.push(this.parsePipe())}while(this.optionalCharacter(lexer_1.$COMMA));return positionals};_ParseAST.prototype.parseBlockContent=function(){if(!this.parseAction){this.error("Binding expression cannot contain chained expression")}var exprs=[];while(this.index<this.tokens.length&&!this.next.isCharacter(lexer_1.$RBRACE)){var expr=this.parseExpression();exprs.push(expr);if(this.optionalCharacter(lexer_1.$SEMICOLON)){while(this.optionalCharacter(lexer_1.$SEMICOLON)){}}}if(exprs.length==0)return new ast_1.EmptyExpr;if(exprs.length==1)return exprs[0];return new ast_1.Chain(exprs)};_ParseAST.prototype.expectTemplateBindingKey=function(){var result="";var operatorFound=false;do{result+=this.expectIdentifierOrKeywordOrString();operatorFound=this.optionalOperator("-");if(operatorFound){result+="-"}}while(operatorFound);return result.toString()};_ParseAST.prototype.parseTemplateBindings=function(){var bindings=[];var prefix=null;while(this.index<this.tokens.length){var keyIsVar=this.optionalKeywordVar();var key=this.expectTemplateBindingKey();if(!keyIsVar){if(prefix==null){prefix=key}else{key=prefix+key[0].toUpperCase()+key.substring(1)}}this.optionalCharacter(lexer_1.$COLON);var name=null;var expression=null;if(keyIsVar){if(this.optionalOperator("=")){name=this.expectTemplateBindingKey()}else{name="$implicit"}}else if(this.next!==lexer_1.EOF&&!this.peekKeywordVar()){var start=this.inputIndex;var ast=this.parsePipe();var source=this.input.substring(start,this.inputIndex);expression=new ast_1.ASTWithSource(ast,source,this.location)}bindings.push(new ast_1.TemplateBinding(key,keyIsVar,name,expression));if(!this.optionalCharacter(lexer_1.$SEMICOLON)){this.optionalCharacter(lexer_1.$COMMA)}}return bindings};_ParseAST.prototype.error=function(message,index){if(index===void 0){index=null}if(lang_1.isBlank(index))index=this.index;var location=index<this.tokens.length?"at column "+(this.tokens[index].index+1)+" in":"at the end of the expression";throw new ParseException(message,this.input,location,this.location)};return _ParseAST}();exports._ParseAST=_ParseAST;var SimpleExpressionChecker=function(){function SimpleExpressionChecker(){this.simple=true}SimpleExpressionChecker.check=function(ast){var s=new SimpleExpressionChecker;ast.visit(s);return s.simple};SimpleExpressionChecker.prototype.visitImplicitReceiver=function(ast){};SimpleExpressionChecker.prototype.visitInterpolation=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(ast){};SimpleExpressionChecker.prototype.visitPropertyRead=function(ast){};SimpleExpressionChecker.prototype.visitPropertyWrite=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitSafePropertyRead=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitMethodCall=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitSafeMethodCall=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitFunctionCall=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitLiteralArray=function(ast){this.visitAll(ast.expressions)};SimpleExpressionChecker.prototype.visitLiteralMap=function(ast){this.visitAll(ast.values)};SimpleExpressionChecker.prototype.visitBinary=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitPrefixNot=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitConditional=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitPipe=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitKeyedRead=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitKeyedWrite=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitAll=function(asts){var res=collection_1.ListWrapper.createFixedSize(asts.length);for(var i=0;i<asts.length;++i){res[i]=asts[i].visit(this)}return res};SimpleExpressionChecker.prototype.visitChain=function(ast){this.simple=false};SimpleExpressionChecker.prototype.visitQuote=function(ast){this.simple=false};return SimpleExpressionChecker}();global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/parser/locals",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var Locals=function(){function Locals(parent,current){this.parent=parent;this.current=current}Locals.prototype.contains=function(name){if(this.current.has(name)){return true}if(lang_1.isPresent(this.parent)){return this.parent.contains(name)}return false};Locals.prototype.get=function(name){if(this.current.has(name)){return this.current.get(name)}if(lang_1.isPresent(this.parent)){return this.parent.get(name)}throw new exceptions_1.BaseException("Cannot find '"+name+"'")};Locals.prototype.set=function(name,value){if(this.current.has(name)){this.current.set(name,value)}else{throw new exceptions_1.BaseException("Setting of new keys post-construction is not supported. Key: "+name+".")}};Locals.prototype.clearLocalValues=function(){collection_1.MapWrapper.clearValues(this.current)};return Locals}();exports.Locals=Locals;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/exceptions",["angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var exceptions_1=require("angular2/src/facade/exceptions");var ExpressionChangedAfterItHasBeenCheckedException=function(_super){__extends(ExpressionChangedAfterItHasBeenCheckedException,_super);function ExpressionChangedAfterItHasBeenCheckedException(exp,oldValue,currValue,context){_super.call(this,"Expression '"+exp+"' has changed after it was checked. "+("Previous value: '"+oldValue+"'. Current value: '"+currValue+"'"))}return ExpressionChangedAfterItHasBeenCheckedException}(exceptions_1.BaseException);exports.ExpressionChangedAfterItHasBeenCheckedException=ExpressionChangedAfterItHasBeenCheckedException;var ChangeDetectionError=function(_super){__extends(ChangeDetectionError,_super);function ChangeDetectionError(exp,originalException,originalStack,context){_super.call(this,originalException+" in ["+exp+"]",originalException,originalStack,context);this.location=exp}return ChangeDetectionError}(exceptions_1.WrappedException);exports.ChangeDetectionError=ChangeDetectionError;var DehydratedException=function(_super){__extends(DehydratedException,_super);function DehydratedException(){_super.call(this,"Attempt to use a dehydrated detector.")}return DehydratedException}(exceptions_1.BaseException);exports.DehydratedException=DehydratedException;var EventEvaluationError=function(_super){__extends(EventEvaluationError,_super);function EventEvaluationError(eventName,originalException,originalStack,context){_super.call(this,'Error during evaluation of "'+eventName+'"',originalException,originalStack,context)}return EventEvaluationError}(exceptions_1.WrappedException);exports.EventEvaluationError=EventEvaluationError;var EventEvaluationErrorContext=function(){function EventEvaluationErrorContext(element,componentElement,context,locals,injector){this.element=element;this.componentElement=componentElement;this.context=context;this.locals=locals;this.injector=injector}return EventEvaluationErrorContext}();exports.EventEvaluationErrorContext=EventEvaluationErrorContext;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/interfaces",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var DebugContext=function(){function DebugContext(element,componentElement,directive,context,locals,injector){this.element=element;this.componentElement=componentElement;this.directive=directive;this.context=context;this.locals=locals;this.injector=injector}return DebugContext}();exports.DebugContext=DebugContext;var ChangeDetectorGenConfig=function(){function ChangeDetectorGenConfig(genDebugInfo,logBindingUpdate,useJit){this.genDebugInfo=genDebugInfo;this.logBindingUpdate=logBindingUpdate;this.useJit=useJit}return ChangeDetectorGenConfig}();exports.ChangeDetectorGenConfig=ChangeDetectorGenConfig;var ChangeDetectorDefinition=function(){function ChangeDetectorDefinition(id,strategy,variableNames,bindingRecords,eventRecords,directiveRecords,genConfig){this.id=id;this.strategy=strategy;this.variableNames=variableNames;this.bindingRecords=bindingRecords;this.eventRecords=eventRecords;this.directiveRecords=directiveRecords;this.genConfig=genConfig}return ChangeDetectorDefinition}();exports.ChangeDetectorDefinition=ChangeDetectorDefinition;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/constants",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");(function(ChangeDetectorState){ChangeDetectorState[ChangeDetectorState["NeverChecked"]=0]="NeverChecked";ChangeDetectorState[ChangeDetectorState["CheckedBefore"]=1]="CheckedBefore";ChangeDetectorState[ChangeDetectorState["Errored"]=2]="Errored"})(exports.ChangeDetectorState||(exports.ChangeDetectorState={}));var ChangeDetectorState=exports.ChangeDetectorState;(function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy["CheckOnce"]=0]="CheckOnce";ChangeDetectionStrategy[ChangeDetectionStrategy["Checked"]=1]="Checked";ChangeDetectionStrategy[ChangeDetectionStrategy["CheckAlways"]=2]="CheckAlways";ChangeDetectionStrategy[ChangeDetectionStrategy["Detached"]=3]="Detached";ChangeDetectionStrategy[ChangeDetectionStrategy["OnPush"]=4]="OnPush";ChangeDetectionStrategy[ChangeDetectionStrategy["Default"]=5]="Default";ChangeDetectionStrategy[ChangeDetectionStrategy["OnPushObserve"]=6]="OnPushObserve"})(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectionStrategy=exports.ChangeDetectionStrategy;exports.CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.CheckOnce,ChangeDetectionStrategy.Checked,ChangeDetectionStrategy.CheckAlways,ChangeDetectionStrategy.Detached,ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default,ChangeDetectionStrategy.OnPushObserve];exports.CHANGE_DETECTOR_STATE_VALUES=[ChangeDetectorState.NeverChecked,ChangeDetectorState.CheckedBefore,ChangeDetectorState.Errored];function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return lang_1.isBlank(changeDetectionStrategy)||changeDetectionStrategy===ChangeDetectionStrategy.Default}exports.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/pipe_lifecycle_reflector",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function implementsOnDestroy(pipe){return pipe.constructor.prototype.ngOnDestroy}exports.implementsOnDestroy=implementsOnDestroy;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/binding_record",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var DIRECTIVE_LIFECYCLE="directiveLifecycle";var BINDING="native";var DIRECTIVE="directive";var ELEMENT_PROPERTY="elementProperty";var ELEMENT_ATTRIBUTE="elementAttribute";var ELEMENT_CLASS="elementClass";var ELEMENT_STYLE="elementStyle";var TEXT_NODE="textNode";var EVENT="event";var HOST_EVENT="hostEvent";var BindingTarget=function(){function BindingTarget(mode,elementIndex,name,unit,debug){this.mode=mode;this.elementIndex=elementIndex;this.name=name;this.unit=unit;this.debug=debug}BindingTarget.prototype.isDirective=function(){return this.mode===DIRECTIVE};BindingTarget.prototype.isElementProperty=function(){return this.mode===ELEMENT_PROPERTY};BindingTarget.prototype.isElementAttribute=function(){return this.mode===ELEMENT_ATTRIBUTE};BindingTarget.prototype.isElementClass=function(){return this.mode===ELEMENT_CLASS};BindingTarget.prototype.isElementStyle=function(){return this.mode===ELEMENT_STYLE};BindingTarget.prototype.isTextNode=function(){return this.mode===TEXT_NODE;
};return BindingTarget}();exports.BindingTarget=BindingTarget;var BindingRecord=function(){function BindingRecord(mode,target,implicitReceiver,ast,setter,lifecycleEvent,directiveRecord){this.mode=mode;this.target=target;this.implicitReceiver=implicitReceiver;this.ast=ast;this.setter=setter;this.lifecycleEvent=lifecycleEvent;this.directiveRecord=directiveRecord}BindingRecord.prototype.isDirectiveLifecycle=function(){return this.mode===DIRECTIVE_LIFECYCLE};BindingRecord.prototype.callOnChanges=function(){return lang_1.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges};BindingRecord.prototype.isDefaultChangeDetection=function(){return lang_1.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection()};BindingRecord.createDirectiveDoCheck=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"DoCheck",directiveRecord)};BindingRecord.createDirectiveOnInit=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnInit",directiveRecord)};BindingRecord.createDirectiveOnChanges=function(directiveRecord){return new BindingRecord(DIRECTIVE_LIFECYCLE,null,0,null,null,"OnChanges",directiveRecord)};BindingRecord.createForDirective=function(ast,propertyName,setter,directiveRecord){var elementIndex=directiveRecord.directiveIndex.elementIndex;var t=new BindingTarget(DIRECTIVE,elementIndex,propertyName,null,ast.toString());return new BindingRecord(DIRECTIVE,t,0,ast,setter,null,directiveRecord)};BindingRecord.createForElementProperty=function(ast,elementIndex,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)};BindingRecord.createForElementAttribute=function(ast,elementIndex,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)};BindingRecord.createForElementClass=function(ast,elementIndex,className){var t=new BindingTarget(ELEMENT_CLASS,elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)};BindingRecord.createForElementStyle=function(ast,elementIndex,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)};BindingRecord.createForHostProperty=function(directiveIndex,ast,propertyName){var t=new BindingTarget(ELEMENT_PROPERTY,directiveIndex.elementIndex,propertyName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)};BindingRecord.createForHostAttribute=function(directiveIndex,ast,attributeName){var t=new BindingTarget(ELEMENT_ATTRIBUTE,directiveIndex.elementIndex,attributeName,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)};BindingRecord.createForHostClass=function(directiveIndex,ast,className){var t=new BindingTarget(ELEMENT_CLASS,directiveIndex.elementIndex,className,null,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)};BindingRecord.createForHostStyle=function(directiveIndex,ast,styleName,unit){var t=new BindingTarget(ELEMENT_STYLE,directiveIndex.elementIndex,styleName,unit,ast.toString());return new BindingRecord(BINDING,t,directiveIndex,ast,null,null,null)};BindingRecord.createForTextNode=function(ast,elementIndex){var t=new BindingTarget(TEXT_NODE,elementIndex,null,null,ast.toString());return new BindingRecord(BINDING,t,0,ast,null,null,null)};BindingRecord.createForEvent=function(ast,eventName,elementIndex){var t=new BindingTarget(EVENT,elementIndex,eventName,null,ast.toString());return new BindingRecord(EVENT,t,0,ast,null,null,null)};BindingRecord.createForHostEvent=function(ast,eventName,directiveRecord){var directiveIndex=directiveRecord.directiveIndex;var t=new BindingTarget(HOST_EVENT,directiveIndex.elementIndex,eventName,null,ast.toString());return new BindingRecord(HOST_EVENT,t,directiveIndex,ast,null,null,directiveRecord)};return BindingRecord}();exports.BindingRecord=BindingRecord;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/directive_record",["angular2/src/facade/lang","angular2/src/core/change_detection/constants"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var constants_1=require("angular2/src/core/change_detection/constants");var DirectiveIndex=function(){function DirectiveIndex(elementIndex,directiveIndex){this.elementIndex=elementIndex;this.directiveIndex=directiveIndex}Object.defineProperty(DirectiveIndex.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex},enumerable:true,configurable:true});return DirectiveIndex}();exports.DirectiveIndex=DirectiveIndex;var DirectiveRecord=function(){function DirectiveRecord(_a){var _b=_a===void 0?{}:_a,directiveIndex=_b.directiveIndex,callAfterContentInit=_b.callAfterContentInit,callAfterContentChecked=_b.callAfterContentChecked,callAfterViewInit=_b.callAfterViewInit,callAfterViewChecked=_b.callAfterViewChecked,callOnChanges=_b.callOnChanges,callDoCheck=_b.callDoCheck,callOnInit=_b.callOnInit,callOnDestroy=_b.callOnDestroy,changeDetection=_b.changeDetection,outputs=_b.outputs;this.directiveIndex=directiveIndex;this.callAfterContentInit=lang_1.normalizeBool(callAfterContentInit);this.callAfterContentChecked=lang_1.normalizeBool(callAfterContentChecked);this.callOnChanges=lang_1.normalizeBool(callOnChanges);this.callAfterViewInit=lang_1.normalizeBool(callAfterViewInit);this.callAfterViewChecked=lang_1.normalizeBool(callAfterViewChecked);this.callDoCheck=lang_1.normalizeBool(callDoCheck);this.callOnInit=lang_1.normalizeBool(callOnInit);this.callOnDestroy=lang_1.normalizeBool(callOnDestroy);this.changeDetection=changeDetection;this.outputs=outputs}DirectiveRecord.prototype.isDefaultChangeDetection=function(){return constants_1.isDefaultChangeDetectionStrategy(this.changeDetection)};return DirectiveRecord}();exports.DirectiveRecord=DirectiveRecord;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/change_detector_ref",["angular2/src/core/change_detection/constants"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var constants_1=require("angular2/src/core/change_detection/constants");var ChangeDetectorRef=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}();exports.ChangeDetectorRef=ChangeDetectorRef;var ChangeDetectorRef_=function(_super){__extends(ChangeDetectorRef_,_super);function ChangeDetectorRef_(_cd){_super.call(this);this._cd=_cd}ChangeDetectorRef_.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce()};ChangeDetectorRef_.prototype.detach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.Detached};ChangeDetectorRef_.prototype.detectChanges=function(){this._cd.detectChanges()};ChangeDetectorRef_.prototype.checkNoChanges=function(){this._cd.checkNoChanges()};ChangeDetectorRef_.prototype.reattach=function(){this._cd.mode=constants_1.ChangeDetectionStrategy.CheckAlways;this.markForCheck()};return ChangeDetectorRef_}(ChangeDetectorRef);exports.ChangeDetectorRef_=ChangeDetectorRef_;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/observable_facade",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function isObservable(value){return false}exports.isObservable=isObservable;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/proto_record",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(RecordType){RecordType[RecordType["Self"]=0]="Self";RecordType[RecordType["Const"]=1]="Const";RecordType[RecordType["PrimitiveOp"]=2]="PrimitiveOp";RecordType[RecordType["PropertyRead"]=3]="PropertyRead";RecordType[RecordType["PropertyWrite"]=4]="PropertyWrite";RecordType[RecordType["Local"]=5]="Local";RecordType[RecordType["InvokeMethod"]=6]="InvokeMethod";RecordType[RecordType["InvokeClosure"]=7]="InvokeClosure";RecordType[RecordType["KeyedRead"]=8]="KeyedRead";RecordType[RecordType["KeyedWrite"]=9]="KeyedWrite";RecordType[RecordType["Pipe"]=10]="Pipe";RecordType[RecordType["Interpolate"]=11]="Interpolate";RecordType[RecordType["SafeProperty"]=12]="SafeProperty";RecordType[RecordType["CollectionLiteral"]=13]="CollectionLiteral";RecordType[RecordType["SafeMethodInvoke"]=14]="SafeMethodInvoke";RecordType[RecordType["DirectiveLifecycle"]=15]="DirectiveLifecycle";RecordType[RecordType["Chain"]=16]="Chain";RecordType[RecordType["SkipRecordsIf"]=17]="SkipRecordsIf";RecordType[RecordType["SkipRecordsIfNot"]=18]="SkipRecordsIfNot";RecordType[RecordType["SkipRecords"]=19]="SkipRecords"})(exports.RecordType||(exports.RecordType={}));var RecordType=exports.RecordType;var ProtoRecord=function(){function ProtoRecord(mode,name,funcOrValue,args,fixedArgs,contextIndex,directiveIndex,selfIndex,bindingRecord,lastInBinding,lastInDirective,argumentToPureFunction,referencedBySelf,propertyBindingIndex){this.mode=mode;this.name=name;this.funcOrValue=funcOrValue;this.args=args;this.fixedArgs=fixedArgs;this.contextIndex=contextIndex;this.directiveIndex=directiveIndex;this.selfIndex=selfIndex;this.bindingRecord=bindingRecord;this.lastInBinding=lastInBinding;this.lastInDirective=lastInDirective;this.argumentToPureFunction=argumentToPureFunction;this.referencedBySelf=referencedBySelf;this.propertyBindingIndex=propertyBindingIndex}ProtoRecord.prototype.isPureFunction=function(){return this.mode===RecordType.Interpolate||this.mode===RecordType.CollectionLiteral};ProtoRecord.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf};ProtoRecord.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord()};ProtoRecord.prototype.isPipeRecord=function(){return this.mode===RecordType.Pipe};ProtoRecord.prototype.isConditionalSkipRecord=function(){return this.mode===RecordType.SkipRecordsIfNot||this.mode===RecordType.SkipRecordsIf};ProtoRecord.prototype.isUnconditionalSkipRecord=function(){return this.mode===RecordType.SkipRecords};ProtoRecord.prototype.isSkipRecord=function(){return this.isConditionalSkipRecord()||this.isUnconditionalSkipRecord()};ProtoRecord.prototype.isLifeCycleRecord=function(){return this.mode===RecordType.DirectiveLifecycle};return ProtoRecord}();exports.ProtoRecord=ProtoRecord;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/event_binding",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var EventBinding=function(){function EventBinding(eventName,elIndex,dirIndex,records){this.eventName=eventName;this.elIndex=elIndex;this.dirIndex=dirIndex;this.records=records}return EventBinding}();exports.EventBinding=EventBinding;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/coalesce",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/core/change_detection/proto_record"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var proto_record_1=require("angular2/src/core/change_detection/proto_record");function coalesce(srcRecords){var dstRecords=[];var excludedIdxs=[];var indexMap=new collection_1.Map;var skipDepth=0;var skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length);for(var protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];if(lang_1.isPresent(skipRecord)){skipDepth--;skipRecord.fixedArgs[0]=dstRecords.length}var src=srcRecords[protoIndex];var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);if(dst.isSkipRecord()){dstRecords.push(dst);skipDepth++;skipSources[dst.fixedArgs[0]]=dst}else{var record=_mayBeAddRecord(dst,dstRecords,excludedIdxs,skipDepth>0);indexMap.set(src.selfIndex,record.selfIndex)}}return _optimizeSkips(dstRecords)}exports.coalesce=coalesce;function _optimizeSkips(srcRecords){var dstRecords=[];var skipSources=collection_1.ListWrapper.createFixedSize(srcRecords.length);var indexMap=new collection_1.Map;for(var protoIndex=0;protoIndex<srcRecords.length;protoIndex++){var skipRecord=skipSources[protoIndex];if(lang_1.isPresent(skipRecord)){skipRecord.fixedArgs[0]=dstRecords.length}var src=srcRecords[protoIndex];if(src.isSkipRecord()){if(src.isConditionalSkipRecord()&&src.fixedArgs[0]===protoIndex+2&&protoIndex<srcRecords.length-1&&srcRecords[protoIndex+1].mode===proto_record_1.RecordType.SkipRecords){src.mode=src.mode===proto_record_1.RecordType.SkipRecordsIf?proto_record_1.RecordType.SkipRecordsIfNot:proto_record_1.RecordType.SkipRecordsIf;src.fixedArgs[0]=srcRecords[protoIndex+1].fixedArgs[0];protoIndex++}if(src.fixedArgs[0]>protoIndex+1){var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst);skipSources[dst.fixedArgs[0]]=dst}}else{var dst=_cloneAndUpdateIndexes(src,dstRecords,indexMap);dstRecords.push(dst);indexMap.set(src.selfIndex,dst.selfIndex)}}return dstRecords}function _mayBeAddRecord(record,dstRecords,excludedIdxs,excluded){var match=_findFirstMatch(record,dstRecords,excludedIdxs);if(lang_1.isPresent(match)){if(record.lastInBinding){dstRecords.push(_createSelfRecord(record,match.selfIndex,dstRecords.length+1));match.referencedBySelf=true}else{if(record.argumentToPureFunction){match.argumentToPureFunction=true}}return match}if(excluded){excludedIdxs.push(record.selfIndex)}dstRecords.push(record);return record}function _findFirstMatch(record,dstRecords,excludedIdxs){return dstRecords.find(function(rr){return excludedIdxs.indexOf(rr.selfIndex)==-1&&rr.mode!==proto_record_1.RecordType.DirectiveLifecycle&&_haveSameDirIndex(rr,record)&&rr.mode===record.mode&&lang_1.looseIdentical(rr.funcOrValue,record.funcOrValue)&&rr.contextIndex===record.contextIndex&&lang_1.looseIdentical(rr.name,record.name)&&collection_1.ListWrapper.equals(rr.args,record.args)})}function _cloneAndUpdateIndexes(record,dstRecords,indexMap){var args=record.args.map(function(src){return _srcToDstSelfIndex(indexMap,src)});var contextIndex=_srcToDstSelfIndex(indexMap,record.contextIndex);var selfIndex=dstRecords.length+1;return new proto_record_1.ProtoRecord(record.mode,record.name,record.funcOrValue,args,record.fixedArgs,contextIndex,record.directiveIndex,selfIndex,record.bindingRecord,record.lastInBinding,record.lastInDirective,record.argumentToPureFunction,record.referencedBySelf,record.propertyBindingIndex)}function _srcToDstSelfIndex(indexMap,srcIdx){var dstIdx=indexMap.get(srcIdx);return lang_1.isPresent(dstIdx)?dstIdx:srcIdx}function _createSelfRecord(r,contextIndex,selfIndex){return new proto_record_1.ProtoRecord(proto_record_1.RecordType.Self,"self",null,[],r.fixedArgs,contextIndex,r.directiveIndex,selfIndex,r.bindingRecord,r.lastInBinding,r.lastInDirective,false,false,r.propertyBindingIndex)}function _haveSameDirIndex(a,b){var di1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.directiveIndex;var ei1=lang_1.isBlank(a.directiveIndex)?null:a.directiveIndex.elementIndex;var di2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.directiveIndex;var ei2=lang_1.isBlank(b.directiveIndex)?null:b.directiveIndex.elementIndex;return di1===di2&&ei1===ei2}global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/codegen_name_util",["angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var _STATE_ACCESSOR="state";var _CONTEXT_ACCESSOR="context";var _PROP_BINDING_INDEX="propertyBindingIndex";var _DIRECTIVES_ACCESSOR="directiveIndices";var _DISPATCHER_ACCESSOR="dispatcher";var _LOCALS_ACCESSOR="locals";var _MODE_ACCESSOR="mode";var _PIPES_ACCESSOR="pipes";var _PROTOS_ACCESSOR="protos";exports.CONTEXT_ACCESSOR="context";exports.CONTEXT_INDEX=0;var _FIELD_PREFIX="this.";var _whiteSpaceRegExp=/\W/g;function sanitizeName(s){return lang_1.StringWrapper.replaceAll(s,_whiteSpaceRegExp,"")}exports.sanitizeName=sanitizeName;var CodegenNameUtil=function(){function CodegenNameUtil(_records,_eventBindings,_directiveRecords,_utilName){this._records=_records;this._eventBindings=_eventBindings;this._directiveRecords=_directiveRecords;this._utilName=_utilName;this._sanitizedEventNames=new collection_1.Map;this._sanitizedNames=collection_1.ListWrapper.createFixedSize(this._records.length+1);this._sanitizedNames[exports.CONTEXT_INDEX]=exports.CONTEXT_ACCESSOR;for(var i=0,iLen=this._records.length;i<iLen;++i){this._sanitizedNames[i+1]=sanitizeName(""+this._records[i].name+i)}for(var ebIndex=0;ebIndex<_eventBindings.length;++ebIndex){var eb=_eventBindings[ebIndex];var names=[exports.CONTEXT_ACCESSOR];for(var i=0,iLen=eb.records.length;i<iLen;++i){names.push(sanitizeName(""+eb.records[i].name+i+"_"+ebIndex))}this._sanitizedEventNames.set(eb,names)}}CodegenNameUtil.prototype._addFieldPrefix=function(name){return""+_FIELD_PREFIX+name};CodegenNameUtil.prototype.getDispatcherName=function(){return this._addFieldPrefix(_DISPATCHER_ACCESSOR)};CodegenNameUtil.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(_PIPES_ACCESSOR)};CodegenNameUtil.prototype.getProtosName=function(){return this._addFieldPrefix(_PROTOS_ACCESSOR)};CodegenNameUtil.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(_DIRECTIVES_ACCESSOR)};CodegenNameUtil.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(_LOCALS_ACCESSOR)};CodegenNameUtil.prototype.getStateName=function(){return this._addFieldPrefix(_STATE_ACCESSOR)};CodegenNameUtil.prototype.getModeName=function(){return this._addFieldPrefix(_MODE_ACCESSOR)};CodegenNameUtil.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(_PROP_BINDING_INDEX)};CodegenNameUtil.prototype.getLocalName=function(idx){return"l_"+this._sanitizedNames[idx]};CodegenNameUtil.prototype.getEventLocalName=function(eb,idx){return"l_"+this._sanitizedEventNames.get(eb)[idx]};CodegenNameUtil.prototype.getChangeName=function(idx){return"c_"+this._sanitizedNames[idx]};CodegenNameUtil.prototype.genInitLocals=function(){var declarations=[];var assignments=[];for(var i=0,iLen=this.getFieldCount();i<iLen;++i){if(i==exports.CONTEXT_INDEX){declarations.push(this.getLocalName(i)+" = "+this.getFieldName(i))}else{var rec=this._records[i-1];if(rec.argumentToPureFunction){var changeName=this.getChangeName(i);declarations.push(this.getLocalName(i)+","+changeName);assignments.push(changeName)}else{declarations.push(""+this.getLocalName(i))}}}var assignmentsCode=collection_1.ListWrapper.isEmpty(assignments)?"":assignments.join("=")+" = false;";return"var "+declarations.join(",")+";"+assignmentsCode};CodegenNameUtil.prototype.genInitEventLocals=function(){var _this=this;var res=[this.getLocalName(exports.CONTEXT_INDEX)+" = "+this.getFieldName(exports.CONTEXT_INDEX)];this._sanitizedEventNames.forEach(function(names,eb){for(var i=0;i<names.length;++i){if(i!==exports.CONTEXT_INDEX){res.push(""+_this.getEventLocalName(eb,i))}}});return res.length>1?"var "+res.join(",")+";":""};CodegenNameUtil.prototype.getPreventDefaultAccesor=function(){return"preventDefault"};CodegenNameUtil.prototype.getFieldCount=function(){return this._sanitizedNames.length};CodegenNameUtil.prototype.getFieldName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx])};CodegenNameUtil.prototype.getAllFieldNames=function(){var fieldList=[];for(var k=0,kLen=this.getFieldCount();k<kLen;++k){if(k===0||this._records[k-1].shouldBeChecked()){fieldList.push(this.getFieldName(k))}}for(var i=0,iLen=this._records.length;i<iLen;++i){var rec=this._records[i];if(rec.isPipeRecord()){fieldList.push(this.getPipeName(rec.selfIndex))}}for(var j=0,jLen=this._directiveRecords.length;j<jLen;++j){var dRec=this._directiveRecords[j];fieldList.push(this.getDirectiveName(dRec.directiveIndex));if(!dRec.isDefaultChangeDetection()){fieldList.push(this.getDetectorName(dRec.directiveIndex))}}return fieldList};CodegenNameUtil.prototype.genDehydrateFields=function(){var fields=this.getAllFieldNames();collection_1.ListWrapper.removeAt(fields,exports.CONTEXT_INDEX);if(collection_1.ListWrapper.isEmpty(fields))return"";fields.push(this._utilName+".uninitialized;");return fields.join(" = ")};CodegenNameUtil.prototype.genPipeOnDestroy=function(){var _this=this;return this._records.filter(function(r){return r.isPipeRecord()}).map(function(r){return _this._utilName+".callPipeOnDestroy("+_this.getPipeName(r.selfIndex)+");"}).join("\n")};CodegenNameUtil.prototype.getPipeName=function(idx){return this._addFieldPrefix(this._sanitizedNames[idx]+"_pipe")};CodegenNameUtil.prototype.getDirectiveName=function(d){return this._addFieldPrefix("directive_"+d.name)};CodegenNameUtil.prototype.getDetectorName=function(d){return this._addFieldPrefix("detector_"+d.name)};return CodegenNameUtil}();exports.CodegenNameUtil=CodegenNameUtil;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/codegen_facade",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function codify(obj){return JSON.stringify(obj)}exports.codify=codify;function rawString(str){return"'"+str+"'"}exports.rawString=rawString;function combineGeneratedStrings(vals){return vals.join(" + ")}exports.combineGeneratedStrings=combineGeneratedStrings;global.define=__define;return module.exports});System.register("angular2/src/core/metadata/view",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");(function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation["Emulated"]=0]="Emulated";ViewEncapsulation[ViewEncapsulation["Native"]=1]="Native";ViewEncapsulation[ViewEncapsulation["None"]=2]="None"})(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewEncapsulation=exports.ViewEncapsulation;exports.VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None];var ViewMetadata=function(){function ViewMetadata(_a){var _b=_a===void 0?{}:_a,templateUrl=_b.templateUrl,template=_b.template,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation,styles=_b.styles,styleUrls=_b.styleUrls;this.templateUrl=templateUrl;this.template=template;this.styleUrls=styleUrls;this.styles=styles;this.directives=directives;this.pipes=pipes;this.encapsulation=encapsulation}ViewMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ViewMetadata);return ViewMetadata}();exports.ViewMetadata=ViewMetadata;global.define=__define;return module.exports});System.register("angular2/src/core/util",["angular2/src/core/util/decorators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var decorators_1=require("angular2/src/core/util/decorators");exports.Class=decorators_1.Class;global.define=__define;return module.exports});System.register("angular2/src/core/prod_mode",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.enableProdMode=lang_1.enableProdMode;global.define=__define;return module.exports});System.register("angular2/src/facade/facade",["angular2/src/facade/lang","angular2/src/facade/async","angular2/src/facade/exceptions","angular2/src/facade/exception_handler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.Type=lang_1.Type;var async_1=require("angular2/src/facade/async");exports.EventEmitter=async_1.EventEmitter;var exceptions_1=require("angular2/src/facade/exceptions");exports.WrappedException=exceptions_1.WrappedException;var exception_handler_1=require("angular2/src/facade/exception_handler");exports.ExceptionHandler=exception_handler_1.ExceptionHandler;global.define=__define;return module.exports});System.register("angular2/src/core/application_tokens",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");exports.APP_COMPONENT_REF_PROMISE=lang_1.CONST_EXPR(new di_1.OpaqueToken("Promise<ComponentRef>"));exports.APP_COMPONENT=lang_1.CONST_EXPR(new di_1.OpaqueToken("AppComponent"));exports.APP_ID=lang_1.CONST_EXPR(new di_1.OpaqueToken("AppId"));function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}exports.APP_ID_RANDOM_PROVIDER=lang_1.CONST_EXPR(new di_1.Provider(exports.APP_ID,{useFactory:_appIdRandomProviderFactory,deps:[]}));function _randomChar(){return lang_1.StringWrapper.fromCharCode(97+lang_1.Math.floor(lang_1.Math.random()*25))}exports.PLATFORM_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Initializer"));exports.APP_INITIALIZER=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Initializer"));exports.PACKAGE_ROOT_URL=lang_1.CONST_EXPR(new di_1.OpaqueToken("Application Packages Root URL"));global.define=__define;return module.exports});System.register("angular2/src/core/testability/testability",["angular2/src/core/di","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/zone/ng_zone","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var ng_zone_1=require("angular2/src/core/zone/ng_zone");var async_1=require("angular2/src/facade/async");var Testability=function(){function Testability(_ngZone){this._pendingCount=0;this._didWork=false;this._callbacks=[];this._isAngularEventPending=false;this._watchAngularEvents(_ngZone)}Testability.prototype._watchAngularEvents=function(_ngZone){var _this=this;async_1.ObservableWrapper.subscribe(_ngZone.onTurnStart,function(_){_this._didWork=true;_this._isAngularEventPending=true});_ngZone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(_ngZone.onEventDone,function(_){if(!_ngZone.hasPendingTimers){_this._isAngularEventPending=false;_this._runCallbacksIfReady()}})})};Testability.prototype.increasePendingRequestCount=function(){this._pendingCount+=1;this._didWork=true;return this._pendingCount};Testability.prototype.decreasePendingRequestCount=function(){this._pendingCount-=1;if(this._pendingCount<0){throw new exceptions_1.BaseException("pending async requests below zero")}this._runCallbacksIfReady();return this._pendingCount};Testability.prototype.isStable=function(){return this._pendingCount==0&&!this._isAngularEventPending};Testability.prototype._runCallbacksIfReady=function(){var _this=this;if(!this.isStable()){this._didWork=true;return}async_1.PromiseWrapper.resolve(null).then(function(_){while(_this._callbacks.length!==0){_this._callbacks.pop()(_this._didWork)}_this._didWork=false})};Testability.prototype.whenStable=function(callback){this._callbacks.push(callback);this._runCallbacksIfReady()};Testability.prototype.getPendingRequestCount=function(){return this._pendingCount};Testability.prototype.isAngularEventPending=function(){return this._isAngularEventPending};Testability.prototype.findBindings=function(using,provider,exactMatch){return[]};Testability.prototype.findProviders=function(using,provider,exactMatch){return[]};Testability=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[ng_zone_1.NgZone])],Testability);return Testability}();exports.Testability=Testability;var TestabilityRegistry=function(){function TestabilityRegistry(){this._applications=new collection_1.Map;_testabilityGetter.addToWindow(this)}TestabilityRegistry.prototype.registerApplication=function(token,testability){this._applications.set(token,testability)};TestabilityRegistry.prototype.getTestability=function(elem){return this._applications.get(elem)};TestabilityRegistry.prototype.getAllTestabilities=function(){return collection_1.MapWrapper.values(this._applications)};TestabilityRegistry.prototype.findTestabilityInTree=function(elem,findInAncestors){if(findInAncestors===void 0){findInAncestors=true}return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)};TestabilityRegistry=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],TestabilityRegistry);return TestabilityRegistry}();exports.TestabilityRegistry=TestabilityRegistry;var _NoopGetTestability=function(){function _NoopGetTestability(){}_NoopGetTestability.prototype.addToWindow=function(registry){};_NoopGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){return null};_NoopGetTestability=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[])],_NoopGetTestability);return _NoopGetTestability}();function setTestabilityGetter(getter){_testabilityGetter=getter}exports.setTestabilityGetter=setTestabilityGetter;var _testabilityGetter=lang_1.CONST_EXPR(new _NoopGetTestability);global.define=__define;return module.exports});System.register("angular2/src/core/linker/view_type",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(ViewType){ViewType[ViewType["HOST"]=0]="HOST";ViewType[ViewType["COMPONENT"]=1]="COMPONENT";ViewType[ViewType["EMBEDDED"]=2]="EMBEDDED"})(exports.ViewType||(exports.ViewType={}));var ViewType=exports.ViewType;global.define=__define;return module.exports});System.register("angular2/src/core/linker/element_ref",["angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;
global.define=undefined;var exceptions_1=require("angular2/src/facade/exceptions");var ElementRef=function(){function ElementRef(){}Object.defineProperty(ElementRef.prototype,"nativeElement",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return ElementRef}();exports.ElementRef=ElementRef;var ElementRef_=function(){function ElementRef_(_appElement){this._appElement=_appElement}Object.defineProperty(ElementRef_.prototype,"internalElement",{get:function(){return this._appElement},enumerable:true,configurable:true});Object.defineProperty(ElementRef_.prototype,"nativeElement",{get:function(){return this._appElement.nativeElement},enumerable:true,configurable:true});return ElementRef_}();exports.ElementRef_=ElementRef_;global.define=__define;return module.exports});System.register("angular2/src/core/linker/view_container_ref",["angular2/src/facade/collection","angular2/src/facade/exceptions","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var collection_1=require("angular2/src/facade/collection");var exceptions_1=require("angular2/src/facade/exceptions");var lang_1=require("angular2/src/facade/lang");var ViewContainerRef=function(){function ViewContainerRef(){}Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});ViewContainerRef.prototype.clear=function(){for(var i=this.length-1;i>=0;i--){this.remove(i)}};Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return ViewContainerRef}();exports.ViewContainerRef=ViewContainerRef;var ViewContainerRef_=function(_super){__extends(ViewContainerRef_,_super);function ViewContainerRef_(_element){_super.call(this);this._element=_element}ViewContainerRef_.prototype.get=function(index){return this._element.nestedViews[index].ref};Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var views=this._element.nestedViews;return lang_1.isPresent(views)?views.length:0},enumerable:true,configurable:true});Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.ref},enumerable:true,configurable:true});ViewContainerRef_.prototype.createEmbeddedView=function(templateRef,index){if(index===void 0){index=-1}if(index==-1)index=this.length;var vm=this._element.parentView.viewManager;return vm.createEmbeddedViewInContainer(this._element.ref,index,templateRef)};ViewContainerRef_.prototype.createHostView=function(hostViewFactoryRef,index,dynamicallyCreatedProviders,projectableNodes){if(index===void 0){index=-1}if(dynamicallyCreatedProviders===void 0){dynamicallyCreatedProviders=null}if(projectableNodes===void 0){projectableNodes=null}if(index==-1)index=this.length;var vm=this._element.parentView.viewManager;return vm.createHostViewInContainer(this._element.ref,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes)};ViewContainerRef_.prototype.insert=function(viewRef,index){if(index===void 0){index=-1}if(index==-1)index=this.length;var vm=this._element.parentView.viewManager;return vm.attachViewInContainer(this._element.ref,index,viewRef)};ViewContainerRef_.prototype.indexOf=function(viewRef){return collection_1.ListWrapper.indexOf(this._element.nestedViews,viewRef.internalView)};ViewContainerRef_.prototype.remove=function(index){if(index===void 0){index=-1}if(index==-1)index=this.length-1;var vm=this._element.parentView.viewManager;return vm.destroyViewInContainer(this._element.ref,index)};ViewContainerRef_.prototype.detach=function(index){if(index===void 0){index=-1}if(index==-1)index=this.length-1;var vm=this._element.parentView.viewManager;return vm.detachViewInContainer(this._element.ref,index)};return ViewContainerRef_}(ViewContainerRef);exports.ViewContainerRef_=ViewContainerRef_;global.define=__define;return module.exports});System.register("angular2/src/core/render/api",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var RenderComponentType=function(){function RenderComponentType(id,encapsulation,styles){this.id=id;this.encapsulation=encapsulation;this.styles=styles}return RenderComponentType}();exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=function(){function RenderDebugInfo(injector,component,providerTokens,locals){this.injector=injector;this.component=component;this.providerTokens=providerTokens;this.locals=locals}return RenderDebugInfo}();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=function(){function Renderer(){}return Renderer}();exports.Renderer=Renderer;var RootRenderer=function(){function RootRenderer(){}return RootRenderer}();exports.RootRenderer=RootRenderer;global.define=__define;return module.exports});System.register("angular2/src/core/linker/template_ref",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var TemplateRef=function(){function TemplateRef(){}Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:true,configurable:true});return TemplateRef}();exports.TemplateRef=TemplateRef;var TemplateRef_=function(_super){__extends(TemplateRef_,_super);function TemplateRef_(_elementRef){_super.call(this);this._elementRef=_elementRef}Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:true,configurable:true});return TemplateRef_}(TemplateRef);exports.TemplateRef_=TemplateRef_;global.define=__define;return module.exports});System.register("angular2/src/core/linker/query_list",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var QueryList=function(){function QueryList(){this._results=[];this._emitter=new async_1.EventEmitter}Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,"first",{get:function(){return collection_1.ListWrapper.first(this._results)},enumerable:true,configurable:true});Object.defineProperty(QueryList.prototype,"last",{get:function(){return collection_1.ListWrapper.last(this._results)},enumerable:true,configurable:true});QueryList.prototype.map=function(fn){return this._results.map(fn)};QueryList.prototype.filter=function(fn){return this._results.filter(fn)};QueryList.prototype.reduce=function(fn,init){return this._results.reduce(fn,init)};QueryList.prototype.toArray=function(){return collection_1.ListWrapper.clone(this._results)};QueryList.prototype[lang_1.getSymbolIterator()]=function(){return this._results[lang_1.getSymbolIterator()]()};QueryList.prototype.toString=function(){return this._results.toString()};QueryList.prototype.reset=function(res){this._results=res};QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)};return QueryList}();exports.QueryList=QueryList;global.define=__define;return module.exports});System.register("angular2/src/core/pipes/pipe_provider",["angular2/src/core/di/provider","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var provider_1=require("angular2/src/core/di/provider");var di_1=require("angular2/src/core/di");var PipeProvider=function(_super){__extends(PipeProvider,_super);function PipeProvider(name,pure,key,resolvedFactories,multiBinding){_super.call(this,key,resolvedFactories,multiBinding);this.name=name;this.pure=pure}PipeProvider.createFromType=function(type,metadata){var provider=new di_1.Provider(type,{useClass:type});var rb=provider_1.resolveProvider(provider);return new PipeProvider(metadata.name,metadata.pure,rb.key,rb.resolvedFactories,rb.multiProvider)};return PipeProvider}(provider_1.ResolvedProvider_);exports.PipeProvider=PipeProvider;global.define=__define;return module.exports});System.register("angular2/src/core/linker/view_ref",["angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var exceptions_1=require("angular2/src/facade/exceptions");var ViewRef=function(){function ViewRef(){}Object.defineProperty(ViewRef.prototype,"changeDetectorRef",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return ViewRef}();exports.ViewRef=ViewRef;var HostViewRef=function(_super){__extends(HostViewRef,_super);function HostViewRef(){_super.apply(this,arguments)}Object.defineProperty(HostViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return HostViewRef}(ViewRef);exports.HostViewRef=HostViewRef;var EmbeddedViewRef=function(_super){__extends(EmbeddedViewRef,_super);function EmbeddedViewRef(){_super.apply(this,arguments)}Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return EmbeddedViewRef}(ViewRef);exports.EmbeddedViewRef=EmbeddedViewRef;var ViewRef_=function(){function ViewRef_(_view){this._view=_view;this._view=_view}Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,"changeDetectorRef",{get:function(){return this._view.changeDetector.ref},enumerable:true,configurable:true});Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:true,configurable:true});ViewRef_.prototype.setLocal=function(variableName,value){this._view.setLocal(variableName,value)};ViewRef_.prototype.hasLocal=function(variableName){return this._view.hasLocal(variableName)};Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:true,configurable:true});return ViewRef_}();exports.ViewRef_=ViewRef_;var HostViewFactoryRef=function(){function HostViewFactoryRef(){}return HostViewFactoryRef}();exports.HostViewFactoryRef=HostViewFactoryRef;var HostViewFactoryRef_=function(){function HostViewFactoryRef_(_hostViewFactory){this._hostViewFactory=_hostViewFactory}Object.defineProperty(HostViewFactoryRef_.prototype,"internalHostViewFactory",{get:function(){return this._hostViewFactory},enumerable:true,configurable:true});return HostViewFactoryRef_}();exports.HostViewFactoryRef_=HostViewFactoryRef_;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/pipes",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var SelectedPipe=function(){function SelectedPipe(pipe,pure){this.pipe=pipe;this.pure=pure}return SelectedPipe}();exports.SelectedPipe=SelectedPipe;global.define=__define;return module.exports});System.register("angular2/src/core/render/util",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var CAMEL_CASE_REGEXP=/([A-Z])/g;var DASH_CASE_REGEXP=/-([a-z])/g;function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}exports.camelCaseToDashCase=camelCaseToDashCase;function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}exports.dashCaseToCamelCase=dashCaseToCamelCase;global.define=__define;return module.exports});System.register("angular2/src/core/linker/view_manager",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/facade/exceptions","angular2/src/core/linker/view","angular2/src/core/linker/element","angular2/src/core/render/api","angular2/src/core/profile/profile","angular2/src/core/application_tokens","angular2/src/core/linker/view_type"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var exceptions_1=require("angular2/src/facade/exceptions");var view_1=require("angular2/src/core/linker/view");var element_1=require("angular2/src/core/linker/element");var api_1=require("angular2/src/core/render/api");var profile_1=require("angular2/src/core/profile/profile");var application_tokens_1=require("angular2/src/core/application_tokens");var view_type_1=require("angular2/src/core/linker/view_type");var AppViewManager=function(){function AppViewManager(){}return AppViewManager}();exports.AppViewManager=AppViewManager;var AppViewManager_=function(_super){__extends(AppViewManager_,_super);function AppViewManager_(_renderer,_appId){_super.call(this);this._renderer=_renderer;this._appId=_appId;this._nextCompTypeId=0;this._createRootHostViewScope=profile_1.wtfCreateScope("AppViewManager#createRootHostView()");this._destroyRootHostViewScope=profile_1.wtfCreateScope("AppViewManager#destroyRootHostView()");this._createEmbeddedViewInContainerScope=profile_1.wtfCreateScope("AppViewManager#createEmbeddedViewInContainer()");this._createHostViewInContainerScope=profile_1.wtfCreateScope("AppViewManager#createHostViewInContainer()");this._destroyViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#destroyViewInContainer()");this._attachViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#attachViewInContainer()");this._detachViewInContainerScope=profile_1.wtfCreateScope("AppViewMananger#detachViewInContainer()")}AppViewManager_.prototype.getViewContainer=function(location){return location.internalElement.getViewContainerRef()};AppViewManager_.prototype.getHostElement=function(hostViewRef){var hostView=hostViewRef.internalView;if(hostView.proto.type!==view_type_1.ViewType.HOST){throw new exceptions_1.BaseException("This operation is only allowed on host views")}return hostView.appElements[0].ref};AppViewManager_.prototype.getNamedElementInComponentView=function(hostLocation,variableName){var appEl=hostLocation.internalElement;var componentView=appEl.componentView;if(lang_1.isBlank(componentView)){throw new exceptions_1.BaseException("There is no component directive at element "+hostLocation)}for(var i=0;i<componentView.appElements.length;i++){var compAppEl=componentView.appElements[i];if(collection_1.StringMapWrapper.contains(compAppEl.proto.directiveVariableBindings,variableName)){return compAppEl.ref}}throw new exceptions_1.BaseException("Could not find variable "+variableName)};AppViewManager_.prototype.getComponent=function(hostLocation){return hostLocation.internalElement.getComponent()};AppViewManager_.prototype.createRootHostView=function(hostViewFactoryRef,overrideSelector,injector,projectableNodes){if(projectableNodes===void 0){projectableNodes=null}var s=this._createRootHostViewScope();var hostViewFactory=hostViewFactoryRef.internalHostViewFactory;var selector=lang_1.isPresent(overrideSelector)?overrideSelector:hostViewFactory.selector;var view=hostViewFactory.viewFactory(this._renderer,this,null,projectableNodes,selector,null,injector);return profile_1.wtfLeave(s,view.ref)};AppViewManager_.prototype.destroyRootHostView=function(hostViewRef){var s=this._destroyRootHostViewScope();var hostView=hostViewRef.internalView;hostView.renderer.detachView(view_1.flattenNestedViewRenderNodes(hostView.rootNodesOrAppElements));hostView.destroy();profile_1.wtfLeave(s)};AppViewManager_.prototype.createEmbeddedViewInContainer=function(viewContainerLocation,index,templateRef){var s=this._createEmbeddedViewInContainerScope();var contextEl=templateRef.elementRef.internalElement;var view=contextEl.embeddedViewFactory(contextEl.parentView.renderer,this,contextEl,contextEl.parentView.projectableNodes,null,null,null);this._attachViewToContainer(view,viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,view.ref)};AppViewManager_.prototype.createHostViewInContainer=function(viewContainerLocation,index,hostViewFactoryRef,dynamicallyCreatedProviders,projectableNodes){var s=this._createHostViewInContainerScope();var viewContainerLocation_=viewContainerLocation;var contextEl=viewContainerLocation_.internalElement;var hostViewFactory=hostViewFactoryRef.internalHostViewFactory;var view=hostViewFactory.viewFactory(contextEl.parentView.renderer,contextEl.parentView.viewManager,contextEl,projectableNodes,null,dynamicallyCreatedProviders,null);this._attachViewToContainer(view,viewContainerLocation_.internalElement,index);return profile_1.wtfLeave(s,view.ref)};AppViewManager_.prototype.destroyViewInContainer=function(viewContainerLocation,index){var s=this._destroyViewInContainerScope();var view=this._detachViewInContainer(viewContainerLocation.internalElement,index);view.destroy();profile_1.wtfLeave(s)};AppViewManager_.prototype.attachViewInContainer=function(viewContainerLocation,index,viewRef){var viewRef_=viewRef;var s=this._attachViewInContainerScope();this._attachViewToContainer(viewRef_.internalView,viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,viewRef_)};AppViewManager_.prototype.detachViewInContainer=function(viewContainerLocation,index){var s=this._detachViewInContainerScope();var view=this._detachViewInContainer(viewContainerLocation.internalElement,index);return profile_1.wtfLeave(s,view.ref)};AppViewManager_.prototype.onViewCreated=function(view){};AppViewManager_.prototype.onViewDestroyed=function(view){};AppViewManager_.prototype.createRenderComponentType=function(encapsulation,styles){return new api_1.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,encapsulation,styles)};AppViewManager_.prototype._attachViewToContainer=function(view,vcAppElement,viewIndex){if(view.proto.type===view_type_1.ViewType.COMPONENT){throw new exceptions_1.BaseException("Component views can't be moved!")}var nestedViews=vcAppElement.nestedViews;if(nestedViews==null){nestedViews=[];vcAppElement.nestedViews=nestedViews}collection_1.ListWrapper.insert(nestedViews,viewIndex,view);var refNode;if(viewIndex>0){var prevView=nestedViews[viewIndex-1];refNode=prevView.rootNodesOrAppElements.length>0?prevView.rootNodesOrAppElements[prevView.rootNodesOrAppElements.length-1]:null}else{refNode=vcAppElement.nativeElement}if(lang_1.isPresent(refNode)){var refRenderNode;if(refNode instanceof element_1.AppElement){refRenderNode=refNode.nativeElement}else{refRenderNode=refNode}view.renderer.attachViewAfter(refRenderNode,view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements))}vcAppElement.parentView.changeDetector.addContentChild(view.changeDetector);vcAppElement.traverseAndSetQueriesAsDirty()};AppViewManager_.prototype._detachViewInContainer=function(vcAppElement,viewIndex){var view=collection_1.ListWrapper.removeAt(vcAppElement.nestedViews,viewIndex);if(view.proto.type===view_type_1.ViewType.COMPONENT){throw new exceptions_1.BaseException("Component views can't be moved!")}vcAppElement.traverseAndSetQueriesAsDirty();view.renderer.detachView(view_1.flattenNestedViewRenderNodes(view.rootNodesOrAppElements));view.changeDetector.remove();return view};AppViewManager_=__decorate([di_1.Injectable(),__param(1,di_1.Inject(application_tokens_1.APP_ID)),__metadata("design:paramtypes",[api_1.RootRenderer,String])],AppViewManager_);return AppViewManager_}(AppViewManager);exports.AppViewManager_=AppViewManager_;global.define=__define;return module.exports});System.register("angular2/src/core/console",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var Console=function(){function Console(){}Console.prototype.log=function(message){lang_1.print(message)};Console=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],Console);return Console}();exports.Console=Console;global.define=__define;return module.exports});System.register("angular2/src/core/zone",["angular2/src/core/zone/ng_zone"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ng_zone_1=require("angular2/src/core/zone/ng_zone");exports.NgZone=ng_zone_1.NgZone;exports.NgZoneError=ng_zone_1.NgZoneError;global.define=__define;return module.exports});System.register("angular2/src/core/render",["angular2/src/core/render/api"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var api_1=require("angular2/src/core/render/api");exports.RootRenderer=api_1.RootRenderer;exports.Renderer=api_1.Renderer;exports.RenderComponentType=api_1.RenderComponentType;global.define=__define;return module.exports});System.register("angular2/src/core/linker/directive_resolver",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/metadata","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var metadata_1=require("angular2/src/core/metadata");var reflection_1=require("angular2/src/core/reflection/reflection");function _isDirectiveMetadata(type){return type instanceof metadata_1.DirectiveMetadata}var DirectiveResolver=function(){function DirectiveResolver(){}DirectiveResolver.prototype.resolve=function(type){var typeMetadata=reflection_1.reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(typeMetadata)){var metadata=typeMetadata.find(_isDirectiveMetadata);if(lang_1.isPresent(metadata)){var propertyMetadata=reflection_1.reflector.propMetadata(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,type)}}throw new exceptions_1.BaseException("No Directive annotation found on "+lang_1.stringify(type))};DirectiveResolver.prototype._mergeWithPropertyMetadata=function(dm,propertyMetadata,directiveType){var inputs=[];var outputs=[];var host={};var queries={};collection_1.StringMapWrapper.forEach(propertyMetadata,function(metadata,propName){metadata.forEach(function(a){if(a instanceof metadata_1.InputMetadata){if(lang_1.isPresent(a.bindingPropertyName)){inputs.push(propName+": "+a.bindingPropertyName)}else{inputs.push(propName)}}if(a instanceof metadata_1.OutputMetadata){if(lang_1.isPresent(a.bindingPropertyName)){outputs.push(propName+": "+a.bindingPropertyName)}else{outputs.push(propName)}}if(a instanceof metadata_1.HostBindingMetadata){if(lang_1.isPresent(a.hostPropertyName)){host["["+a.hostPropertyName+"]"]=propName}else{host["["+propName+"]"]=propName}}if(a instanceof metadata_1.HostListenerMetadata){var args=lang_1.isPresent(a.args)?a.args.join(", "):"";host["("+a.eventName+")"]=propName+"("+args+")"}if(a instanceof metadata_1.ContentChildrenMetadata){queries[propName]=a}if(a instanceof metadata_1.ViewChildrenMetadata){queries[propName]=a}if(a instanceof metadata_1.ContentChildMetadata){queries[propName]=a}if(a instanceof metadata_1.ViewChildMetadata){queries[propName]=a}})});return this._merge(dm,inputs,outputs,host,queries,directiveType)};DirectiveResolver.prototype._merge=function(dm,inputs,outputs,host,queries,directiveType){var mergedInputs=lang_1.isPresent(dm.inputs)?collection_1.ListWrapper.concat(dm.inputs,inputs):inputs;var mergedOutputs;if(lang_1.isPresent(dm.outputs)){dm.outputs.forEach(function(propName){if(collection_1.ListWrapper.contains(outputs,propName)){throw new exceptions_1.BaseException("Output event '"+propName+"' defined multiple times in '"+lang_1.stringify(directiveType)+"'")}});mergedOutputs=collection_1.ListWrapper.concat(dm.outputs,outputs)}else{mergedOutputs=outputs}var mergedHost=lang_1.isPresent(dm.host)?collection_1.StringMapWrapper.merge(dm.host,host):host;var mergedQueries=lang_1.isPresent(dm.queries)?collection_1.StringMapWrapper.merge(dm.queries,queries):queries;if(dm instanceof metadata_1.ComponentMetadata){return new metadata_1.ComponentMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,moduleId:dm.moduleId,queries:mergedQueries,changeDetection:dm.changeDetection,providers:dm.providers,viewProviders:dm.viewProviders})}else{return new metadata_1.DirectiveMetadata({selector:dm.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:dm.exportAs,queries:mergedQueries,providers:dm.providers})}};DirectiveResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],DirectiveResolver);return DirectiveResolver}();exports.DirectiveResolver=DirectiveResolver;exports.CODEGEN_DIRECTIVE_RESOLVER=new DirectiveResolver;global.define=__define;return module.exports});System.register("angular2/src/core/linker/view_resolver",["angular2/src/core/di","angular2/src/core/metadata/view","angular2/src/core/metadata/directives","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var view_1=require("angular2/src/core/metadata/view");var directives_1=require("angular2/src/core/metadata/directives");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var reflection_1=require("angular2/src/core/reflection/reflection");var ViewResolver=function(){function ViewResolver(){this._cache=new collection_1.Map}ViewResolver.prototype.resolve=function(component){var view=this._cache.get(component);if(lang_1.isBlank(view)){view=this._resolve(component);this._cache.set(component,view)}return view};ViewResolver.prototype._resolve=function(component){var compMeta;var viewMeta;reflection_1.reflector.annotations(component).forEach(function(m){if(m instanceof view_1.ViewMetadata){viewMeta=m}if(m instanceof directives_1.ComponentMetadata){compMeta=m}});if(lang_1.isPresent(compMeta)){if(lang_1.isBlank(compMeta.template)&&lang_1.isBlank(compMeta.templateUrl)&&lang_1.isBlank(viewMeta)){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' must have either 'template', 'templateUrl', or '@View' set.")}else if(lang_1.isPresent(compMeta.template)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("template",component)}else if(lang_1.isPresent(compMeta.templateUrl)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("templateUrl",component)}else if(lang_1.isPresent(compMeta.directives)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("directives",component)}else if(lang_1.isPresent(compMeta.pipes)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("pipes",component)}else if(lang_1.isPresent(compMeta.encapsulation)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("encapsulation",component)}else if(lang_1.isPresent(compMeta.styles)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("styles",component)}else if(lang_1.isPresent(compMeta.styleUrls)&&lang_1.isPresent(viewMeta)){this._throwMixingViewAndComponent("styleUrls",component)}else if(lang_1.isPresent(viewMeta)){return viewMeta}else{return new view_1.ViewMetadata({templateUrl:compMeta.templateUrl,template:compMeta.template,directives:compMeta.directives,pipes:compMeta.pipes,encapsulation:compMeta.encapsulation,
styles:compMeta.styles,styleUrls:compMeta.styleUrls})}}else{if(lang_1.isBlank(viewMeta)){throw new exceptions_1.BaseException("No View decorator found on component '"+lang_1.stringify(component)+"'")}else{return viewMeta}}return null};ViewResolver.prototype._throwMixingViewAndComponent=function(propertyName,component){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(component)+"' cannot have both '"+propertyName+"' and '@View' set at the same time\"")};ViewResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ViewResolver);return ViewResolver}();exports.ViewResolver=ViewResolver;global.define=__define;return module.exports});System.register("angular2/src/core/debug/debug_node",["angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var EventListener=function(){function EventListener(name,callback){this.name=name;this.callback=callback}return EventListener}();exports.EventListener=EventListener;var DebugNode=function(){function DebugNode(nativeNode,parent){this.nativeNode=nativeNode;if(lang_1.isPresent(parent)&&parent instanceof DebugElement){parent.addChild(this)}else{this.parent=null}this.listeners=[];this.providerTokens=[]}DebugNode.prototype.setDebugInfo=function(info){this.injector=info.injector;this.providerTokens=info.providerTokens;this.locals=info.locals;this.componentInstance=info.component};DebugNode.prototype.inject=function(token){return this.injector.get(token)};DebugNode.prototype.getLocal=function(name){return this.locals.get(name)};return DebugNode}();exports.DebugNode=DebugNode;var DebugElement=function(_super){__extends(DebugElement,_super);function DebugElement(nativeNode,parent){_super.call(this,nativeNode,parent);this.properties=new Map;this.attributes=new Map;this.childNodes=[];this.nativeElement=nativeNode}DebugElement.prototype.addChild=function(child){if(lang_1.isPresent(child)){this.childNodes.push(child);child.parent=this}};DebugElement.prototype.removeChild=function(child){var childIndex=this.childNodes.indexOf(child);if(childIndex!==-1){child.parent=null;this.childNodes.splice(childIndex,1)}};DebugElement.prototype.insertChildrenAfter=function(child,newChildren){var siblingIndex=this.childNodes.indexOf(child);if(siblingIndex!==-1){var previousChildren=this.childNodes.slice(0,siblingIndex+1);var nextChildren=this.childNodes.slice(siblingIndex+1);this.childNodes=collection_1.ListWrapper.concat(collection_1.ListWrapper.concat(previousChildren,newChildren),nextChildren);for(var i=0;i<newChildren.length;++i){var newChild=newChildren[i];if(lang_1.isPresent(newChild.parent)){newChild.parent.removeChild(newChild)}newChild.parent=this}}};DebugElement.prototype.query=function(predicate){var results=this.queryAll(predicate);return results.length>0?results[0]:null};DebugElement.prototype.queryAll=function(predicate){var matches=[];_queryElementChildren(this,predicate,matches);return matches};DebugElement.prototype.queryAllNodes=function(predicate){var matches=[];_queryNodeChildren(this,predicate,matches);return matches};Object.defineProperty(DebugElement.prototype,"children",{get:function(){var children=[];this.childNodes.forEach(function(node){if(node instanceof DebugElement){children.push(node)}});return children},enumerable:true,configurable:true});DebugElement.prototype.triggerEventHandler=function(eventName,eventObj){this.listeners.forEach(function(listener){if(listener.name==eventName){listener.callback(eventObj)}})};return DebugElement}(DebugNode);exports.DebugElement=DebugElement;function asNativeElements(debugEls){return debugEls.map(function(el){return el.nativeElement})}exports.asNativeElements=asNativeElements;function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(function(node){if(node instanceof DebugElement){if(predicate(node)){matches.push(node)}_queryElementChildren(node,predicate,matches)}})}function _queryNodeChildren(parentNode,predicate,matches){if(parentNode instanceof DebugElement){parentNode.childNodes.forEach(function(node){if(predicate(node)){matches.push(node)}if(node instanceof DebugElement){_queryNodeChildren(node,predicate,matches)}})}}var _nativeNodeToDebugNode=new Map;function getDebugNode(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)}exports.getDebugNode=getDebugNode;function getAllDebugNodes(){return collection_1.MapWrapper.values(_nativeNodeToDebugNode)}exports.getAllDebugNodes=getAllDebugNodes;function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}exports.indexDebugNode=indexDebugNode;function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode.delete(node.nativeNode)}exports.removeDebugNodeFromIndex=removeDebugNodeFromIndex;global.define=__define;return module.exports});System.register("angular2/src/core/platform_directives_and_pipes",["angular2/src/core/di","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");exports.PLATFORM_DIRECTIVES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Directives"));exports.PLATFORM_PIPES=lang_1.CONST_EXPR(new di_1.OpaqueToken("Platform Pipes"));global.define=__define;return module.exports});System.register("angular2/src/core/platform_common_providers",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/console","angular2/src/core/reflection/reflection","angular2/src/core/testability/testability"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var console_1=require("angular2/src/core/console");var reflection_1=require("angular2/src/core/reflection/reflection");var testability_1=require("angular2/src/core/testability/testability");function _reflector(){return reflection_1.reflector}exports.PLATFORM_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(reflection_1.Reflector,{useFactory:_reflector,deps:[]}),testability_1.TestabilityRegistry,console_1.Console]);global.define=__define;return module.exports});System.register("angular2/src/core/linker/pipe_resolver",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/metadata","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var metadata_1=require("angular2/src/core/metadata");var reflection_1=require("angular2/src/core/reflection/reflection");function _isPipeMetadata(type){return type instanceof metadata_1.PipeMetadata}var PipeResolver=function(){function PipeResolver(){}PipeResolver.prototype.resolve=function(type){var metas=reflection_1.reflector.annotations(di_1.resolveForwardRef(type));if(lang_1.isPresent(metas)){var annotation=metas.find(_isPipeMetadata);if(lang_1.isPresent(annotation)){return annotation}}throw new exceptions_1.BaseException("No Pipe decorator found on "+lang_1.stringify(type))};PipeResolver=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],PipeResolver);return PipeResolver}();exports.PipeResolver=PipeResolver;exports.CODEGEN_PIPE_RESOLVER=new PipeResolver;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/debug/by",["angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var By=function(){function By(){}By.all=function(){return function(debugElement){return true}};By.css=function(selector){return function(debugElement){return lang_1.isPresent(debugElement.nativeElement)?dom_adapter_1.DOM.elementMatches(debugElement.nativeElement,selector):false}};By.directive=function(type){return function(debugElement){return debugElement.providerTokens.indexOf(type)!==-1}};return By}();exports.By=By;global.define=__define;return module.exports});System.register("angular2/src/core/debug/debug_renderer",["angular2/src/facade/lang","angular2/src/core/debug/debug_node"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var debug_node_1=require("angular2/src/core/debug/debug_node");var DebugDomRootRenderer=function(){function DebugDomRootRenderer(_delegate){this._delegate=_delegate}DebugDomRootRenderer.prototype.renderComponent=function(componentProto){return new DebugDomRenderer(this,this._delegate.renderComponent(componentProto))};return DebugDomRootRenderer}();exports.DebugDomRootRenderer=DebugDomRootRenderer;var DebugDomRenderer=function(){function DebugDomRenderer(_rootRenderer,_delegate){this._rootRenderer=_rootRenderer;this._delegate=_delegate}DebugDomRenderer.prototype.renderComponent=function(componentType){return this._rootRenderer.renderComponent(componentType)};DebugDomRenderer.prototype.selectRootElement=function(selector){var nativeEl=this._delegate.selectRootElement(selector);var debugEl=new debug_node_1.DebugElement(nativeEl,null);debug_node_1.indexDebugNode(debugEl);return nativeEl};DebugDomRenderer.prototype.createElement=function(parentElement,name){var nativeEl=this._delegate.createElement(parentElement,name);var debugEl=new debug_node_1.DebugElement(nativeEl,debug_node_1.getDebugNode(parentElement));debugEl.name=name;debug_node_1.indexDebugNode(debugEl);return nativeEl};DebugDomRenderer.prototype.createViewRoot=function(hostElement){return this._delegate.createViewRoot(hostElement)};DebugDomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=this._delegate.createTemplateAnchor(parentElement);var debugEl=new debug_node_1.DebugNode(comment,debug_node_1.getDebugNode(parentElement));debug_node_1.indexDebugNode(debugEl);return comment};DebugDomRenderer.prototype.createText=function(parentElement,value){var text=this._delegate.createText(parentElement,value);var debugEl=new debug_node_1.DebugNode(text,debug_node_1.getDebugNode(parentElement));debug_node_1.indexDebugNode(debugEl);return text};DebugDomRenderer.prototype.projectNodes=function(parentElement,nodes){var debugParent=debug_node_1.getDebugNode(parentElement);if(lang_1.isPresent(debugParent)&&debugParent instanceof debug_node_1.DebugElement){nodes.forEach(function(node){debugParent.addChild(debug_node_1.getDebugNode(node))})}return this._delegate.projectNodes(parentElement,nodes)};DebugDomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)){var debugParent=debugNode.parent;if(viewRootNodes.length>0&&lang_1.isPresent(debugParent)){var debugViewRootNodes=[];viewRootNodes.forEach(function(rootNode){return debugViewRootNodes.push(debug_node_1.getDebugNode(rootNode))});debugParent.insertChildrenAfter(debugNode,debugViewRootNodes)}}return this._delegate.attachViewAfter(node,viewRootNodes)};DebugDomRenderer.prototype.detachView=function(viewRootNodes){viewRootNodes.forEach(function(node){var debugNode=debug_node_1.getDebugNode(node);if(lang_1.isPresent(debugNode)&&lang_1.isPresent(debugNode.parent)){debugNode.parent.removeChild(debugNode)}});return this._delegate.detachView(viewRootNodes)};DebugDomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){viewAllNodes.forEach(function(node){debug_node_1.removeDebugNodeFromIndex(debug_node_1.getDebugNode(node))});return this._delegate.destroyView(hostElement,viewAllNodes)};DebugDomRenderer.prototype.listen=function(renderElement,name,callback){var debugEl=debug_node_1.getDebugNode(renderElement);if(lang_1.isPresent(debugEl)){debugEl.listeners.push(new debug_node_1.EventListener(name,callback))}return this._delegate.listen(renderElement,name,callback)};DebugDomRenderer.prototype.listenGlobal=function(target,name,callback){return this._delegate.listenGlobal(target,name,callback)};DebugDomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){var debugEl=debug_node_1.getDebugNode(renderElement);if(lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement){debugEl.properties.set(propertyName,propertyValue)}return this._delegate.setElementProperty(renderElement,propertyName,propertyValue)};DebugDomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var debugEl=debug_node_1.getDebugNode(renderElement);if(lang_1.isPresent(debugEl)&&debugEl instanceof debug_node_1.DebugElement){debugEl.attributes.set(attributeName,attributeValue)}return this._delegate.setElementAttribute(renderElement,attributeName,attributeValue)};DebugDomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){return this._delegate.setBindingDebugInfo(renderElement,propertyName,propertyValue)};DebugDomRenderer.prototype.setElementDebugInfo=function(renderElement,info){var debugEl=debug_node_1.getDebugNode(renderElement);debugEl.setDebugInfo(info);return this._delegate.setElementDebugInfo(renderElement,info)};DebugDomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){return this._delegate.setElementClass(renderElement,className,isAdd)};DebugDomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){return this._delegate.setElementStyle(renderElement,styleName,styleValue)};DebugDomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){return this._delegate.invokeElementMethod(renderElement,methodName,args)};DebugDomRenderer.prototype.setText=function(renderNode,text){return this._delegate.setText(renderNode,text)};return DebugDomRenderer}();exports.DebugDomRenderer=DebugDomRenderer;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/dom_adapter",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.DOM=null;function setRootDomAdapter(adapter){if(lang_1.isBlank(exports.DOM)){exports.DOM=adapter}}exports.setRootDomAdapter=setRootDomAdapter;var DomAdapter=function(){function DomAdapter(){}Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:true,configurable:true});return DomAdapter}();exports.DomAdapter=DomAdapter;global.define=__define;return module.exports});System.register("angular2/src/core/di/decorators",["angular2/src/core/di/metadata","angular2/src/core/util/decorators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var metadata_1=require("angular2/src/core/di/metadata");var decorators_1=require("angular2/src/core/util/decorators");exports.Inject=decorators_1.makeParamDecorator(metadata_1.InjectMetadata);exports.Optional=decorators_1.makeParamDecorator(metadata_1.OptionalMetadata);exports.Injectable=decorators_1.makeDecorator(metadata_1.InjectableMetadata);exports.Self=decorators_1.makeParamDecorator(metadata_1.SelfMetadata);exports.Host=decorators_1.makeParamDecorator(metadata_1.HostMetadata);exports.SkipSelf=decorators_1.makeParamDecorator(metadata_1.SkipSelfMetadata);global.define=__define;return module.exports});System.register("angular2/src/facade/exceptions",["angular2/src/facade/exception_handler","angular2/src/facade/exception_handler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var exception_handler_1=require("angular2/src/facade/exception_handler");var exception_handler_2=require("angular2/src/facade/exception_handler");exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(_super){__extends(BaseException,_super);function BaseException(message){if(message===void 0){message="--"}_super.call(this,message);this.message=message;this.stack=new Error(message).stack}BaseException.prototype.toString=function(){return this.message};return BaseException}(Error);exports.BaseException=BaseException;var WrappedException=function(_super){__extends(WrappedException,_super);function WrappedException(_wrapperMessage,_originalException,_originalStack,_context){_super.call(this,_wrapperMessage);this._wrapperMessage=_wrapperMessage;this._originalException=_originalException;this._originalStack=_originalStack;this._context=_context;this._wrapperStack=new Error(_wrapperMessage).stack}Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context},enumerable:true,configurable:true});Object.defineProperty(WrappedException.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:true,configurable:true});WrappedException.prototype.toString=function(){return this.message};return WrappedException}(Error);exports.WrappedException=WrappedException;function makeTypeError(message){return new TypeError(message)}exports.makeTypeError=makeTypeError;function unimplemented(){throw new BaseException("unimplemented")}exports.unimplemented=unimplemented;global.define=__define;return module.exports});System.register("angular2/src/core/reflection/reflection",["angular2/src/core/reflection/reflector","angular2/src/core/reflection/reflector","angular2/src/core/reflection/reflection_capabilities"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var reflector_1=require("angular2/src/core/reflection/reflector");var reflector_2=require("angular2/src/core/reflection/reflector");exports.Reflector=reflector_2.Reflector;exports.ReflectionInfo=reflector_2.ReflectionInfo;var reflection_capabilities_1=require("angular2/src/core/reflection/reflection_capabilities");exports.reflector=new reflector_1.Reflector(new reflection_capabilities_1.ReflectionCapabilities);global.define=__define;return module.exports});System.register("angular2/src/core/di/key",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di/type_literal","angular2/src/core/di/forward_ref","angular2/src/core/di/type_literal"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var type_literal_1=require("angular2/src/core/di/type_literal");var forward_ref_1=require("angular2/src/core/di/forward_ref");var type_literal_2=require("angular2/src/core/di/type_literal");exports.TypeLiteral=type_literal_2.TypeLiteral;var Key=function(){function Key(token,id){this.token=token;this.id=id;if(lang_1.isBlank(token)){throw new exceptions_1.BaseException("Token must be defined!")}}Object.defineProperty(Key.prototype,"displayName",{get:function(){return lang_1.stringify(this.token)},enumerable:true,configurable:true});Key.get=function(token){return _globalKeyRegistry.get(forward_ref_1.resolveForwardRef(token))};Object.defineProperty(Key,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:true,configurable:true});return Key}();exports.Key=Key;var KeyRegistry=function(){function KeyRegistry(){this._allKeys=new Map}KeyRegistry.prototype.get=function(token){if(token instanceof Key)return token;var theToken=token;if(token instanceof type_literal_1.TypeLiteral){theToken=token.type}token=theToken;if(this._allKeys.has(token)){return this._allKeys.get(token)}var newKey=new Key(token,Key.numberOfKeys);this._allKeys.set(token,newKey);return newKey};Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:true,configurable:true});return KeyRegistry}();exports.KeyRegistry=KeyRegistry;var _globalKeyRegistry=new KeyRegistry;global.define=__define;return module.exports});System.register("angular2/src/animate/animation",["angular2/src/facade/lang","angular2/src/facade/math","angular2/src/platform/dom/util","angular2/src/facade/collection","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var math_1=require("angular2/src/facade/math");var util_1=require("angular2/src/platform/dom/util");var collection_1=require("angular2/src/facade/collection");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var Animation=function(){function Animation(element,data,browserDetails){var _this=this;this.element=element;this.data=data;this.browserDetails=browserDetails;this.callbacks=[];this.eventClearFunctions=[];this.completed=false;this._stringPrefix="";this.startTime=lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now());this._stringPrefix=dom_adapter_1.DOM.getAnimationPrefix();this.setup();this.wait(function(timestamp){return _this.start()})}Object.defineProperty(Animation.prototype,"totalTime",{get:function(){var delay=this.computedDelay!=null?this.computedDelay:0;var duration=this.computedDuration!=null?this.computedDuration:0;return delay+duration},enumerable:true,configurable:true});Animation.prototype.wait=function(callback){this.browserDetails.raf(callback,2)};Animation.prototype.setup=function(){if(this.data.fromStyles!=null)this.applyStyles(this.data.fromStyles);if(this.data.duration!=null)this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"});if(this.data.delay!=null)this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})};Animation.prototype.start=function(){this.addClasses(this.data.classesToAdd);this.addClasses(this.data.animationClasses);this.removeClasses(this.data.classesToRemove);if(this.data.toStyles!=null)this.applyStyles(this.data.toStyles);var computedStyles=dom_adapter_1.DOM.getComputedStyle(this.element);this.computedDelay=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay")));this.computedDuration=math_1.Math.max(this.parseDurationString(computedStyles.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration")));this.addEvents()};Animation.prototype.applyStyles=function(styles){var _this=this;collection_1.StringMapWrapper.forEach(styles,function(value,key){var dashCaseKey=util_1.camelCaseToDashCase(key);if(lang_1.isPresent(dom_adapter_1.DOM.getStyle(_this.element,dashCaseKey))){dom_adapter_1.DOM.setStyle(_this.element,dashCaseKey,value.toString())}else{dom_adapter_1.DOM.setStyle(_this.element,_this._stringPrefix+dashCaseKey,value.toString())}})};Animation.prototype.addClasses=function(classes){for(var i=0,len=classes.length;i<len;i++)dom_adapter_1.DOM.addClass(this.element,classes[i])};Animation.prototype.removeClasses=function(classes){for(var i=0,len=classes.length;i<len;i++)dom_adapter_1.DOM.removeClass(this.element,classes[i])};Animation.prototype.addEvents=function(){var _this=this;if(this.totalTime>0){this.eventClearFunctions.push(dom_adapter_1.DOM.onAndCancel(this.element,dom_adapter_1.DOM.getTransitionEnd(),function(event){return _this.handleAnimationEvent(event)}))}else{this.handleAnimationCompleted()}};Animation.prototype.handleAnimationEvent=function(event){var elapsedTime=math_1.Math.round(event.elapsedTime*1e3);if(!this.browserDetails.elapsedTimeIncludesDelay)elapsedTime+=this.computedDelay;event.stopPropagation();if(elapsedTime>=this.totalTime)this.handleAnimationCompleted()};Animation.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses);this.callbacks.forEach(function(callback){return callback()});this.callbacks=[];this.eventClearFunctions.forEach(function(fn){return fn()});this.eventClearFunctions=[];this.completed=true};Animation.prototype.onComplete=function(callback){if(this.completed){callback()}else{this.callbacks.push(callback)}return this};Animation.prototype.parseDurationString=function(duration){var maxValue=0;if(duration==null||duration.length<2){return maxValue}else if(duration.substring(duration.length-2)=="ms"){var value=lang_1.NumberWrapper.parseInt(this.stripLetters(duration),10);if(value>maxValue)maxValue=value}else if(duration.substring(duration.length-1)=="s"){var ms=lang_1.NumberWrapper.parseFloat(this.stripLetters(duration))*1e3;var value=math_1.Math.floor(ms);if(value>maxValue)maxValue=value}return maxValue};Animation.prototype.stripLetters=function(str){return lang_1.StringWrapper.replaceAll(str,lang_1.RegExpWrapper.create("[^0-9]+$",""),"")};return Animation}();exports.Animation=Animation;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/shared_styles_host",["angular2/src/platform/dom/dom_adapter","angular2/src/core/di","angular2/src/facade/collection","angular2/src/platform/dom/dom_tokens"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var di_1=require("angular2/src/core/di");var collection_1=require("angular2/src/facade/collection");var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");var SharedStylesHost=function(){function SharedStylesHost(){this._styles=[];this._stylesSet=new Set}SharedStylesHost.prototype.addStyles=function(styles){var _this=this;var additions=[];styles.forEach(function(style){if(!collection_1.SetWrapper.has(_this._stylesSet,style)){_this._stylesSet.add(style);_this._styles.push(style);additions.push(style)}});this.onStylesAdded(additions)};SharedStylesHost.prototype.onStylesAdded=function(additions){};SharedStylesHost.prototype.getAllStyles=function(){return this._styles};SharedStylesHost=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],SharedStylesHost);return SharedStylesHost}();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=function(_super){__extends(DomSharedStylesHost,_super);function DomSharedStylesHost(doc){_super.call(this);this._hostNodes=new Set;this._hostNodes.add(doc.head)}DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){for(var i=0;i<styles.length;i++){var style=styles[i];dom_adapter_1.DOM.appendChild(host,dom_adapter_1.DOM.createStyleElement(style))}};DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._styles,hostNode);this._hostNodes.add(hostNode)};DomSharedStylesHost.prototype.removeHost=function(hostNode){collection_1.SetWrapper.delete(this._hostNodes,hostNode)};DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){_this._addStylesToHost(additions,hostNode)})};DomSharedStylesHost=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata("design:paramtypes",[Object])],DomSharedStylesHost);return DomSharedStylesHost}(SharedStylesHost);exports.DomSharedStylesHost=DomSharedStylesHost;global.define=__define;return module.exports});System.register("angular2/src/core/profile/profile",["angular2/src/core/profile/wtf_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var impl=require("angular2/src/core/profile/wtf_impl");exports.wtfEnabled=impl.detectWTF();function noopScope(arg0,arg1){return null}exports.wtfCreateScope=exports.wtfEnabled?impl.createScope:function(signature,flags){return noopScope};exports.wtfLeave=exports.wtfEnabled?impl.leave:function(s,r){return r};exports.wtfStartTimeRange=exports.wtfEnabled?impl.startTimeRange:function(rangeType,action){return null};exports.wtfEndTimeRange=exports.wtfEnabled?impl.endTimeRange:function(r){return null};global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/change_detection_util",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/pipe_lifecycle_reflector","angular2/src/core/change_detection/binding_record","angular2/src/core/change_detection/directive_record"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var constants_1=require("angular2/src/core/change_detection/constants");var pipe_lifecycle_reflector_1=require("angular2/src/core/change_detection/pipe_lifecycle_reflector");var binding_record_1=require("angular2/src/core/change_detection/binding_record");var directive_record_1=require("angular2/src/core/change_detection/directive_record");var WrappedValue=function(){function WrappedValue(wrapped){this.wrapped=wrapped}WrappedValue.wrap=function(value){
var w=_wrappedValues[_wrappedIndex++%5];w.wrapped=value;return w};return WrappedValue}();exports.WrappedValue=WrappedValue;var _wrappedValues=[new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null),new WrappedValue(null)];var _wrappedIndex=0;var SimpleChange=function(){function SimpleChange(previousValue,currentValue){this.previousValue=previousValue;this.currentValue=currentValue}SimpleChange.prototype.isFirstChange=function(){return this.previousValue===ChangeDetectionUtil.uninitialized};return SimpleChange}();exports.SimpleChange=SimpleChange;var _simpleChangesIndex=0;var _simpleChanges=[new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null),new SimpleChange(null,null)];function _simpleChange(previousValue,currentValue){var index=_simpleChangesIndex++%20;var s=_simpleChanges[index];s.previousValue=previousValue;s.currentValue=currentValue;return s}var ChangeDetectionUtil=function(){function ChangeDetectionUtil(){}ChangeDetectionUtil.arrayFn0=function(){return[]};ChangeDetectionUtil.arrayFn1=function(a1){return[a1]};ChangeDetectionUtil.arrayFn2=function(a1,a2){return[a1,a2]};ChangeDetectionUtil.arrayFn3=function(a1,a2,a3){return[a1,a2,a3]};ChangeDetectionUtil.arrayFn4=function(a1,a2,a3,a4){return[a1,a2,a3,a4]};ChangeDetectionUtil.arrayFn5=function(a1,a2,a3,a4,a5){return[a1,a2,a3,a4,a5]};ChangeDetectionUtil.arrayFn6=function(a1,a2,a3,a4,a5,a6){return[a1,a2,a3,a4,a5,a6]};ChangeDetectionUtil.arrayFn7=function(a1,a2,a3,a4,a5,a6,a7){return[a1,a2,a3,a4,a5,a6,a7]};ChangeDetectionUtil.arrayFn8=function(a1,a2,a3,a4,a5,a6,a7,a8){return[a1,a2,a3,a4,a5,a6,a7,a8]};ChangeDetectionUtil.arrayFn9=function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return[a1,a2,a3,a4,a5,a6,a7,a8,a9]};ChangeDetectionUtil.operation_negate=function(value){return!value};ChangeDetectionUtil.operation_add=function(left,right){return left+right};ChangeDetectionUtil.operation_subtract=function(left,right){return left-right};ChangeDetectionUtil.operation_multiply=function(left,right){return left*right};ChangeDetectionUtil.operation_divide=function(left,right){return left/right};ChangeDetectionUtil.operation_remainder=function(left,right){return left%right};ChangeDetectionUtil.operation_equals=function(left,right){return left==right};ChangeDetectionUtil.operation_not_equals=function(left,right){return left!=right};ChangeDetectionUtil.operation_identical=function(left,right){return left===right};ChangeDetectionUtil.operation_not_identical=function(left,right){return left!==right};ChangeDetectionUtil.operation_less_then=function(left,right){return left<right};ChangeDetectionUtil.operation_greater_then=function(left,right){return left>right};ChangeDetectionUtil.operation_less_or_equals_then=function(left,right){return left<=right};ChangeDetectionUtil.operation_greater_or_equals_then=function(left,right){return left>=right};ChangeDetectionUtil.cond=function(cond,trueVal,falseVal){return cond?trueVal:falseVal};ChangeDetectionUtil.mapFn=function(keys){function buildMap(values){var res=collection_1.StringMapWrapper.create();for(var i=0;i<keys.length;++i){collection_1.StringMapWrapper.set(res,keys[i],values[i])}return res}switch(keys.length){case 0:return function(){return[]};case 1:return function(a1){return buildMap([a1])};case 2:return function(a1,a2){return buildMap([a1,a2])};case 3:return function(a1,a2,a3){return buildMap([a1,a2,a3])};case 4:return function(a1,a2,a3,a4){return buildMap([a1,a2,a3,a4])};case 5:return function(a1,a2,a3,a4,a5){return buildMap([a1,a2,a3,a4,a5])};case 6:return function(a1,a2,a3,a4,a5,a6){return buildMap([a1,a2,a3,a4,a5,a6])};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return buildMap([a1,a2,a3,a4,a5,a6,a7])};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8])};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return buildMap([a1,a2,a3,a4,a5,a6,a7,a8,a9])};default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements")}};ChangeDetectionUtil.keyedAccess=function(obj,args){return obj[args[0]]};ChangeDetectionUtil.unwrapValue=function(value){if(value instanceof WrappedValue){return value.wrapped}else{return value}};ChangeDetectionUtil.changeDetectionMode=function(strategy){return constants_1.isDefaultChangeDetectionStrategy(strategy)?constants_1.ChangeDetectionStrategy.CheckAlways:constants_1.ChangeDetectionStrategy.CheckOnce};ChangeDetectionUtil.simpleChange=function(previousValue,currentValue){return _simpleChange(previousValue,currentValue)};ChangeDetectionUtil.isValueBlank=function(value){return lang_1.isBlank(value)};ChangeDetectionUtil.s=function(value){return lang_1.isPresent(value)?""+value:""};ChangeDetectionUtil.protoByIndex=function(protos,selfIndex){return selfIndex<1?null:protos[selfIndex-1]};ChangeDetectionUtil.callPipeOnDestroy=function(selectedPipe){if(pipe_lifecycle_reflector_1.implementsOnDestroy(selectedPipe.pipe)){selectedPipe.pipe.ngOnDestroy()}};ChangeDetectionUtil.bindingTarget=function(mode,elementIndex,name,unit,debug){return new binding_record_1.BindingTarget(mode,elementIndex,name,unit,debug)};ChangeDetectionUtil.directiveIndex=function(elementIndex,directiveIndex){return new directive_record_1.DirectiveIndex(elementIndex,directiveIndex)};ChangeDetectionUtil.looseNotIdentical=function(a,b){return!lang_1.looseIdentical(a,b)};ChangeDetectionUtil.devModeEqual=function(a,b){if(collection_1.isListLikeIterable(a)&&collection_1.isListLikeIterable(b)){return collection_1.areIterablesEqual(a,b,ChangeDetectionUtil.devModeEqual)}else if(!collection_1.isListLikeIterable(a)&&!lang_1.isPrimitive(a)&&!collection_1.isListLikeIterable(b)&&!lang_1.isPrimitive(b)){return true}else{return lang_1.looseIdentical(a,b)}};ChangeDetectionUtil.uninitialized=lang_1.CONST_EXPR(new Object);return ChangeDetectionUtil}();exports.ChangeDetectionUtil=ChangeDetectionUtil;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/abstract_change_detector",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/change_detector_ref","angular2/src/core/change_detection/exceptions","angular2/src/core/change_detection/parser/locals","angular2/src/core/change_detection/constants","angular2/src/core/profile/profile","angular2/src/core/change_detection/observable_facade","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var change_detector_ref_1=require("angular2/src/core/change_detection/change_detector_ref");var exceptions_1=require("angular2/src/core/change_detection/exceptions");var locals_1=require("angular2/src/core/change_detection/parser/locals");var constants_1=require("angular2/src/core/change_detection/constants");var profile_1=require("angular2/src/core/profile/profile");var observable_facade_1=require("angular2/src/core/change_detection/observable_facade");var async_1=require("angular2/src/facade/async");var _scope_check=profile_1.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)");var _Context=function(){function _Context(element,componentElement,context,locals,injector,expression){this.element=element;this.componentElement=componentElement;this.context=context;this.locals=locals;this.injector=injector;this.expression=expression}return _Context}();var AbstractChangeDetector=function(){function AbstractChangeDetector(id,numberOfPropertyProtoRecords,bindingTargets,directiveIndices,strategy){this.id=id;this.numberOfPropertyProtoRecords=numberOfPropertyProtoRecords;this.bindingTargets=bindingTargets;this.directiveIndices=directiveIndices;this.strategy=strategy;this.contentChildren=[];this.viewChildren=[];this.state=constants_1.ChangeDetectorState.NeverChecked;this.locals=null;this.mode=null;this.pipes=null;this.ref=new change_detector_ref_1.ChangeDetectorRef_(this)}AbstractChangeDetector.prototype.addContentChild=function(cd){this.contentChildren.push(cd);cd.parent=this};AbstractChangeDetector.prototype.removeContentChild=function(cd){collection_1.ListWrapper.remove(this.contentChildren,cd)};AbstractChangeDetector.prototype.addViewChild=function(cd){this.viewChildren.push(cd);cd.parent=this};AbstractChangeDetector.prototype.removeViewChild=function(cd){collection_1.ListWrapper.remove(this.viewChildren,cd)};AbstractChangeDetector.prototype.remove=function(){this.parent.removeContentChild(this)};AbstractChangeDetector.prototype.handleEvent=function(eventName,elIndex,event){if(!this.hydrated()){this.throwDehydratedError()}try{var locals=new Map;locals.set("$event",event);var res=!this.handleEventInternal(eventName,elIndex,new locals_1.Locals(this.locals,locals));this.markPathToRootAsCheckOnce();return res}catch(e){var c=this.dispatcher.getDebugContext(null,elIndex,null);var context=lang_1.isPresent(c)?new exceptions_1.EventEvaluationErrorContext(c.element,c.componentElement,c.context,c.locals,c.injector):null;throw new exceptions_1.EventEvaluationError(eventName,e,e.stack,context)}};AbstractChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){return false};AbstractChangeDetector.prototype.detectChanges=function(){this.runDetectChanges(false)};AbstractChangeDetector.prototype.checkNoChanges=function(){if(lang_1.assertionsEnabled()){this.runDetectChanges(true)}};AbstractChangeDetector.prototype.runDetectChanges=function(throwOnChange){if(this.mode===constants_1.ChangeDetectionStrategy.Detached||this.mode===constants_1.ChangeDetectionStrategy.Checked||this.state===constants_1.ChangeDetectorState.Errored)return;var s=_scope_check(this.id,throwOnChange);this.detectChangesInRecords(throwOnChange);this._detectChangesContentChildren(throwOnChange);if(!throwOnChange)this.afterContentLifecycleCallbacks();this._detectChangesInViewChildren(throwOnChange);if(!throwOnChange)this.afterViewLifecycleCallbacks();if(this.mode===constants_1.ChangeDetectionStrategy.CheckOnce)this.mode=constants_1.ChangeDetectionStrategy.Checked;this.state=constants_1.ChangeDetectorState.CheckedBefore;profile_1.wtfLeave(s)};AbstractChangeDetector.prototype.detectChangesInRecords=function(throwOnChange){if(!this.hydrated()){this.throwDehydratedError()}try{this.detectChangesInRecordsInternal(throwOnChange)}catch(e){if(!(e instanceof exceptions_1.ExpressionChangedAfterItHasBeenCheckedException)){this.state=constants_1.ChangeDetectorState.Errored}this._throwError(e,e.stack)}};AbstractChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){};AbstractChangeDetector.prototype.hydrate=function(context,locals,dispatcher,pipes){this.dispatcher=dispatcher;this.mode=change_detection_util_1.ChangeDetectionUtil.changeDetectionMode(this.strategy);this.context=context;if(this.strategy===constants_1.ChangeDetectionStrategy.OnPushObserve){this.observeComponent(context)}this.locals=locals;this.pipes=pipes;this.hydrateDirectives(dispatcher);this.state=constants_1.ChangeDetectorState.NeverChecked};AbstractChangeDetector.prototype.hydrateDirectives=function(dispatcher){};AbstractChangeDetector.prototype.dehydrate=function(){this.dehydrateDirectives(true);if(this.strategy===constants_1.ChangeDetectionStrategy.OnPushObserve){this._unsubsribeFromObservables()}this._unsubscribeFromOutputs();this.dispatcher=null;this.context=null;this.locals=null;this.pipes=null};AbstractChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){};AbstractChangeDetector.prototype.hydrated=function(){return lang_1.isPresent(this.context)};AbstractChangeDetector.prototype.destroyRecursive=function(){this.dispatcher.notifyOnDestroy();this.dehydrate();var children=this.contentChildren;for(var i=0;i<children.length;i++){children[i].destroyRecursive()}children=this.viewChildren;for(var i=0;i<children.length;i++){children[i].destroyRecursive()}};AbstractChangeDetector.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked();this.afterContentLifecycleCallbacksInternal()};AbstractChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){};AbstractChangeDetector.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked();this.afterViewLifecycleCallbacksInternal()};AbstractChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){};AbstractChangeDetector.prototype._detectChangesContentChildren=function(throwOnChange){var c=this.contentChildren;for(var i=0;i<c.length;++i){c[i].runDetectChanges(throwOnChange)}};AbstractChangeDetector.prototype._detectChangesInViewChildren=function(throwOnChange){var c=this.viewChildren;for(var i=0;i<c.length;++i){c[i].runDetectChanges(throwOnChange)}};AbstractChangeDetector.prototype.markAsCheckOnce=function(){this.mode=constants_1.ChangeDetectionStrategy.CheckOnce};AbstractChangeDetector.prototype.markPathToRootAsCheckOnce=function(){var c=this;while(lang_1.isPresent(c)&&c.mode!==constants_1.ChangeDetectionStrategy.Detached){if(c.mode===constants_1.ChangeDetectionStrategy.Checked)c.mode=constants_1.ChangeDetectionStrategy.CheckOnce;c=c.parent}};AbstractChangeDetector.prototype._unsubsribeFromObservables=function(){if(lang_1.isPresent(this.subscriptions)){for(var i=0;i<this.subscriptions.length;++i){var s=this.subscriptions[i];if(lang_1.isPresent(this.subscriptions[i])){s.cancel();this.subscriptions[i]=null}}}};AbstractChangeDetector.prototype._unsubscribeFromOutputs=function(){if(lang_1.isPresent(this.outputSubscriptions)){for(var i=0;i<this.outputSubscriptions.length;++i){async_1.ObservableWrapper.dispose(this.outputSubscriptions[i]);this.outputSubscriptions[i]=null}}};AbstractChangeDetector.prototype.observeValue=function(value,index){var _this=this;if(observable_facade_1.isObservable(value)){this._createArrayToStoreObservables();if(lang_1.isBlank(this.subscriptions[index])){this.streams[index]=value.changes;this.subscriptions[index]=value.changes.listen(function(_){return _this.ref.markForCheck()})}else if(this.streams[index]!==value.changes){this.subscriptions[index].cancel();this.streams[index]=value.changes;this.subscriptions[index]=value.changes.listen(function(_){return _this.ref.markForCheck()})}}return value};AbstractChangeDetector.prototype.observeDirective=function(value,index){var _this=this;if(observable_facade_1.isObservable(value)){this._createArrayToStoreObservables();var arrayIndex=this.numberOfPropertyProtoRecords+index+2;this.streams[arrayIndex]=value.changes;this.subscriptions[arrayIndex]=value.changes.listen(function(_){return _this.ref.markForCheck()})}return value};AbstractChangeDetector.prototype.observeComponent=function(value){var _this=this;if(observable_facade_1.isObservable(value)){this._createArrayToStoreObservables();var index=this.numberOfPropertyProtoRecords+1;this.streams[index]=value.changes;this.subscriptions[index]=value.changes.listen(function(_){return _this.ref.markForCheck()})}return value};AbstractChangeDetector.prototype._createArrayToStoreObservables=function(){if(lang_1.isBlank(this.subscriptions)){this.subscriptions=collection_1.ListWrapper.createFixedSize(this.numberOfPropertyProtoRecords+this.directiveIndices.length+2);this.streams=collection_1.ListWrapper.createFixedSize(this.numberOfPropertyProtoRecords+this.directiveIndices.length+2)}};AbstractChangeDetector.prototype.getDirectiveFor=function(directives,index){return directives.getDirectiveFor(this.directiveIndices[index])};AbstractChangeDetector.prototype.getDetectorFor=function(directives,index){return directives.getDetectorFor(this.directiveIndices[index])};AbstractChangeDetector.prototype.notifyDispatcher=function(value){this.dispatcher.notifyOnBinding(this._currentBinding(),value)};AbstractChangeDetector.prototype.logBindingUpdate=function(value){this.dispatcher.logBindingUpdate(this._currentBinding(),value)};AbstractChangeDetector.prototype.addChange=function(changes,oldValue,newValue){if(lang_1.isBlank(changes)){changes={}}changes[this._currentBinding().name]=change_detection_util_1.ChangeDetectionUtil.simpleChange(oldValue,newValue);return changes};AbstractChangeDetector.prototype._throwError=function(exception,stack){var error;try{var c=this.dispatcher.getDebugContext(null,this._currentBinding().elementIndex,null);var context=lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.context,c.locals,c.injector,this._currentBinding().debug):null;error=new exceptions_1.ChangeDetectionError(this._currentBinding().debug,exception,stack,context)}catch(e){error=new exceptions_1.ChangeDetectionError(null,exception,stack,null)}throw error};AbstractChangeDetector.prototype.throwOnChangeError=function(oldValue,newValue){throw new exceptions_1.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,oldValue,newValue,null)};AbstractChangeDetector.prototype.throwDehydratedError=function(){throw new exceptions_1.DehydratedException};AbstractChangeDetector.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex]};return AbstractChangeDetector}();exports.AbstractChangeDetector=AbstractChangeDetector;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/codegen_logic_util",["angular2/src/facade/lang","angular2/src/core/change_detection/codegen_facade","angular2/src/core/change_detection/proto_record","angular2/src/core/change_detection/constants","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var codegen_facade_1=require("angular2/src/core/change_detection/codegen_facade");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var constants_1=require("angular2/src/core/change_detection/constants");var exceptions_1=require("angular2/src/facade/exceptions");var CodegenLogicUtil=function(){function CodegenLogicUtil(_names,_utilName,_changeDetectorStateName,_changeDetection){this._names=_names;this._utilName=_utilName;this._changeDetectorStateName=_changeDetectorStateName;this._changeDetection=_changeDetection}CodegenLogicUtil.prototype.genPropertyBindingEvalValue=function(protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getLocalName(idx)},this._names.getLocalsAccessorName())};CodegenLogicUtil.prototype.genEventBindingEvalValue=function(eventRecord,protoRec){var _this=this;return this._genEvalValue(protoRec,function(idx){return _this._names.getEventLocalName(eventRecord,idx)},"locals")};CodegenLogicUtil.prototype._genEvalValue=function(protoRec,getLocalName,localsAccessor){var context=protoRec.contextIndex==-1?this._names.getDirectiveName(protoRec.directiveIndex):getLocalName(protoRec.contextIndex);var argString=protoRec.args.map(function(arg){return getLocalName(arg)}).join(", ");var rhs;switch(protoRec.mode){case proto_record_1.RecordType.Self:rhs=context;break;case proto_record_1.RecordType.Const:rhs=codegen_facade_1.codify(protoRec.funcOrValue);break;case proto_record_1.RecordType.PropertyRead:rhs=this._observe(context+"."+protoRec.name,protoRec);break;case proto_record_1.RecordType.SafeProperty:var read=this._observe(context+"."+protoRec.name,protoRec);rhs=this._utilName+".isValueBlank("+context+") ? null : "+this._observe(read,protoRec);break;case proto_record_1.RecordType.PropertyWrite:rhs=context+"."+protoRec.name+" = "+getLocalName(protoRec.args[0]);break;case proto_record_1.RecordType.Local:rhs=this._observe(localsAccessor+".get("+codegen_facade_1.rawString(protoRec.name)+")",protoRec);break;case proto_record_1.RecordType.InvokeMethod:rhs=this._observe(context+"."+protoRec.name+"("+argString+")",protoRec);break;case proto_record_1.RecordType.SafeMethodInvoke:var invoke=context+"."+protoRec.name+"("+argString+")";rhs=this._utilName+".isValueBlank("+context+") ? null : "+this._observe(invoke,protoRec);break;case proto_record_1.RecordType.InvokeClosure:rhs=context+"("+argString+")";break;case proto_record_1.RecordType.PrimitiveOp:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.CollectionLiteral:rhs=this._utilName+"."+protoRec.name+"("+argString+")";break;case proto_record_1.RecordType.Interpolate:rhs=this._genInterpolation(protoRec);break;case proto_record_1.RecordType.KeyedRead:rhs=this._observe(context+"["+getLocalName(protoRec.args[0])+"]",protoRec);break;case proto_record_1.RecordType.KeyedWrite:rhs=context+"["+getLocalName(protoRec.args[0])+"] = "+getLocalName(protoRec.args[1]);break;case proto_record_1.RecordType.Chain:rhs=""+getLocalName(protoRec.args[protoRec.args.length-1]);break;default:throw new exceptions_1.BaseException("Unknown operation "+protoRec.mode)}return getLocalName(protoRec.selfIndex)+" = "+rhs+";"};CodegenLogicUtil.prototype._observe=function(exp,rec){if(this._changeDetection===constants_1.ChangeDetectionStrategy.OnPushObserve){return"this.observeValue("+exp+", "+rec.selfIndex+")"}else{return exp}};CodegenLogicUtil.prototype.genPropertyBindingTargets=function(propertyBindingTargets,genDebugInfo){var _this=this;var bs=propertyBindingTargets.map(function(b){if(lang_1.isBlank(b))return"null";var debug=genDebugInfo?codegen_facade_1.codify(b.debug):"null";return _this._utilName+".bindingTarget("+codegen_facade_1.codify(b.mode)+", "+b.elementIndex+", "+codegen_facade_1.codify(b.name)+", "+codegen_facade_1.codify(b.unit)+", "+debug+")"});return"["+bs.join(", ")+"]"};CodegenLogicUtil.prototype.genDirectiveIndices=function(directiveRecords){var _this=this;var bs=directiveRecords.map(function(b){return _this._utilName+".directiveIndex("+b.directiveIndex.elementIndex+", "+b.directiveIndex.directiveIndex+")"});return"["+bs.join(", ")+"]"};CodegenLogicUtil.prototype._genInterpolation=function(protoRec){var iVals=[];for(var i=0;i<protoRec.args.length;++i){iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[i]));iVals.push(this._utilName+".s("+this._names.getLocalName(protoRec.args[i])+")")}iVals.push(codegen_facade_1.codify(protoRec.fixedArgs[protoRec.args.length]));return codegen_facade_1.combineGeneratedStrings(iVals)};CodegenLogicUtil.prototype.genHydrateDirectives=function(directiveRecords){var _this=this;var res=[];var outputCount=0;for(var i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];var dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+" = "+this._genReadDirective(i)+";");if(lang_1.isPresent(r.outputs)){r.outputs.forEach(function(output){var eventHandlerExpr=_this._genEventHandler(r.directiveIndex.elementIndex,output[1]);var statementStart="this.outputSubscriptions["+outputCount++ +"] = "+dirVarName+"."+output[0];if(lang_1.IS_DART){res.push(statementStart+".listen("+eventHandlerExpr+");")}else{res.push(statementStart+".subscribe({next: "+eventHandlerExpr+"});")}})}}if(outputCount>0){var statementStart="this.outputSubscriptions";if(lang_1.IS_DART){res.unshift(statementStart+" = new List("+outputCount+");")}else{res.unshift(statementStart+" = new Array("+outputCount+");")}}return res.join("\n")};CodegenLogicUtil.prototype.genDirectivesOnDestroy=function(directiveRecords){var res=[];for(var i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];if(r.callOnDestroy){var dirVarName=this._names.getDirectiveName(r.directiveIndex);res.push(dirVarName+".ngOnDestroy();")}}return res.join("\n")};CodegenLogicUtil.prototype._genEventHandler=function(boundElementIndex,eventName){if(lang_1.IS_DART){return"(event) => this.handleEvent('"+eventName+"', "+boundElementIndex+", event)"}else{return"(function(event) { return this.handleEvent('"+eventName+"', "+boundElementIndex+", event); }).bind(this)"}};CodegenLogicUtil.prototype._genReadDirective=function(index){var directiveExpr="this.getDirectiveFor(directives, "+index+")";if(this._changeDetection===constants_1.ChangeDetectionStrategy.OnPushObserve){return"this.observeDirective("+directiveExpr+", "+index+")"}else{return directiveExpr}};CodegenLogicUtil.prototype.genHydrateDetectors=function(directiveRecords){var res=[];for(var i=0;i<directiveRecords.length;++i){var r=directiveRecords[i];if(!r.isDefaultChangeDetection()){res.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+i+");")}}return res.join("\n")};CodegenLogicUtil.prototype.genContentLifecycleCallbacks=function(directiveRecords){var res=[];var eq=lang_1.IS_DART?"==":"===";for(var i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];if(dir.callAfterContentInit){res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentInit();")}if(dir.callAfterContentChecked){res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterContentChecked();")}}return res};CodegenLogicUtil.prototype.genViewLifecycleCallbacks=function(directiveRecords){var res=[];var eq=lang_1.IS_DART?"==":"===";for(var i=directiveRecords.length-1;i>=0;--i){var dir=directiveRecords[i];if(dir.callAfterViewInit){res.push("if("+this._names.getStateName()+" "+eq+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewInit();")}if(dir.callAfterViewChecked){res.push(this._names.getDirectiveName(dir.directiveIndex)+".ngAfterViewChecked();")}}return res};return CodegenLogicUtil}();exports.CodegenLogicUtil=CodegenLogicUtil;global.define=__define;return module.exports});System.register("angular2/src/core/linker/element",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/di","angular2/src/core/di/provider","angular2/src/core/di/injector","angular2/src/core/di/provider","angular2/src/core/metadata/di","angular2/src/core/linker/view_type","angular2/src/core/linker/element_ref","angular2/src/core/linker/view_container_ref","angular2/src/core/linker/element_ref","angular2/src/core/render/api","angular2/src/core/linker/template_ref","angular2/src/core/metadata/directives","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/query_list","angular2/src/core/reflection/reflection","angular2/src/core/pipes/pipe_provider","angular2/src/core/linker/view_container_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var di_1=require("angular2/src/core/di");var provider_1=require("angular2/src/core/di/provider");var injector_1=require("angular2/src/core/di/injector");var provider_2=require("angular2/src/core/di/provider");var di_2=require("angular2/src/core/metadata/di");var view_type_1=require("angular2/src/core/linker/view_type");var element_ref_1=require("angular2/src/core/linker/element_ref");var view_container_ref_1=require("angular2/src/core/linker/view_container_ref");var element_ref_2=require("angular2/src/core/linker/element_ref");var api_1=require("angular2/src/core/render/api");var template_ref_1=require("angular2/src/core/linker/template_ref");var directives_1=require("angular2/src/core/metadata/directives");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var query_list_1=require("angular2/src/core/linker/query_list");var reflection_1=require("angular2/src/core/reflection/reflection");var pipe_provider_1=require("angular2/src/core/pipes/pipe_provider");var view_container_ref_2=require("angular2/src/core/linker/view_container_ref");var _staticKeys;var StaticKeys=function(){function StaticKeys(){this.templateRefId=di_1.Key.get(template_ref_1.TemplateRef).id;this.viewContainerId=di_1.Key.get(view_container_ref_1.ViewContainerRef).id;this.changeDetectorRefId=di_1.Key.get(change_detection_1.ChangeDetectorRef).id;this.elementRefId=di_1.Key.get(element_ref_2.ElementRef).id;this.rendererId=di_1.Key.get(api_1.Renderer).id}StaticKeys.instance=function(){if(lang_1.isBlank(_staticKeys))_staticKeys=new StaticKeys;return _staticKeys};return StaticKeys}();exports.StaticKeys=StaticKeys;var DirectiveDependency=function(_super){__extends(DirectiveDependency,_super);function DirectiveDependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties,attributeName,queryDecorator){_super.call(this,key,optional,lowerBoundVisibility,upperBoundVisibility,properties);this.attributeName=attributeName;this.queryDecorator=queryDecorator;this._verify()}DirectiveDependency.prototype._verify=function(){var count=0;if(lang_1.isPresent(this.queryDecorator))count++;if(lang_1.isPresent(this.attributeName))count++;if(count>1)throw new exceptions_1.BaseException("A directive injectable can contain only one of the following @Attribute or @Query.")};DirectiveDependency.createFrom=function(d){return new DirectiveDependency(d.key,d.optional,d.lowerBoundVisibility,d.upperBoundVisibility,d.properties,DirectiveDependency._attributeName(d.properties),DirectiveDependency._query(d.properties))};DirectiveDependency._attributeName=function(properties){var p=properties.find(function(p){return p instanceof di_2.AttributeMetadata});return lang_1.isPresent(p)?p.attributeName:null};DirectiveDependency._query=function(properties){return properties.find(function(p){return p instanceof di_2.QueryMetadata})};return DirectiveDependency}(di_1.Dependency);exports.DirectiveDependency=DirectiveDependency;var DirectiveProvider=function(_super){__extends(DirectiveProvider,_super);function DirectiveProvider(key,factory,deps,isComponent,providers,viewProviders,queries){_super.call(this,key,[new provider_2.ResolvedFactory(factory,deps)],false);this.isComponent=isComponent;this.providers=providers;this.viewProviders=viewProviders;this.queries=queries}Object.defineProperty(DirectiveProvider.prototype,"displayName",{get:function(){return this.key.displayName},enumerable:true,configurable:true});DirectiveProvider.createFromType=function(type,meta){var provider=new di_1.Provider(type,{useClass:type});if(lang_1.isBlank(meta)){meta=new directives_1.DirectiveMetadata}var rb=provider_2.resolveProvider(provider);var rf=rb.resolvedFactories[0];var deps=rf.dependencies.map(DirectiveDependency.createFrom);var isComponent=meta instanceof directives_1.ComponentMetadata;var resolvedProviders=lang_1.isPresent(meta.providers)?di_1.Injector.resolve(meta.providers):null;var resolvedViewProviders=meta instanceof directives_1.ComponentMetadata&&lang_1.isPresent(meta.viewProviders)?di_1.Injector.resolve(meta.viewProviders):null;var queries=[];if(lang_1.isPresent(meta.queries)){collection_1.StringMapWrapper.forEach(meta.queries,function(meta,fieldName){var setter=reflection_1.reflector.setter(fieldName);queries.push(new QueryMetadataWithSetter(setter,meta))})}deps.forEach(function(d){if(lang_1.isPresent(d.queryDecorator)){queries.push(new QueryMetadataWithSetter(null,d.queryDecorator))}});return new DirectiveProvider(rb.key,rf.factory,deps,isComponent,resolvedProviders,resolvedViewProviders,queries)};return DirectiveProvider}(provider_2.ResolvedProvider_);exports.DirectiveProvider=DirectiveProvider;
var QueryMetadataWithSetter=function(){function QueryMetadataWithSetter(setter,metadata){this.setter=setter;this.metadata=metadata}return QueryMetadataWithSetter}();exports.QueryMetadataWithSetter=QueryMetadataWithSetter;function setProvidersVisibility(providers,visibility,result){for(var i=0;i<providers.length;i++){result.set(providers[i].key.id,visibility)}}var AppProtoElement=function(){function AppProtoElement(firstProviderIsComponent,index,attributes,pwvs,protoQueryRefs,directiveVariableBindings){this.firstProviderIsComponent=firstProviderIsComponent;this.index=index;this.attributes=attributes;this.protoQueryRefs=protoQueryRefs;this.directiveVariableBindings=directiveVariableBindings;var length=pwvs.length;if(length>0){this.protoInjector=new injector_1.ProtoInjector(pwvs)}else{this.protoInjector=null;this.protoQueryRefs=[]}}AppProtoElement.create=function(metadataCache,index,attributes,directiveTypes,directiveVariableBindings){var componentDirProvider=null;var mergedProvidersMap=new Map;var providerVisibilityMap=new Map;var providers=collection_1.ListWrapper.createGrowableSize(directiveTypes.length);var protoQueryRefs=[];for(var i=0;i<directiveTypes.length;i++){var dirProvider=metadataCache.getResolvedDirectiveMetadata(directiveTypes[i]);providers[i]=new injector_1.ProviderWithVisibility(dirProvider,dirProvider.isComponent?injector_1.Visibility.PublicAndPrivate:injector_1.Visibility.Public);if(dirProvider.isComponent){componentDirProvider=dirProvider}else{if(lang_1.isPresent(dirProvider.providers)){provider_1.mergeResolvedProviders(dirProvider.providers,mergedProvidersMap);setProvidersVisibility(dirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap)}}if(lang_1.isPresent(dirProvider.viewProviders)){provider_1.mergeResolvedProviders(dirProvider.viewProviders,mergedProvidersMap);setProvidersVisibility(dirProvider.viewProviders,injector_1.Visibility.Private,providerVisibilityMap)}for(var queryIdx=0;queryIdx<dirProvider.queries.length;queryIdx++){var q=dirProvider.queries[queryIdx];protoQueryRefs.push(new ProtoQueryRef(i,q.setter,q.metadata))}}if(lang_1.isPresent(componentDirProvider)&&lang_1.isPresent(componentDirProvider.providers)){provider_1.mergeResolvedProviders(componentDirProvider.providers,mergedProvidersMap);setProvidersVisibility(componentDirProvider.providers,injector_1.Visibility.Public,providerVisibilityMap)}mergedProvidersMap.forEach(function(provider,_){providers.push(new injector_1.ProviderWithVisibility(provider,providerVisibilityMap.get(provider.key.id)))});return new AppProtoElement(lang_1.isPresent(componentDirProvider),index,attributes,providers,protoQueryRefs,directiveVariableBindings)};AppProtoElement.prototype.getProviderAtIndex=function(index){return this.protoInjector.getProviderAtIndex(index)};return AppProtoElement}();exports.AppProtoElement=AppProtoElement;var _Context=function(){function _Context(element,componentElement,injector){this.element=element;this.componentElement=componentElement;this.injector=injector}return _Context}();var InjectorWithHostBoundary=function(){function InjectorWithHostBoundary(injector,hostInjectorBoundary){this.injector=injector;this.hostInjectorBoundary=hostInjectorBoundary}return InjectorWithHostBoundary}();exports.InjectorWithHostBoundary=InjectorWithHostBoundary;var AppElement=function(){function AppElement(proto,parentView,parent,nativeElement,embeddedViewFactory){var _this=this;this.proto=proto;this.parentView=parentView;this.parent=parent;this.nativeElement=nativeElement;this.embeddedViewFactory=embeddedViewFactory;this.nestedViews=null;this.componentView=null;this.ref=new element_ref_1.ElementRef_(this);var parentInjector=lang_1.isPresent(parent)?parent._injector:parentView.parentInjector;if(lang_1.isPresent(this.proto.protoInjector)){var isBoundary;if(lang_1.isPresent(parent)&&lang_1.isPresent(parent.proto.protoInjector)){isBoundary=false}else{isBoundary=parentView.hostInjectorBoundary}this._queryStrategy=this._buildQueryStrategy();this._injector=new di_1.Injector(this.proto.protoInjector,parentInjector,isBoundary,this,function(){return _this._debugContext()});var injectorStrategy=this._injector.internalStrategy;this._strategy=injectorStrategy instanceof injector_1.InjectorInlineStrategy?new ElementDirectiveInlineStrategy(injectorStrategy,this):new ElementDirectiveDynamicStrategy(injectorStrategy,this);this._strategy.init()}else{this._queryStrategy=null;this._injector=parentInjector;this._strategy=null}}AppElement.getViewParentInjector=function(parentViewType,containerAppElement,imperativelyCreatedProviders,rootInjector){var parentInjector;var hostInjectorBoundary;switch(parentViewType){case view_type_1.ViewType.COMPONENT:parentInjector=containerAppElement._injector;hostInjectorBoundary=true;break;case view_type_1.ViewType.EMBEDDED:parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector;hostInjectorBoundary=containerAppElement._injector.hostBoundary;break;case view_type_1.ViewType.HOST:if(lang_1.isPresent(containerAppElement)){parentInjector=lang_1.isPresent(containerAppElement.proto.protoInjector)?containerAppElement._injector.parent:containerAppElement._injector;if(lang_1.isPresent(imperativelyCreatedProviders)){var imperativeProvidersWithVisibility=imperativelyCreatedProviders.map(function(p){return new injector_1.ProviderWithVisibility(p,injector_1.Visibility.Public)});parentInjector=new di_1.Injector(new injector_1.ProtoInjector(imperativeProvidersWithVisibility),parentInjector,true,null,null);hostInjectorBoundary=false}else{hostInjectorBoundary=containerAppElement._injector.hostBoundary}}else{parentInjector=rootInjector;hostInjectorBoundary=true}break}return new InjectorWithHostBoundary(parentInjector,hostInjectorBoundary)};AppElement.prototype.attachComponentView=function(componentView){this.componentView=componentView};AppElement.prototype._debugContext=function(){var c=this.parentView.getDebugContext(this,null,null);return lang_1.isPresent(c)?new _Context(c.element,c.componentElement,c.injector):null};AppElement.prototype.hasVariableBinding=function(name){var vb=this.proto.directiveVariableBindings;return lang_1.isPresent(vb)&&collection_1.StringMapWrapper.contains(vb,name)};AppElement.prototype.getVariableBinding=function(name){var index=this.proto.directiveVariableBindings[name];return lang_1.isPresent(index)?this.getDirectiveAtIndex(index):this.getElementRef()};AppElement.prototype.get=function(token){return this._injector.get(token)};AppElement.prototype.hasDirective=function(type){return lang_1.isPresent(this._injector.getOptional(type))};AppElement.prototype.getComponent=function(){return lang_1.isPresent(this._strategy)?this._strategy.getComponent():null};AppElement.prototype.getInjector=function(){return this._injector};AppElement.prototype.getElementRef=function(){return this.ref};AppElement.prototype.getViewContainerRef=function(){return new view_container_ref_2.ViewContainerRef_(this)};AppElement.prototype.getTemplateRef=function(){if(lang_1.isPresent(this.embeddedViewFactory)){return new template_ref_1.TemplateRef_(this.ref)}return null};AppElement.prototype.getDependency=function(injector,provider,dep){if(provider instanceof DirectiveProvider){var dirDep=dep;if(lang_1.isPresent(dirDep.attributeName))return this._buildAttribute(dirDep);if(lang_1.isPresent(dirDep.queryDecorator))return this._queryStrategy.findQuery(dirDep.queryDecorator).list;if(dirDep.key.id===StaticKeys.instance().changeDetectorRefId){if(this.proto.firstProviderIsComponent){return new _ComponentViewChangeDetectorRef(this)}else{return this.parentView.changeDetector.ref}}if(dirDep.key.id===StaticKeys.instance().elementRefId){return this.getElementRef()}if(dirDep.key.id===StaticKeys.instance().viewContainerId){return this.getViewContainerRef()}if(dirDep.key.id===StaticKeys.instance().templateRefId){var tr=this.getTemplateRef();if(lang_1.isBlank(tr)&&!dirDep.optional){throw new di_1.NoProviderError(null,dirDep.key)}return tr}if(dirDep.key.id===StaticKeys.instance().rendererId){return this.parentView.renderer}}else if(provider instanceof pipe_provider_1.PipeProvider){if(dep.key.id===StaticKeys.instance().changeDetectorRefId){if(this.proto.firstProviderIsComponent){return new _ComponentViewChangeDetectorRef(this)}else{return this.parentView.changeDetector}}}return injector_1.UNDEFINED};AppElement.prototype._buildAttribute=function(dep){var attributes=this.proto.attributes;if(lang_1.isPresent(attributes)&&collection_1.StringMapWrapper.contains(attributes,dep.attributeName)){return attributes[dep.attributeName]}else{return null}};AppElement.prototype.addDirectivesMatchingQuery=function(query,list){var templateRef=this.getTemplateRef();if(query.selector===template_ref_1.TemplateRef&&lang_1.isPresent(templateRef)){list.push(templateRef)}if(this._strategy!=null){this._strategy.addDirectivesMatchingQuery(query,list)}};AppElement.prototype._buildQueryStrategy=function(){if(this.proto.protoQueryRefs.length===0){return _emptyQueryStrategy}else if(this.proto.protoQueryRefs.length<=InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES){return new InlineQueryStrategy(this)}else{return new DynamicQueryStrategy(this)}};AppElement.prototype.getDirectiveAtIndex=function(index){return this._injector.getAt(index)};AppElement.prototype.ngAfterViewChecked=function(){if(lang_1.isPresent(this._queryStrategy))this._queryStrategy.updateViewQueries()};AppElement.prototype.ngAfterContentChecked=function(){if(lang_1.isPresent(this._queryStrategy))this._queryStrategy.updateContentQueries()};AppElement.prototype.traverseAndSetQueriesAsDirty=function(){var inj=this;while(lang_1.isPresent(inj)){inj._setQueriesAsDirty();if(lang_1.isBlank(inj.parent)&&inj.parentView.proto.type===view_type_1.ViewType.EMBEDDED){inj=inj.parentView.containerAppElement}else{inj=inj.parent}}};AppElement.prototype._setQueriesAsDirty=function(){if(lang_1.isPresent(this._queryStrategy)){this._queryStrategy.setContentQueriesAsDirty()}if(this.parentView.proto.type===view_type_1.ViewType.COMPONENT){this.parentView.containerAppElement._queryStrategy.setViewQueriesAsDirty()}};return AppElement}();exports.AppElement=AppElement;var _EmptyQueryStrategy=function(){function _EmptyQueryStrategy(){}_EmptyQueryStrategy.prototype.setContentQueriesAsDirty=function(){};_EmptyQueryStrategy.prototype.setViewQueriesAsDirty=function(){};_EmptyQueryStrategy.prototype.updateContentQueries=function(){};_EmptyQueryStrategy.prototype.updateViewQueries=function(){};_EmptyQueryStrategy.prototype.findQuery=function(query){throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")};return _EmptyQueryStrategy}();var _emptyQueryStrategy=new _EmptyQueryStrategy;var InlineQueryStrategy=function(){function InlineQueryStrategy(ei){var protoRefs=ei.proto.protoQueryRefs;if(protoRefs.length>0)this.query0=new QueryRef(protoRefs[0],ei);if(protoRefs.length>1)this.query1=new QueryRef(protoRefs[1],ei);if(protoRefs.length>2)this.query2=new QueryRef(protoRefs[2],ei)}InlineQueryStrategy.prototype.setContentQueriesAsDirty=function(){if(lang_1.isPresent(this.query0)&&!this.query0.isViewQuery)this.query0.dirty=true;if(lang_1.isPresent(this.query1)&&!this.query1.isViewQuery)this.query1.dirty=true;if(lang_1.isPresent(this.query2)&&!this.query2.isViewQuery)this.query2.dirty=true};InlineQueryStrategy.prototype.setViewQueriesAsDirty=function(){if(lang_1.isPresent(this.query0)&&this.query0.isViewQuery)this.query0.dirty=true;if(lang_1.isPresent(this.query1)&&this.query1.isViewQuery)this.query1.dirty=true;if(lang_1.isPresent(this.query2)&&this.query2.isViewQuery)this.query2.dirty=true};InlineQueryStrategy.prototype.updateContentQueries=function(){if(lang_1.isPresent(this.query0)&&!this.query0.isViewQuery){this.query0.update()}if(lang_1.isPresent(this.query1)&&!this.query1.isViewQuery){this.query1.update()}if(lang_1.isPresent(this.query2)&&!this.query2.isViewQuery){this.query2.update()}};InlineQueryStrategy.prototype.updateViewQueries=function(){if(lang_1.isPresent(this.query0)&&this.query0.isViewQuery){this.query0.update()}if(lang_1.isPresent(this.query1)&&this.query1.isViewQuery){this.query1.update()}if(lang_1.isPresent(this.query2)&&this.query2.isViewQuery){this.query2.update()}};InlineQueryStrategy.prototype.findQuery=function(query){if(lang_1.isPresent(this.query0)&&this.query0.protoQueryRef.query===query){return this.query0}if(lang_1.isPresent(this.query1)&&this.query1.protoQueryRef.query===query){return this.query1}if(lang_1.isPresent(this.query2)&&this.query2.protoQueryRef.query===query){return this.query2}throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")};InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES=3;return InlineQueryStrategy}();var DynamicQueryStrategy=function(){function DynamicQueryStrategy(ei){this.queries=ei.proto.protoQueryRefs.map(function(p){return new QueryRef(p,ei)})}DynamicQueryStrategy.prototype.setContentQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(!q.isViewQuery)q.dirty=true}};DynamicQueryStrategy.prototype.setViewQueriesAsDirty=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.isViewQuery)q.dirty=true}};DynamicQueryStrategy.prototype.updateContentQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(!q.isViewQuery){q.update()}}};DynamicQueryStrategy.prototype.updateViewQueries=function(){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.isViewQuery){q.update()}}};DynamicQueryStrategy.prototype.findQuery=function(query){for(var i=0;i<this.queries.length;++i){var q=this.queries[i];if(q.protoQueryRef.query===query){return q}}throw new exceptions_1.BaseException("Cannot find query for directive "+query+".")};return DynamicQueryStrategy}();var ElementDirectiveInlineStrategy=function(){function ElementDirectiveInlineStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy;this._ei=_ei}ElementDirectiveInlineStrategy.prototype.init=function(){var i=this.injectorStrategy;var p=i.protoStrategy;i.resetConstructionCounter();if(p.provider0 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId0)&&i.obj0===injector_1.UNDEFINED)i.obj0=i.instantiateProvider(p.provider0,p.visibility0);if(p.provider1 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId1)&&i.obj1===injector_1.UNDEFINED)i.obj1=i.instantiateProvider(p.provider1,p.visibility1);if(p.provider2 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId2)&&i.obj2===injector_1.UNDEFINED)i.obj2=i.instantiateProvider(p.provider2,p.visibility2);if(p.provider3 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId3)&&i.obj3===injector_1.UNDEFINED)i.obj3=i.instantiateProvider(p.provider3,p.visibility3);if(p.provider4 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId4)&&i.obj4===injector_1.UNDEFINED)i.obj4=i.instantiateProvider(p.provider4,p.visibility4);if(p.provider5 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId5)&&i.obj5===injector_1.UNDEFINED)i.obj5=i.instantiateProvider(p.provider5,p.visibility5);if(p.provider6 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId6)&&i.obj6===injector_1.UNDEFINED)i.obj6=i.instantiateProvider(p.provider6,p.visibility6);if(p.provider7 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId7)&&i.obj7===injector_1.UNDEFINED)i.obj7=i.instantiateProvider(p.provider7,p.visibility7);if(p.provider8 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId8)&&i.obj8===injector_1.UNDEFINED)i.obj8=i.instantiateProvider(p.provider8,p.visibility8);if(p.provider9 instanceof DirectiveProvider&&lang_1.isPresent(p.keyId9)&&i.obj9===injector_1.UNDEFINED)i.obj9=i.instantiateProvider(p.provider9,p.visibility9)};ElementDirectiveInlineStrategy.prototype.getComponent=function(){return this.injectorStrategy.obj0};ElementDirectiveInlineStrategy.prototype.isComponentKey=function(key){return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===this.injectorStrategy.protoStrategy.keyId0};ElementDirectiveInlineStrategy.prototype.addDirectivesMatchingQuery=function(query,list){var i=this.injectorStrategy;var p=i.protoStrategy;if(lang_1.isPresent(p.provider0)&&p.provider0.key.token===query.selector){if(i.obj0===injector_1.UNDEFINED)i.obj0=i.instantiateProvider(p.provider0,p.visibility0);list.push(i.obj0)}if(lang_1.isPresent(p.provider1)&&p.provider1.key.token===query.selector){if(i.obj1===injector_1.UNDEFINED)i.obj1=i.instantiateProvider(p.provider1,p.visibility1);list.push(i.obj1)}if(lang_1.isPresent(p.provider2)&&p.provider2.key.token===query.selector){if(i.obj2===injector_1.UNDEFINED)i.obj2=i.instantiateProvider(p.provider2,p.visibility2);list.push(i.obj2)}if(lang_1.isPresent(p.provider3)&&p.provider3.key.token===query.selector){if(i.obj3===injector_1.UNDEFINED)i.obj3=i.instantiateProvider(p.provider3,p.visibility3);list.push(i.obj3)}if(lang_1.isPresent(p.provider4)&&p.provider4.key.token===query.selector){if(i.obj4===injector_1.UNDEFINED)i.obj4=i.instantiateProvider(p.provider4,p.visibility4);list.push(i.obj4)}if(lang_1.isPresent(p.provider5)&&p.provider5.key.token===query.selector){if(i.obj5===injector_1.UNDEFINED)i.obj5=i.instantiateProvider(p.provider5,p.visibility5);list.push(i.obj5)}if(lang_1.isPresent(p.provider6)&&p.provider6.key.token===query.selector){if(i.obj6===injector_1.UNDEFINED)i.obj6=i.instantiateProvider(p.provider6,p.visibility6);list.push(i.obj6)}if(lang_1.isPresent(p.provider7)&&p.provider7.key.token===query.selector){if(i.obj7===injector_1.UNDEFINED)i.obj7=i.instantiateProvider(p.provider7,p.visibility7);list.push(i.obj7)}if(lang_1.isPresent(p.provider8)&&p.provider8.key.token===query.selector){if(i.obj8===injector_1.UNDEFINED)i.obj8=i.instantiateProvider(p.provider8,p.visibility8);list.push(i.obj8)}if(lang_1.isPresent(p.provider9)&&p.provider9.key.token===query.selector){if(i.obj9===injector_1.UNDEFINED)i.obj9=i.instantiateProvider(p.provider9,p.visibility9);list.push(i.obj9)}};return ElementDirectiveInlineStrategy}();var ElementDirectiveDynamicStrategy=function(){function ElementDirectiveDynamicStrategy(injectorStrategy,_ei){this.injectorStrategy=injectorStrategy;this._ei=_ei}ElementDirectiveDynamicStrategy.prototype.init=function(){var inj=this.injectorStrategy;var p=inj.protoStrategy;inj.resetConstructionCounter();for(var i=0;i<p.keyIds.length;i++){if(p.providers[i]instanceof DirectiveProvider&&lang_1.isPresent(p.keyIds[i])&&inj.objs[i]===injector_1.UNDEFINED){inj.objs[i]=inj.instantiateProvider(p.providers[i],p.visibilities[i])}}};ElementDirectiveDynamicStrategy.prototype.getComponent=function(){return this.injectorStrategy.objs[0]};ElementDirectiveDynamicStrategy.prototype.isComponentKey=function(key){var p=this.injectorStrategy.protoStrategy;return this._ei.proto.firstProviderIsComponent&&lang_1.isPresent(key)&&key.id===p.keyIds[0]};ElementDirectiveDynamicStrategy.prototype.addDirectivesMatchingQuery=function(query,list){var ist=this.injectorStrategy;var p=ist.protoStrategy;for(var i=0;i<p.providers.length;i++){if(p.providers[i].key.token===query.selector){if(ist.objs[i]===injector_1.UNDEFINED){ist.objs[i]=ist.instantiateProvider(p.providers[i],p.visibilities[i])}list.push(ist.objs[i])}}};return ElementDirectiveDynamicStrategy}();var ProtoQueryRef=function(){function ProtoQueryRef(dirIndex,setter,query){this.dirIndex=dirIndex;this.setter=setter;this.query=query}Object.defineProperty(ProtoQueryRef.prototype,"usesPropertySyntax",{get:function(){return lang_1.isPresent(this.setter)},enumerable:true,configurable:true});return ProtoQueryRef}();exports.ProtoQueryRef=ProtoQueryRef;var QueryRef=function(){function QueryRef(protoQueryRef,originator){this.protoQueryRef=protoQueryRef;this.originator=originator;this.list=new query_list_1.QueryList;this.dirty=true}Object.defineProperty(QueryRef.prototype,"isViewQuery",{get:function(){return this.protoQueryRef.query.isViewQuery},enumerable:true,configurable:true});QueryRef.prototype.update=function(){if(!this.dirty)return;this._update();this.dirty=false;if(this.protoQueryRef.usesPropertySyntax){var dir=this.originator.getDirectiveAtIndex(this.protoQueryRef.dirIndex);if(this.protoQueryRef.query.first){this.protoQueryRef.setter(dir,this.list.length>0?this.list.first:null)}else{this.protoQueryRef.setter(dir,this.list)}}this.list.notifyOnChanges()};QueryRef.prototype._update=function(){var aggregator=[];if(this.protoQueryRef.query.isViewQuery){var nestedView=this.originator.componentView;if(lang_1.isPresent(nestedView))this._visitView(nestedView,aggregator)}else{this._visit(this.originator,aggregator)}this.list.reset(aggregator)};QueryRef.prototype._visit=function(inj,aggregator){var view=inj.parentView;var startIdx=inj.proto.index;for(var i=startIdx;i<view.appElements.length;i++){var curInj=view.appElements[i];if(i>startIdx&&(lang_1.isBlank(curInj.parent)||curInj.parent.proto.index<startIdx)){break}if(!this.protoQueryRef.query.descendants&&!(curInj.parent==this.originator||curInj==this.originator))continue;this._visitInjector(curInj,aggregator);this._visitViewContainerViews(curInj.nestedViews,aggregator)}};QueryRef.prototype._visitInjector=function(inj,aggregator){if(this.protoQueryRef.query.isVarBindingQuery){this._aggregateVariableBinding(inj,aggregator)}else{this._aggregateDirective(inj,aggregator)}};QueryRef.prototype._visitViewContainerViews=function(views,aggregator){if(lang_1.isPresent(views)){for(var j=0;j<views.length;j++){this._visitView(views[j],aggregator)}}};QueryRef.prototype._visitView=function(view,aggregator){for(var i=0;i<view.appElements.length;i++){var inj=view.appElements[i];this._visitInjector(inj,aggregator);this._visitViewContainerViews(inj.nestedViews,aggregator)}};QueryRef.prototype._aggregateVariableBinding=function(inj,aggregator){var vb=this.protoQueryRef.query.varBindings;for(var i=0;i<vb.length;++i){if(inj.hasVariableBinding(vb[i])){aggregator.push(inj.getVariableBinding(vb[i]))}}};QueryRef.prototype._aggregateDirective=function(inj,aggregator){inj.addDirectivesMatchingQuery(this.protoQueryRef.query,aggregator)};return QueryRef}();exports.QueryRef=QueryRef;var _ComponentViewChangeDetectorRef=function(_super){__extends(_ComponentViewChangeDetectorRef,_super);function _ComponentViewChangeDetectorRef(_appElement){_super.call(this);this._appElement=_appElement}_ComponentViewChangeDetectorRef.prototype.markForCheck=function(){this._appElement.componentView.changeDetector.ref.markForCheck()};_ComponentViewChangeDetectorRef.prototype.detach=function(){this._appElement.componentView.changeDetector.ref.detach()};_ComponentViewChangeDetectorRef.prototype.detectChanges=function(){this._appElement.componentView.changeDetector.ref.detectChanges()};_ComponentViewChangeDetectorRef.prototype.checkNoChanges=function(){this._appElement.componentView.changeDetector.ref.checkNoChanges()};_ComponentViewChangeDetectorRef.prototype.reattach=function(){this._appElement.componentView.changeDetector.ref.reattach()};return _ComponentViewChangeDetectorRef}(change_detection_1.ChangeDetectorRef);global.define=__define;return module.exports});System.register("angular2/src/core/pipes/pipes",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/pipes"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var cd=require("angular2/src/core/change_detection/pipes");var ProtoPipes=function(){function ProtoPipes(config){this.config=config;this.config=config}ProtoPipes.fromProviders=function(providers){var config={};providers.forEach(function(b){return config[b.name]=b});return new ProtoPipes(config)};ProtoPipes.prototype.get=function(name){var provider=this.config[name];if(lang_1.isBlank(provider))throw new exceptions_1.BaseException("Cannot find pipe '"+name+"'.");return provider};return ProtoPipes}();exports.ProtoPipes=ProtoPipes;var Pipes=function(){function Pipes(proto,injector){this.proto=proto;this.injector=injector;this._config={}}Pipes.prototype.get=function(name){var cached=collection_1.StringMapWrapper.get(this._config,name);if(lang_1.isPresent(cached))return cached;var p=this.proto.get(name);var transform=this.injector.instantiateResolved(p);var res=new cd.SelectedPipe(transform,p.pure);if(p.pure){collection_1.StringMapWrapper.set(this._config,name,res)}return res};return Pipes}();exports.Pipes=Pipes;global.define=__define;return module.exports});System.register("angular2/src/core/linker",["angular2/src/core/linker/directive_resolver","angular2/src/core/linker/view_resolver","angular2/src/core/linker/compiler","angular2/src/core/linker/view_manager","angular2/src/core/linker/query_list","angular2/src/core/linker/dynamic_component_loader","angular2/src/core/linker/element_ref","angular2/src/core/linker/template_ref","angular2/src/core/linker/view_ref","angular2/src/core/linker/view_container_ref","angular2/src/core/linker/dynamic_component_loader"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");exports.DirectiveResolver=directive_resolver_1.DirectiveResolver;var view_resolver_1=require("angular2/src/core/linker/view_resolver");exports.ViewResolver=view_resolver_1.ViewResolver;var compiler_1=require("angular2/src/core/linker/compiler");exports.Compiler=compiler_1.Compiler;var view_manager_1=require("angular2/src/core/linker/view_manager");exports.AppViewManager=view_manager_1.AppViewManager;var query_list_1=require("angular2/src/core/linker/query_list");exports.QueryList=query_list_1.QueryList;var dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader");exports.DynamicComponentLoader=dynamic_component_loader_1.DynamicComponentLoader;var element_ref_1=require("angular2/src/core/linker/element_ref");exports.ElementRef=element_ref_1.ElementRef;var template_ref_1=require("angular2/src/core/linker/template_ref");exports.TemplateRef=template_ref_1.TemplateRef;var view_ref_1=require("angular2/src/core/linker/view_ref");exports.EmbeddedViewRef=view_ref_1.EmbeddedViewRef;exports.HostViewRef=view_ref_1.HostViewRef;exports.ViewRef=view_ref_1.ViewRef;exports.HostViewFactoryRef=view_ref_1.HostViewFactoryRef;var view_container_ref_1=require("angular2/src/core/linker/view_container_ref");exports.ViewContainerRef=view_container_ref_1.ViewContainerRef;var dynamic_component_loader_2=require("angular2/src/core/linker/dynamic_component_loader");exports.ComponentRef=dynamic_component_loader_2.ComponentRef;global.define=__define;return module.exports});System.register("angular2/src/core/linker/resolved_metadata_cache",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/core/linker/element","angular2/src/core/linker/directive_resolver","angular2/src/core/pipes/pipe_provider","angular2/src/core/linker/pipe_resolver"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var element_1=require("angular2/src/core/linker/element");var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");var pipe_provider_1=require("angular2/src/core/pipes/pipe_provider");var pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver");var ResolvedMetadataCache=function(){function ResolvedMetadataCache(_directiveResolver,_pipeResolver){this._directiveResolver=_directiveResolver;this._pipeResolver=_pipeResolver;this._directiveCache=new Map;this._pipeCache=new Map}ResolvedMetadataCache.prototype.getResolvedDirectiveMetadata=function(type){var result=this._directiveCache.get(type);if(lang_1.isBlank(result)){result=element_1.DirectiveProvider.createFromType(type,this._directiveResolver.resolve(type));this._directiveCache.set(type,result)}return result};ResolvedMetadataCache.prototype.getResolvedPipeMetadata=function(type){var result=this._pipeCache.get(type);if(lang_1.isBlank(result)){result=pipe_provider_1.PipeProvider.createFromType(type,this._pipeResolver.resolve(type));this._pipeCache.set(type,result)}return result};ResolvedMetadataCache=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver])],ResolvedMetadataCache);return ResolvedMetadataCache}();exports.ResolvedMetadataCache=ResolvedMetadataCache;exports.CODEGEN_RESOLVED_METADATA_CACHE=new ResolvedMetadataCache(directive_resolver_1.CODEGEN_DIRECTIVE_RESOLVER,pipe_resolver_1.CODEGEN_PIPE_RESOLVER);global.define=__define;return module.exports});System.register("angular2/src/platform/dom/debug/ng_probe",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/platform/dom/dom_adapter","angular2/src/core/debug/debug_node","angular2/src/platform/dom/dom_renderer","angular2/core","angular2/src/core/debug/debug_renderer"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var debug_node_1=require("angular2/src/core/debug/debug_node");var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");var core_1=require("angular2/core");var debug_renderer_1=require("angular2/src/core/debug/debug_renderer");var INSPECT_GLOBAL_NAME="ng.probe";function inspectNativeElement(element){return debug_node_1.getDebugNode(element)}exports.inspectNativeElement=inspectNativeElement;function _createConditionalRootRenderer(rootRenderer){if(lang_1.assertionsEnabled()){return _createRootRenderer(rootRenderer)}return rootRenderer}function _createRootRenderer(rootRenderer){dom_adapter_1.DOM.setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement);return new debug_renderer_1.DebugDomRootRenderer(rootRenderer)}exports.ELEMENT_PROBE_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createConditionalRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]);exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=lang_1.CONST_EXPR([new di_1.Provider(core_1.RootRenderer,{useFactory:_createRootRenderer,deps:[dom_renderer_1.DomRootRenderer]})]);global.define=__define;return module.exports});System.register("angular2/src/core/di/provider",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/reflection/reflection","angular2/src/core/di/key","angular2/src/core/di/metadata","angular2/src/core/di/exceptions","angular2/src/core/di/forward_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;
return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var reflection_1=require("angular2/src/core/reflection/reflection");var key_1=require("angular2/src/core/di/key");var metadata_1=require("angular2/src/core/di/metadata");var exceptions_2=require("angular2/src/core/di/exceptions");var forward_ref_1=require("angular2/src/core/di/forward_ref");var Dependency=function(){function Dependency(key,optional,lowerBoundVisibility,upperBoundVisibility,properties){this.key=key;this.optional=optional;this.lowerBoundVisibility=lowerBoundVisibility;this.upperBoundVisibility=upperBoundVisibility;this.properties=properties}Dependency.fromKey=function(key){return new Dependency(key,false,null,null,[])};return Dependency}();exports.Dependency=Dependency;var _EMPTY_LIST=lang_1.CONST_EXPR([]);var Provider=function(){function Provider(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;this.token=token;this.useClass=useClass;this.useValue=useValue;this.useExisting=useExisting;this.useFactory=useFactory;this.dependencies=deps;this._multi=multi}Object.defineProperty(Provider.prototype,"multi",{get:function(){return lang_1.normalizeBool(this._multi)},enumerable:true,configurable:true});Provider=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],Provider);return Provider}();exports.Provider=Provider;var Binding=function(_super){__extends(Binding,_super);function Binding(token,_a){var toClass=_a.toClass,toValue=_a.toValue,toAlias=_a.toAlias,toFactory=_a.toFactory,deps=_a.deps,multi=_a.multi;_super.call(this,token,{useClass:toClass,useValue:toValue,useExisting:toAlias,useFactory:toFactory,deps:deps,multi:multi})}Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass},enumerable:true,configurable:true});Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:true,configurable:true});Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:true,configurable:true});Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue},enumerable:true,configurable:true});Binding=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object,Object])],Binding);return Binding}(Provider);exports.Binding=Binding;var ResolvedProvider_=function(){function ResolvedProvider_(key,resolvedFactories,multiProvider){this.key=key;this.resolvedFactories=resolvedFactories;this.multiProvider=multiProvider}Object.defineProperty(ResolvedProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:true,configurable:true});return ResolvedProvider_}();exports.ResolvedProvider_=ResolvedProvider_;var ResolvedFactory=function(){function ResolvedFactory(factory,dependencies){this.factory=factory;this.dependencies=dependencies}return ResolvedFactory}();exports.ResolvedFactory=ResolvedFactory;function bind(token){return new ProviderBuilder(token)}exports.bind=bind;function provide(token,_a){var useClass=_a.useClass,useValue=_a.useValue,useExisting=_a.useExisting,useFactory=_a.useFactory,deps=_a.deps,multi=_a.multi;return new Provider(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi})}exports.provide=provide;var ProviderBuilder=function(){function ProviderBuilder(token){this.token=token}ProviderBuilder.prototype.toClass=function(type){if(!lang_1.isType(type)){throw new exceptions_1.BaseException('Trying to create a class provider but "'+lang_1.stringify(type)+'" is not a class!')}return new Provider(this.token,{useClass:type})};ProviderBuilder.prototype.toValue=function(value){return new Provider(this.token,{useValue:value})};ProviderBuilder.prototype.toAlias=function(aliasToken){if(lang_1.isBlank(aliasToken)){throw new exceptions_1.BaseException("Can not alias "+lang_1.stringify(this.token)+" to a blank value!")}return new Provider(this.token,{useExisting:aliasToken})};ProviderBuilder.prototype.toFactory=function(factory,dependencies){if(!lang_1.isFunction(factory)){throw new exceptions_1.BaseException('Trying to create a factory provider but "'+lang_1.stringify(factory)+'" is not a function!')}return new Provider(this.token,{useFactory:factory,deps:dependencies})};return ProviderBuilder}();exports.ProviderBuilder=ProviderBuilder;function resolveFactory(provider){var factoryFn;var resolvedDeps;if(lang_1.isPresent(provider.useClass)){var useClass=forward_ref_1.resolveForwardRef(provider.useClass);factoryFn=reflection_1.reflector.factory(useClass);resolvedDeps=_dependenciesFor(useClass)}else if(lang_1.isPresent(provider.useExisting)){factoryFn=function(aliasInstance){return aliasInstance};resolvedDeps=[Dependency.fromKey(key_1.Key.get(provider.useExisting))]}else if(lang_1.isPresent(provider.useFactory)){factoryFn=provider.useFactory;resolvedDeps=_constructDependencies(provider.useFactory,provider.dependencies)}else{factoryFn=function(){return provider.useValue};resolvedDeps=_EMPTY_LIST}return new ResolvedFactory(factoryFn,resolvedDeps)}exports.resolveFactory=resolveFactory;function resolveProvider(provider){return new ResolvedProvider_(key_1.Key.get(provider.token),[resolveFactory(provider)],provider.multi)}exports.resolveProvider=resolveProvider;function resolveProviders(providers){var normalized=_normalizeProviders(providers,[]);var resolved=normalized.map(resolveProvider);return collection_1.MapWrapper.values(mergeResolvedProviders(resolved,new Map))}exports.resolveProviders=resolveProviders;function mergeResolvedProviders(providers,normalizedProvidersMap){for(var i=0;i<providers.length;i++){var provider=providers[i];var existing=normalizedProvidersMap.get(provider.key.id);if(lang_1.isPresent(existing)){if(provider.multiProvider!==existing.multiProvider){throw new exceptions_2.MixingMultiProvidersWithRegularProvidersError(existing,provider)}if(provider.multiProvider){for(var j=0;j<provider.resolvedFactories.length;j++){existing.resolvedFactories.push(provider.resolvedFactories[j])}}else{normalizedProvidersMap.set(provider.key.id,provider)}}else{var resolvedProvider;if(provider.multiProvider){resolvedProvider=new ResolvedProvider_(provider.key,collection_1.ListWrapper.clone(provider.resolvedFactories),provider.multiProvider)}else{resolvedProvider=provider}normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}exports.mergeResolvedProviders=mergeResolvedProviders;function _normalizeProviders(providers,res){providers.forEach(function(b){if(b instanceof lang_1.Type){res.push(provide(b,{useClass:b}))}else if(b instanceof Provider){res.push(b)}else if(b instanceof Array){_normalizeProviders(b,res)}else if(b instanceof ProviderBuilder){throw new exceptions_2.InvalidProviderError(b.token)}else{throw new exceptions_2.InvalidProviderError(b)}});return res}function _constructDependencies(factoryFunction,dependencies){if(lang_1.isBlank(dependencies)){return _dependenciesFor(factoryFunction)}else{var params=dependencies.map(function(t){return[t]});return dependencies.map(function(t){return _extractToken(factoryFunction,t,params)})}}function _dependenciesFor(typeOrFunc){var params=reflection_1.reflector.parameters(typeOrFunc);if(lang_1.isBlank(params))return[];if(params.some(lang_1.isBlank)){throw new exceptions_2.NoAnnotationError(typeOrFunc,params)}return params.map(function(p){return _extractToken(typeOrFunc,p,params)})}function _extractToken(typeOrFunc,metadata,params){var depProps=[];var token=null;var optional=false;if(!lang_1.isArray(metadata)){if(metadata instanceof metadata_1.InjectMetadata){return _createDependency(metadata.token,optional,null,null,depProps)}else{return _createDependency(metadata,optional,null,null,depProps)}}var lowerBoundVisibility=null;var upperBoundVisibility=null;for(var i=0;i<metadata.length;++i){var paramMetadata=metadata[i];if(paramMetadata instanceof lang_1.Type){token=paramMetadata}else if(paramMetadata instanceof metadata_1.InjectMetadata){token=paramMetadata.token}else if(paramMetadata instanceof metadata_1.OptionalMetadata){optional=true}else if(paramMetadata instanceof metadata_1.SelfMetadata){upperBoundVisibility=paramMetadata}else if(paramMetadata instanceof metadata_1.HostMetadata){upperBoundVisibility=paramMetadata}else if(paramMetadata instanceof metadata_1.SkipSelfMetadata){lowerBoundVisibility=paramMetadata}else if(paramMetadata instanceof metadata_1.DependencyMetadata){if(lang_1.isPresent(paramMetadata.token)){token=paramMetadata.token}depProps.push(paramMetadata)}}token=forward_ref_1.resolveForwardRef(token);if(lang_1.isPresent(token)){return _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps)}else{throw new exceptions_2.NoAnnotationError(typeOrFunc,params)}}function _createDependency(token,optional,lowerBoundVisibility,upperBoundVisibility,depProps){return new Dependency(key_1.Key.get(token),optional,lowerBoundVisibility,upperBoundVisibility,depProps)}global.define=__define;return module.exports});System.register("angular2/src/animate/css_animation_builder",["angular2/src/animate/css_animation_options","angular2/src/animate/animation"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var css_animation_options_1=require("angular2/src/animate/css_animation_options");var animation_1=require("angular2/src/animate/animation");var CssAnimationBuilder=function(){function CssAnimationBuilder(browserDetails){this.browserDetails=browserDetails;this.data=new css_animation_options_1.CssAnimationOptions}CssAnimationBuilder.prototype.addAnimationClass=function(className){this.data.animationClasses.push(className);return this};CssAnimationBuilder.prototype.addClass=function(className){this.data.classesToAdd.push(className);return this};CssAnimationBuilder.prototype.removeClass=function(className){this.data.classesToRemove.push(className);return this};CssAnimationBuilder.prototype.setDuration=function(duration){this.data.duration=duration;return this};CssAnimationBuilder.prototype.setDelay=function(delay){this.data.delay=delay;return this};CssAnimationBuilder.prototype.setStyles=function(from,to){return this.setFromStyles(from).setToStyles(to)};CssAnimationBuilder.prototype.setFromStyles=function(from){this.data.fromStyles=from;return this};CssAnimationBuilder.prototype.setToStyles=function(to){this.data.toStyles=to;return this};CssAnimationBuilder.prototype.start=function(element){return new animation_1.Animation(element,this.data,this.browserDetails)};return CssAnimationBuilder}();exports.CssAnimationBuilder=CssAnimationBuilder;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/dynamic_change_detector",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/abstract_change_detector","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/proto_record","angular2/src/core/reflection/reflection","angular2/src/facade/async"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var constants_1=require("angular2/src/core/change_detection/constants");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var reflection_1=require("angular2/src/core/reflection/reflection");var async_1=require("angular2/src/facade/async");var DynamicChangeDetector=function(_super){__extends(DynamicChangeDetector,_super);function DynamicChangeDetector(id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy,_records,_eventBindings,_directiveRecords,_genConfig){_super.call(this,id,numberOfPropertyProtoRecords,propertyBindingTargets,directiveIndices,strategy);this._records=_records;this._eventBindings=_eventBindings;this._directiveRecords=_directiveRecords;this._genConfig=_genConfig;var len=_records.length+1;this.values=collection_1.ListWrapper.createFixedSize(len);this.localPipes=collection_1.ListWrapper.createFixedSize(len);this.prevContexts=collection_1.ListWrapper.createFixedSize(len);this.changes=collection_1.ListWrapper.createFixedSize(len);this.dehydrateDirectives(false)}DynamicChangeDetector.prototype.handleEventInternal=function(eventName,elIndex,locals){var _this=this;var preventDefault=false;this._matchingEventBindings(eventName,elIndex).forEach(function(rec){var res=_this._processEventBinding(rec,locals);if(res===false){preventDefault=true}});return preventDefault};DynamicChangeDetector.prototype._processEventBinding=function(eb,locals){var values=collection_1.ListWrapper.createFixedSize(eb.records.length);values[0]=this.values[0];for(var protoIdx=0;protoIdx<eb.records.length;++protoIdx){var proto=eb.records[protoIdx];if(proto.isSkipRecord()){protoIdx+=this._computeSkipLength(protoIdx,proto,values)}else{var res=this._calculateCurrValue(proto,values,locals);if(proto.lastInBinding){this._markPathAsCheckOnce(proto);return res}else{this._writeSelf(proto,res,values)}}}throw new exceptions_1.BaseException("Cannot be reached")};DynamicChangeDetector.prototype._computeSkipLength=function(protoIndex,proto,values){if(proto.mode===proto_record_1.RecordType.SkipRecords){return proto.fixedArgs[0]-protoIndex-1}if(proto.mode===proto_record_1.RecordType.SkipRecordsIf){var condition=this._readContext(proto,values);return condition?proto.fixedArgs[0]-protoIndex-1:0}if(proto.mode===proto_record_1.RecordType.SkipRecordsIfNot){var condition=this._readContext(proto,values);return condition?0:proto.fixedArgs[0]-protoIndex-1}throw new exceptions_1.BaseException("Cannot be reached")};DynamicChangeDetector.prototype._markPathAsCheckOnce=function(proto){if(!proto.bindingRecord.isDefaultChangeDetection()){var dir=proto.bindingRecord.directiveRecord;this._getDetectorFor(dir.directiveIndex).markPathToRootAsCheckOnce()}};DynamicChangeDetector.prototype._matchingEventBindings=function(eventName,elIndex){return this._eventBindings.filter(function(eb){return eb.eventName==eventName&&eb.elIndex===elIndex})};DynamicChangeDetector.prototype.hydrateDirectives=function(dispatcher){var _this=this;this.values[0]=this.context;this.dispatcher=dispatcher;if(this.strategy===constants_1.ChangeDetectionStrategy.OnPushObserve){for(var i=0;i<this.directiveIndices.length;++i){var index=this.directiveIndices[i];_super.prototype.observeDirective.call(this,this._getDirectiveFor(index),i)}}this.outputSubscriptions=[];for(var i=0;i<this._directiveRecords.length;++i){var r=this._directiveRecords[i];if(lang_1.isPresent(r.outputs)){r.outputs.forEach(function(output){var eventHandler=_this._createEventHandler(r.directiveIndex.elementIndex,output[1]);var directive=_this._getDirectiveFor(r.directiveIndex);var getter=reflection_1.reflector.getter(output[0]);_this.outputSubscriptions.push(async_1.ObservableWrapper.subscribe(getter(directive),eventHandler))})}}};DynamicChangeDetector.prototype._createEventHandler=function(boundElementIndex,eventName){var _this=this;return function(event){return _this.handleEvent(eventName,boundElementIndex,event)}};DynamicChangeDetector.prototype.dehydrateDirectives=function(destroyPipes){if(destroyPipes){this._destroyPipes();this._destroyDirectives()}this.values[0]=null;collection_1.ListWrapper.fill(this.values,change_detection_util_1.ChangeDetectionUtil.uninitialized,1);collection_1.ListWrapper.fill(this.changes,false);collection_1.ListWrapper.fill(this.localPipes,null);collection_1.ListWrapper.fill(this.prevContexts,change_detection_util_1.ChangeDetectionUtil.uninitialized)};DynamicChangeDetector.prototype._destroyPipes=function(){for(var i=0;i<this.localPipes.length;++i){if(lang_1.isPresent(this.localPipes[i])){change_detection_util_1.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[i])}}};DynamicChangeDetector.prototype._destroyDirectives=function(){for(var i=0;i<this._directiveRecords.length;++i){var record=this._directiveRecords[i];if(record.callOnDestroy){this._getDirectiveFor(record.directiveIndex).ngOnDestroy()}}};DynamicChangeDetector.prototype.checkNoChanges=function(){this.runDetectChanges(true)};DynamicChangeDetector.prototype.detectChangesInRecordsInternal=function(throwOnChange){var protos=this._records;var changes=null;var isChanged=false;for(var protoIdx=0;protoIdx<protos.length;++protoIdx){var proto=protos[protoIdx];var bindingRecord=proto.bindingRecord;var directiveRecord=bindingRecord.directiveRecord;if(this._firstInBinding(proto)){this.propertyBindingIndex=proto.propertyBindingIndex}if(proto.isLifeCycleRecord()){if(proto.name==="DoCheck"&&!throwOnChange){this._getDirectiveFor(directiveRecord.directiveIndex).ngDoCheck()}else if(proto.name==="OnInit"&&!throwOnChange&&this.state==constants_1.ChangeDetectorState.NeverChecked){this._getDirectiveFor(directiveRecord.directiveIndex).ngOnInit()}else if(proto.name==="OnChanges"&&lang_1.isPresent(changes)&&!throwOnChange){this._getDirectiveFor(directiveRecord.directiveIndex).ngOnChanges(changes)}}else if(proto.isSkipRecord()){protoIdx+=this._computeSkipLength(protoIdx,proto,this.values)}else{var change=this._check(proto,throwOnChange,this.values,this.locals);if(lang_1.isPresent(change)){this._updateDirectiveOrElement(change,bindingRecord);isChanged=true;changes=this._addChange(bindingRecord,change,changes)}}if(proto.lastInDirective){changes=null;if(isChanged&&!bindingRecord.isDefaultChangeDetection()){this._getDetectorFor(directiveRecord.directiveIndex).markAsCheckOnce()}isChanged=false}}};DynamicChangeDetector.prototype._firstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this._records,r.selfIndex-1);return lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord};DynamicChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){var dirs=this._directiveRecords;for(var i=dirs.length-1;i>=0;--i){var dir=dirs[i];if(dir.callAfterContentInit&&this.state==constants_1.ChangeDetectorState.NeverChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterContentInit()}if(dir.callAfterContentChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterContentChecked()}}};DynamicChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){var dirs=this._directiveRecords;for(var i=dirs.length-1;i>=0;--i){var dir=dirs[i];if(dir.callAfterViewInit&&this.state==constants_1.ChangeDetectorState.NeverChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterViewInit()}if(dir.callAfterViewChecked){this._getDirectiveFor(dir.directiveIndex).ngAfterViewChecked()}}};DynamicChangeDetector.prototype._updateDirectiveOrElement=function(change,bindingRecord){if(lang_1.isBlank(bindingRecord.directiveRecord)){_super.prototype.notifyDispatcher.call(this,change.currentValue)}else{var directiveIndex=bindingRecord.directiveRecord.directiveIndex;bindingRecord.setter(this._getDirectiveFor(directiveIndex),change.currentValue)}if(this._genConfig.logBindingUpdate){_super.prototype.logBindingUpdate.call(this,change.currentValue)}};DynamicChangeDetector.prototype._addChange=function(bindingRecord,change,changes){if(bindingRecord.callOnChanges()){return _super.prototype.addChange.call(this,changes,change.previousValue,change.currentValue)}else{return changes}};DynamicChangeDetector.prototype._getDirectiveFor=function(directiveIndex){return this.dispatcher.getDirectiveFor(directiveIndex)};DynamicChangeDetector.prototype._getDetectorFor=function(directiveIndex){return this.dispatcher.getDetectorFor(directiveIndex)};DynamicChangeDetector.prototype._check=function(proto,throwOnChange,values,locals){if(proto.isPipeRecord()){return this._pipeCheck(proto,throwOnChange,values)}else{return this._referenceCheck(proto,throwOnChange,values,locals)}};DynamicChangeDetector.prototype._referenceCheck=function(proto,throwOnChange,values,locals){if(this._pureFuncAndArgsDidNotChange(proto)){this._setChanged(proto,false);return null}var currValue=this._calculateCurrValue(proto,values,locals);if(this.strategy===constants_1.ChangeDetectionStrategy.OnPushObserve){_super.prototype.observeValue.call(this,currValue,proto.selfIndex)}if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values);var detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){if(proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);if(throwOnChange)this.throwOnChangeError(prevValue,currValue);this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return change}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null}}else{this._setChanged(proto,false);return null}}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null}};DynamicChangeDetector.prototype._calculateCurrValue=function(proto,values,locals){switch(proto.mode){case proto_record_1.RecordType.Self:return this._readContext(proto,values);case proto_record_1.RecordType.Const:return proto.funcOrValue;case proto_record_1.RecordType.PropertyRead:var context=this._readContext(proto,values);return proto.funcOrValue(context);case proto_record_1.RecordType.SafeProperty:var context=this._readContext(proto,values);return lang_1.isBlank(context)?null:proto.funcOrValue(context);case proto_record_1.RecordType.PropertyWrite:var context=this._readContext(proto,values);var value=this._readArgs(proto,values)[0];proto.funcOrValue(context,value);return value;case proto_record_1.RecordType.KeyedWrite:var context=this._readContext(proto,values);var key=this._readArgs(proto,values)[0];var value=this._readArgs(proto,values)[1];context[key]=value;return value;case proto_record_1.RecordType.Local:return locals.get(proto.name);case proto_record_1.RecordType.InvokeMethod:var context=this._readContext(proto,values);var args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.SafeMethodInvoke:var context=this._readContext(proto,values);if(lang_1.isBlank(context)){return null}var args=this._readArgs(proto,values);return proto.funcOrValue(context,args);case proto_record_1.RecordType.KeyedRead:var arg=this._readArgs(proto,values)[0];return this._readContext(proto,values)[arg];case proto_record_1.RecordType.Chain:var args=this._readArgs(proto,values);return args[args.length-1];case proto_record_1.RecordType.InvokeClosure:return lang_1.FunctionWrapper.apply(this._readContext(proto,values),this._readArgs(proto,values));case proto_record_1.RecordType.Interpolate:case proto_record_1.RecordType.PrimitiveOp:case proto_record_1.RecordType.CollectionLiteral:return lang_1.FunctionWrapper.apply(proto.funcOrValue,this._readArgs(proto,values));default:throw new exceptions_1.BaseException("Unknown operation "+proto.mode)}};DynamicChangeDetector.prototype._pipeCheck=function(proto,throwOnChange,values){var context=this._readContext(proto,values);var selectedPipe=this._pipeFor(proto,context);if(!selectedPipe.pure||this._argsOrContextChanged(proto)){var args=this._readArgs(proto,values);var currValue=selectedPipe.pipe.transform(context,args);if(proto.shouldBeChecked()){var prevValue=this._readSelf(proto,values);var detectedChange=throwOnChange?!change_detection_util_1.ChangeDetectionUtil.devModeEqual(prevValue,currValue):change_detection_util_1.ChangeDetectionUtil.looseNotIdentical(prevValue,currValue);if(detectedChange){currValue=change_detection_util_1.ChangeDetectionUtil.unwrapValue(currValue);if(proto.lastInBinding){var change=change_detection_util_1.ChangeDetectionUtil.simpleChange(prevValue,currValue);if(throwOnChange)this.throwOnChangeError(prevValue,currValue);this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return change}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null}}else{this._setChanged(proto,false);return null}}else{this._writeSelf(proto,currValue,values);this._setChanged(proto,true);return null}}};DynamicChangeDetector.prototype._pipeFor=function(proto,context){var storedPipe=this._readPipe(proto);if(lang_1.isPresent(storedPipe))return storedPipe;var pipe=this.pipes.get(proto.name);this._writePipe(proto,pipe);return pipe};DynamicChangeDetector.prototype._readContext=function(proto,values){if(proto.contextIndex==-1){return this._getDirectiveFor(proto.directiveIndex)}return values[proto.contextIndex]};DynamicChangeDetector.prototype._readSelf=function(proto,values){return values[proto.selfIndex]};DynamicChangeDetector.prototype._writeSelf=function(proto,value,values){values[proto.selfIndex]=value};DynamicChangeDetector.prototype._readPipe=function(proto){return this.localPipes[proto.selfIndex]};DynamicChangeDetector.prototype._writePipe=function(proto,value){this.localPipes[proto.selfIndex]=value};DynamicChangeDetector.prototype._setChanged=function(proto,value){if(proto.argumentToPureFunction)this.changes[proto.selfIndex]=value};DynamicChangeDetector.prototype._pureFuncAndArgsDidNotChange=function(proto){return proto.isPureFunction()&&!this._argsChanged(proto)};DynamicChangeDetector.prototype._argsChanged=function(proto){var args=proto.args;for(var i=0;i<args.length;++i){if(this.changes[args[i]]){return true}}return false};DynamicChangeDetector.prototype._argsOrContextChanged=function(proto){return this._argsChanged(proto)||this.changes[proto.contextIndex]};DynamicChangeDetector.prototype._readArgs=function(proto,values){var res=collection_1.ListWrapper.createFixedSize(proto.args.length);var args=proto.args;for(var i=0;i<args.length;++i){res[i]=values[args[i]]}return res};return DynamicChangeDetector}(abstract_change_detector_1.AbstractChangeDetector);exports.DynamicChangeDetector=DynamicChangeDetector;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/change_detection_jit_generator",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/abstract_change_detector","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/proto_record","angular2/src/core/change_detection/codegen_name_util","angular2/src/core/change_detection/codegen_logic_util","angular2/src/core/change_detection/codegen_facade","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/proto_change_detector"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var codegen_name_util_1=require("angular2/src/core/change_detection/codegen_name_util");var codegen_logic_util_1=require("angular2/src/core/change_detection/codegen_logic_util");var codegen_facade_1=require("angular2/src/core/change_detection/codegen_facade");var constants_1=require("angular2/src/core/change_detection/constants");var proto_change_detector_1=require("angular2/src/core/change_detection/proto_change_detector");var IS_CHANGED_LOCAL="isChanged";var CHANGES_LOCAL="changes";var ChangeDetectorJITGenerator=function(){function ChangeDetectorJITGenerator(definition,changeDetectionUtilVarName,abstractChangeDetectorVarName,changeDetectorStateVarName){this.changeDetectionUtilVarName=changeDetectionUtilVarName;this.abstractChangeDetectorVarName=abstractChangeDetectorVarName;this.changeDetectorStateVarName=changeDetectorStateVarName;var propertyBindingRecords=proto_change_detector_1.createPropertyRecords(definition);var eventBindingRecords=proto_change_detector_1.createEventRecords(definition);var propertyBindingTargets=definition.bindingRecords.map(function(b){return b.target});this.id=definition.id;this.changeDetectionStrategy=definition.strategy;this.genConfig=definition.genConfig;this.records=propertyBindingRecords;this.propertyBindingTargets=propertyBindingTargets;this.eventBindings=eventBindingRecords;this.directiveRecords=definition.directiveRecords;this._names=new codegen_name_util_1.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName);this._logic=new codegen_logic_util_1.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,this.changeDetectionStrategy);this.typeName=codegen_name_util_1.sanitizeName("ChangeDetector_"+this.id)}ChangeDetectorJITGenerator.prototype.generate=function(){var factorySource="\n      "+this.generateSource()+"\n      return function() {\n        return new "+this.typeName+"();\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,factorySource)(abstract_change_detector_1.AbstractChangeDetector,change_detection_util_1.ChangeDetectionUtil,constants_1.ChangeDetectorState)};ChangeDetectorJITGenerator.prototype.generateSource=function(){return"\n      var "+this.typeName+" = function "+this.typeName+"() {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+codegen_facade_1.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+IS_CHANGED_LOCAL+" = false;\n        var "+CHANGES_LOCAL+" = null;\n\n        "+this._genAllRecords(this.records)+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    "};ChangeDetectorJITGenerator.prototype._genPropertyBindingTargets=function(){var targets=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+targets+";"};ChangeDetectorJITGenerator.prototype._genDirectiveIndices=function(){var indices=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+indices+";"};ChangeDetectorJITGenerator.prototype._maybeGenHandleEventInternal=function(){var _this=this;if(this.eventBindings.length>0){var handlers=this.eventBindings.map(function(eb){
return _this._genEventBinding(eb)}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+handlers+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      "}else{return""}};ChangeDetectorJITGenerator.prototype._genEventBinding=function(eb){var _this=this;var codes=[];this._endOfBlockIdxs=[];collection_1.ListWrapper.forEachWithIndex(eb.records,function(r,i){var code;if(r.isConditionalSkipRecord()){code=_this._genConditionalSkip(r,_this._names.getEventLocalName(eb,i))}else if(r.isUnconditionalSkipRecord()){code=_this._genUnconditionalSkip(r)}else{code=_this._genEventBindingEval(eb,r)}code+=_this._genEndOfSkipBlock(i);codes.push(code)});return'\n    if (eventName === "'+eb.eventName+'" && elIndex === '+eb.elIndex+") {\n      "+codes.join("\n")+"\n    }"};ChangeDetectorJITGenerator.prototype._genEventBindingEval=function(eb,r){if(r.lastInBinding){var evalRecord=this._logic.genEventBindingEvalValue(eb,r);var markPath=this._genMarkPathToRootAsCheckOnce(r);var prevDefault=this._genUpdatePreventDefault(eb,r);return evalRecord+"\n"+markPath+"\n"+prevDefault}else{return this._logic.genEventBindingEvalValue(eb,r)}};ChangeDetectorJITGenerator.prototype._genMarkPathToRootAsCheckOnce=function(r){var br=r.bindingRecord;if(br.isDefaultChangeDetection()){return""}else{return this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();"}};ChangeDetectorJITGenerator.prototype._genUpdatePreventDefault=function(eb,r){var local=this._names.getEventLocalName(eb,r.selfIndex);return"if ("+local+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};"};ChangeDetectorJITGenerator.prototype._maybeGenDehydrateDirectives=function(){var destroyPipesCode=this._names.genPipeOnDestroy();var destroyDirectivesCode=this._logic.genDirectivesOnDestroy(this.directiveRecords);var dehydrateFieldsCode=this._names.genDehydrateFields();if(!destroyPipesCode&&!destroyDirectivesCode&&!dehydrateFieldsCode)return"";return this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        if (destroyPipes) {\n          "+destroyPipesCode+"\n          "+destroyDirectivesCode+"\n        }\n        "+dehydrateFieldsCode+"\n    }"};ChangeDetectorJITGenerator.prototype._maybeGenHydrateDirectives=function(){var hydrateDirectivesCode=this._logic.genHydrateDirectives(this.directiveRecords);var hydrateDetectorsCode=this._logic.genHydrateDetectors(this.directiveRecords);if(!hydrateDirectivesCode&&!hydrateDetectorsCode)return"";return this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+hydrateDirectivesCode+"\n      "+hydrateDetectorsCode+"\n    }"};ChangeDetectorJITGenerator.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var notifications=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      "}else{return""}};ChangeDetectorJITGenerator.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var notifications=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(notifications.length>0){var directiveNotifications=notifications.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+directiveNotifications+"\n        }\n      "}else{return""}};ChangeDetectorJITGenerator.prototype._genAllRecords=function(rs){var codes=[];this._endOfBlockIdxs=[];for(var i=0;i<rs.length;i++){var code=void 0;var r=rs[i];if(r.isLifeCycleRecord()){code=this._genDirectiveLifecycle(r)}else if(r.isPipeRecord()){code=this._genPipeCheck(r)}else if(r.isConditionalSkipRecord()){code=this._genConditionalSkip(r,this._names.getLocalName(r.contextIndex))}else if(r.isUnconditionalSkipRecord()){code=this._genUnconditionalSkip(r)}else{code=this._genReferenceCheck(r)}code="\n        "+this._maybeFirstInBinding(r)+"\n        "+code+"\n        "+this._maybeGenLastInDirective(r)+"\n        "+this._genEndOfSkipBlock(i)+"\n      ";codes.push(code)}return codes.join("\n")};ChangeDetectorJITGenerator.prototype._genConditionalSkip=function(r,condition){var maybeNegate=r.mode===proto_record_1.RecordType.SkipRecordsIf?"!":"";this._endOfBlockIdxs.push(r.fixedArgs[0]-1);return"if ("+maybeNegate+condition+") {"};ChangeDetectorJITGenerator.prototype._genUnconditionalSkip=function(r){this._endOfBlockIdxs.pop();this._endOfBlockIdxs.push(r.fixedArgs[0]-1);return"} else {"};ChangeDetectorJITGenerator.prototype._genEndOfSkipBlock=function(protoIndex){if(!collection_1.ListWrapper.isEmpty(this._endOfBlockIdxs)){var endOfBlock=collection_1.ListWrapper.last(this._endOfBlockIdxs);if(protoIndex===endOfBlock){this._endOfBlockIdxs.pop();return"}"}}return""};ChangeDetectorJITGenerator.prototype._genDirectiveLifecycle=function(r){if(r.name==="DoCheck"){return this._genOnCheck(r)}else if(r.name==="OnInit"){return this._genOnInit(r)}else if(r.name==="OnChanges"){return this._genOnChange(r)}else{throw new exceptions_1.BaseException("Unknown lifecycle event '"+r.name+"'")}};ChangeDetectorJITGenerator.prototype._genPipeCheck=function(r){var _this=this;var context=this._names.getLocalName(r.contextIndex);var argString=r.args.map(function(arg){return _this._names.getLocalName(arg)}).join(", ");var oldValue=this._names.getFieldName(r.selfIndex);var newValue=this._names.getLocalName(r.selfIndex);var pipe=this._names.getPipeName(r.selfIndex);var pipeName=r.name;var init="\n      if ("+pipe+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+pipe+" = "+this._names.getPipesAccessorName()+".get('"+pipeName+"');\n      }\n    ";var read=newValue+" = "+pipe+".pipe.transform("+context+", ["+argString+"]);";var contexOrArgCheck=r.args.map(function(a){return _this._names.getChangeName(a)});contexOrArgCheck.push(this._names.getChangeName(r.contextIndex));var condition="!"+pipe+".pure || ("+contexOrArgCheck.join(" || ")+")";var check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+newValue+" = "+this.changeDetectionUtilVarName+".unwrapValue("+newValue+")\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ";var genCode=r.shouldBeChecked()?""+read+check:read;if(r.isUsedByOtherRecord()){return init+" if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }"}else{return init+" if ("+condition+") { "+genCode+" }"}};ChangeDetectorJITGenerator.prototype._genReferenceCheck=function(r){var _this=this;var oldValue=this._names.getFieldName(r.selfIndex);var newValue=this._names.getLocalName(r.selfIndex);var read="\n      "+this._logic.genPropertyBindingEvalValue(r)+"\n    ";var check="\n      "+this._genThrowOnChangeCheck(oldValue,newValue)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+oldValue+", "+newValue+")) {\n        "+this._genChangeMarker(r)+"\n        "+this._genUpdateDirectiveOrElement(r)+"\n        "+this._genAddToChanges(r)+"\n        "+oldValue+" = "+newValue+";\n      }\n    ";var genCode=r.shouldBeChecked()?""+read+check:read;if(r.isPureFunction()){var condition=r.args.map(function(a){return _this._names.getChangeName(a)}).join(" || ");if(r.isUsedByOtherRecord()){return"if ("+condition+") { "+genCode+" } else { "+newValue+" = "+oldValue+"; }"}else{return"if ("+condition+") { "+genCode+" }"}}else{return genCode}};ChangeDetectorJITGenerator.prototype._genChangeMarker=function(r){return r.argumentToPureFunction?this._names.getChangeName(r.selfIndex)+" = true":""};ChangeDetectorJITGenerator.prototype._genUpdateDirectiveOrElement=function(r){if(!r.lastInBinding)return"";var newValue=this._names.getLocalName(r.selfIndex);var notifyDebug=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+newValue+");":"";var br=r.bindingRecord;if(br.target.isDirective()){var directiveProperty=this._names.getDirectiveName(br.directiveRecord.directiveIndex)+"."+br.target.name;return"\n        "+directiveProperty+" = "+newValue+";\n        "+notifyDebug+"\n        "+IS_CHANGED_LOCAL+" = true;\n      "}else{return"\n        this.notifyDispatcher("+newValue+");\n        "+notifyDebug+"\n      "}};ChangeDetectorJITGenerator.prototype._genThrowOnChangeCheck=function(oldValue,newValue){if(lang_1.assertionsEnabled()){return"\n        if (throwOnChange && !"+this.changeDetectionUtilVarName+".devModeEqual("+oldValue+", "+newValue+")) {\n          this.throwOnChangeError("+oldValue+", "+newValue+");\n        }\n        "}else{return""}};ChangeDetectorJITGenerator.prototype._genAddToChanges=function(r){var newValue=this._names.getLocalName(r.selfIndex);var oldValue=this._names.getFieldName(r.selfIndex);if(!r.bindingRecord.callOnChanges())return"";return CHANGES_LOCAL+" = this.addChange("+CHANGES_LOCAL+", "+oldValue+", "+newValue+");"};ChangeDetectorJITGenerator.prototype._maybeFirstInBinding=function(r){var prev=change_detection_util_1.ChangeDetectionUtil.protoByIndex(this.records,r.selfIndex-1);var firstInBinding=lang_1.isBlank(prev)||prev.bindingRecord!==r.bindingRecord;return firstInBinding&&!r.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+r.propertyBindingIndex+";":""};ChangeDetectorJITGenerator.prototype._maybeGenLastInDirective=function(r){if(!r.lastInDirective)return"";return"\n      "+CHANGES_LOCAL+" = null;\n      "+this._genNotifyOnPushDetectors(r)+"\n      "+IS_CHANGED_LOCAL+" = false;\n    "};ChangeDetectorJITGenerator.prototype._genOnCheck=function(r){var br=r.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngDoCheck();"};ChangeDetectorJITGenerator.prototype._genOnInit=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+this._names.getStateName()+" === "+this.changeDetectorStateVarName+".NeverChecked) "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnInit();"};ChangeDetectorJITGenerator.prototype._genOnChange=function(r){var br=r.bindingRecord;return"if (!throwOnChange && "+CHANGES_LOCAL+") "+this._names.getDirectiveName(br.directiveRecord.directiveIndex)+".ngOnChanges("+CHANGES_LOCAL+");"};ChangeDetectorJITGenerator.prototype._genNotifyOnPushDetectors=function(r){var br=r.bindingRecord;if(!r.lastInDirective||br.isDefaultChangeDetection())return"";var retVal="\n      if("+IS_CHANGED_LOCAL+") {\n        "+this._names.getDetectorName(br.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return retVal};return ChangeDetectorJITGenerator}();exports.ChangeDetectorJITGenerator=ChangeDetectorJITGenerator;global.define=__define;return module.exports});System.register("angular2/src/core/linker/view",["angular2/src/facade/collection","angular2/src/core/change_detection/change_detection","angular2/src/core/change_detection/interfaces","angular2/src/core/linker/element","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/render/api","angular2/src/core/linker/view_ref","angular2/src/core/pipes/pipes","angular2/src/core/render/util","angular2/src/core/change_detection/interfaces","angular2/src/core/pipes/pipes","angular2/src/core/linker/view_type"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var collection_1=require("angular2/src/facade/collection");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var interfaces_1=require("angular2/src/core/change_detection/interfaces");var element_1=require("angular2/src/core/linker/element");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var api_1=require("angular2/src/core/render/api");var view_ref_1=require("angular2/src/core/linker/view_ref");var pipes_1=require("angular2/src/core/pipes/pipes");var util_1=require("angular2/src/core/render/util");var interfaces_2=require("angular2/src/core/change_detection/interfaces");exports.DebugContext=interfaces_2.DebugContext;var pipes_2=require("angular2/src/core/pipes/pipes");var view_type_1=require("angular2/src/core/linker/view_type");var REFLECT_PREFIX="ng-reflect-";var EMPTY_CONTEXT=lang_1.CONST_EXPR(new Object);var AppView=function(){function AppView(proto,renderer,viewManager,projectableNodes,containerAppElement,imperativelyCreatedProviders,rootInjector,changeDetector){this.proto=proto;this.renderer=renderer;this.viewManager=viewManager;this.projectableNodes=projectableNodes;this.containerAppElement=containerAppElement;this.changeDetector=changeDetector;this.context=null;this.destroyed=false;this.ref=new view_ref_1.ViewRef_(this);var injectorWithHostBoundary=element_1.AppElement.getViewParentInjector(this.proto.type,containerAppElement,imperativelyCreatedProviders,rootInjector);this.parentInjector=injectorWithHostBoundary.injector;this.hostInjectorBoundary=injectorWithHostBoundary.hostInjectorBoundary;var pipes;var context;switch(proto.type){case view_type_1.ViewType.COMPONENT:pipes=new pipes_2.Pipes(proto.protoPipes,containerAppElement.getInjector());context=containerAppElement.getComponent();break;case view_type_1.ViewType.EMBEDDED:pipes=containerAppElement.parentView.pipes;context=containerAppElement.parentView.context;break;case view_type_1.ViewType.HOST:pipes=null;context=EMPTY_CONTEXT;break}this.pipes=pipes;this.context=context}AppView.prototype.init=function(rootNodesOrAppElements,allNodes,disposables,appElements){this.rootNodesOrAppElements=rootNodesOrAppElements;this.allNodes=allNodes;this.disposables=disposables;this.appElements=appElements;var localsMap=new collection_1.Map;collection_1.StringMapWrapper.forEach(this.proto.templateVariableBindings,function(templateName,_){localsMap.set(templateName,null)});for(var i=0;i<appElements.length;i++){var appEl=appElements[i];var providerTokens=[];if(lang_1.isPresent(appEl.proto.protoInjector)){for(var j=0;j<appEl.proto.protoInjector.numberOfProviders;j++){providerTokens.push(appEl.proto.protoInjector.getProviderAtIndex(j).key.token)}}collection_1.StringMapWrapper.forEach(appEl.proto.directiveVariableBindings,function(directiveIndex,name){if(lang_1.isBlank(directiveIndex)){localsMap.set(name,appEl.nativeElement)}else{localsMap.set(name,appEl.getDirectiveAtIndex(directiveIndex))}});this.renderer.setElementDebugInfo(appEl.nativeElement,new api_1.RenderDebugInfo(appEl.getInjector(),appEl.getComponent(),providerTokens,localsMap))}var parentLocals=null;if(this.proto.type!==view_type_1.ViewType.COMPONENT){parentLocals=lang_1.isPresent(this.containerAppElement)?this.containerAppElement.parentView.locals:null}if(this.proto.type===view_type_1.ViewType.COMPONENT){this.containerAppElement.attachComponentView(this);this.containerAppElement.parentView.changeDetector.addViewChild(this.changeDetector)}this.locals=new change_detection_1.Locals(parentLocals,localsMap);this.changeDetector.hydrate(this.context,this.locals,this,this.pipes);this.viewManager.onViewCreated(this)};AppView.prototype.destroy=function(){if(this.destroyed){throw new exceptions_1.BaseException("This view has already been destroyed!")}this.changeDetector.destroyRecursive()};AppView.prototype.notifyOnDestroy=function(){this.destroyed=true;var hostElement=this.proto.type===view_type_1.ViewType.COMPONENT?this.containerAppElement.nativeElement:null;this.renderer.destroyView(hostElement,this.allNodes);for(var i=0;i<this.disposables.length;i++){this.disposables[i]()}this.viewManager.onViewDestroyed(this)};Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.changeDetector.ref},enumerable:true,configurable:true});Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:true,configurable:true});AppView.prototype.hasLocal=function(contextName){return collection_1.StringMapWrapper.contains(this.proto.templateVariableBindings,contextName)};AppView.prototype.setLocal=function(contextName,value){if(!this.hasLocal(contextName)){return}var templateName=this.proto.templateVariableBindings[contextName];this.locals.set(templateName,value)};AppView.prototype.notifyOnBinding=function(b,currentValue){if(b.isTextNode()){this.renderer.setText(this.allNodes[b.elementIndex],currentValue)}else{var nativeElement=this.appElements[b.elementIndex].nativeElement;if(b.isElementProperty()){this.renderer.setElementProperty(nativeElement,b.name,currentValue)}else if(b.isElementAttribute()){this.renderer.setElementAttribute(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue:null)}else if(b.isElementClass()){this.renderer.setElementClass(nativeElement,b.name,currentValue)}else if(b.isElementStyle()){var unit=lang_1.isPresent(b.unit)?b.unit:"";this.renderer.setElementStyle(nativeElement,b.name,lang_1.isPresent(currentValue)?""+currentValue+unit:null)}else{throw new exceptions_1.BaseException("Unsupported directive record")}}};AppView.prototype.logBindingUpdate=function(b,value){if(b.isDirective()||b.isElementProperty()){var nativeElement=this.appElements[b.elementIndex].nativeElement;this.renderer.setBindingDebugInfo(nativeElement,""+REFLECT_PREFIX+util_1.camelCaseToDashCase(b.name),""+value)}};AppView.prototype.notifyAfterContentChecked=function(){var count=this.appElements.length;for(var i=count-1;i>=0;i--){this.appElements[i].ngAfterContentChecked()}};AppView.prototype.notifyAfterViewChecked=function(){var count=this.appElements.length;for(var i=count-1;i>=0;i--){this.appElements[i].ngAfterViewChecked()}};AppView.prototype.getDebugContext=function(appElement,elementIndex,directiveIndex){try{if(lang_1.isBlank(appElement)&&elementIndex<this.appElements.length){appElement=this.appElements[elementIndex]}var container=this.containerAppElement;var element=lang_1.isPresent(appElement)?appElement.nativeElement:null;var componentElement=lang_1.isPresent(container)?container.nativeElement:null;var directive=lang_1.isPresent(directiveIndex)?appElement.getDirectiveAtIndex(directiveIndex):null;var injector=lang_1.isPresent(appElement)?appElement.getInjector():null;return new interfaces_1.DebugContext(element,componentElement,directive,this.context,_localsToStringMap(this.locals),injector)}catch(e){return null}};AppView.prototype.getDirectiveFor=function(directive){return this.appElements[directive.elementIndex].getDirectiveAtIndex(directive.directiveIndex)};AppView.prototype.getDetectorFor=function(directive){var componentView=this.appElements[directive.elementIndex].componentView;return lang_1.isPresent(componentView)?componentView.changeDetector:null};AppView.prototype.triggerEventHandlers=function(eventName,eventObj,boundElementIndex){return this.changeDetector.handleEvent(eventName,boundElementIndex,eventObj)};return AppView}();exports.AppView=AppView;function _localsToStringMap(locals){var res={};var c=locals;while(lang_1.isPresent(c)){res=collection_1.StringMapWrapper.merge(res,collection_1.MapWrapper.toStringMap(c.current));c=c.parent}return res}var AppProtoView=function(){function AppProtoView(type,protoPipes,templateVariableBindings){this.type=type;this.protoPipes=protoPipes;this.templateVariableBindings=templateVariableBindings}AppProtoView.create=function(metadataCache,type,pipes,templateVariableBindings){var protoPipes=null;if(lang_1.isPresent(pipes)&&pipes.length>0){var boundPipes=collection_1.ListWrapper.createFixedSize(pipes.length);for(var i=0;i<pipes.length;i++){boundPipes[i]=metadataCache.getResolvedPipeMetadata(pipes[i])}protoPipes=pipes_1.ProtoPipes.fromProviders(boundPipes)}return new AppProtoView(type,protoPipes,templateVariableBindings)};return AppProtoView}();exports.AppProtoView=AppProtoView;var HostViewFactory=function(){function HostViewFactory(selector,viewFactory){this.selector=selector;this.viewFactory=viewFactory}HostViewFactory=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String,Function])],HostViewFactory);return HostViewFactory}();exports.HostViewFactory=HostViewFactory;function flattenNestedViewRenderNodes(nodes){return _flattenNestedViewRenderNodes(nodes,[])}exports.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes;function _flattenNestedViewRenderNodes(nodes,renderNodes){for(var i=0;i<nodes.length;i++){var node=nodes[i];if(node instanceof element_1.AppElement){var appEl=node;renderNodes.push(appEl.nativeElement);if(lang_1.isPresent(appEl.nestedViews)){for(var k=0;k<appEl.nestedViews.length;k++){_flattenNestedViewRenderNodes(appEl.nestedViews[k].rootNodesOrAppElements,renderNodes)}}}else{renderNodes.push(node)}}return renderNodes}function checkSlotCount(componentName,expectedSlotCount,projectableNodes){var givenSlotCount=lang_1.isPresent(projectableNodes)?projectableNodes.length:0;if(givenSlotCount<expectedSlotCount){throw new exceptions_1.BaseException("The component "+componentName+" has "+expectedSlotCount+" <ng-content> elements,"+(" but only "+givenSlotCount+" slots were provided."))}}exports.checkSlotCount=checkSlotCount;global.define=__define;return module.exports});System.register("angular2/src/core/application_common_providers",["angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/application_tokens","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/resolved_metadata_cache","angular2/src/core/linker/view_manager","angular2/src/core/linker/view_manager","angular2/src/core/linker/view_resolver","angular2/src/core/linker/directive_resolver","angular2/src/core/linker/pipe_resolver","angular2/src/core/linker/compiler","angular2/src/core/linker/compiler","angular2/src/core/linker/dynamic_component_loader","angular2/src/core/linker/dynamic_component_loader"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var application_tokens_1=require("angular2/src/core/application_tokens");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var resolved_metadata_cache_1=require("angular2/src/core/linker/resolved_metadata_cache");var view_manager_1=require("angular2/src/core/linker/view_manager");var view_manager_2=require("angular2/src/core/linker/view_manager");var view_resolver_1=require("angular2/src/core/linker/view_resolver");var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");var pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver");var compiler_1=require("angular2/src/core/linker/compiler");var compiler_2=require("angular2/src/core/linker/compiler");var dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader");var dynamic_component_loader_2=require("angular2/src/core/linker/dynamic_component_loader");exports.APPLICATION_COMMON_PROVIDERS=lang_1.CONST_EXPR([new di_1.Provider(compiler_1.Compiler,{useClass:compiler_2.Compiler_}),application_tokens_1.APP_ID_RANDOM_PROVIDER,resolved_metadata_cache_1.ResolvedMetadataCache,new di_1.Provider(view_manager_1.AppViewManager,{useClass:view_manager_2.AppViewManager_}),view_resolver_1.ViewResolver,new di_1.Provider(change_detection_1.IterableDiffers,{useValue:change_detection_1.defaultIterableDiffers}),new di_1.Provider(change_detection_1.KeyValueDiffers,{useValue:change_detection_1.defaultKeyValueDiffers}),directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,new di_1.Provider(dynamic_component_loader_1.DynamicComponentLoader,{useClass:dynamic_component_loader_2.DynamicComponentLoader_})]);global.define=__define;return module.exports});System.register("angular2/src/core/di/injector",["angular2/src/facade/collection","angular2/src/core/di/provider","angular2/src/core/di/exceptions","angular2/src/facade/lang","angular2/src/core/di/key","angular2/src/core/di/metadata"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var provider_1=require("angular2/src/core/di/provider");var exceptions_1=require("angular2/src/core/di/exceptions");var lang_1=require("angular2/src/facade/lang");var key_1=require("angular2/src/core/di/key");var metadata_1=require("angular2/src/core/di/metadata");var _MAX_CONSTRUCTION_COUNTER=10;exports.UNDEFINED=lang_1.CONST_EXPR(new Object);(function(Visibility){Visibility[Visibility["Public"]=0]="Public";Visibility[Visibility["Private"]=1]="Private";Visibility[Visibility["PublicAndPrivate"]=2]="PublicAndPrivate"})(exports.Visibility||(exports.Visibility={}));var Visibility=exports.Visibility;function canSee(src,dst){return src===dst||(dst===Visibility.PublicAndPrivate||src===Visibility.PublicAndPrivate)}var ProtoInjectorInlineStrategy=function(){function ProtoInjectorInlineStrategy(protoEI,bwv){this.provider0=null;this.provider1=null;this.provider2=null;this.provider3=null;this.provider4=null;this.provider5=null;this.provider6=null;this.provider7=null;this.provider8=null;this.provider9=null;this.keyId0=null;this.keyId1=null;this.keyId2=null;this.keyId3=null;this.keyId4=null;this.keyId5=null;this.keyId6=null;this.keyId7=null;this.keyId8=null;this.keyId9=null;this.visibility0=null;this.visibility1=null;this.visibility2=null;this.visibility3=null;this.visibility4=null;this.visibility5=null;this.visibility6=null;this.visibility7=null;this.visibility8=null;this.visibility9=null;var length=bwv.length;if(length>0){this.provider0=bwv[0].provider;this.keyId0=bwv[0].getKeyId();this.visibility0=bwv[0].visibility}if(length>1){this.provider1=bwv[1].provider;this.keyId1=bwv[1].getKeyId();this.visibility1=bwv[1].visibility}if(length>2){this.provider2=bwv[2].provider;this.keyId2=bwv[2].getKeyId();this.visibility2=bwv[2].visibility}if(length>3){this.provider3=bwv[3].provider;this.keyId3=bwv[3].getKeyId();this.visibility3=bwv[3].visibility}if(length>4){this.provider4=bwv[4].provider;this.keyId4=bwv[4].getKeyId();this.visibility4=bwv[4].visibility}if(length>5){this.provider5=bwv[5].provider;this.keyId5=bwv[5].getKeyId();this.visibility5=bwv[5].visibility}if(length>6){this.provider6=bwv[6].provider;this.keyId6=bwv[6].getKeyId();this.visibility6=bwv[6].visibility}if(length>7){this.provider7=bwv[7].provider;this.keyId7=bwv[7].getKeyId();this.visibility7=bwv[7].visibility}if(length>8){this.provider8=bwv[8].provider;this.keyId8=bwv[8].getKeyId();this.visibility8=bwv[8].visibility}if(length>9){this.provider9=bwv[9].provider;this.keyId9=bwv[9].getKeyId();this.visibility9=bwv[9].visibility}}ProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(index){if(index==0)return this.provider0;if(index==1)return this.provider1;if(index==2)return this.provider2;if(index==3)return this.provider3;if(index==4)return this.provider4;if(index==5)return this.provider5;if(index==6)return this.provider6;if(index==7)return this.provider7;if(index==8)return this.provider8;if(index==9)return this.provider9;throw new exceptions_1.OutOfBoundsError(index)};ProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(injector){return new InjectorInlineStrategy(injector,this)};return ProtoInjectorInlineStrategy}();exports.ProtoInjectorInlineStrategy=ProtoInjectorInlineStrategy;var ProtoInjectorDynamicStrategy=function(){function ProtoInjectorDynamicStrategy(protoInj,bwv){var len=bwv.length;this.providers=collection_1.ListWrapper.createFixedSize(len);this.keyIds=collection_1.ListWrapper.createFixedSize(len);this.visibilities=collection_1.ListWrapper.createFixedSize(len);for(var i=0;i<len;i++){this.providers[i]=bwv[i].provider;this.keyIds[i]=bwv[i].getKeyId();this.visibilities[i]=bwv[i].visibility}}ProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(index){if(index<0||index>=this.providers.length){throw new exceptions_1.OutOfBoundsError(index)}return this.providers[index]};ProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(ei){return new InjectorDynamicStrategy(this,ei)};return ProtoInjectorDynamicStrategy}();exports.ProtoInjectorDynamicStrategy=ProtoInjectorDynamicStrategy;var ProtoInjector=function(){function ProtoInjector(bwv){this.numberOfProviders=bwv.length;this._strategy=bwv.length>_MAX_CONSTRUCTION_COUNTER?new ProtoInjectorDynamicStrategy(this,bwv):new ProtoInjectorInlineStrategy(this,bwv)}ProtoInjector.fromResolvedProviders=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public)});return new ProtoInjector(bd)};ProtoInjector.prototype.getProviderAtIndex=function(index){return this._strategy.getProviderAtIndex(index)};return ProtoInjector}();exports.ProtoInjector=ProtoInjector;var InjectorInlineStrategy=function(){function InjectorInlineStrategy(injector,protoStrategy){this.injector=injector;this.protoStrategy=protoStrategy;this.obj0=exports.UNDEFINED;this.obj1=exports.UNDEFINED;this.obj2=exports.UNDEFINED;this.obj3=exports.UNDEFINED;this.obj4=exports.UNDEFINED;this.obj5=exports.UNDEFINED;this.obj6=exports.UNDEFINED;this.obj7=exports.UNDEFINED;this.obj8=exports.UNDEFINED;this.obj9=exports.UNDEFINED}InjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0};InjectorInlineStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility)};InjectorInlineStrategy.prototype.getObjByKeyId=function(keyId,visibility){var p=this.protoStrategy;var inj=this.injector;if(p.keyId0===keyId&&canSee(p.visibility0,visibility)){if(this.obj0===exports.UNDEFINED){this.obj0=inj._new(p.provider0,p.visibility0)}return this.obj0}if(p.keyId1===keyId&&canSee(p.visibility1,visibility)){if(this.obj1===exports.UNDEFINED){this.obj1=inj._new(p.provider1,p.visibility1)}return this.obj1}if(p.keyId2===keyId&&canSee(p.visibility2,visibility)){if(this.obj2===exports.UNDEFINED){this.obj2=inj._new(p.provider2,p.visibility2)}return this.obj2}if(p.keyId3===keyId&&canSee(p.visibility3,visibility)){if(this.obj3===exports.UNDEFINED){this.obj3=inj._new(p.provider3,p.visibility3)}return this.obj3}if(p.keyId4===keyId&&canSee(p.visibility4,visibility)){if(this.obj4===exports.UNDEFINED){this.obj4=inj._new(p.provider4,p.visibility4)}return this.obj4}if(p.keyId5===keyId&&canSee(p.visibility5,visibility)){if(this.obj5===exports.UNDEFINED){this.obj5=inj._new(p.provider5,p.visibility5)}return this.obj5}if(p.keyId6===keyId&&canSee(p.visibility6,visibility)){if(this.obj6===exports.UNDEFINED){this.obj6=inj._new(p.provider6,p.visibility6)}return this.obj6}if(p.keyId7===keyId&&canSee(p.visibility7,visibility)){if(this.obj7===exports.UNDEFINED){this.obj7=inj._new(p.provider7,p.visibility7)}return this.obj7}if(p.keyId8===keyId&&canSee(p.visibility8,visibility)){if(this.obj8===exports.UNDEFINED){this.obj8=inj._new(p.provider8,p.visibility8)}return this.obj8}if(p.keyId9===keyId&&canSee(p.visibility9,visibility)){if(this.obj9===exports.UNDEFINED){this.obj9=inj._new(p.provider9,p.visibility9)}return this.obj9}return exports.UNDEFINED};InjectorInlineStrategy.prototype.getObjAtIndex=function(index){if(index==0)return this.obj0;
if(index==1)return this.obj1;if(index==2)return this.obj2;if(index==3)return this.obj3;if(index==4)return this.obj4;if(index==5)return this.obj5;if(index==6)return this.obj6;if(index==7)return this.obj7;if(index==8)return this.obj8;if(index==9)return this.obj9;throw new exceptions_1.OutOfBoundsError(index)};InjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER};return InjectorInlineStrategy}();exports.InjectorInlineStrategy=InjectorInlineStrategy;var InjectorDynamicStrategy=function(){function InjectorDynamicStrategy(protoStrategy,injector){this.protoStrategy=protoStrategy;this.injector=injector;this.objs=collection_1.ListWrapper.createFixedSize(protoStrategy.providers.length);collection_1.ListWrapper.fill(this.objs,exports.UNDEFINED)}InjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0};InjectorDynamicStrategy.prototype.instantiateProvider=function(provider,visibility){return this.injector._new(provider,visibility)};InjectorDynamicStrategy.prototype.getObjByKeyId=function(keyId,visibility){var p=this.protoStrategy;for(var i=0;i<p.keyIds.length;i++){if(p.keyIds[i]===keyId&&canSee(p.visibilities[i],visibility)){if(this.objs[i]===exports.UNDEFINED){this.objs[i]=this.injector._new(p.providers[i],p.visibilities[i])}return this.objs[i]}}return exports.UNDEFINED};InjectorDynamicStrategy.prototype.getObjAtIndex=function(index){if(index<0||index>=this.objs.length){throw new exceptions_1.OutOfBoundsError(index)}return this.objs[index]};InjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length};return InjectorDynamicStrategy}();exports.InjectorDynamicStrategy=InjectorDynamicStrategy;var ProviderWithVisibility=function(){function ProviderWithVisibility(provider,visibility){this.provider=provider;this.visibility=visibility}ProviderWithVisibility.prototype.getKeyId=function(){return this.provider.key.id};return ProviderWithVisibility}();exports.ProviderWithVisibility=ProviderWithVisibility;var Injector=function(){function Injector(_proto,_parent,_isHostBoundary,_depProvider,_debugContext){if(_parent===void 0){_parent=null}if(_isHostBoundary===void 0){_isHostBoundary=false}if(_depProvider===void 0){_depProvider=null}if(_debugContext===void 0){_debugContext=null}this._isHostBoundary=_isHostBoundary;this._depProvider=_depProvider;this._debugContext=_debugContext;this._constructionCounter=0;this._proto=_proto;this._parent=_parent;this._strategy=_proto._strategy.createInjectorStrategy(this)}Injector.resolve=function(providers){return provider_1.resolveProviders(providers)};Injector.resolveAndCreate=function(providers){var resolvedProviders=Injector.resolve(providers);return Injector.fromResolvedProviders(resolvedProviders)};Injector.fromResolvedProviders=function(providers){return new Injector(ProtoInjector.fromResolvedProviders(providers))};Injector.fromResolvedBindings=function(providers){return Injector.fromResolvedProviders(providers)};Object.defineProperty(Injector.prototype,"hostBoundary",{get:function(){return this._isHostBoundary},enumerable:true,configurable:true});Injector.prototype.debugContext=function(){return this._debugContext()};Injector.prototype.get=function(token){return this._getByKey(key_1.Key.get(token),null,null,false,Visibility.PublicAndPrivate)};Injector.prototype.getOptional=function(token){return this._getByKey(key_1.Key.get(token),null,null,true,Visibility.PublicAndPrivate)};Injector.prototype.getAt=function(index){return this._strategy.getObjAtIndex(index)};Object.defineProperty(Injector.prototype,"parent",{get:function(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(Injector.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:true,configurable:true});Injector.prototype.resolveAndCreateChild=function(providers){var resolvedProviders=Injector.resolve(providers);return this.createChildFromResolved(resolvedProviders)};Injector.prototype.createChildFromResolved=function(providers){var bd=providers.map(function(b){return new ProviderWithVisibility(b,Visibility.Public)});var proto=new ProtoInjector(bd);var inj=new Injector(proto);inj._parent=this;return inj};Injector.prototype.resolveAndInstantiate=function(provider){return this.instantiateResolved(Injector.resolve([provider])[0])};Injector.prototype.instantiateResolved=function(provider){return this._instantiateProvider(provider,Visibility.PublicAndPrivate)};Injector.prototype._new=function(provider,visibility){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects()){throw new exceptions_1.CyclicDependencyError(this,provider.key)}return this._instantiateProvider(provider,visibility)};Injector.prototype._instantiateProvider=function(provider,visibility){if(provider.multiProvider){var res=collection_1.ListWrapper.createFixedSize(provider.resolvedFactories.length);for(var i=0;i<provider.resolvedFactories.length;++i){res[i]=this._instantiate(provider,provider.resolvedFactories[i],visibility)}return res}else{return this._instantiate(provider,provider.resolvedFactories[0],visibility)}};Injector.prototype._instantiate=function(provider,resolvedFactory,visibility){var factory=resolvedFactory.factory;var deps=resolvedFactory.dependencies;var length=deps.length;var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19;try{d0=length>0?this._getByDependency(provider,deps[0],visibility):null;d1=length>1?this._getByDependency(provider,deps[1],visibility):null;d2=length>2?this._getByDependency(provider,deps[2],visibility):null;d3=length>3?this._getByDependency(provider,deps[3],visibility):null;d4=length>4?this._getByDependency(provider,deps[4],visibility):null;d5=length>5?this._getByDependency(provider,deps[5],visibility):null;d6=length>6?this._getByDependency(provider,deps[6],visibility):null;d7=length>7?this._getByDependency(provider,deps[7],visibility):null;d8=length>8?this._getByDependency(provider,deps[8],visibility):null;d9=length>9?this._getByDependency(provider,deps[9],visibility):null;d10=length>10?this._getByDependency(provider,deps[10],visibility):null;d11=length>11?this._getByDependency(provider,deps[11],visibility):null;d12=length>12?this._getByDependency(provider,deps[12],visibility):null;d13=length>13?this._getByDependency(provider,deps[13],visibility):null;d14=length>14?this._getByDependency(provider,deps[14],visibility):null;d15=length>15?this._getByDependency(provider,deps[15],visibility):null;d16=length>16?this._getByDependency(provider,deps[16],visibility):null;d17=length>17?this._getByDependency(provider,deps[17],visibility):null;d18=length>18?this._getByDependency(provider,deps[18],visibility):null;d19=length>19?this._getByDependency(provider,deps[19],visibility):null}catch(e){if(e instanceof exceptions_1.AbstractProviderError||e instanceof exceptions_1.InstantiationError){e.addKey(this,provider.key)}throw e}var obj;try{switch(length){case 0:obj=factory();break;case 1:obj=factory(d0);break;case 2:obj=factory(d0,d1);break;case 3:obj=factory(d0,d1,d2);break;case 4:obj=factory(d0,d1,d2,d3);break;case 5:obj=factory(d0,d1,d2,d3,d4);break;case 6:obj=factory(d0,d1,d2,d3,d4,d5);break;case 7:obj=factory(d0,d1,d2,d3,d4,d5,d6);break;case 8:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7);break;case 9:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8);break;case 10:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);break;case 11:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10);break;case 12:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11);break;case 13:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12);break;case 14:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13);break;case 15:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14);break;case 16:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15);break;case 17:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16);break;case 18:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17);break;case 19:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18);break;case 20:obj=factory(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,d11,d12,d13,d14,d15,d16,d17,d18,d19);break}}catch(e){throw new exceptions_1.InstantiationError(this,e,e.stack,provider.key)}return obj};Injector.prototype._getByDependency=function(provider,dep,providerVisibility){var special=lang_1.isPresent(this._depProvider)?this._depProvider.getDependency(this,provider,dep):exports.UNDEFINED;if(special!==exports.UNDEFINED){return special}else{return this._getByKey(dep.key,dep.lowerBoundVisibility,dep.upperBoundVisibility,dep.optional,providerVisibility)}};Injector.prototype._getByKey=function(key,lowerBoundVisibility,upperBoundVisibility,optional,providerVisibility){if(key===INJECTOR_KEY){return this}if(upperBoundVisibility instanceof metadata_1.SelfMetadata){return this._getByKeySelf(key,optional,providerVisibility)}else if(upperBoundVisibility instanceof metadata_1.HostMetadata){return this._getByKeyHost(key,optional,providerVisibility,lowerBoundVisibility)}else{return this._getByKeyDefault(key,optional,providerVisibility,lowerBoundVisibility)}};Injector.prototype._throwOrNull=function(key,optional){if(optional){return null}else{throw new exceptions_1.NoProviderError(this,key)}};Injector.prototype._getByKeySelf=function(key,optional,providerVisibility){var obj=this._strategy.getObjByKeyId(key.id,providerVisibility);return obj!==exports.UNDEFINED?obj:this._throwOrNull(key,optional)};Injector.prototype._getByKeyHost=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;if(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata){if(inj._isHostBoundary){return this._getPrivateDependency(key,optional,inj)}else{inj=inj._parent}}while(inj!=null){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)return obj;if(lang_1.isPresent(inj._parent)&&inj._isHostBoundary){return this._getPrivateDependency(key,optional,inj)}else{inj=inj._parent}}return this._throwOrNull(key,optional)};Injector.prototype._getPrivateDependency=function(key,optional,inj){var obj=inj._parent._strategy.getObjByKeyId(key.id,Visibility.Private);return obj!==exports.UNDEFINED?obj:this._throwOrNull(key,optional)};Injector.prototype._getByKeyDefault=function(key,optional,providerVisibility,lowerBoundVisibility){var inj=this;if(lowerBoundVisibility instanceof metadata_1.SkipSelfMetadata){providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public;inj=inj._parent}while(inj!=null){var obj=inj._strategy.getObjByKeyId(key.id,providerVisibility);if(obj!==exports.UNDEFINED)return obj;providerVisibility=inj._isHostBoundary?Visibility.PublicAndPrivate:Visibility.Public;inj=inj._parent}return this._throwOrNull(key,optional)};Object.defineProperty(Injector.prototype,"displayName",{get:function(){return"Injector(providers: ["+_mapProviders(this,function(b){return' "'+b.key.displayName+'" '}).join(", ")+"])"},enumerable:true,configurable:true});Injector.prototype.toString=function(){return this.displayName};return Injector}();exports.Injector=Injector;var INJECTOR_KEY=key_1.Key.get(Injector);function _mapProviders(injector,fn){var res=[];for(var i=0;i<injector._proto.numberOfProviders;++i){res.push(fn(injector._proto.getProviderAtIndex(i)))}return res}global.define=__define;return module.exports});System.register("angular2/src/animate/animation_builder",["angular2/src/core/di","angular2/src/animate/css_animation_builder","angular2/src/animate/browser_details"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var css_animation_builder_1=require("angular2/src/animate/css_animation_builder");var browser_details_1=require("angular2/src/animate/browser_details");var AnimationBuilder=function(){function AnimationBuilder(browserDetails){this.browserDetails=browserDetails}AnimationBuilder.prototype.css=function(){return new css_animation_builder_1.CssAnimationBuilder(this.browserDetails)};AnimationBuilder=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[browser_details_1.BrowserDetails])],AnimationBuilder);return AnimationBuilder}();exports.AnimationBuilder=AnimationBuilder;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/proto_change_detector",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/parser/ast","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/dynamic_change_detector","angular2/src/core/change_detection/directive_record","angular2/src/core/change_detection/event_binding","angular2/src/core/change_detection/coalesce","angular2/src/core/change_detection/proto_record"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var ast_1=require("angular2/src/core/change_detection/parser/ast");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var dynamic_change_detector_1=require("angular2/src/core/change_detection/dynamic_change_detector");var directive_record_1=require("angular2/src/core/change_detection/directive_record");var event_binding_1=require("angular2/src/core/change_detection/event_binding");var coalesce_1=require("angular2/src/core/change_detection/coalesce");var proto_record_1=require("angular2/src/core/change_detection/proto_record");var DynamicProtoChangeDetector=function(){function DynamicProtoChangeDetector(_definition){this._definition=_definition;this._propertyBindingRecords=createPropertyRecords(_definition);this._eventBindingRecords=createEventRecords(_definition);this._propertyBindingTargets=this._definition.bindingRecords.map(function(b){return b.target});this._directiveIndices=this._definition.directiveRecords.map(function(d){return d.directiveIndex})}DynamicProtoChangeDetector.prototype.instantiate=function(){return new dynamic_change_detector_1.DynamicChangeDetector(this._definition.id,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig)};return DynamicProtoChangeDetector}();exports.DynamicProtoChangeDetector=DynamicProtoChangeDetector;function createPropertyRecords(definition){var recordBuilder=new ProtoRecordBuilder;collection_1.ListWrapper.forEachWithIndex(definition.bindingRecords,function(b,index){return recordBuilder.add(b,definition.variableNames,index)});return coalesce_1.coalesce(recordBuilder.records)}exports.createPropertyRecords=createPropertyRecords;function createEventRecords(definition){var varNames=collection_1.ListWrapper.concat(["$event"],definition.variableNames);return definition.eventRecords.map(function(er){var records=_ConvertAstIntoProtoRecords.create(er,varNames);var dirIndex=er.implicitReceiver instanceof directive_record_1.DirectiveIndex?er.implicitReceiver:null;return new event_binding_1.EventBinding(er.target.name,er.target.elementIndex,dirIndex,records)})}exports.createEventRecords=createEventRecords;var ProtoRecordBuilder=function(){function ProtoRecordBuilder(){this.records=[]}ProtoRecordBuilder.prototype.add=function(b,variableNames,bindingIndex){var oldLast=collection_1.ListWrapper.last(this.records);if(lang_1.isPresent(oldLast)&&oldLast.bindingRecord.directiveRecord==b.directiveRecord){oldLast.lastInDirective=false}var numberOfRecordsBefore=this.records.length;this._appendRecords(b,variableNames,bindingIndex);var newLast=collection_1.ListWrapper.last(this.records);if(lang_1.isPresent(newLast)&&newLast!==oldLast){newLast.lastInBinding=true;newLast.lastInDirective=true;this._setArgumentToPureFunction(numberOfRecordsBefore)}};ProtoRecordBuilder.prototype._setArgumentToPureFunction=function(startIndex){var _this=this;for(var i=startIndex;i<this.records.length;++i){var rec=this.records[i];if(rec.isPureFunction()){rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=true})}if(rec.mode===proto_record_1.RecordType.Pipe){rec.args.forEach(function(recordIndex){return _this.records[recordIndex-1].argumentToPureFunction=true});this.records[rec.contextIndex-1].argumentToPureFunction=true}}};ProtoRecordBuilder.prototype._appendRecords=function(b,variableNames,bindingIndex){if(b.isDirectiveLifecycle()){this.records.push(new proto_record_1.ProtoRecord(proto_record_1.RecordType.DirectiveLifecycle,b.lifecycleEvent,null,[],[],-1,null,this.records.length+1,b,false,false,false,false,null))}else{_ConvertAstIntoProtoRecords.append(this.records,b,variableNames,bindingIndex)}};return ProtoRecordBuilder}();exports.ProtoRecordBuilder=ProtoRecordBuilder;var _ConvertAstIntoProtoRecords=function(){function _ConvertAstIntoProtoRecords(_records,_bindingRecord,_variableNames,_bindingIndex){this._records=_records;this._bindingRecord=_bindingRecord;this._variableNames=_variableNames;this._bindingIndex=_bindingIndex}_ConvertAstIntoProtoRecords.append=function(records,b,variableNames,bindingIndex){var c=new _ConvertAstIntoProtoRecords(records,b,variableNames,bindingIndex);b.ast.visit(c)};_ConvertAstIntoProtoRecords.create=function(b,variableNames){var rec=[];_ConvertAstIntoProtoRecords.append(rec,b,variableNames,null);rec[rec.length-1].lastInBinding=true;return rec};_ConvertAstIntoProtoRecords.prototype.visitImplicitReceiver=function(ast){return this._bindingRecord.implicitReceiver};_ConvertAstIntoProtoRecords.prototype.visitInterpolation=function(ast){var args=this._visitAll(ast.expressions);return this._addRecord(proto_record_1.RecordType.Interpolate,"interpolate",_interpolationFn(ast.strings),args,ast.strings,0)};_ConvertAstIntoProtoRecords.prototype.visitLiteralPrimitive=function(ast){return this._addRecord(proto_record_1.RecordType.Const,"literal",ast.value,[],null,0)};_ConvertAstIntoProtoRecords.prototype.visitPropertyRead=function(ast){var receiver=ast.receiver.visit(this);if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver){return this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver)}else{return this._addRecord(proto_record_1.RecordType.PropertyRead,ast.name,ast.getter,[],null,receiver)}};_ConvertAstIntoProtoRecords.prototype.visitPropertyWrite=function(ast){if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)&&ast.receiver instanceof ast_1.ImplicitReceiver){throw new exceptions_1.BaseException("Cannot reassign a variable binding "+ast.name)}else{var receiver=ast.receiver.visit(this);var value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.PropertyWrite,ast.name,ast.setter,[value],null,receiver)}};_ConvertAstIntoProtoRecords.prototype.visitKeyedWrite=function(ast){var obj=ast.obj.visit(this);var key=ast.key.visit(this);var value=ast.value.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedWrite,null,null,[key,value],null,obj)};_ConvertAstIntoProtoRecords.prototype.visitSafePropertyRead=function(ast){var receiver=ast.receiver.visit(this);return this._addRecord(proto_record_1.RecordType.SafeProperty,ast.name,ast.getter,[],null,receiver)};_ConvertAstIntoProtoRecords.prototype.visitMethodCall=function(ast){var receiver=ast.receiver.visit(this);var args=this._visitAll(ast.args);if(lang_1.isPresent(this._variableNames)&&collection_1.ListWrapper.contains(this._variableNames,ast.name)){var target=this._addRecord(proto_record_1.RecordType.Local,ast.name,ast.name,[],null,receiver);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target)}else{return this._addRecord(proto_record_1.RecordType.InvokeMethod,ast.name,ast.fn,args,null,receiver)}};_ConvertAstIntoProtoRecords.prototype.visitSafeMethodCall=function(ast){var receiver=ast.receiver.visit(this);var args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.SafeMethodInvoke,ast.name,ast.fn,args,null,receiver)};_ConvertAstIntoProtoRecords.prototype.visitFunctionCall=function(ast){var target=ast.target.visit(this);var args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.InvokeClosure,"closure",null,args,null,target)};_ConvertAstIntoProtoRecords.prototype.visitLiteralArray=function(ast){var primitiveName="arrayFn"+ast.expressions.length;return this._addRecord(proto_record_1.RecordType.CollectionLiteral,primitiveName,_arrayFn(ast.expressions.length),this._visitAll(ast.expressions),null,0)};_ConvertAstIntoProtoRecords.prototype.visitLiteralMap=function(ast){return this._addRecord(proto_record_1.RecordType.CollectionLiteral,_mapPrimitiveName(ast.keys),change_detection_util_1.ChangeDetectionUtil.mapFn(ast.keys),this._visitAll(ast.values),null,0)};_ConvertAstIntoProtoRecords.prototype.visitBinary=function(ast){var left=ast.left.visit(this);switch(ast.operation){case"&&":var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],branchEnd,left);var right=ast.right.visit(this);branchEnd[0]=right;return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,right,left],null,0);case"||":var branchEnd=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIf,"SkipRecordsIf",null,[],branchEnd,left);var right=ast.right.visit(this);branchEnd[0]=right;return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[left,left,right],null,0);default:var right=ast.right.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,_operationToPrimitiveName(ast.operation),_operationToFunction(ast.operation),[left,right],null,0)}};_ConvertAstIntoProtoRecords.prototype.visitPrefixNot=function(ast){var exp=ast.expression.visit(this);return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"operation_negate",change_detection_util_1.ChangeDetectionUtil.operation_negate,[exp],null,0)};_ConvertAstIntoProtoRecords.prototype.visitConditional=function(ast){var condition=ast.condition.visit(this);var startOfFalseBranch=[null];var endOfFalseBranch=[null];this._addRecord(proto_record_1.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],startOfFalseBranch,condition);var whenTrue=ast.trueExp.visit(this);var skip=this._addRecord(proto_record_1.RecordType.SkipRecords,"SkipRecords",null,[],endOfFalseBranch,0);var whenFalse=ast.falseExp.visit(this);startOfFalseBranch[0]=skip;endOfFalseBranch[0]=whenFalse;return this._addRecord(proto_record_1.RecordType.PrimitiveOp,"cond",change_detection_util_1.ChangeDetectionUtil.cond,[condition,whenTrue,whenFalse],null,0)};_ConvertAstIntoProtoRecords.prototype.visitPipe=function(ast){var value=ast.exp.visit(this);var args=this._visitAll(ast.args);return this._addRecord(proto_record_1.RecordType.Pipe,ast.name,ast.name,args,null,value)};_ConvertAstIntoProtoRecords.prototype.visitKeyedRead=function(ast){var obj=ast.obj.visit(this);var key=ast.key.visit(this);return this._addRecord(proto_record_1.RecordType.KeyedRead,"keyedAccess",change_detection_util_1.ChangeDetectionUtil.keyedAccess,[key],null,obj)};_ConvertAstIntoProtoRecords.prototype.visitChain=function(ast){var _this=this;var args=ast.expressions.map(function(e){return e.visit(_this)});return this._addRecord(proto_record_1.RecordType.Chain,"chain",null,args,null,0)};_ConvertAstIntoProtoRecords.prototype.visitQuote=function(ast){throw new exceptions_1.BaseException("Caught uninterpreted expression at "+ast.location+": "+ast.uninterpretedExpression+". "+("Expression prefix "+ast.prefix+" did not match a template transformer to interpret the expression."))};_ConvertAstIntoProtoRecords.prototype._visitAll=function(asts){var res=collection_1.ListWrapper.createFixedSize(asts.length);for(var i=0;i<asts.length;++i){res[i]=asts[i].visit(this)}return res};_ConvertAstIntoProtoRecords.prototype._addRecord=function(type,name,funcOrValue,args,fixedArgs,context){var selfIndex=this._records.length+1;if(context instanceof directive_record_1.DirectiveIndex){this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,-1,context,selfIndex,this._bindingRecord,false,false,false,false,this._bindingIndex))}else{this._records.push(new proto_record_1.ProtoRecord(type,name,funcOrValue,args,fixedArgs,context,null,selfIndex,this._bindingRecord,false,false,false,false,this._bindingIndex))}return selfIndex};return _ConvertAstIntoProtoRecords}();function _arrayFn(length){switch(length){case 0:return change_detection_util_1.ChangeDetectionUtil.arrayFn0;case 1:return change_detection_util_1.ChangeDetectionUtil.arrayFn1;case 2:return change_detection_util_1.ChangeDetectionUtil.arrayFn2;case 3:return change_detection_util_1.ChangeDetectionUtil.arrayFn3;case 4:return change_detection_util_1.ChangeDetectionUtil.arrayFn4;case 5:return change_detection_util_1.ChangeDetectionUtil.arrayFn5;case 6:return change_detection_util_1.ChangeDetectionUtil.arrayFn6;case 7:return change_detection_util_1.ChangeDetectionUtil.arrayFn7;case 8:return change_detection_util_1.ChangeDetectionUtil.arrayFn8;case 9:return change_detection_util_1.ChangeDetectionUtil.arrayFn9;default:throw new exceptions_1.BaseException("Does not support literal maps with more than 9 elements")}}function _mapPrimitiveName(keys){var stringifiedKeys=keys.map(function(k){return lang_1.isString(k)?'"'+k+'"':""+k}).join(", ");return"mapFn(["+stringifiedKeys+"])"}function _operationToPrimitiveName(operation){switch(operation){case"+":return"operation_add";case"-":return"operation_subtract";case"*":return"operation_multiply";case"/":return"operation_divide";case"%":return"operation_remainder";case"==":return"operation_equals";case"!=":return"operation_not_equals";case"===":return"operation_identical";case"!==":return"operation_not_identical";case"<":return"operation_less_then";case">":return"operation_greater_then";case"<=":return"operation_less_or_equals_then";case">=":return"operation_greater_or_equals_then";default:throw new exceptions_1.BaseException("Unsupported operation "+operation)}}function _operationToFunction(operation){switch(operation){case"+":return change_detection_util_1.ChangeDetectionUtil.operation_add;case"-":return change_detection_util_1.ChangeDetectionUtil.operation_subtract;case"*":return change_detection_util_1.ChangeDetectionUtil.operation_multiply;case"/":return change_detection_util_1.ChangeDetectionUtil.operation_divide;case"%":return change_detection_util_1.ChangeDetectionUtil.operation_remainder;case"==":return change_detection_util_1.ChangeDetectionUtil.operation_equals;case"!=":return change_detection_util_1.ChangeDetectionUtil.operation_not_equals;case"===":return change_detection_util_1.ChangeDetectionUtil.operation_identical;case"!==":return change_detection_util_1.ChangeDetectionUtil.operation_not_identical;case"<":return change_detection_util_1.ChangeDetectionUtil.operation_less_then;case">":return change_detection_util_1.ChangeDetectionUtil.operation_greater_then;case"<=":return change_detection_util_1.ChangeDetectionUtil.operation_less_or_equals_then;case">=":return change_detection_util_1.ChangeDetectionUtil.operation_greater_or_equals_then;default:throw new exceptions_1.BaseException("Unsupported operation "+operation)}}function s(v){return lang_1.isPresent(v)?""+v:""}function _interpolationFn(strings){var length=strings.length;var c0=length>0?strings[0]:null;var c1=length>1?strings[1]:null;var c2=length>2?strings[2]:null;var c3=length>3?strings[3]:null;var c4=length>4?strings[4]:null;var c5=length>5?strings[5]:null;var c6=length>6?strings[6]:null;var c7=length>7?strings[7]:null;var c8=length>8?strings[8]:null;var c9=length>9?strings[9]:null;switch(length-1){case 1:return function(a1){return c0+s(a1)+c1};case 2:return function(a1,a2){return c0+s(a1)+c1+s(a2)+c2};case 3:return function(a1,a2,a3){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3};case 4:return function(a1,a2,a3,a4){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4};case 5:return function(a1,a2,a3,a4,a5){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5};case 6:return function(a1,a2,a3,a4,a5,a6){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6};case 7:return function(a1,a2,a3,a4,a5,a6,a7){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7};case 8:return function(a1,a2,a3,a4,a5,a6,a7,a8){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8};case 9:return function(a1,a2,a3,a4,a5,a6,a7,a8,a9){return c0+s(a1)+c1+s(a2)+c2+s(a3)+c3+s(a4)+c4+s(a5)+c5+s(a6)+c6+s(a7)+c7+s(a8)+c8+s(a9)+c9};default:throw new exceptions_1.BaseException("Does not support more than 9 expressions")}}global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/jit_proto_change_detector",["angular2/src/core/change_detection/change_detection_jit_generator"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var change_detection_jit_generator_1=require("angular2/src/core/change_detection/change_detection_jit_generator");var JitProtoChangeDetector=function(){function JitProtoChangeDetector(definition){this.definition=definition;this._factory=this._createFactory(definition)}JitProtoChangeDetector.isSupported=function(){return true};JitProtoChangeDetector.prototype.instantiate=function(){return this._factory()};JitProtoChangeDetector.prototype._createFactory=function(definition){return new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,"util","AbstractChangeDetector","ChangeDetectorStatus").generate()};return JitProtoChangeDetector}();exports.JitProtoChangeDetector=JitProtoChangeDetector;global.define=__define;return module.exports});System.register("angular2/src/core/linker/compiler",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/async","angular2/src/core/reflection/reflection","angular2/src/core/linker/view","angular2/src/core/linker/view_ref"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");
var exceptions_1=require("angular2/src/facade/exceptions");var async_1=require("angular2/src/facade/async");var reflection_1=require("angular2/src/core/reflection/reflection");var view_1=require("angular2/src/core/linker/view");var view_ref_1=require("angular2/src/core/linker/view_ref");var Compiler=function(){function Compiler(){}return Compiler}();exports.Compiler=Compiler;function isHostViewFactory(type){return type instanceof view_1.HostViewFactory}var Compiler_=function(_super){__extends(Compiler_,_super);function Compiler_(){_super.apply(this,arguments)}Compiler_.prototype.compileInHost=function(componentType){var metadatas=reflection_1.reflector.annotations(componentType);var hostViewFactory=metadatas.find(isHostViewFactory);if(lang_1.isBlank(hostViewFactory)){throw new exceptions_1.BaseException("No precompiled component "+lang_1.stringify(componentType)+" found")}return async_1.PromiseWrapper.resolve(new view_ref_1.HostViewFactoryRef_(hostViewFactory))};Compiler_.prototype.clearCache=function(){};Compiler_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],Compiler_);return Compiler_}(Compiler);exports.Compiler_=Compiler_;global.define=__define;return module.exports});System.register("angular2/src/core/di",["angular2/src/core/di/metadata","angular2/src/core/di/decorators","angular2/src/core/di/forward_ref","angular2/src/core/di/injector","angular2/src/core/di/provider","angular2/src/core/di/key","angular2/src/core/di/exceptions","angular2/src/core/di/opaque_token"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}var metadata_1=require("angular2/src/core/di/metadata");exports.InjectMetadata=metadata_1.InjectMetadata;exports.OptionalMetadata=metadata_1.OptionalMetadata;exports.InjectableMetadata=metadata_1.InjectableMetadata;exports.SelfMetadata=metadata_1.SelfMetadata;exports.HostMetadata=metadata_1.HostMetadata;exports.SkipSelfMetadata=metadata_1.SkipSelfMetadata;exports.DependencyMetadata=metadata_1.DependencyMetadata;__export(require("angular2/src/core/di/decorators"));var forward_ref_1=require("angular2/src/core/di/forward_ref");exports.forwardRef=forward_ref_1.forwardRef;exports.resolveForwardRef=forward_ref_1.resolveForwardRef;var injector_1=require("angular2/src/core/di/injector");exports.Injector=injector_1.Injector;var provider_1=require("angular2/src/core/di/provider");exports.Binding=provider_1.Binding;exports.ProviderBuilder=provider_1.ProviderBuilder;exports.ResolvedFactory=provider_1.ResolvedFactory;exports.Dependency=provider_1.Dependency;exports.bind=provider_1.bind;exports.Provider=provider_1.Provider;exports.provide=provider_1.provide;var key_1=require("angular2/src/core/di/key");exports.Key=key_1.Key;exports.TypeLiteral=key_1.TypeLiteral;var exceptions_1=require("angular2/src/core/di/exceptions");exports.NoProviderError=exceptions_1.NoProviderError;exports.AbstractProviderError=exceptions_1.AbstractProviderError;exports.CyclicDependencyError=exceptions_1.CyclicDependencyError;exports.InstantiationError=exceptions_1.InstantiationError;exports.InvalidProviderError=exceptions_1.InvalidProviderError;exports.NoAnnotationError=exceptions_1.NoAnnotationError;exports.OutOfBoundsError=exceptions_1.OutOfBoundsError;var opaque_token_1=require("angular2/src/core/di/opaque_token");exports.OpaqueToken=opaque_token_1.OpaqueToken;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection/change_detection",["angular2/src/core/change_detection/differs/iterable_differs","angular2/src/core/change_detection/differs/default_iterable_differ","angular2/src/core/change_detection/differs/keyvalue_differs","angular2/src/core/change_detection/differs/default_keyvalue_differ","angular2/src/facade/lang","angular2/src/core/change_detection/parser/ast","angular2/src/core/change_detection/parser/lexer","angular2/src/core/change_detection/parser/parser","angular2/src/core/change_detection/parser/locals","angular2/src/core/change_detection/exceptions","angular2/src/core/change_detection/interfaces","angular2/src/core/change_detection/constants","angular2/src/core/change_detection/proto_change_detector","angular2/src/core/change_detection/jit_proto_change_detector","angular2/src/core/change_detection/binding_record","angular2/src/core/change_detection/directive_record","angular2/src/core/change_detection/dynamic_change_detector","angular2/src/core/change_detection/change_detector_ref","angular2/src/core/change_detection/differs/iterable_differs","angular2/src/core/change_detection/differs/keyvalue_differs","angular2/src/core/change_detection/change_detection_util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var iterable_differs_1=require("angular2/src/core/change_detection/differs/iterable_differs");var default_iterable_differ_1=require("angular2/src/core/change_detection/differs/default_iterable_differ");var keyvalue_differs_1=require("angular2/src/core/change_detection/differs/keyvalue_differs");var default_keyvalue_differ_1=require("angular2/src/core/change_detection/differs/default_keyvalue_differ");var lang_1=require("angular2/src/facade/lang");var ast_1=require("angular2/src/core/change_detection/parser/ast");exports.ASTWithSource=ast_1.ASTWithSource;exports.AST=ast_1.AST;exports.AstTransformer=ast_1.AstTransformer;exports.PropertyRead=ast_1.PropertyRead;exports.LiteralArray=ast_1.LiteralArray;exports.ImplicitReceiver=ast_1.ImplicitReceiver;var lexer_1=require("angular2/src/core/change_detection/parser/lexer");exports.Lexer=lexer_1.Lexer;var parser_1=require("angular2/src/core/change_detection/parser/parser");exports.Parser=parser_1.Parser;var locals_1=require("angular2/src/core/change_detection/parser/locals");exports.Locals=locals_1.Locals;var exceptions_1=require("angular2/src/core/change_detection/exceptions");exports.DehydratedException=exceptions_1.DehydratedException;exports.ExpressionChangedAfterItHasBeenCheckedException=exceptions_1.ExpressionChangedAfterItHasBeenCheckedException;exports.ChangeDetectionError=exceptions_1.ChangeDetectionError;var interfaces_1=require("angular2/src/core/change_detection/interfaces");exports.ChangeDetectorDefinition=interfaces_1.ChangeDetectorDefinition;exports.DebugContext=interfaces_1.DebugContext;exports.ChangeDetectorGenConfig=interfaces_1.ChangeDetectorGenConfig;var constants_1=require("angular2/src/core/change_detection/constants");exports.ChangeDetectionStrategy=constants_1.ChangeDetectionStrategy;exports.CHANGE_DETECTION_STRATEGY_VALUES=constants_1.CHANGE_DETECTION_STRATEGY_VALUES;var proto_change_detector_1=require("angular2/src/core/change_detection/proto_change_detector");exports.DynamicProtoChangeDetector=proto_change_detector_1.DynamicProtoChangeDetector;var jit_proto_change_detector_1=require("angular2/src/core/change_detection/jit_proto_change_detector");exports.JitProtoChangeDetector=jit_proto_change_detector_1.JitProtoChangeDetector;var binding_record_1=require("angular2/src/core/change_detection/binding_record");exports.BindingRecord=binding_record_1.BindingRecord;exports.BindingTarget=binding_record_1.BindingTarget;var directive_record_1=require("angular2/src/core/change_detection/directive_record");exports.DirectiveIndex=directive_record_1.DirectiveIndex;exports.DirectiveRecord=directive_record_1.DirectiveRecord;var dynamic_change_detector_1=require("angular2/src/core/change_detection/dynamic_change_detector");exports.DynamicChangeDetector=dynamic_change_detector_1.DynamicChangeDetector;var change_detector_ref_1=require("angular2/src/core/change_detection/change_detector_ref");exports.ChangeDetectorRef=change_detector_ref_1.ChangeDetectorRef;var iterable_differs_2=require("angular2/src/core/change_detection/differs/iterable_differs");exports.IterableDiffers=iterable_differs_2.IterableDiffers;var keyvalue_differs_2=require("angular2/src/core/change_detection/differs/keyvalue_differs");exports.KeyValueDiffers=keyvalue_differs_2.KeyValueDiffers;var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");exports.WrappedValue=change_detection_util_1.WrappedValue;exports.SimpleChange=change_detection_util_1.SimpleChange;exports.keyValDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_keyvalue_differ_1.DefaultKeyValueDifferFactory)]);exports.iterableDiff=lang_1.CONST_EXPR([lang_1.CONST_EXPR(new default_iterable_differ_1.DefaultIterableDifferFactory)]);exports.defaultIterableDiffers=lang_1.CONST_EXPR(new iterable_differs_1.IterableDiffers(exports.iterableDiff));exports.defaultKeyValueDiffers=lang_1.CONST_EXPR(new keyvalue_differs_1.KeyValueDiffers(exports.keyValDiff));global.define=__define;return module.exports});System.register("angular2/src/core/linker/dynamic_component_loader",["angular2/src/core/di","angular2/src/core/linker/compiler","angular2/src/facade/lang","angular2/src/core/linker/view_manager"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var compiler_1=require("angular2/src/core/linker/compiler");var lang_1=require("angular2/src/facade/lang");var view_manager_1=require("angular2/src/core/linker/view_manager");var ComponentRef=function(){function ComponentRef(){}Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return this.location.internalElement.parentView.ref},enumerable:true,configurable:true});Object.defineProperty(ComponentRef.prototype,"hostComponent",{get:function(){return this.instance},enumerable:true,configurable:true});return ComponentRef}();exports.ComponentRef=ComponentRef;var ComponentRef_=function(_super){__extends(ComponentRef_,_super);function ComponentRef_(location,instance,componentType,injector,_dispose){_super.call(this);this._dispose=_dispose;this.location=location;this.instance=instance;this.componentType=componentType;this.injector=injector}Object.defineProperty(ComponentRef_.prototype,"hostComponentType",{get:function(){return this.componentType},enumerable:true,configurable:true});ComponentRef_.prototype.dispose=function(){this._dispose()};return ComponentRef_}(ComponentRef);exports.ComponentRef_=ComponentRef_;var DynamicComponentLoader=function(){function DynamicComponentLoader(){}return DynamicComponentLoader}();exports.DynamicComponentLoader=DynamicComponentLoader;var DynamicComponentLoader_=function(_super){__extends(DynamicComponentLoader_,_super);function DynamicComponentLoader_(_compiler,_viewManager){_super.call(this);this._compiler=_compiler;this._viewManager=_viewManager}DynamicComponentLoader_.prototype.loadAsRoot=function(type,overrideSelector,injector,onDispose,projectableNodes){var _this=this;return this._compiler.compileInHost(type).then(function(hostProtoViewRef){var hostViewRef=_this._viewManager.createRootHostView(hostProtoViewRef,overrideSelector,injector,projectableNodes);var newLocation=_this._viewManager.getHostElement(hostViewRef);var component=_this._viewManager.getComponent(newLocation);var dispose=function(){if(lang_1.isPresent(onDispose)){onDispose()}_this._viewManager.destroyRootHostView(hostViewRef)};return new ComponentRef_(newLocation,component,type,injector,dispose)})};DynamicComponentLoader_.prototype.loadIntoLocation=function(type,hostLocation,anchorName,providers,projectableNodes){if(providers===void 0){providers=null}if(projectableNodes===void 0){projectableNodes=null}return this.loadNextToLocation(type,this._viewManager.getNamedElementInComponentView(hostLocation,anchorName),providers,projectableNodes)};DynamicComponentLoader_.prototype.loadNextToLocation=function(type,location,providers,projectableNodes){var _this=this;if(providers===void 0){providers=null}if(projectableNodes===void 0){projectableNodes=null}return this._compiler.compileInHost(type).then(function(hostProtoViewRef){var viewContainer=_this._viewManager.getViewContainer(location);var hostViewRef=viewContainer.createHostView(hostProtoViewRef,viewContainer.length,providers,projectableNodes);var newLocation=_this._viewManager.getHostElement(hostViewRef);var component=_this._viewManager.getComponent(newLocation);var dispose=function(){var index=viewContainer.indexOf(hostViewRef);if(!hostViewRef.destroyed&&index!==-1){viewContainer.remove(index)}};return new ComponentRef_(newLocation,component,type,null,dispose)})};DynamicComponentLoader_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[compiler_1.Compiler,view_manager_1.AppViewManager])],DynamicComponentLoader_);return DynamicComponentLoader_}(DynamicComponentLoader);exports.DynamicComponentLoader_=DynamicComponentLoader_;global.define=__define;return module.exports});System.register("angular2/src/core/change_detection",["angular2/src/core/change_detection/change_detection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var change_detection_1=require("angular2/src/core/change_detection/change_detection");exports.ChangeDetectionStrategy=change_detection_1.ChangeDetectionStrategy;exports.ExpressionChangedAfterItHasBeenCheckedException=change_detection_1.ExpressionChangedAfterItHasBeenCheckedException;exports.ChangeDetectionError=change_detection_1.ChangeDetectionError;exports.ChangeDetectorRef=change_detection_1.ChangeDetectorRef;exports.WrappedValue=change_detection_1.WrappedValue;exports.SimpleChange=change_detection_1.SimpleChange;exports.IterableDiffers=change_detection_1.IterableDiffers;exports.KeyValueDiffers=change_detection_1.KeyValueDiffers;global.define=__define;return module.exports});System.register("angular2/src/core/application_ref",["angular2/src/core/zone/ng_zone","angular2/src/facade/lang","angular2/src/core/di","angular2/src/core/application_tokens","angular2/src/facade/async","angular2/src/facade/collection","angular2/src/core/testability/testability","angular2/src/core/linker/dynamic_component_loader","angular2/src/facade/exceptions","angular2/src/core/console","angular2/src/core/profile/profile","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var ng_zone_1=require("angular2/src/core/zone/ng_zone");var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var application_tokens_1=require("angular2/src/core/application_tokens");var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var testability_1=require("angular2/src/core/testability/testability");var dynamic_component_loader_1=require("angular2/src/core/linker/dynamic_component_loader");var exceptions_1=require("angular2/src/facade/exceptions");var console_1=require("angular2/src/core/console");var profile_1=require("angular2/src/core/profile/profile");var lang_2=require("angular2/src/facade/lang");function _componentProviders(appComponentType){return[di_1.provide(application_tokens_1.APP_COMPONENT,{useValue:appComponentType}),di_1.provide(application_tokens_1.APP_COMPONENT_REF_PROMISE,{useFactory:function(dynamicComponentLoader,appRef,injector){var ref;return dynamicComponentLoader.loadAsRoot(appComponentType,null,injector,function(){appRef._unloadComponent(ref)}).then(function(componentRef){ref=componentRef;var testability=injector.getOptional(testability_1.Testability);if(lang_1.isPresent(testability)){injector.get(testability_1.TestabilityRegistry).registerApplication(componentRef.location.nativeElement,testability)}return componentRef})},deps:[dynamic_component_loader_1.DynamicComponentLoader,ApplicationRef,di_1.Injector]}),di_1.provide(appComponentType,{useFactory:function(p){return p.then(function(ref){return ref.instance})},deps:[application_tokens_1.APP_COMPONENT_REF_PROMISE]})]}function createNgZone(){return new ng_zone_1.NgZone({enableLongStackTrace:lang_1.assertionsEnabled()})}exports.createNgZone=createNgZone;var _platform;var _platformProviders;function platform(providers){lang_2.lockMode();if(lang_1.isPresent(_platform)){if(collection_1.ListWrapper.equals(_platformProviders,providers)){return _platform}else{throw new exceptions_1.BaseException("platform cannot be initialized with different sets of providers.")}}else{return _createPlatform(providers)}}exports.platform=platform;function disposePlatform(){if(lang_1.isPresent(_platform)){_platform.dispose();_platform=null}}exports.disposePlatform=disposePlatform;function _createPlatform(providers){_platformProviders=providers;var injector=di_1.Injector.resolveAndCreate(providers);_platform=new PlatformRef_(injector,function(){_platform=null;_platformProviders=null});_runPlatformInitializers(injector);return _platform}function _runPlatformInitializers(injector){var inits=injector.getOptional(application_tokens_1.PLATFORM_INITIALIZER);if(lang_1.isPresent(inits))inits.forEach(function(init){return init()})}var PlatformRef=function(){function PlatformRef(){}Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return PlatformRef}();exports.PlatformRef=PlatformRef;var PlatformRef_=function(_super){__extends(PlatformRef_,_super);function PlatformRef_(_injector,_dispose){_super.call(this);this._injector=_injector;this._dispose=_dispose;this._applications=[];this._disposeListeners=[]}PlatformRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)};Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:true,configurable:true});PlatformRef_.prototype.application=function(providers){var app=this._initApp(createNgZone(),providers);if(async_1.PromiseWrapper.isPromise(app)){throw new exceptions_1.BaseException("Cannot use asyncronous app initializers with application. Use asyncApplication instead.")}return app};PlatformRef_.prototype.asyncApplication=function(bindingFn,additionalProviders){var _this=this;var zone=createNgZone();var completer=async_1.PromiseWrapper.completer();if(bindingFn===null){completer.resolve(this._initApp(zone,additionalProviders))}else{zone.run(function(){async_1.PromiseWrapper.then(bindingFn(zone),function(providers){if(lang_1.isPresent(additionalProviders)){providers=collection_1.ListWrapper.concat(providers,additionalProviders)}var promise=_this._initApp(zone,providers);completer.resolve(promise)})})}return completer.promise};PlatformRef_.prototype._initApp=function(zone,providers){var _this=this;var injector;var app;zone.run(function(){providers=collection_1.ListWrapper.concat(providers,[di_1.provide(ng_zone_1.NgZone,{useValue:zone}),di_1.provide(ApplicationRef,{useFactory:function(){return app},deps:[]})]);var exceptionHandler;try{injector=_this.injector.resolveAndCreateChild(providers);exceptionHandler=injector.get(exceptions_1.ExceptionHandler);zone.overrideOnErrorHandler(function(e,s){return exceptionHandler.call(e,s)})}catch(e){if(lang_1.isPresent(exceptionHandler)){exceptionHandler.call(e,e.stack)}else{lang_1.print(e.toString())}}});app=new ApplicationRef_(this,zone,injector);this._applications.push(app);var promise=_runAppInitializers(injector);if(promise!==null){return async_1.PromiseWrapper.then(promise,function(_){return app})}else{return app}};PlatformRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._applications).forEach(function(app){return app.dispose()});this._disposeListeners.forEach(function(dispose){return dispose()});this._dispose()};PlatformRef_.prototype._applicationDisposed=function(app){collection_1.ListWrapper.remove(this._applications,app)};return PlatformRef_}(PlatformRef);exports.PlatformRef_=PlatformRef_;function _runAppInitializers(injector){var inits=injector.getOptional(application_tokens_1.APP_INITIALIZER);var promises=[];if(lang_1.isPresent(inits)){inits.forEach(function(init){var retVal=init();if(async_1.PromiseWrapper.isPromise(retVal)){promises.push(retVal)}})}if(promises.length>0){return async_1.PromiseWrapper.all(promises)}else{return null}}var ApplicationRef=function(){function ApplicationRef(){}Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef.prototype,"zone",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return ApplicationRef}();exports.ApplicationRef=ApplicationRef;var ApplicationRef_=function(_super){__extends(ApplicationRef_,_super);function ApplicationRef_(_platform,_zone,_injector){var _this=this;_super.call(this);this._platform=_platform;this._zone=_zone;this._injector=_injector;this._bootstrapListeners=[];this._disposeListeners=[];this._rootComponents=[];this._rootComponentTypes=[];this._changeDetectorRefs=[];this._runningTick=false;this._enforceNoNewChanges=false;if(lang_1.isPresent(this._zone)){async_1.ObservableWrapper.subscribe(this._zone.onTurnDone,function(_){_this._zone.run(function(){_this.tick()})})}this._enforceNoNewChanges=lang_1.assertionsEnabled()}ApplicationRef_.prototype.registerBootstrapListener=function(listener){this._bootstrapListeners.push(listener)};ApplicationRef_.prototype.registerDisposeListener=function(dispose){this._disposeListeners.push(dispose)};ApplicationRef_.prototype.registerChangeDetector=function(changeDetector){this._changeDetectorRefs.push(changeDetector)};ApplicationRef_.prototype.unregisterChangeDetector=function(changeDetector){collection_1.ListWrapper.remove(this._changeDetectorRefs,changeDetector)};ApplicationRef_.prototype.bootstrap=function(componentType,providers){var _this=this;var completer=async_1.PromiseWrapper.completer();this._zone.run(function(){var componentProviders=_componentProviders(componentType);if(lang_1.isPresent(providers)){componentProviders.push(providers)}var exceptionHandler=_this._injector.get(exceptions_1.ExceptionHandler);_this._rootComponentTypes.push(componentType);try{var injector=_this._injector.resolveAndCreateChild(componentProviders);var compRefToken=injector.get(application_tokens_1.APP_COMPONENT_REF_PROMISE);var tick=function(componentRef){_this._loadComponent(componentRef);completer.resolve(componentRef)};var tickResult=async_1.PromiseWrapper.then(compRefToken,tick);if(lang_1.IS_DART){async_1.PromiseWrapper.then(tickResult,function(_){})}async_1.PromiseWrapper.then(tickResult,null,function(err,stackTrace){return completer.reject(err,stackTrace)})}catch(e){exceptionHandler.call(e,e.stack);completer.reject(e,e.stack)}});return completer.promise.then(function(_){var c=_this._injector.get(console_1.Console);var modeDescription=lang_1.assertionsEnabled()?"in the development mode. Call enableProdMode() to enable the production mode.":"in the production mode. Call enableDevMode() to enable the development mode.";c.log("Angular 2 is running "+modeDescription);return _})};ApplicationRef_.prototype._loadComponent=function(ref){var appChangeDetector=ref.location.internalElement.parentView.changeDetector;this._changeDetectorRefs.push(appChangeDetector.ref);this.tick();this._rootComponents.push(ref);this._bootstrapListeners.forEach(function(listener){return listener(ref)})};ApplicationRef_.prototype._unloadComponent=function(ref){if(!collection_1.ListWrapper.contains(this._rootComponents,ref)){return}this.unregisterChangeDetector(ref.location.internalElement.parentView.changeDetector.ref);collection_1.ListWrapper.remove(this._rootComponents,ref)};Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector},enumerable:true,configurable:true});Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone},enumerable:true,configurable:true});ApplicationRef_.prototype.tick=function(){if(this._runningTick){throw new exceptions_1.BaseException("ApplicationRef.tick is called recursively")}var s=ApplicationRef_._tickScope();try{this._runningTick=true;this._changeDetectorRefs.forEach(function(detector){return detector.detectChanges()});if(this._enforceNoNewChanges){this._changeDetectorRefs.forEach(function(detector){return detector.checkNoChanges()})}}finally{this._runningTick=false;profile_1.wtfLeave(s)}};ApplicationRef_.prototype.dispose=function(){collection_1.ListWrapper.clone(this._rootComponents).forEach(function(ref){return ref.dispose()});this._disposeListeners.forEach(function(dispose){return dispose()});this._platform._applicationDisposed(this)};Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:true,configurable:true});ApplicationRef_._tickScope=profile_1.wtfCreateScope("ApplicationRef#tick()");return ApplicationRef_}(ApplicationRef);exports.ApplicationRef_=ApplicationRef_;global.define=__define;return module.exports});System.register("angular2/src/facade/async",["angular2/src/facade/lang","angular2/src/facade/promise","rxjs/Subject","rxjs/observable/fromPromise","rxjs/operator/toPromise","rxjs/Observable","rxjs/Subject"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var promise_1=require("angular2/src/facade/promise");exports.PromiseWrapper=promise_1.PromiseWrapper;exports.Promise=promise_1.Promise;var Subject_1=require("rxjs/Subject");var fromPromise_1=require("rxjs/observable/fromPromise");var toPromise_1=require("rxjs/operator/toPromise");var Observable_1=require("rxjs/Observable");exports.Observable=Observable_1.Observable;var Subject_2=require("rxjs/Subject");exports.Subject=Subject_2.Subject;var TimerWrapper=function(){function TimerWrapper(){}TimerWrapper.setTimeout=function(fn,millis){return lang_1.global.setTimeout(fn,millis)};TimerWrapper.clearTimeout=function(id){lang_1.global.clearTimeout(id)};TimerWrapper.setInterval=function(fn,millis){return lang_1.global.setInterval(fn,millis)};TimerWrapper.clearInterval=function(id){lang_1.global.clearInterval(id)};return TimerWrapper}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function ObservableWrapper(){}ObservableWrapper.subscribe=function(emitter,onNext,onError,onComplete){if(onComplete===void 0){onComplete=function(){}}onError=typeof onError==="function"&&onError||lang_1.noop;onComplete=typeof onComplete==="function"&&onComplete||lang_1.noop;return emitter.subscribe({next:onNext,error:onError,complete:onComplete})};ObservableWrapper.isObservable=function(obs){return!!obs.subscribe};ObservableWrapper.hasSubscribers=function(obs){return obs.observers.length>0};ObservableWrapper.dispose=function(subscription){subscription.unsubscribe()};ObservableWrapper.callNext=function(emitter,value){emitter.next(value)};ObservableWrapper.callEmit=function(emitter,value){emitter.emit(value)};ObservableWrapper.callError=function(emitter,error){emitter.error(error)};ObservableWrapper.callComplete=function(emitter){emitter.complete()};ObservableWrapper.fromPromise=function(promise){return fromPromise_1.PromiseObservable.create(promise)};ObservableWrapper.toPromise=function(obj){return toPromise_1.toPromise.call(obj)};return ObservableWrapper}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(_super){__extends(EventEmitter,_super);function EventEmitter(isAsync){if(isAsync===void 0){isAsync=true}_super.call(this);this._isAsync=isAsync}EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)};EventEmitter.prototype.next=function(value){_super.prototype.next.call(this,value)};EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn;var errorFn=function(err){return null};var completeFn=function(){return null};if(generatorOrNext&&typeof generatorOrNext==="object"){schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)};if(generatorOrNext.error){errorFn=this._isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}}if(generatorOrNext.complete){completeFn=this._isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()}}}else{schedulerFn=this._isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)};if(error){errorFn=this._isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}}if(complete){completeFn=this._isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()}}}return _super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)};return EventEmitter}(Subject_1.Subject);exports.EventEmitter=EventEmitter;global.define=__define;return module.exports});System.register("angular2/src/core/metadata/directives",["angular2/src/facade/lang","angular2/src/core/di/metadata","angular2/src/core/change_detection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var metadata_1=require("angular2/src/core/di/metadata");var change_detection_1=require("angular2/src/core/change_detection");var DirectiveMetadata=function(_super){__extends(DirectiveMetadata,_super);function DirectiveMetadata(_a){var _b=_a===void 0?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,bindings=_b.bindings,providers=_b.providers,exportAs=_b.exportAs,queries=_b.queries;_super.call(this);this.selector=selector;this._inputs=inputs;this._properties=properties;this._outputs=outputs;this._events=events;this.host=host;this.exportAs=exportAs;this.queries=queries;
this._providers=providers;this._bindings=bindings}Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return lang_1.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return lang_1.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return lang_1.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:true,configurable:true});Object.defineProperty(DirectiveMetadata.prototype,"bindings",{get:function(){return this.providers},enumerable:true,configurable:true});DirectiveMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],DirectiveMetadata);return DirectiveMetadata}(metadata_1.InjectableMetadata);exports.DirectiveMetadata=DirectiveMetadata;var ComponentMetadata=function(_super){__extends(ComponentMetadata,_super);function ComponentMetadata(_a){var _b=_a===void 0?{}:_a,selector=_b.selector,inputs=_b.inputs,outputs=_b.outputs,properties=_b.properties,events=_b.events,host=_b.host,exportAs=_b.exportAs,moduleId=_b.moduleId,bindings=_b.bindings,providers=_b.providers,viewBindings=_b.viewBindings,viewProviders=_b.viewProviders,_c=_b.changeDetection,changeDetection=_c===void 0?change_detection_1.ChangeDetectionStrategy.Default:_c,queries=_b.queries,templateUrl=_b.templateUrl,template=_b.template,styleUrls=_b.styleUrls,styles=_b.styles,directives=_b.directives,pipes=_b.pipes,encapsulation=_b.encapsulation;_super.call(this,{selector:selector,inputs:inputs,outputs:outputs,properties:properties,events:events,host:host,exportAs:exportAs,bindings:bindings,providers:providers,queries:queries});this.changeDetection=changeDetection;this._viewProviders=viewProviders;this._viewBindings=viewBindings;this.templateUrl=templateUrl;this.template=template;this.styleUrls=styleUrls;this.styles=styles;this.directives=directives;this.pipes=pipes;this.encapsulation=encapsulation;this.moduleId=moduleId}Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return lang_1.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:true,configurable:true});Object.defineProperty(ComponentMetadata.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:true,configurable:true});ComponentMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],ComponentMetadata);return ComponentMetadata}(DirectiveMetadata);exports.ComponentMetadata=ComponentMetadata;var PipeMetadata=function(_super){__extends(PipeMetadata,_super);function PipeMetadata(_a){var name=_a.name,pure=_a.pure;_super.call(this);this.name=name;this._pure=pure}Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return lang_1.isPresent(this._pure)?this._pure:true},enumerable:true,configurable:true});PipeMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[Object])],PipeMetadata);return PipeMetadata}(metadata_1.InjectableMetadata);exports.PipeMetadata=PipeMetadata;var InputMetadata=function(){function InputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}InputMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],InputMetadata);return InputMetadata}();exports.InputMetadata=InputMetadata;var OutputMetadata=function(){function OutputMetadata(bindingPropertyName){this.bindingPropertyName=bindingPropertyName}OutputMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],OutputMetadata);return OutputMetadata}();exports.OutputMetadata=OutputMetadata;var HostBindingMetadata=function(){function HostBindingMetadata(hostPropertyName){this.hostPropertyName=hostPropertyName}HostBindingMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],HostBindingMetadata);return HostBindingMetadata}();exports.HostBindingMetadata=HostBindingMetadata;var HostListenerMetadata=function(){function HostListenerMetadata(eventName,args){this.eventName=eventName;this.args=args}HostListenerMetadata=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String,Array])],HostListenerMetadata);return HostListenerMetadata}();exports.HostListenerMetadata=HostListenerMetadata;global.define=__define;return module.exports});System.register("angular2/core",["angular2/src/core/metadata","angular2/src/core/util","angular2/src/core/prod_mode","angular2/src/core/di","angular2/src/facade/facade","angular2/src/facade/lang","angular2/src/core/application_ref","angular2/src/core/application_tokens","angular2/src/core/zone","angular2/src/core/render","angular2/src/core/linker","angular2/src/core/debug/debug_node","angular2/src/core/testability/testability","angular2/src/core/change_detection","angular2/src/core/platform_directives_and_pipes","angular2/src/core/platform_common_providers","angular2/src/core/application_common_providers","angular2/src/core/reflection/reflection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}__export(require("angular2/src/core/metadata"));__export(require("angular2/src/core/util"));__export(require("angular2/src/core/prod_mode"));__export(require("angular2/src/core/di"));__export(require("angular2/src/facade/facade"));var lang_1=require("angular2/src/facade/lang");exports.enableProdMode=lang_1.enableProdMode;var application_ref_1=require("angular2/src/core/application_ref");exports.platform=application_ref_1.platform;exports.createNgZone=application_ref_1.createNgZone;exports.PlatformRef=application_ref_1.PlatformRef;exports.ApplicationRef=application_ref_1.ApplicationRef;var application_tokens_1=require("angular2/src/core/application_tokens");exports.APP_ID=application_tokens_1.APP_ID;exports.APP_COMPONENT=application_tokens_1.APP_COMPONENT;exports.APP_INITIALIZER=application_tokens_1.APP_INITIALIZER;exports.PACKAGE_ROOT_URL=application_tokens_1.PACKAGE_ROOT_URL;exports.PLATFORM_INITIALIZER=application_tokens_1.PLATFORM_INITIALIZER;__export(require("angular2/src/core/zone"));__export(require("angular2/src/core/render"));__export(require("angular2/src/core/linker"));var debug_node_1=require("angular2/src/core/debug/debug_node");exports.DebugElement=debug_node_1.DebugElement;exports.DebugNode=debug_node_1.DebugNode;exports.asNativeElements=debug_node_1.asNativeElements;__export(require("angular2/src/core/testability/testability"));__export(require("angular2/src/core/change_detection"));__export(require("angular2/src/core/platform_directives_and_pipes"));__export(require("angular2/src/core/platform_common_providers"));__export(require("angular2/src/core/application_common_providers"));__export(require("angular2/src/core/reflection/reflection"));global.define=__define;return module.exports});System.register("angular2/src/core/zone/ng_zone",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/async","angular2/src/core/profile/profile"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var profile_1=require("angular2/src/core/profile/profile");var NgZoneError=function(){function NgZoneError(error,stackTrace){this.error=error;this.stackTrace=stackTrace}return NgZoneError}();exports.NgZoneError=NgZoneError;var NgZone=function(){function NgZone(_a){var enableLongStackTrace=_a.enableLongStackTrace;this._runScope=profile_1.wtfCreateScope("NgZone#run()");this._microtaskScope=profile_1.wtfCreateScope("NgZone#microtask()");this._pendingMicrotasks=0;this._hasExecutedCodeInInnerZone=false;this._nestedRun=0;this._inVmTurnDone=false;this._pendingTimeouts=[];if(lang_1.global.zone){this._disabled=false;this._mountZone=lang_1.global.zone;this._innerZone=this._createInnerZone(this._mountZone,enableLongStackTrace)}else{this._disabled=true;this._mountZone=null}this._onTurnStartEvents=new async_1.EventEmitter(false);this._onTurnDoneEvents=new async_1.EventEmitter(false);this._onEventDoneEvents=new async_1.EventEmitter(false);this._onErrorEvents=new async_1.EventEmitter(false)}NgZone.prototype.overrideOnTurnStart=function(onTurnStartHook){this._onTurnStart=lang_1.normalizeBlank(onTurnStartHook)};Object.defineProperty(NgZone.prototype,"onTurnStart",{get:function(){return this._onTurnStartEvents},enumerable:true,configurable:true});NgZone.prototype._notifyOnTurnStart=function(parentRun){var _this=this;parentRun.call(this._innerZone,function(){_this._onTurnStartEvents.emit(null)})};NgZone.prototype.overrideOnTurnDone=function(onTurnDoneHook){this._onTurnDone=lang_1.normalizeBlank(onTurnDoneHook)};Object.defineProperty(NgZone.prototype,"onTurnDone",{get:function(){return this._onTurnDoneEvents},enumerable:true,configurable:true});NgZone.prototype._notifyOnTurnDone=function(parentRun){var _this=this;parentRun.call(this._innerZone,function(){_this._onTurnDoneEvents.emit(null)})};NgZone.prototype.overrideOnEventDone=function(onEventDoneFn,opt_waitForAsync){var _this=this;if(opt_waitForAsync===void 0){opt_waitForAsync=false}var normalizedOnEventDone=lang_1.normalizeBlank(onEventDoneFn);if(opt_waitForAsync){this._onEventDone=function(){if(!_this._pendingTimeouts.length){normalizedOnEventDone()}}}else{this._onEventDone=normalizedOnEventDone}};Object.defineProperty(NgZone.prototype,"onEventDone",{get:function(){return this._onEventDoneEvents},enumerable:true,configurable:true});NgZone.prototype._notifyOnEventDone=function(){var _this=this;this.runOutsideAngular(function(){_this._onEventDoneEvents.emit(null)})};Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._pendingMicrotasks>0},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"hasPendingTimers",{get:function(){return this._pendingTimeouts.length>0},enumerable:true,configurable:true});Object.defineProperty(NgZone.prototype,"hasPendingAsyncTasks",{get:function(){return this.hasPendingMicrotasks||this.hasPendingTimers},enumerable:true,configurable:true});NgZone.prototype.overrideOnErrorHandler=function(errorHandler){this._onErrorHandler=lang_1.normalizeBlank(errorHandler)};Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:true,configurable:true});NgZone.prototype.run=function(fn){if(this._disabled){return fn()}else{var s=this._runScope();try{return this._innerZone.run(fn)}finally{profile_1.wtfLeave(s)}}};NgZone.prototype.runOutsideAngular=function(fn){if(this._disabled){return fn()}else{return this._mountZone.run(fn)}};NgZone.prototype._createInnerZone=function(zone,enableLongStackTrace){var microtaskScope=this._microtaskScope;var ngZone=this;var errorHandling;if(enableLongStackTrace){errorHandling=collection_1.StringMapWrapper.merge(Zone.longStackTraceZone,{onError:function(e){ngZone._notifyOnError(this,e)}})}else{errorHandling={onError:function(e){ngZone._notifyOnError(this,e)}}}return zone.fork(errorHandling).fork({$run:function(parentRun){return function(){try{ngZone._nestedRun++;if(!ngZone._hasExecutedCodeInInnerZone){ngZone._hasExecutedCodeInInnerZone=true;ngZone._notifyOnTurnStart(parentRun);if(ngZone._onTurnStart){parentRun.call(ngZone._innerZone,ngZone._onTurnStart)}}return parentRun.apply(this,arguments)}finally{ngZone._nestedRun--;if(ngZone._pendingMicrotasks==0&&ngZone._nestedRun==0&&!this._inVmTurnDone){if(ngZone._hasExecutedCodeInInnerZone){try{this._inVmTurnDone=true;ngZone._notifyOnTurnDone(parentRun);if(ngZone._onTurnDone){parentRun.call(ngZone._innerZone,ngZone._onTurnDone)}}finally{this._inVmTurnDone=false;ngZone._hasExecutedCodeInInnerZone=false}}if(ngZone._pendingMicrotasks===0){ngZone._notifyOnEventDone();if(lang_1.isPresent(ngZone._onEventDone)){ngZone.runOutsideAngular(ngZone._onEventDone)}}}}}},$scheduleMicrotask:function(parentScheduleMicrotask){return function(fn){ngZone._pendingMicrotasks++;var microtask=function(){var s=microtaskScope();try{fn()}finally{ngZone._pendingMicrotasks--;profile_1.wtfLeave(s)}};parentScheduleMicrotask.call(this,microtask)}},$setTimeout:function(parentSetTimeout){return function(fn,delay){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var id;var cb=function(){fn();collection_1.ListWrapper.remove(ngZone._pendingTimeouts,id)};id=parentSetTimeout.call(this,cb,delay,args);ngZone._pendingTimeouts.push(id);return id}},$clearTimeout:function(parentClearTimeout){return function(id){parentClearTimeout.call(this,id);collection_1.ListWrapper.remove(ngZone._pendingTimeouts,id)}},_innerZone:true})};NgZone.prototype._notifyOnError=function(zone,e){if(lang_1.isPresent(this._onErrorHandler)||async_1.ObservableWrapper.hasSubscribers(this._onErrorEvents)){var trace=[lang_1.normalizeBlank(e.stack)];while(zone&&zone.constructedAtException){trace.push(zone.constructedAtException.get());zone=zone.parent}if(async_1.ObservableWrapper.hasSubscribers(this._onErrorEvents)){async_1.ObservableWrapper.callEmit(this._onErrorEvents,new NgZoneError(e,trace))}if(lang_1.isPresent(this._onErrorHandler)){this._onErrorHandler(e,trace)}}else{console.log("## _notifyOnError ##");console.log(e.stack);throw e}};return NgZone}();exports.NgZone=NgZone;global.define=__define;return module.exports});System.register("angular2/src/core/metadata",["angular2/src/core/metadata/di","angular2/src/core/metadata/directives","angular2/src/core/metadata/view","angular2/src/core/metadata/di","angular2/src/core/metadata/directives","angular2/src/core/metadata/view","angular2/src/core/util/decorators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var di_1=require("angular2/src/core/metadata/di");exports.QueryMetadata=di_1.QueryMetadata;exports.ContentChildrenMetadata=di_1.ContentChildrenMetadata;exports.ContentChildMetadata=di_1.ContentChildMetadata;exports.ViewChildrenMetadata=di_1.ViewChildrenMetadata;exports.ViewQueryMetadata=di_1.ViewQueryMetadata;exports.ViewChildMetadata=di_1.ViewChildMetadata;exports.AttributeMetadata=di_1.AttributeMetadata;var directives_1=require("angular2/src/core/metadata/directives");exports.ComponentMetadata=directives_1.ComponentMetadata;exports.DirectiveMetadata=directives_1.DirectiveMetadata;exports.PipeMetadata=directives_1.PipeMetadata;exports.InputMetadata=directives_1.InputMetadata;exports.OutputMetadata=directives_1.OutputMetadata;exports.HostBindingMetadata=directives_1.HostBindingMetadata;exports.HostListenerMetadata=directives_1.HostListenerMetadata;var view_1=require("angular2/src/core/metadata/view");exports.ViewMetadata=view_1.ViewMetadata;exports.ViewEncapsulation=view_1.ViewEncapsulation;var di_2=require("angular2/src/core/metadata/di");var directives_2=require("angular2/src/core/metadata/directives");var view_2=require("angular2/src/core/metadata/view");var decorators_1=require("angular2/src/core/util/decorators");exports.Component=decorators_1.makeDecorator(directives_2.ComponentMetadata,function(fn){return fn.View=exports.View});exports.Directive=decorators_1.makeDecorator(directives_2.DirectiveMetadata);exports.View=decorators_1.makeDecorator(view_2.ViewMetadata,function(fn){return fn.View=exports.View});exports.Attribute=decorators_1.makeParamDecorator(di_2.AttributeMetadata);exports.Query=decorators_1.makeParamDecorator(di_2.QueryMetadata);exports.ContentChildren=decorators_1.makePropDecorator(di_2.ContentChildrenMetadata);exports.ContentChild=decorators_1.makePropDecorator(di_2.ContentChildMetadata);exports.ViewChildren=decorators_1.makePropDecorator(di_2.ViewChildrenMetadata);exports.ViewChild=decorators_1.makePropDecorator(di_2.ViewChildMetadata);exports.ViewQuery=decorators_1.makeParamDecorator(di_2.ViewQueryMetadata);exports.Pipe=decorators_1.makeDecorator(directives_2.PipeMetadata);exports.Input=decorators_1.makePropDecorator(directives_2.InputMetadata);exports.Output=decorators_1.makePropDecorator(directives_2.OutputMetadata);exports.HostBinding=decorators_1.makePropDecorator(directives_2.HostBindingMetadata);exports.HostListener=decorators_1.makePropDecorator(directives_2.HostListenerMetadata);global.define=__define;return module.exports});System.register("angular2/src/platform/dom/events/dom_events",["angular2/src/platform/dom/dom_adapter","angular2/core","angular2/src/platform/dom/events/event_manager"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var core_1=require("angular2/core");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var DomEventsPlugin=function(_super){__extends(DomEventsPlugin,_super);function DomEventsPlugin(){_super.apply(this,arguments)}DomEventsPlugin.prototype.supports=function(eventName){return true};DomEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone();var outsideHandler=function(event){return zone.run(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler)})};DomEventsPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){var element=dom_adapter_1.DOM.getGlobalEventTarget(target);var zone=this.manager.getZone();var outsideHandler=function(event){return zone.run(function(){return handler(event)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,eventName,outsideHandler)})};DomEventsPlugin=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],DomEventsPlugin);return DomEventsPlugin}(event_manager_1.EventManagerPlugin);exports.DomEventsPlugin=DomEventsPlugin;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/events/event_manager",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di","angular2/src/core/zone/ng_zone","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var di_1=require("angular2/src/core/di");var ng_zone_1=require("angular2/src/core/zone/ng_zone");var collection_1=require("angular2/src/facade/collection");exports.EVENT_MANAGER_PLUGINS=lang_1.CONST_EXPR(new di_1.OpaqueToken("EventManagerPlugins"));var EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone;plugins.forEach(function(p){return p.manager=_this});this._plugins=collection_1.ListWrapper.reversed(plugins)}EventManager.prototype.addEventListener=function(element,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addEventListener(element,eventName,handler)};EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){var plugin=this._findPluginFor(eventName);return plugin.addGlobalEventListener(target,eventName,handler)};EventManager.prototype.getZone=function(){return this._zone};EventManager.prototype._findPluginFor=function(eventName){var plugins=this._plugins;for(var i=0;i<plugins.length;i++){var plugin=plugins[i];if(plugin.supports(eventName)){return plugin}}throw new exceptions_1.BaseException("No event manager plugin found for event "+eventName)};EventManager=__decorate([di_1.Injectable(),__param(0,di_1.Inject(exports.EVENT_MANAGER_PLUGINS)),__metadata("design:paramtypes",[Array,ng_zone_1.NgZone])],EventManager);return EventManager}();exports.EventManager=EventManager;var EventManagerPlugin=function(){function EventManagerPlugin(){}EventManagerPlugin.prototype.supports=function(eventName){return false};EventManagerPlugin.prototype.addEventListener=function(element,eventName,handler){throw"not implemented"};EventManagerPlugin.prototype.addGlobalEventListener=function(element,eventName,handler){throw"not implemented"};return EventManagerPlugin}();exports.EventManagerPlugin=EventManagerPlugin;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/dom_renderer",["angular2/src/core/di","angular2/src/animate/animation_builder","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/platform/dom/shared_styles_host","angular2/src/platform/dom/events/event_manager","angular2/src/platform/dom/dom_tokens","angular2/src/core/metadata","angular2/src/platform/dom/dom_adapter","angular2/src/platform/dom/util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var di_1=require("angular2/src/core/di");var animation_builder_1=require("angular2/src/animate/animation_builder");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");var metadata_1=require("angular2/src/core/metadata");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var util_1=require("angular2/src/platform/dom/util");var NAMESPACE_URIS=lang_1.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"});var TEMPLATE_COMMENT_TEXT="template bindings={}";var TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/g;var DomRootRenderer=function(){function DomRootRenderer(document,eventManager,sharedStylesHost,animate){this.document=document;this.eventManager=eventManager;this.sharedStylesHost=sharedStylesHost;this.animate=animate;this._registeredComponents=new Map}DomRootRenderer.prototype.renderComponent=function(componentProto){var renderer=this._registeredComponents.get(componentProto.id);if(lang_1.isBlank(renderer)){renderer=new DomRenderer(this,componentProto);this._registeredComponents.set(componentProto.id,renderer)}return renderer};return DomRootRenderer}();exports.DomRootRenderer=DomRootRenderer;var DomRootRenderer_=function(_super){__extends(DomRootRenderer_,_super);function DomRootRenderer_(_document,_eventManager,sharedStylesHost,animate){_super.call(this,_document,_eventManager,sharedStylesHost,animate)}DomRootRenderer_=__decorate([di_1.Injectable(),__param(0,di_1.Inject(dom_tokens_1.DOCUMENT)),__metadata("design:paramtypes",[Object,event_manager_1.EventManager,shared_styles_host_1.DomSharedStylesHost,animation_builder_1.AnimationBuilder])],DomRootRenderer_);return DomRootRenderer_}(DomRootRenderer);exports.DomRootRenderer_=DomRootRenderer_;var DomRenderer=function(){function DomRenderer(_rootRenderer,componentProto){this._rootRenderer=_rootRenderer;this.componentProto=componentProto;this._styles=_flattenStyles(componentProto.id,componentProto.styles,[]);if(componentProto.encapsulation!==metadata_1.ViewEncapsulation.Native){this._rootRenderer.sharedStylesHost.addStyles(this._styles)}if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Emulated){this._contentAttr=_shimContentAttribute(componentProto.id);this._hostAttr=_shimHostAttribute(componentProto.id)}else{this._contentAttr=null;this._hostAttr=null}}DomRenderer.prototype.renderComponent=function(componentProto){return this._rootRenderer.renderComponent(componentProto)};DomRenderer.prototype.selectRootElement=function(selector){var el=dom_adapter_1.DOM.querySelector(this._rootRenderer.document,selector);if(lang_1.isBlank(el)){throw new exceptions_1.BaseException('The selector "'+selector+'" did not match any elements')}dom_adapter_1.DOM.clearNodes(el);return el};DomRenderer.prototype.createElement=function(parent,name){var nsAndName=splitNamespace(name);var el=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]);if(lang_1.isPresent(this._contentAttr)){dom_adapter_1.DOM.setAttribute(el,this._contentAttr,"")}if(lang_1.isPresent(parent)){dom_adapter_1.DOM.appendChild(parent,el)}return el};DomRenderer.prototype.createViewRoot=function(hostElement){var nodesParent;if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native){nodesParent=dom_adapter_1.DOM.createShadowRoot(hostElement);this._rootRenderer.sharedStylesHost.addHost(nodesParent);for(var i=0;i<this._styles.length;i++){dom_adapter_1.DOM.appendChild(nodesParent,dom_adapter_1.DOM.createStyleElement(this._styles[i]))}}else{if(lang_1.isPresent(this._hostAttr)){dom_adapter_1.DOM.setAttribute(hostElement,this._hostAttr,"")}nodesParent=hostElement}return nodesParent};DomRenderer.prototype.createTemplateAnchor=function(parentElement){var comment=dom_adapter_1.DOM.createComment(TEMPLATE_COMMENT_TEXT);if(lang_1.isPresent(parentElement)){dom_adapter_1.DOM.appendChild(parentElement,comment)}return comment};DomRenderer.prototype.createText=function(parentElement,value){var node=dom_adapter_1.DOM.createTextNode(value);if(lang_1.isPresent(parentElement)){dom_adapter_1.DOM.appendChild(parentElement,node)}return node};DomRenderer.prototype.projectNodes=function(parentElement,nodes){if(lang_1.isBlank(parentElement))return;appendNodes(parentElement,nodes)};DomRenderer.prototype.attachViewAfter=function(node,viewRootNodes){moveNodesAfterSibling(node,viewRootNodes);for(var i=0;i<viewRootNodes.length;i++)this.animateNodeEnter(viewRootNodes[i])};DomRenderer.prototype.detachView=function(viewRootNodes){for(var i=0;i<viewRootNodes.length;i++){var node=viewRootNodes[i];dom_adapter_1.DOM.remove(node);this.animateNodeLeave(node)}};DomRenderer.prototype.destroyView=function(hostElement,viewAllNodes){if(this.componentProto.encapsulation===metadata_1.ViewEncapsulation.Native&&lang_1.isPresent(hostElement)){this._rootRenderer.sharedStylesHost.removeHost(dom_adapter_1.DOM.getShadowRoot(hostElement))}};DomRenderer.prototype.listen=function(renderElement,name,callback){return this._rootRenderer.eventManager.addEventListener(renderElement,name,decoratePreventDefault(callback))};DomRenderer.prototype.listenGlobal=function(target,name,callback){return this._rootRenderer.eventManager.addGlobalEventListener(target,name,decoratePreventDefault(callback))};DomRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){dom_adapter_1.DOM.setProperty(renderElement,propertyName,propertyValue)};DomRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){var attrNs;var nsAndName=splitNamespace(attributeName);if(lang_1.isPresent(nsAndName[0])){attributeName=nsAndName[0]+":"+nsAndName[1];attrNs=NAMESPACE_URIS[nsAndName[0]]}if(lang_1.isPresent(attributeValue)){if(lang_1.isPresent(attrNs)){dom_adapter_1.DOM.setAttributeNS(renderElement,attrNs,attributeName,attributeValue)}else{dom_adapter_1.DOM.setAttribute(renderElement,nsAndName[1],attributeValue)}}else{dom_adapter_1.DOM.removeAttribute(renderElement,attributeName)}};DomRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){var dashCasedPropertyName=util_1.camelCaseToDashCase(propertyName);if(dom_adapter_1.DOM.isCommentNode(renderElement)){var existingBindings=lang_1.RegExpWrapper.firstMatch(TEMPLATE_BINDINGS_EXP,lang_1.StringWrapper.replaceAll(dom_adapter_1.DOM.getText(renderElement),/\n/g,""));var parsedBindings=lang_1.Json.parse(existingBindings[1]);parsedBindings[dashCasedPropertyName]=propertyValue;dom_adapter_1.DOM.setText(renderElement,lang_1.StringWrapper.replace(TEMPLATE_COMMENT_TEXT,"{}",lang_1.Json.stringify(parsedBindings)))}else{this.setElementAttribute(renderElement,propertyName,propertyValue)}};DomRenderer.prototype.setElementDebugInfo=function(renderElement,info){};DomRenderer.prototype.setElementClass=function(renderElement,className,isAdd){if(isAdd){dom_adapter_1.DOM.addClass(renderElement,className)}else{dom_adapter_1.DOM.removeClass(renderElement,className)}};DomRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){if(lang_1.isPresent(styleValue)){dom_adapter_1.DOM.setStyle(renderElement,styleName,lang_1.stringify(styleValue))}else{dom_adapter_1.DOM.removeStyle(renderElement,styleName)}};DomRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){dom_adapter_1.DOM.invoke(renderElement,methodName,args)};DomRenderer.prototype.setText=function(renderNode,text){dom_adapter_1.DOM.setText(renderNode,text)};DomRenderer.prototype.animateNodeEnter=function(node){if(dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,"ng-animate")){dom_adapter_1.DOM.addClass(node,"ng-enter");this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,"ng-enter")})}};DomRenderer.prototype.animateNodeLeave=function(node){if(dom_adapter_1.DOM.isElementNode(node)&&dom_adapter_1.DOM.hasClass(node,"ng-animate")){dom_adapter_1.DOM.addClass(node,"ng-leave");
this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(node).onComplete(function(){dom_adapter_1.DOM.removeClass(node,"ng-leave");dom_adapter_1.DOM.remove(node)})}else{dom_adapter_1.DOM.remove(node)}};return DomRenderer}();exports.DomRenderer=DomRenderer;function moveNodesAfterSibling(sibling,nodes){var parent=dom_adapter_1.DOM.parentElement(sibling);if(nodes.length>0&&lang_1.isPresent(parent)){var nextSibling=dom_adapter_1.DOM.nextSibling(sibling);if(lang_1.isPresent(nextSibling)){for(var i=0;i<nodes.length;i++){dom_adapter_1.DOM.insertBefore(nextSibling,nodes[i])}}else{for(var i=0;i<nodes.length;i++){dom_adapter_1.DOM.appendChild(parent,nodes[i])}}}}function appendNodes(parent,nodes){for(var i=0;i<nodes.length;i++){dom_adapter_1.DOM.appendChild(parent,nodes[i])}}function decoratePreventDefault(eventHandler){return function(event){var allowDefaultBehavior=eventHandler(event);if(allowDefaultBehavior===false){dom_adapter_1.DOM.preventDefault(event)}}}var COMPONENT_REGEX=/%COMP%/g;exports.COMPONENT_VARIABLE="%COMP%";exports.HOST_ATTR="_nghost-"+exports.COMPONENT_VARIABLE;exports.CONTENT_ATTR="_ngcontent-"+exports.COMPONENT_VARIABLE;function _shimContentAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.CONTENT_ATTR,COMPONENT_REGEX,componentShortId)}function _shimHostAttribute(componentShortId){return lang_1.StringWrapper.replaceAll(exports.HOST_ATTR,COMPONENT_REGEX,componentShortId)}function _flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];if(lang_1.isArray(style)){_flattenStyles(compId,style,target)}else{style=lang_1.StringWrapper.replaceAll(style,COMPONENT_REGEX,compId);target.push(style)}}return target}var NS_PREFIX_RE=/^@([^:]+):(.+)/g;function splitNamespace(name){if(name[0]!="@"){return[null,name]}var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,name);return[match[1],match[2]]}global.define=__define;return module.exports});System.register("angular2/platform/common_dom",["angular2/src/platform/dom/dom_adapter","angular2/src/platform/dom/dom_renderer","angular2/src/platform/dom/dom_tokens","angular2/src/platform/dom/shared_styles_host","angular2/src/platform/dom/events/dom_events","angular2/src/platform/dom/events/event_manager","angular2/src/platform/dom/debug/by","angular2/src/platform/dom/debug/ng_probe"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");exports.DOM=dom_adapter_1.DOM;exports.setRootDomAdapter=dom_adapter_1.setRootDomAdapter;exports.DomAdapter=dom_adapter_1.DomAdapter;var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");exports.DomRenderer=dom_renderer_1.DomRenderer;var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");exports.DOCUMENT=dom_tokens_1.DOCUMENT;var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");exports.SharedStylesHost=shared_styles_host_1.SharedStylesHost;exports.DomSharedStylesHost=shared_styles_host_1.DomSharedStylesHost;var dom_events_1=require("angular2/src/platform/dom/events/dom_events");exports.DomEventsPlugin=dom_events_1.DomEventsPlugin;var event_manager_1=require("angular2/src/platform/dom/events/event_manager");exports.EVENT_MANAGER_PLUGINS=event_manager_1.EVENT_MANAGER_PLUGINS;exports.EventManager=event_manager_1.EventManager;exports.EventManagerPlugin=event_manager_1.EventManagerPlugin;__export(require("angular2/src/platform/dom/debug/by"));__export(require("angular2/src/platform/dom/debug/ng_probe"));global.define=__define;return module.exports});System.register("angular2/src/common/pipes/invalid_pipe_argument_exception",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var InvalidPipeArgumentException=function(_super){__extends(InvalidPipeArgumentException,_super);function InvalidPipeArgumentException(type,value){_super.call(this,"Invalid argument '"+value+"' for pipe '"+lang_1.stringify(type)+"'")}return InvalidPipeArgumentException}(exceptions_1.BaseException);exports.InvalidPipeArgumentException=InvalidPipeArgumentException;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/uppercase_pipe",["angular2/src/facade/lang","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var UpperCasePipe=function(){function UpperCasePipe(){}UpperCasePipe.prototype.transform=function(value,args){if(args===void 0){args=null}if(lang_1.isBlank(value))return value;if(!lang_1.isString(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(UpperCasePipe,value)}return value.toUpperCase()};UpperCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"uppercase"}),core_1.Injectable(),__metadata("design:paramtypes",[])],UpperCasePipe);return UpperCasePipe}();exports.UpperCasePipe=UpperCasePipe;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/lowercase_pipe",["angular2/src/facade/lang","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var LowerCasePipe=function(){function LowerCasePipe(){}LowerCasePipe.prototype.transform=function(value,args){if(args===void 0){args=null}if(lang_1.isBlank(value))return value;if(!lang_1.isString(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(LowerCasePipe,value)}return value.toLowerCase()};LowerCasePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"lowercase"}),core_1.Injectable(),__metadata("design:paramtypes",[])],LowerCasePipe);return LowerCasePipe}();exports.LowerCasePipe=LowerCasePipe;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/json_pipe",["angular2/src/facade/lang","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var JsonPipe=function(){function JsonPipe(){}JsonPipe.prototype.transform=function(value,args){if(args===void 0){args=null}return lang_1.Json.stringify(value)};JsonPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"json",pure:false}),core_1.Injectable(),__metadata("design:paramtypes",[])],JsonPipe);return JsonPipe}();exports.JsonPipe=JsonPipe;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/slice_pipe",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var SlicePipe=function(){function SlicePipe(){}SlicePipe.prototype.transform=function(value,args){if(args===void 0){args=null}if(lang_1.isBlank(args)||args.length==0){throw new exceptions_1.BaseException("Slice pipe requires one argument")}if(!this.supports(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(SlicePipe,value)}if(lang_1.isBlank(value))return value;var start=args[0];var end=args.length>1?args[1]:null;if(lang_1.isString(value)){return lang_1.StringWrapper.slice(value,start,end)}return collection_1.ListWrapper.slice(value,start,end)};SlicePipe.prototype.supports=function(obj){return lang_1.isString(obj)||lang_1.isArray(obj)};SlicePipe=__decorate([core_1.Pipe({name:"slice",pure:false}),core_1.Injectable(),__metadata("design:paramtypes",[])],SlicePipe);return SlicePipe}();exports.SlicePipe=SlicePipe;global.define=__define;return module.exports});System.register("angular2/src/facade/intl",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(NumberFormatStyle){NumberFormatStyle[NumberFormatStyle["Decimal"]=0]="Decimal";NumberFormatStyle[NumberFormatStyle["Percent"]=1]="Percent";NumberFormatStyle[NumberFormatStyle["Currency"]=2]="Currency"})(exports.NumberFormatStyle||(exports.NumberFormatStyle={}));var NumberFormatStyle=exports.NumberFormatStyle;var NumberFormatter=function(){function NumberFormatter(){}NumberFormatter.format=function(num,locale,style,_a){var _b=_a===void 0?{}:_a,_c=_b.minimumIntegerDigits,minimumIntegerDigits=_c===void 0?1:_c,_d=_b.minimumFractionDigits,minimumFractionDigits=_d===void 0?0:_d,_e=_b.maximumFractionDigits,maximumFractionDigits=_e===void 0?3:_e,currency=_b.currency,_f=_b.currencyAsSymbol,currencyAsSymbol=_f===void 0?false:_f;var intlOptions={minimumIntegerDigits:minimumIntegerDigits,minimumFractionDigits:minimumFractionDigits,maximumFractionDigits:maximumFractionDigits};intlOptions.style=NumberFormatStyle[style].toLowerCase();if(style==NumberFormatStyle.Currency){intlOptions.currency=currency;intlOptions.currencyDisplay=currencyAsSymbol?"symbol":"code"}return new Intl.NumberFormat(locale,intlOptions).format(num)};return NumberFormatter}();exports.NumberFormatter=NumberFormatter;function digitCondition(len){return len==2?"2-digit":"numeric"}function nameCondition(len){return len<4?"short":"long"}function extractComponents(pattern){var ret={};var i=0,j;while(i<pattern.length){j=i;while(j<pattern.length&&pattern[j]==pattern[i])j++;var len=j-i;switch(pattern[i]){case"G":ret.era=nameCondition(len);break;case"y":ret.year=digitCondition(len);break;case"M":if(len>=3)ret.month=nameCondition(len);else ret.month=digitCondition(len);break;case"d":ret.day=digitCondition(len);break;case"E":ret.weekday=nameCondition(len);break;case"j":ret.hour=digitCondition(len);break;case"h":ret.hour=digitCondition(len);ret.hour12=true;break;case"H":ret.hour=digitCondition(len);ret.hour12=false;break;case"m":ret.minute=digitCondition(len);break;case"s":ret.second=digitCondition(len);break;case"z":ret.timeZoneName="long";break;case"Z":ret.timeZoneName="short";break}i=j}return ret}var dateFormatterCache=new Map;var DateFormatter=function(){function DateFormatter(){}DateFormatter.format=function(date,locale,pattern){var key=locale+pattern;if(dateFormatterCache.has(key)){return dateFormatterCache.get(key).format(date)}var formatter=new Intl.DateTimeFormat(locale,extractComponents(pattern));dateFormatterCache.set(key,formatter);return formatter.format(date)};return DateFormatter}();exports.DateFormatter=DateFormatter;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/number_pipe",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/intl","angular2/core","angular2/src/facade/collection","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var intl_1=require("angular2/src/facade/intl");var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var defaultLocale="en-US";var _re=lang_1.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$");var NumberPipe=function(){function NumberPipe(){}NumberPipe._format=function(value,style,digits,currency,currencyAsSymbol){if(currency===void 0){currency=null}if(currencyAsSymbol===void 0){currencyAsSymbol=false}if(lang_1.isBlank(value))return null;if(!lang_1.isNumber(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(NumberPipe,value)}var minInt=1,minFraction=0,maxFraction=3;if(lang_1.isPresent(digits)){var parts=lang_1.RegExpWrapper.firstMatch(_re,digits);if(lang_1.isBlank(parts)){throw new exceptions_1.BaseException(digits+" is not a valid digit info for number pipes")}if(lang_1.isPresent(parts[1])){minInt=lang_1.NumberWrapper.parseIntAutoRadix(parts[1])}if(lang_1.isPresent(parts[3])){minFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[3])}if(lang_1.isPresent(parts[5])){maxFraction=lang_1.NumberWrapper.parseIntAutoRadix(parts[5])}}return intl_1.NumberFormatter.format(value,defaultLocale,style,{minimumIntegerDigits:minInt,minimumFractionDigits:minFraction,maximumFractionDigits:maxFraction,currency:currency,currencyAsSymbol:currencyAsSymbol})};NumberPipe=__decorate([lang_1.CONST(),core_1.Injectable(),__metadata("design:paramtypes",[])],NumberPipe);return NumberPipe}();exports.NumberPipe=NumberPipe;var DecimalPipe=function(_super){__extends(DecimalPipe,_super);function DecimalPipe(){_super.apply(this,arguments)}DecimalPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Decimal,digits)};DecimalPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"number"}),core_1.Injectable(),__metadata("design:paramtypes",[])],DecimalPipe);return DecimalPipe}(NumberPipe);exports.DecimalPipe=DecimalPipe;var PercentPipe=function(_super){__extends(PercentPipe,_super);function PercentPipe(){_super.apply(this,arguments)}PercentPipe.prototype.transform=function(value,args){var digits=collection_1.ListWrapper.first(args);return NumberPipe._format(value,intl_1.NumberFormatStyle.Percent,digits)};PercentPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"percent"}),core_1.Injectable(),__metadata("design:paramtypes",[])],PercentPipe);return PercentPipe}(NumberPipe);exports.PercentPipe=PercentPipe;var CurrencyPipe=function(_super){__extends(CurrencyPipe,_super);function CurrencyPipe(){_super.apply(this,arguments)}CurrencyPipe.prototype.transform=function(value,args){var currencyCode=lang_1.isPresent(args)&&args.length>0?args[0]:"USD";var symbolDisplay=lang_1.isPresent(args)&&args.length>1?args[1]:false;var digits=lang_1.isPresent(args)&&args.length>2?args[2]:null;return NumberPipe._format(value,intl_1.NumberFormatStyle.Currency,digits,currencyCode,symbolDisplay)};CurrencyPipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"currency"}),core_1.Injectable(),__metadata("design:paramtypes",[])],CurrencyPipe);return CurrencyPipe}(NumberPipe);exports.CurrencyPipe=CurrencyPipe;global.define=__define;return module.exports});System.register("angular2/src/common/directives/ng_class",["angular2/src/facade/lang","angular2/core","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var NgClass=function(){function NgClass(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers;this._keyValueDiffers=_keyValueDiffers;this._ngEl=_ngEl;this._renderer=_renderer;this._initialClasses=[]}Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(v){this._applyInitialClasses(true);this._initialClasses=lang_1.isPresent(v)&&lang_1.isString(v)?v.split(" "):[];this._applyInitialClasses(false);this._applyClasses(this._rawClass,false)},enumerable:true,configurable:true});Object.defineProperty(NgClass.prototype,"rawClass",{set:function(v){this._cleanupClasses(this._rawClass);if(lang_1.isString(v)){v=v.split(" ")}this._rawClass=v;if(lang_1.isPresent(v)){if(collection_1.isListLikeIterable(v)){this._differ=this._iterableDiffers.find(v).create(null);this._mode="iterable"}else{this._differ=this._keyValueDiffers.find(v).create(null);this._mode="keyValue"}}else{this._differ=null}},enumerable:true,configurable:true});NgClass.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._rawClass);if(lang_1.isPresent(changes)){if(this._mode=="iterable"){this._applyIterableChanges(changes)}else{this._applyKeyValueChanges(changes)}}}};NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)};NgClass.prototype._cleanupClasses=function(rawClassVal){this._applyClasses(rawClassVal,true);this._applyInitialClasses(false)};NgClass.prototype._applyKeyValueChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.key,record.currentValue)});changes.forEachChangedItem(function(record){_this._toggleClass(record.key,record.currentValue)});changes.forEachRemovedItem(function(record){if(record.previousValue){_this._toggleClass(record.key,false)}})};NgClass.prototype._applyIterableChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._toggleClass(record.item,true)});changes.forEachRemovedItem(function(record){_this._toggleClass(record.item,false)})};NgClass.prototype._applyInitialClasses=function(isCleanup){var _this=this;this._initialClasses.forEach(function(className){return _this._toggleClass(className,!isCleanup)})};NgClass.prototype._applyClasses=function(rawClassVal,isCleanup){var _this=this;if(lang_1.isPresent(rawClassVal)){if(lang_1.isArray(rawClassVal)){rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)})}else if(rawClassVal instanceof Set){rawClassVal.forEach(function(className){return _this._toggleClass(className,!isCleanup)})}else{collection_1.StringMapWrapper.forEach(rawClassVal,function(expVal,className){if(expVal)_this._toggleClass(className,!isCleanup)})}}};NgClass.prototype._toggleClass=function(className,enabled){className=className.trim();if(className.length>0){if(className.indexOf(" ")>-1){var classes=className.split(/\s+/g);for(var i=0,len=classes.length;i<len;i++){this._renderer.setElementClass(this._ngEl.nativeElement,classes[i],enabled)}}else{this._renderer.setElementClass(this._ngEl.nativeElement,className,enabled)}}};NgClass=__decorate([core_1.Directive({selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}),__metadata("design:paramtypes",[core_1.IterableDiffers,core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgClass);return NgClass}();exports.NgClass=NgClass;global.define=__define;return module.exports});System.register("angular2/src/common/directives/ng_for",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var NgFor=function(){function NgFor(_viewContainer,_templateRef,_iterableDiffers,_cdr){this._viewContainer=_viewContainer;this._templateRef=_templateRef;this._iterableDiffers=_iterableDiffers;this._cdr=_cdr}Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(value){this._ngForOf=value;if(lang_1.isBlank(this._differ)&&lang_1.isPresent(value)){this._differ=this._iterableDiffers.find(value).create(this._cdr,this._ngForTrackBy)}},enumerable:true,configurable:true});Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(value){if(lang_1.isPresent(value)){this._templateRef=value}},enumerable:true,configurable:true});Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(value){this._ngForTrackBy=value},enumerable:true,configurable:true});NgFor.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._ngForOf);if(lang_1.isPresent(changes))this._applyChanges(changes)}};NgFor.prototype._applyChanges=function(changes){var recordViewTuples=[];changes.forEachRemovedItem(function(removedRecord){return recordViewTuples.push(new RecordViewTuple(removedRecord,null))});changes.forEachMovedItem(function(movedRecord){return recordViewTuples.push(new RecordViewTuple(movedRecord,null))});var insertTuples=this._bulkRemove(recordViewTuples);changes.forEachAddedItem(function(addedRecord){return insertTuples.push(new RecordViewTuple(addedRecord,null))});this._bulkInsert(insertTuples);for(var i=0;i<insertTuples.length;i++){this._perViewChange(insertTuples[i].view,insertTuples[i].record)}for(var i=0,ilen=this._viewContainer.length;i<ilen;i++){var viewRef=this._viewContainer.get(i);viewRef.setLocal("last",i===ilen-1)}};NgFor.prototype._perViewChange=function(view,record){view.setLocal("$implicit",record.item);view.setLocal("index",record.currentIndex);view.setLocal("even",record.currentIndex%2==0);view.setLocal("odd",record.currentIndex%2==1)};NgFor.prototype._bulkRemove=function(tuples){tuples.sort(function(a,b){return a.record.previousIndex-b.record.previousIndex});var movedTuples=[];for(var i=tuples.length-1;i>=0;i--){var tuple=tuples[i];if(lang_1.isPresent(tuple.record.currentIndex)){tuple.view=this._viewContainer.detach(tuple.record.previousIndex);movedTuples.push(tuple)}else{this._viewContainer.remove(tuple.record.previousIndex)}}return movedTuples};NgFor.prototype._bulkInsert=function(tuples){tuples.sort(function(a,b){return a.record.currentIndex-b.record.currentIndex});for(var i=0;i<tuples.length;i++){var tuple=tuples[i];if(lang_1.isPresent(tuple.view)){this._viewContainer.insert(tuple.view,tuple.record.currentIndex)}else{tuple.view=this._viewContainer.createEmbeddedView(this._templateRef,tuple.record.currentIndex)}}return tuples};NgFor=__decorate([core_1.Directive({selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,core_1.IterableDiffers,core_1.ChangeDetectorRef])],NgFor);return NgFor}();exports.NgFor=NgFor;var RecordViewTuple=function(){function RecordViewTuple(record,view){this.record=record;this.view=view}return RecordViewTuple}();global.define=__define;return module.exports});System.register("angular2/src/common/directives/ng_if",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var NgIf=function(){function NgIf(_viewContainer,_templateRef){this._viewContainer=_viewContainer;this._templateRef=_templateRef;this._prevCondition=null}Object.defineProperty(NgIf.prototype,"ngIf",{set:function(newCondition){if(newCondition&&(lang_1.isBlank(this._prevCondition)||!this._prevCondition)){this._prevCondition=true;this._viewContainer.createEmbeddedView(this._templateRef)}else if(!newCondition&&(lang_1.isBlank(this._prevCondition)||this._prevCondition)){this._prevCondition=false;this._viewContainer.clear()}},enumerable:true,configurable:true});NgIf=__decorate([core_1.Directive({selector:"[ngIf]",inputs:["ngIf"]}),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef])],NgIf);return NgIf}();exports.NgIf=NgIf;global.define=__define;return module.exports});System.register("angular2/src/common/directives/ng_style",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var NgStyle=function(){function NgStyle(_differs,_ngEl,_renderer){this._differs=_differs;this._ngEl=_ngEl;this._renderer=_renderer}Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(v){this._rawStyle=v;if(lang_1.isBlank(this._differ)&&lang_1.isPresent(v)){this._differ=this._differs.find(this._rawStyle).create(null)}},enumerable:true,configurable:true});NgStyle.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var changes=this._differ.diff(this._rawStyle);if(lang_1.isPresent(changes)){this._applyChanges(changes)}}};NgStyle.prototype._applyChanges=function(changes){var _this=this;changes.forEachAddedItem(function(record){_this._setStyle(record.key,record.currentValue)});changes.forEachChangedItem(function(record){_this._setStyle(record.key,record.currentValue)});changes.forEachRemovedItem(function(record){_this._setStyle(record.key,null)})};NgStyle.prototype._setStyle=function(name,val){this._renderer.setElementStyle(this._ngEl.nativeElement,name,val)};NgStyle=__decorate([core_1.Directive({selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}),__metadata("design:paramtypes",[core_1.KeyValueDiffers,core_1.ElementRef,core_1.Renderer])],NgStyle);return NgStyle}();exports.NgStyle=NgStyle;global.define=__define;return module.exports});System.register("angular2/src/common/directives/ng_switch",["angular2/core","angular2/src/facade/lang","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v);
};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var _WHEN_DEFAULT=lang_1.CONST_EXPR(new Object);var SwitchView=function(){function SwitchView(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef;this._templateRef=_templateRef}SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)};SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()};return SwitchView}();exports.SwitchView=SwitchView;var NgSwitch=function(){function NgSwitch(){this._useDefault=false;this._valueViews=new collection_1.Map;this._activeViews=[]}Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(value){this._emptyAllActiveViews();this._useDefault=false;var views=this._valueViews.get(value);if(lang_1.isBlank(views)){this._useDefault=true;views=lang_1.normalizeBlank(this._valueViews.get(_WHEN_DEFAULT))}this._activateViews(views);this._switchValue=value},enumerable:true,configurable:true});NgSwitch.prototype._onWhenValueChanged=function(oldWhen,newWhen,view){this._deregisterView(oldWhen,view);this._registerView(newWhen,view);if(oldWhen===this._switchValue){view.destroy();collection_1.ListWrapper.remove(this._activeViews,view)}else if(newWhen===this._switchValue){if(this._useDefault){this._useDefault=false;this._emptyAllActiveViews()}view.create();this._activeViews.push(view)}if(this._activeViews.length===0&&!this._useDefault){this._useDefault=true;this._activateViews(this._valueViews.get(_WHEN_DEFAULT))}};NgSwitch.prototype._emptyAllActiveViews=function(){var activeContainers=this._activeViews;for(var i=0;i<activeContainers.length;i++){activeContainers[i].destroy()}this._activeViews=[]};NgSwitch.prototype._activateViews=function(views){if(lang_1.isPresent(views)){for(var i=0;i<views.length;i++){views[i].create()}this._activeViews=views}};NgSwitch.prototype._registerView=function(value,view){var views=this._valueViews.get(value);if(lang_1.isBlank(views)){views=[];this._valueViews.set(value,views)}views.push(view)};NgSwitch.prototype._deregisterView=function(value,view){if(value===_WHEN_DEFAULT)return;var views=this._valueViews.get(value);if(views.length==1){this._valueViews.delete(value)}else{collection_1.ListWrapper.remove(views,view)}};NgSwitch=__decorate([core_1.Directive({selector:"[ngSwitch]",inputs:["ngSwitch"]}),__metadata("design:paramtypes",[])],NgSwitch);return NgSwitch}();exports.NgSwitch=NgSwitch;var NgSwitchWhen=function(){function NgSwitchWhen(viewContainer,templateRef,ngSwitch){this._value=_WHEN_DEFAULT;this._switch=ngSwitch;this._view=new SwitchView(viewContainer,templateRef)}Object.defineProperty(NgSwitchWhen.prototype,"ngSwitchWhen",{set:function(value){this._switch._onWhenValueChanged(this._value,value,this._view);this._value=value},enumerable:true,configurable:true});NgSwitchWhen=__decorate([core_1.Directive({selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchWhen);return NgSwitchWhen}();exports.NgSwitchWhen=NgSwitchWhen;var NgSwitchDefault=function(){function NgSwitchDefault(viewContainer,templateRef,sswitch){sswitch._registerView(_WHEN_DEFAULT,new SwitchView(viewContainer,templateRef))}NgSwitchDefault=__decorate([core_1.Directive({selector:"[ngSwitchDefault]"}),__param(2,core_1.Host()),__metadata("design:paramtypes",[core_1.ViewContainerRef,core_1.TemplateRef,NgSwitch])],NgSwitchDefault);return NgSwitchDefault}();exports.NgSwitchDefault=NgSwitchDefault;global.define=__define;return module.exports});System.register("angular2/src/common/directives/observable_list_diff",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;global.define=__define;return module.exports});System.register("angular2/src/common/directives/core_directives",["angular2/src/facade/lang","angular2/src/common/directives/ng_class","angular2/src/common/directives/ng_for","angular2/src/common/directives/ng_if","angular2/src/common/directives/ng_style","angular2/src/common/directives/ng_switch"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var ng_class_1=require("angular2/src/common/directives/ng_class");var ng_for_1=require("angular2/src/common/directives/ng_for");var ng_if_1=require("angular2/src/common/directives/ng_if");var ng_style_1=require("angular2/src/common/directives/ng_style");var ng_switch_1=require("angular2/src/common/directives/ng_switch");exports.CORE_DIRECTIVES=lang_1.CONST_EXPR([ng_class_1.NgClass,ng_for_1.NgFor,ng_if_1.NgIf,ng_style_1.NgStyle,ng_switch_1.NgSwitch,ng_switch_1.NgSwitchWhen,ng_switch_1.NgSwitchDefault]);global.define=__define;return module.exports});System.register("angular2/src/common/forms/model",["angular2/src/facade/lang","angular2/src/facade/async","angular2/src/facade/promise","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var promise_1=require("angular2/src/facade/promise");var collection_1=require("angular2/src/facade/collection");exports.VALID="VALID";exports.INVALID="INVALID";exports.PENDING="PENDING";function isControl(control){return control instanceof AbstractControl}exports.isControl=isControl;function _find(control,path){if(lang_1.isBlank(path))return null;if(!(path instanceof Array)){path=path.split("/")}if(path instanceof Array&&collection_1.ListWrapper.isEmpty(path))return null;return path.reduce(function(v,name){if(v instanceof ControlGroup){return lang_1.isPresent(v.controls[name])?v.controls[name]:null}else if(v instanceof ControlArray){var index=name;return lang_1.isPresent(v.at(index))?v.at(index):null}else{return null}},control)}function toObservable(r){return promise_1.PromiseWrapper.isPromise(r)?async_1.ObservableWrapper.fromPromise(r):r}var AbstractControl=function(){function AbstractControl(validator,asyncValidator){this.validator=validator;this.asyncValidator=asyncValidator;this._pristine=true;this._touched=false}Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===exports.VALID},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:true,configurable:true});Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==exports.PENDING},enumerable:true,configurable:true});AbstractControl.prototype.markAsTouched=function(){this._touched=true};AbstractControl.prototype.markAsDirty=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf);this._pristine=false;if(lang_1.isPresent(this._parent)&&!onlySelf){this._parent.markAsDirty({onlySelf:onlySelf})}};AbstractControl.prototype.markAsPending=function(_a){var onlySelf=(_a===void 0?{}:_a).onlySelf;onlySelf=lang_1.normalizeBool(onlySelf);this._status=exports.PENDING;if(lang_1.isPresent(this._parent)&&!onlySelf){this._parent.markAsPending({onlySelf:onlySelf})}};AbstractControl.prototype.setParent=function(parent){this._parent=parent};AbstractControl.prototype.updateValueAndValidity=function(_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent;onlySelf=lang_1.normalizeBool(onlySelf);emitEvent=lang_1.isPresent(emitEvent)?emitEvent:true;this._updateValue();this._errors=this._runValidator();this._status=this._calculateStatus();if(this._status==exports.VALID||this._status==exports.PENDING){this._runAsyncValidator(emitEvent)}if(emitEvent){async_1.ObservableWrapper.callEmit(this._valueChanges,this._value);async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)}if(lang_1.isPresent(this._parent)&&!onlySelf){this._parent.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})}};AbstractControl.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null};AbstractControl.prototype._runAsyncValidator=function(emitEvent){var _this=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING;this._cancelExistingSubscription();var obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(obs,function(res){return _this.setErrors(res,{emitEvent:emitEvent})})}};AbstractControl.prototype._cancelExistingSubscription=function(){if(lang_1.isPresent(this._asyncValidationSubscription)){async_1.ObservableWrapper.dispose(this._asyncValidationSubscription)}};AbstractControl.prototype.setErrors=function(errors,_a){var emitEvent=(_a===void 0?{}:_a).emitEvent;emitEvent=lang_1.isPresent(emitEvent)?emitEvent:true;this._errors=errors;this._status=this._calculateStatus();if(emitEvent){async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)}if(lang_1.isPresent(this._parent)){this._parent._updateControlsErrors()}};AbstractControl.prototype.find=function(path){return _find(this,path)};AbstractControl.prototype.getError=function(errorCode,path){if(path===void 0){path=null}var control=lang_1.isPresent(path)&&!collection_1.ListWrapper.isEmpty(path)?this.find(path):this;if(lang_1.isPresent(control)&&lang_1.isPresent(control._errors)){return collection_1.StringMapWrapper.get(control._errors,errorCode)}else{return null}};AbstractControl.prototype.hasError=function(errorCode,path){if(path===void 0){path=null}return lang_1.isPresent(this.getError(errorCode,path))};AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus();if(lang_1.isPresent(this._parent)){this._parent._updateControlsErrors()}};AbstractControl.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter;this._statusChanges=new async_1.EventEmitter};AbstractControl.prototype._calculateStatus=function(){if(lang_1.isPresent(this._errors))return exports.INVALID;if(this._anyControlsHaveStatus(exports.PENDING))return exports.PENDING;if(this._anyControlsHaveStatus(exports.INVALID))return exports.INVALID;return exports.VALID};return AbstractControl}();exports.AbstractControl=AbstractControl;var Control=function(_super){__extends(Control,_super);function Control(value,validator,asyncValidator){if(value===void 0){value=null}if(validator===void 0){validator=null}if(asyncValidator===void 0){asyncValidator=null}_super.call(this,validator,asyncValidator);this._value=value;this.updateValueAndValidity({onlySelf:true,emitEvent:false});this._initObservables()}Control.prototype.updateValue=function(value,_a){var _b=_a===void 0?{}:_a,onlySelf=_b.onlySelf,emitEvent=_b.emitEvent,emitModelToViewChange=_b.emitModelToViewChange;emitModelToViewChange=lang_1.isPresent(emitModelToViewChange)?emitModelToViewChange:true;this._value=value;if(lang_1.isPresent(this._onChange)&&emitModelToViewChange)this._onChange(this._value);this.updateValueAndValidity({onlySelf:onlySelf,emitEvent:emitEvent})};Control.prototype._updateValue=function(){};Control.prototype._anyControlsHaveStatus=function(status){return false};Control.prototype.registerOnChange=function(fn){this._onChange=fn};return Control}(AbstractControl);exports.Control=Control;var ControlGroup=function(_super){__extends(ControlGroup,_super);function ControlGroup(controls,optionals,validator,asyncValidator){if(optionals===void 0){optionals=null}if(validator===void 0){validator=null}if(asyncValidator===void 0){asyncValidator=null}_super.call(this,validator,asyncValidator);this.controls=controls;this._optionals=lang_1.isPresent(optionals)?optionals:{};this._initObservables();this._setParentForControls();this.updateValueAndValidity({onlySelf:true,emitEvent:false})}ControlGroup.prototype.addControl=function(name,control){this.controls[name]=control;control.setParent(this)};ControlGroup.prototype.removeControl=function(name){collection_1.StringMapWrapper.delete(this.controls,name)};ControlGroup.prototype.include=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,true);this.updateValueAndValidity()};ControlGroup.prototype.exclude=function(controlName){collection_1.StringMapWrapper.set(this._optionals,controlName,false);this.updateValueAndValidity()};ControlGroup.prototype.contains=function(controlName){var c=collection_1.StringMapWrapper.contains(this.controls,controlName);return c&&this._included(controlName)};ControlGroup.prototype._setParentForControls=function(){var _this=this;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){control.setParent(_this)})};ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue()};ControlGroup.prototype._anyControlsHaveStatus=function(status){var _this=this;var res=false;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){res=res||_this.contains(name)&&control.status==status});return res};ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(acc,control,name){acc[name]=control.value;return acc})};ControlGroup.prototype._reduceChildren=function(initValue,fn){var _this=this;var res=initValue;collection_1.StringMapWrapper.forEach(this.controls,function(control,name){if(_this._included(name)){res=fn(res,control,name)}});return res};ControlGroup.prototype._included=function(controlName){var isOptional=collection_1.StringMapWrapper.contains(this._optionals,controlName);return!isOptional||collection_1.StringMapWrapper.get(this._optionals,controlName)};return ControlGroup}(AbstractControl);exports.ControlGroup=ControlGroup;var ControlArray=function(_super){__extends(ControlArray,_super);function ControlArray(controls,validator,asyncValidator){if(validator===void 0){validator=null}if(asyncValidator===void 0){asyncValidator=null}_super.call(this,validator,asyncValidator);this.controls=controls;this._initObservables();this._setParentForControls();this.updateValueAndValidity({onlySelf:true,emitEvent:false})}ControlArray.prototype.at=function(index){return this.controls[index]};ControlArray.prototype.push=function(control){this.controls.push(control);control.setParent(this);this.updateValueAndValidity()};ControlArray.prototype.insert=function(index,control){collection_1.ListWrapper.insert(this.controls,index,control);control.setParent(this);this.updateValueAndValidity()};ControlArray.prototype.removeAt=function(index){collection_1.ListWrapper.removeAt(this.controls,index);this.updateValueAndValidity()};Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length},enumerable:true,configurable:true});ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(control){return control.value})};ControlArray.prototype._anyControlsHaveStatus=function(status){return this.controls.some(function(c){return c.status==status})};ControlArray.prototype._setParentForControls=function(){var _this=this;this.controls.forEach(function(control){control.setParent(_this)})};return ControlArray}(AbstractControl);exports.ControlArray=ControlArray;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/abstract_control_directive",["angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var AbstractControlDirective=function(){function AbstractControlDirective(){}Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null},enumerable:true,configurable:true});Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:true,configurable:true});return AbstractControlDirective}();exports.AbstractControlDirective=AbstractControlDirective;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/control_container",["angular2/src/common/forms/directives/abstract_control_directive"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var abstract_control_directive_1=require("angular2/src/common/forms/directives/abstract_control_directive");var ControlContainer=function(_super){__extends(ControlContainer,_super);function ControlContainer(){_super.apply(this,arguments)}Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:true,configurable:true});Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:true,configurable:true});return ControlContainer}(abstract_control_directive_1.AbstractControlDirective);exports.ControlContainer=ControlContainer;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_control",["angular2/src/common/forms/directives/abstract_control_directive","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var abstract_control_directive_1=require("angular2/src/common/forms/directives/abstract_control_directive");var exceptions_1=require("angular2/src/facade/exceptions");var NgControl=function(_super){__extends(NgControl,_super);function NgControl(){_super.apply(this,arguments);this.name=null;this.valueAccessor=null}Object.defineProperty(NgControl.prototype,"validator",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return NgControl}(abstract_control_directive_1.AbstractControlDirective);exports.NgControl=NgControl;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/control_value_accessor",["angular2/core","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");exports.NG_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValueAccessor"));global.define=__define;return module.exports});System.register("angular2/src/common/forms/validators",["angular2/src/facade/lang","angular2/src/facade/promise","angular2/src/facade/async","angular2/src/facade/collection","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var promise_1=require("angular2/src/facade/promise");var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var core_1=require("angular2/core");exports.NG_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgValidators"));exports.NG_ASYNC_VALIDATORS=lang_1.CONST_EXPR(new core_1.OpaqueToken("NgAsyncValidators"));var Validators=function(){function Validators(){}Validators.required=function(control){return lang_1.isBlank(control.value)||control.value==""?{required:true}:null};Validators.minLength=function(minLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length<minLength?{minlength:{requiredLength:minLength,actualLength:v.length}}:null}};Validators.maxLength=function(maxLength){return function(control){if(lang_1.isPresent(Validators.required(control)))return null;var v=control.value;return v.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:v.length}}:null}};Validators.nullValidator=function(c){return null};Validators.compose=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);if(presentValidators.length==0)return null;return function(control){return _mergeErrors(_executeValidators(control,presentValidators))}};Validators.composeAsync=function(validators){if(lang_1.isBlank(validators))return null;var presentValidators=validators.filter(lang_1.isPresent);if(presentValidators.length==0)return null;return function(control){var promises=_executeValidators(control,presentValidators).map(_convertToPromise);return promise_1.PromiseWrapper.all(promises).then(_mergeErrors)}};return Validators}();exports.Validators=Validators;function _convertToPromise(obj){return promise_1.PromiseWrapper.isPromise(obj)?obj:async_1.ObservableWrapper.toPromise(obj)}function _executeValidators(control,validators){return validators.map(function(v){return v(control)})}function _mergeErrors(arrayOfErrors){var res=arrayOfErrors.reduce(function(res,errors){return lang_1.isPresent(errors)?collection_1.StringMapWrapper.merge(res,errors):res},{});return collection_1.StringMapWrapper.isEmpty(res)?null:res}global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/default_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var DEFAULT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return DefaultValueAccessor}),multi:true}));var DefaultValueAccessor=function(){function DefaultValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){}}DefaultValueAccessor.prototype.writeValue=function(value){var normalizedValue=lang_1.isBlank(value)?"":value;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",normalizedValue)};DefaultValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn};DefaultValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn};DefaultValueAccessor=__decorate([core_1.Directive({selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[DEFAULT_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],DefaultValueAccessor);return DefaultValueAccessor}();exports.DefaultValueAccessor=DefaultValueAccessor;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/number_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var NUMBER_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return NumberValueAccessor}),multi:true}));var NumberValueAccessor=function(){function NumberValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){}}NumberValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)};NumberValueAccessor.prototype.registerOnChange=function(fn){this.onChange=function(value){fn(lang_1.NumberWrapper.parseFloat(value))}};NumberValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn};NumberValueAccessor=__decorate([core_1.Directive({selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[NUMBER_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],NumberValueAccessor);return NumberValueAccessor}();exports.NumberValueAccessor=NumberValueAccessor;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/checkbox_value_accessor",["angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var CHECKBOX_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor}),multi:true}));var CheckboxControlValueAccessor=function(){function CheckboxControlValueAccessor(_renderer,_elementRef){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){}}CheckboxControlValueAccessor.prototype.writeValue=function(value){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",value)};CheckboxControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn};CheckboxControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn};CheckboxControlValueAccessor=__decorate([core_1.Directive({selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},bindings:[CHECKBOX_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef])],CheckboxControlValueAccessor);return CheckboxControlValueAccessor}();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/select_control_value_accessor",["angular2/core","angular2/src/facade/async","angular2/src/common/forms/directives/control_value_accessor","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;
return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var core_1=require("angular2/core");var async_1=require("angular2/src/facade/async");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var lang_1=require("angular2/src/facade/lang");var SELECT_VALUE_ACCESSOR=lang_1.CONST_EXPR(new core_1.Provider(control_value_accessor_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor}),multi:true}));var NgSelectOption=function(){function NgSelectOption(){}NgSelectOption=__decorate([core_1.Directive({selector:"option"}),__metadata("design:paramtypes",[])],NgSelectOption);return NgSelectOption}();exports.NgSelectOption=NgSelectOption;var SelectControlValueAccessor=function(){function SelectControlValueAccessor(_renderer,_elementRef,query){this._renderer=_renderer;this._elementRef=_elementRef;this.onChange=function(_){};this.onTouched=function(){};this._updateValueWhenListOfOptionsChanges(query)}SelectControlValueAccessor.prototype.writeValue=function(value){this.value=value;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",value)};SelectControlValueAccessor.prototype.registerOnChange=function(fn){this.onChange=fn};SelectControlValueAccessor.prototype.registerOnTouched=function(fn){this.onTouched=fn};SelectControlValueAccessor.prototype._updateValueWhenListOfOptionsChanges=function(query){var _this=this;async_1.ObservableWrapper.subscribe(query.changes,function(_){return _this.writeValue(_this.value)})};SelectControlValueAccessor=__decorate([core_1.Directive({selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[SELECT_VALUE_ACCESSOR]}),__param(2,core_1.Query(NgSelectOption,{descendants:true})),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,core_1.QueryList])],SelectControlValueAccessor);return SelectControlValueAccessor}();exports.SelectControlValueAccessor=SelectControlValueAccessor;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/normalize_validator",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function normalizeValidator(validator){if(validator.validate!==undefined){return function(c){return validator.validate(c)}}else{return validator}}exports.normalizeValidator=normalizeValidator;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_form_control",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/validators","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/shared"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var validators_1=require("angular2/src/common/forms/validators");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var shared_1=require("angular2/src/common/forms/directives/shared");var formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgFormControl})}));var NgFormControl=function(_super){__extends(NgFormControl,_super);function NgFormControl(_validators,_asyncValidators,valueAccessors){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this.update=new async_1.EventEmitter;this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}NgFormControl.prototype.ngOnChanges=function(changes){if(this._isControlChanged(changes)){shared_1.setUpControl(this.form,this);this.form.updateValueAndValidity({emitEvent:false})}if(shared_1.isPropertyUpdated(changes,this.viewModel)){this.form.updateValue(this.model);this.viewModel=this.model}};Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:true,configurable:true});Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:true,configurable:true});Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form},enumerable:true,configurable:true});NgFormControl.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;async_1.ObservableWrapper.callEmit(this.update,newValue)};NgFormControl.prototype._isControlChanged=function(changes){return collection_1.StringMapWrapper.contains(changes,"form")};NgFormControl=__decorate([core_1.Directive({selector:"[ngFormControl]",bindings:[formControlBinding],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[Array,Array,Array])],NgFormControl);return NgFormControl}(ng_control_1.NgControl);exports.NgFormControl=NgFormControl;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_model",["angular2/src/facade/lang","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/model","angular2/src/common/forms/validators","angular2/src/common/forms/directives/shared"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var model_1=require("angular2/src/common/forms/model");var validators_1=require("angular2/src/common/forms/validators");var shared_1=require("angular2/src/common/forms/directives/shared");var formControlBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgModel})}));var NgModel=function(_super){__extends(NgModel,_super);function NgModel(_validators,_asyncValidators,valueAccessors){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this._control=new model_1.Control;this._added=false;this.update=new async_1.EventEmitter;this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}NgModel.prototype.ngOnChanges=function(changes){if(!this._added){shared_1.setUpControl(this._control,this);this._control.updateValueAndValidity({emitEvent:false});this._added=true}if(shared_1.isPropertyUpdated(changes,this.viewModel)){this._control.updateValue(this.model);this.viewModel=this.model}};Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:true,configurable:true});Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:true,configurable:true});NgModel.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;async_1.ObservableWrapper.callEmit(this.update,newValue)};NgModel=__decorate([core_1.Directive({selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[formControlBinding],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[Array,Array,Array])],NgModel);return NgModel}(ng_control_1.NgControl);exports.NgModel=NgModel;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_control_group",["angular2/core","angular2/src/facade/lang","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var control_container_1=require("angular2/src/common/forms/directives/control_container");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var controlGroupProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgControlGroup})}));var NgControlGroup=function(_super){__extends(NgControlGroup,_super);function NgControlGroup(parent,_validators,_asyncValidators){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this._parent=parent}NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)};NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)};Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:true,configurable:true});Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:true,configurable:true});NgControlGroup=__decorate([core_1.Directive({selector:"[ngControlGroup]",providers:[controlGroupProvider],inputs:["name: ngControlGroup"],exportAs:"ngForm"}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[control_container_1.ControlContainer,Array,Array])],NgControlGroup);return NgControlGroup}(control_container_1.ControlContainer);exports.NgControlGroup=NgControlGroup;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_form_model",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var control_container_1=require("angular2/src/common/forms/directives/control_container");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgFormModel})}));var NgFormModel=function(_super){__extends(NgFormModel,_super);function NgFormModel(_validators,_asyncValidators){_super.call(this);this._validators=_validators;this._asyncValidators=_asyncValidators;this.form=null;this.directives=[];this.ngSubmit=new async_1.EventEmitter}NgFormModel.prototype.ngOnChanges=function(changes){if(collection_1.StringMapWrapper.contains(changes,"form")){var sync=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,sync]);var async=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,async]);this.form.updateValueAndValidity({onlySelf:true,emitEvent:false})}this._updateDomValue()};Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this},enumerable:true,configurable:true});Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form},enumerable:true,configurable:true});Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});NgFormModel.prototype.addControl=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControl(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false});this.directives.push(dir)};NgFormModel.prototype.getControl=function(dir){return this.form.find(dir.path)};NgFormModel.prototype.removeControl=function(dir){collection_1.ListWrapper.remove(this.directives,dir)};NgFormModel.prototype.addControlGroup=function(dir){var ctrl=this.form.find(dir.path);shared_1.setUpControlGroup(ctrl,dir);ctrl.updateValueAndValidity({emitEvent:false})};NgFormModel.prototype.removeControlGroup=function(dir){};NgFormModel.prototype.getControlGroup=function(dir){return this.form.find(dir.path)};NgFormModel.prototype.updateModel=function(dir,value){var ctrl=this.form.find(dir.path);ctrl.updateValue(value)};NgFormModel.prototype.onSubmit=function(){async_1.ObservableWrapper.callEmit(this.ngSubmit,null);return false};NgFormModel.prototype._updateDomValue=function(){var _this=this;this.directives.forEach(function(dir){var ctrl=_this.form.find(dir.path);dir.valueAccessor.writeValue(ctrl.value)})};NgFormModel=__decorate([core_1.Directive({selector:"[ngFormModel]",bindings:[formDirectiveProvider],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[Array,Array])],NgFormModel);return NgFormModel}(control_container_1.ControlContainer);exports.NgFormModel=NgFormModel;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_form",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/core","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/model","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var async_1=require("angular2/src/facade/async");var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var control_container_1=require("angular2/src/common/forms/directives/control_container");var model_1=require("angular2/src/common/forms/model");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var formDirectiveProvider=lang_1.CONST_EXPR(new core_1.Provider(control_container_1.ControlContainer,{useExisting:core_1.forwardRef(function(){return NgForm})}));var NgForm=function(_super){__extends(NgForm,_super);function NgForm(validators,asyncValidators){_super.call(this);this.ngSubmit=new async_1.EventEmitter;this.form=new model_1.ControlGroup({},null,shared_1.composeValidators(validators),shared_1.composeAsyncValidators(asyncValidators))}Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:true,configurable:true});Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:true,configurable:true});NgForm.prototype.addControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);var ctrl=new model_1.Control;shared_1.setUpControl(ctrl,dir);container.addControl(dir.name,ctrl);ctrl.updateValueAndValidity({emitEvent:false})})};NgForm.prototype.getControl=function(dir){return this.form.find(dir.path)};NgForm.prototype.removeControl=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);if(lang_1.isPresent(container)){container.removeControl(dir.name);container.updateValueAndValidity({emitEvent:false})}})};NgForm.prototype.addControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);var group=new model_1.ControlGroup({});shared_1.setUpControlGroup(group,dir);container.addControl(dir.name,group);group.updateValueAndValidity({emitEvent:false})})};NgForm.prototype.removeControlGroup=function(dir){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var container=_this._findContainer(dir.path);if(lang_1.isPresent(container)){container.removeControl(dir.name);container.updateValueAndValidity({emitEvent:false})}})};NgForm.prototype.getControlGroup=function(dir){return this.form.find(dir.path)};NgForm.prototype.updateModel=function(dir,value){var _this=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var ctrl=_this.form.find(dir.path);ctrl.updateValue(value)})};NgForm.prototype.onSubmit=function(){async_1.ObservableWrapper.callEmit(this.ngSubmit,null);return false};NgForm.prototype._findContainer=function(path){path.pop();return collection_1.ListWrapper.isEmpty(path)?this.form:this.form.find(path)};NgForm=__decorate([core_1.Directive({selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[formDirectiveProvider],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),__param(0,core_1.Optional()),__param(0,core_1.Self()),__param(0,core_1.Inject(validators_1.NG_VALIDATORS)),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__metadata("design:paramtypes",[Array,Array])],NgForm);return NgForm}(control_container_1.ControlContainer);exports.NgForm=NgForm;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_control_status",["angular2/core","angular2/src/common/forms/directives/ng_control","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var core_1=require("angular2/core");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var lang_1=require("angular2/src/facade/lang");var NgControlStatus=function(){function NgControlStatus(cd){this._cd=cd}Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.untouched:false},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.touched:false},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.pristine:false},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.dirty:false},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.valid:false},enumerable:true,configurable:true});Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return lang_1.isPresent(this._cd.control)?!this._cd.control.valid:false},enumerable:true,configurable:true});NgControlStatus=__decorate([core_1.Directive({selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),__param(0,core_1.Self()),__metadata("design:paramtypes",[ng_control_1.NgControl])],NgControlStatus);return NgControlStatus}();exports.NgControlStatus=NgControlStatus;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/validators",["angular2/core","angular2/src/facade/lang","angular2/src/common/forms/validators","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var core_1=require("angular2/core");var lang_1=require("angular2/src/facade/lang");var validators_1=require("angular2/src/common/forms/validators");var lang_2=require("angular2/src/facade/lang");var REQUIRED_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useValue:validators_1.Validators.required,multi:true}));var RequiredValidator=function(){function RequiredValidator(){}RequiredValidator=__decorate([core_1.Directive({selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[REQUIRED_VALIDATOR]}),__metadata("design:paramtypes",[])],RequiredValidator);return RequiredValidator}();exports.RequiredValidator=RequiredValidator;var MIN_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MinLengthValidator}),multi:true}));var MinLengthValidator=function(){function MinLengthValidator(minLength){this._validator=validators_1.Validators.minLength(lang_2.NumberWrapper.parseInt(minLength,10))}MinLengthValidator.prototype.validate=function(c){return this._validator(c)};MinLengthValidator=__decorate([core_1.Directive({selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[MIN_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("minlength")),__metadata("design:paramtypes",[String])],MinLengthValidator);return MinLengthValidator}();exports.MinLengthValidator=MinLengthValidator;var MAX_LENGTH_VALIDATOR=lang_1.CONST_EXPR(new core_1.Provider(validators_1.NG_VALIDATORS,{useExisting:core_1.forwardRef(function(){return MaxLengthValidator}),multi:true}));var MaxLengthValidator=function(){function MaxLengthValidator(maxLength){this._validator=validators_1.Validators.maxLength(lang_2.NumberWrapper.parseInt(maxLength,10))}MaxLengthValidator.prototype.validate=function(c){return this._validator(c)};MaxLengthValidator=__decorate([core_1.Directive({selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[MAX_LENGTH_VALIDATOR]}),__param(0,core_1.Attribute("maxlength")),__metadata("design:paramtypes",[String])],MaxLengthValidator);return MaxLengthValidator}();exports.MaxLengthValidator=MaxLengthValidator;global.define=__define;return module.exports});System.register("angular2/src/common/forms/form_builder",["angular2/core","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/common/forms/model"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");
var lang_1=require("angular2/src/facade/lang");var modelModule=require("angular2/src/common/forms/model");var FormBuilder=function(){function FormBuilder(){}FormBuilder.prototype.group=function(controlsConfig,extra){if(extra===void 0){extra=null}var controls=this._reduceControls(controlsConfig);var optionals=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"optionals"):null;var validator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"validator"):null;var asyncValidator=lang_1.isPresent(extra)?collection_1.StringMapWrapper.get(extra,"asyncValidator"):null;return new modelModule.ControlGroup(controls,optionals,validator,asyncValidator)};FormBuilder.prototype.control=function(value,validator,asyncValidator){if(validator===void 0){validator=null}if(asyncValidator===void 0){asyncValidator=null}return new modelModule.Control(value,validator,asyncValidator)};FormBuilder.prototype.array=function(controlsConfig,validator,asyncValidator){var _this=this;if(validator===void 0){validator=null}if(asyncValidator===void 0){asyncValidator=null}var controls=controlsConfig.map(function(c){return _this._createControl(c)});return new modelModule.ControlArray(controls,validator,asyncValidator)};FormBuilder.prototype._reduceControls=function(controlsConfig){var _this=this;var controls={};collection_1.StringMapWrapper.forEach(controlsConfig,function(controlConfig,controlName){controls[controlName]=_this._createControl(controlConfig)});return controls};FormBuilder.prototype._createControl=function(controlConfig){if(controlConfig instanceof modelModule.Control||controlConfig instanceof modelModule.ControlGroup||controlConfig instanceof modelModule.ControlArray){return controlConfig}else if(lang_1.isArray(controlConfig)){var value=controlConfig[0];var validator=controlConfig.length>1?controlConfig[1]:null;var asyncValidator=controlConfig.length>2?controlConfig[2]:null;return this.control(value,validator,asyncValidator)}else{return this.control(controlConfig)}};FormBuilder=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],FormBuilder);return FormBuilder}();exports.FormBuilder=FormBuilder;exports.FORM_PROVIDERS=lang_1.CONST_EXPR([FormBuilder]);exports.FORM_BINDINGS=exports.FORM_PROVIDERS;global.define=__define;return module.exports});System.register("angular2/src/common/common_directives",["angular2/src/facade/lang","angular2/src/common/forms","angular2/src/common/directives"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var forms_1=require("angular2/src/common/forms");var directives_1=require("angular2/src/common/directives");exports.COMMON_DIRECTIVES=lang_1.CONST_EXPR([directives_1.CORE_DIRECTIVES,forms_1.FORM_DIRECTIVES]);global.define=__define;return module.exports});System.register("angular2/src/platform/dom/events/key_events",["angular2/src/platform/dom/dom_adapter","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/platform/dom/events/event_manager","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var di_1=require("angular2/src/core/di");var modifierKeys=["alt","control","meta","shift"];var modifierKeyGetters={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}};var KeyEventsPlugin=function(_super){__extends(KeyEventsPlugin,_super);function KeyEventsPlugin(){_super.call(this)}KeyEventsPlugin.prototype.supports=function(eventName){return lang_1.isPresent(KeyEventsPlugin.parseEventName(eventName))};KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin.parseEventName(eventName);var outsideHandler=KeyEventsPlugin.eventCallback(element,collection_1.StringMapWrapper.get(parsedEvent,"fullKey"),handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.DOM.onAndCancel(element,collection_1.StringMapWrapper.get(parsedEvent,"domEventName"),outsideHandler)})};KeyEventsPlugin.parseEventName=function(eventName){var parts=eventName.toLowerCase().split(".");var domEventName=parts.shift();if(parts.length===0||!(lang_1.StringWrapper.equals(domEventName,"keydown")||lang_1.StringWrapper.equals(domEventName,"keyup"))){return null}var key=KeyEventsPlugin._normalizeKey(parts.pop());var fullKey="";modifierKeys.forEach(function(modifierName){if(collection_1.ListWrapper.contains(parts,modifierName)){collection_1.ListWrapper.remove(parts,modifierName);fullKey+=modifierName+"."}});fullKey+=key;if(parts.length!=0||key.length===0){return null}var result=collection_1.StringMapWrapper.create();collection_1.StringMapWrapper.set(result,"domEventName",domEventName);collection_1.StringMapWrapper.set(result,"fullKey",fullKey);return result};KeyEventsPlugin.getEventFullKey=function(event){var fullKey="";var key=dom_adapter_1.DOM.getEventKey(event);key=key.toLowerCase();if(lang_1.StringWrapper.equals(key," ")){key="space"}else if(lang_1.StringWrapper.equals(key,".")){key="dot"}modifierKeys.forEach(function(modifierName){if(modifierName!=key){var modifierGetter=collection_1.StringMapWrapper.get(modifierKeyGetters,modifierName);if(modifierGetter(event)){fullKey+=modifierName+"."}}});fullKey+=key;return fullKey};KeyEventsPlugin.eventCallback=function(element,fullKey,handler,zone){return function(event){if(lang_1.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(event),fullKey)){zone.run(function(){return handler(event)})}}};KeyEventsPlugin._normalizeKey=function(keyName){switch(keyName){case"esc":return"escape";default:return keyName}};KeyEventsPlugin=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],KeyEventsPlugin);return KeyEventsPlugin}(event_manager_1.EventManagerPlugin);exports.KeyEventsPlugin=KeyEventsPlugin;global.define=__define;return module.exports});System.register("angular2/src/platform/dom/events/hammer_common",["angular2/src/platform/dom/events/event_manager","angular2/src/facade/collection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var collection_1=require("angular2/src/facade/collection");var _eventNames={pan:true,panstart:true,panmove:true,panend:true,pancancel:true,panleft:true,panright:true,panup:true,pandown:true,pinch:true,pinchstart:true,pinchmove:true,pinchend:true,pinchcancel:true,pinchin:true,pinchout:true,press:true,pressup:true,rotate:true,rotatestart:true,rotatemove:true,rotateend:true,rotatecancel:true,swipe:true,swipeleft:true,swiperight:true,swipeup:true,swipedown:true,tap:true};var HammerGesturesPluginCommon=function(_super){__extends(HammerGesturesPluginCommon,_super);function HammerGesturesPluginCommon(){_super.call(this)}HammerGesturesPluginCommon.prototype.supports=function(eventName){eventName=eventName.toLowerCase();return collection_1.StringMapWrapper.contains(_eventNames,eventName)};return HammerGesturesPluginCommon}(event_manager_1.EventManagerPlugin);exports.HammerGesturesPluginCommon=HammerGesturesPluginCommon;global.define=__define;return module.exports});System.register("angular2/src/compiler/xhr",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var XHR=function(){function XHR(){}XHR.prototype.get=function(url){return null};return XHR}();exports.XHR=XHR;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/testability",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter","angular2/core"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var core_1=require("angular2/core");var PublicTestability=function(){function PublicTestability(testability){this._testability=testability}PublicTestability.prototype.isStable=function(){return this._testability.isStable()};PublicTestability.prototype.whenStable=function(callback){this._testability.whenStable(callback)};PublicTestability.prototype.findBindings=function(using,provider,exactMatch){return this.findProviders(using,provider,exactMatch)};PublicTestability.prototype.findProviders=function(using,provider,exactMatch){return this._testability.findBindings(using,provider,exactMatch)};return PublicTestability}();var BrowserGetTestability=function(){function BrowserGetTestability(){}BrowserGetTestability.init=function(){core_1.setTestabilityGetter(new BrowserGetTestability)};BrowserGetTestability.prototype.addToWindow=function(registry){lang_1.global.getAngularTestability=function(elem,findInAncestors){if(findInAncestors===void 0){findInAncestors=true}var testability=registry.findTestabilityInTree(elem,findInAncestors);if(testability==null){throw new Error("Could not find testability for element.")}return new PublicTestability(testability)};lang_1.global.getAllAngularTestabilities=function(){var testabilities=registry.getAllTestabilities();return testabilities.map(function(testability){return new PublicTestability(testability)})};var whenAllStable=function(callback){var testabilities=lang_1.global.getAllAngularTestabilities();var count=testabilities.length;var didWork=false;var decrement=function(didWork_){didWork=didWork||didWork_;count--;if(count==0){callback(didWork)}};testabilities.forEach(function(testability){testability.whenStable(decrement)})};if(!lang_1.global.frameworkStabilizers){lang_1.global.frameworkStabilizers=collection_1.ListWrapper.createGrowableSize(0)}lang_1.global.frameworkStabilizers.push(whenAllStable)};BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(elem==null){return null}var t=registry.getTestability(elem);if(lang_1.isPresent(t)){return t}else if(!findInAncestors){return null}if(dom_adapter_1.DOM.isShadowRoot(elem)){return this.findTestabilityInTree(registry,dom_adapter_1.DOM.getHost(elem),true)}return this.findTestabilityInTree(registry,dom_adapter_1.DOM.parentElement(elem),true)};return BrowserGetTestability}();exports.BrowserGetTestability=BrowserGetTestability;global.define=__define;return module.exports});System.register("angular2/src/core/profile/wtf_init",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function wtfInit(){}exports.wtfInit=wtfInit;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/title",["angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var Title=function(){function Title(){}Title.prototype.getTitle=function(){return dom_adapter_1.DOM.getTitle()};Title.prototype.setTitle=function(newTitle){dom_adapter_1.DOM.setTitle(newTitle)};return Title}();exports.Title=Title;global.define=__define;return module.exports});System.register("angular2/src/facade/browser",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var win=window;exports.window=win;exports.document=window.document;exports.location=window.location;exports.gc=window["gc"]?function(){return window["gc"]()}:function(){return null};exports.performance=window["performance"]?window["performance"]:null;exports.Event=window["Event"];exports.MouseEvent=window["MouseEvent"];exports.KeyboardEvent=window["KeyboardEvent"];exports.EventTarget=window["EventTarget"];exports.History=window["History"];exports.Location=window["Location"];exports.EventListener=window["EventListener"];global.define=__define;return module.exports});System.register("angular2/src/compiler/url_resolver",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/core/application_tokens","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var application_tokens_1=require("angular2/src/core/application_tokens");var di_2=require("angular2/src/core/di");function createWithoutPackagePrefix(){return new UrlResolver}exports.createWithoutPackagePrefix=createWithoutPackagePrefix;exports.DEFAULT_PACKAGE_URL_PROVIDER=new di_2.Provider(application_tokens_1.PACKAGE_ROOT_URL,{useValue:"/"});var UrlResolver=function(){function UrlResolver(packagePrefix){if(packagePrefix===void 0){packagePrefix=null}if(lang_1.isPresent(packagePrefix)){this._packagePrefix=lang_1.StringWrapper.stripRight(packagePrefix,"/")+"/"}}UrlResolver.prototype.resolve=function(baseUrl,url){var resolvedUrl=url;if(lang_1.isPresent(baseUrl)&&baseUrl.length>0){resolvedUrl=_resolveUrl(baseUrl,resolvedUrl)}if(lang_1.isPresent(this._packagePrefix)&&getUrlScheme(resolvedUrl)=="package"){resolvedUrl=resolvedUrl.replace("package:",this._packagePrefix)}return resolvedUrl};UrlResolver=__decorate([di_1.Injectable(),__param(0,di_1.Inject(application_tokens_1.PACKAGE_ROOT_URL)),__metadata("design:paramtypes",[String])],UrlResolver);return UrlResolver}();exports.UrlResolver=UrlResolver;function getUrlScheme(url){var match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}exports.getUrlScheme=getUrlScheme;function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];if(lang_1.isPresent(opt_scheme)){out.push(opt_scheme+":")}if(lang_1.isPresent(opt_domain)){out.push("//");if(lang_1.isPresent(opt_userInfo)){out.push(opt_userInfo+"@")}out.push(opt_domain);if(lang_1.isPresent(opt_port)){out.push(":"+opt_port)}}if(lang_1.isPresent(opt_path)){out.push(opt_path)}if(lang_1.isPresent(opt_queryData)){out.push("?"+opt_queryData)}if(lang_1.isPresent(opt_fragment)){out.push("#"+opt_fragment)}return out.join("")}var _splitRe=lang_1.RegExpWrapper.create("^"+"(?:"+"([^:/?#.]+)"+":)?"+"(?://"+"(?:([^/?#]*)@)?"+"([\\w\\d\\-\\u0100-\\uffff.%]*)"+"(?::([0-9]+))?"+")?"+"([^?#]+)?"+"(?:\\?([^#]*))?"+"(?:#(.*))?"+"$");var _ComponentIndex;(function(_ComponentIndex){_ComponentIndex[_ComponentIndex["Scheme"]=1]="Scheme";_ComponentIndex[_ComponentIndex["UserInfo"]=2]="UserInfo";_ComponentIndex[_ComponentIndex["Domain"]=3]="Domain";_ComponentIndex[_ComponentIndex["Port"]=4]="Port";_ComponentIndex[_ComponentIndex["Path"]=5]="Path";_ComponentIndex[_ComponentIndex["QueryData"]=6]="QueryData";_ComponentIndex[_ComponentIndex["Fragment"]=7]="Fragment"})(_ComponentIndex||(_ComponentIndex={}));function _split(uri){return lang_1.RegExpWrapper.firstMatch(_splitRe,uri)}function _removeDotSegments(path){if(path=="/")return"/";var leadingSlash=path[0]=="/"?"/":"";var trailingSlash=path[path.length-1]==="/"?"/":"";var segments=path.split("/");var out=[];var up=0;for(var pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":if(out.length>0){out.pop()}else{up++}break;default:out.push(segment)}}if(leadingSlash==""){while(up-->0){out.unshift("..")}if(out.length===0)out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function _joinAndCanonicalizePath(parts){var path=parts[_ComponentIndex.Path];path=lang_1.isBlank(path)?"":_removeDotSegments(path);parts[_ComponentIndex.Path]=path;return _buildFromEncodedParts(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}function _resolveUrl(base,url){var parts=_split(encodeURI(url));var baseParts=_split(base);if(lang_1.isPresent(parts[_ComponentIndex.Scheme])){return _joinAndCanonicalizePath(parts)}else{parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme]}for(var i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++){if(lang_1.isBlank(parts[i])){parts[i]=baseParts[i]}}if(parts[_ComponentIndex.Path][0]=="/"){return _joinAndCanonicalizePath(parts)}var path=baseParts[_ComponentIndex.Path];if(lang_1.isBlank(path))path="/";var index=path.lastIndexOf("/");path=path.substring(0,index+1)+parts[_ComponentIndex.Path];parts[_ComponentIndex.Path]=path;return _joinAndCanonicalizePath(parts)}global.define=__define;return module.exports});System.register("angular2/src/compiler/selector",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var _EMPTY_ATTR_VALUE="";var _SELECTOR_REGEXP=lang_1.RegExpWrapper.create("(\\:not\\()|"+"([-\\w]+)|"+"(?:\\.([-\\w]+))|"+"(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|"+"(\\))|"+"(\\s*,\\s*)");var CssSelector=function(){function CssSelector(){this.element=null;this.classNames=[];this.attrs=[];this.notSelectors=[]}CssSelector.parse=function(selector){var results=[];var _addResult=function(res,cssSel){if(cssSel.notSelectors.length>0&&lang_1.isBlank(cssSel.element)&&collection_1.ListWrapper.isEmpty(cssSel.classNames)&&collection_1.ListWrapper.isEmpty(cssSel.attrs)){cssSel.element="*"}res.push(cssSel)};var cssSelector=new CssSelector;var matcher=lang_1.RegExpWrapper.matcher(_SELECTOR_REGEXP,selector);var match;var current=cssSelector;var inNot=false;while(lang_1.isPresent(match=lang_1.RegExpMatcherWrapper.next(matcher))){if(lang_1.isPresent(match[1])){if(inNot){throw new exceptions_1.BaseException("Nesting :not is not allowed in a selector")}inNot=true;current=new CssSelector;cssSelector.notSelectors.push(current)}if(lang_1.isPresent(match[2])){current.setElement(match[2])}if(lang_1.isPresent(match[3])){current.addClassName(match[3])}if(lang_1.isPresent(match[4])){current.addAttribute(match[4],match[5])}if(lang_1.isPresent(match[6])){inNot=false;current=cssSelector}if(lang_1.isPresent(match[7])){if(inNot){throw new exceptions_1.BaseException("Multiple selectors in :not are not supported")}_addResult(results,cssSelector);cssSelector=current=new CssSelector}}_addResult(results,cssSelector);return results};CssSelector.prototype.isElementSelector=function(){return lang_1.isPresent(this.element)&&collection_1.ListWrapper.isEmpty(this.classNames)&&collection_1.ListWrapper.isEmpty(this.attrs)&&this.notSelectors.length===0};CssSelector.prototype.setElement=function(element){if(element===void 0){element=null}this.element=element};CssSelector.prototype.getMatchingElementTemplate=function(){var tagName=lang_1.isPresent(this.element)?this.element:"div";var classAttr=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"";var attrs="";for(var i=0;i<this.attrs.length;i+=2){var attrName=this.attrs[i];var attrValue=this.attrs[i+1]!==""?'="'+this.attrs[i+1]+'"':"";attrs+=" "+attrName+attrValue}return"<"+tagName+classAttr+attrs+"></"+tagName+">"};CssSelector.prototype.addAttribute=function(name,value){if(value===void 0){value=_EMPTY_ATTR_VALUE}this.attrs.push(name);if(lang_1.isPresent(value)){value=value.toLowerCase()}else{value=_EMPTY_ATTR_VALUE}this.attrs.push(value)};CssSelector.prototype.addClassName=function(name){this.classNames.push(name.toLowerCase())};CssSelector.prototype.toString=function(){var res="";if(lang_1.isPresent(this.element)){res+=this.element}if(lang_1.isPresent(this.classNames)){for(var i=0;i<this.classNames.length;i++){res+="."+this.classNames[i]}}if(lang_1.isPresent(this.attrs)){for(var i=0;i<this.attrs.length;){var attrName=this.attrs[i++];var attrValue=this.attrs[i++];res+="["+attrName;if(attrValue.length>0){res+="="+attrValue}res+="]"}}this.notSelectors.forEach(function(notSelector){return res+=":not("+notSelector+")"});return res};return CssSelector}();exports.CssSelector=CssSelector;var SelectorMatcher=function(){function SelectorMatcher(){this._elementMap=new collection_1.Map;this._elementPartialMap=new collection_1.Map;this._classMap=new collection_1.Map;this._classPartialMap=new collection_1.Map;this._attrValueMap=new collection_1.Map;this._attrValuePartialMap=new collection_1.Map;this._listContexts=[]}SelectorMatcher.createNotMatcher=function(notSelectors){var notMatcher=new SelectorMatcher;notMatcher.addSelectables(notSelectors,null);return notMatcher};SelectorMatcher.prototype.addSelectables=function(cssSelectors,callbackCtxt){var listContext=null;if(cssSelectors.length>1){listContext=new SelectorListContext(cssSelectors);this._listContexts.push(listContext)}for(var i=0;i<cssSelectors.length;i++){this._addSelectable(cssSelectors[i],callbackCtxt,listContext)}};SelectorMatcher.prototype._addSelectable=function(cssSelector,callbackCtxt,listContext){var matcher=this;var element=cssSelector.element;var classNames=cssSelector.classNames;var attrs=cssSelector.attrs;var selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(lang_1.isPresent(element)){var isTerminal=attrs.length===0&&classNames.length===0;if(isTerminal){this._addTerminal(matcher._elementMap,element,selectable)}else{matcher=this._addPartial(matcher._elementPartialMap,element)}}if(lang_1.isPresent(classNames)){for(var index=0;index<classNames.length;index++){var isTerminal=attrs.length===0&&index===classNames.length-1;var className=classNames[index];if(isTerminal){this._addTerminal(matcher._classMap,className,selectable)}else{matcher=this._addPartial(matcher._classPartialMap,className)}}}if(lang_1.isPresent(attrs)){for(var index=0;index<attrs.length;){var isTerminal=index===attrs.length-2;var attrName=attrs[index++];var attrValue=attrs[index++];if(isTerminal){var terminalMap=matcher._attrValueMap;var terminalValuesMap=terminalMap.get(attrName);if(lang_1.isBlank(terminalValuesMap)){terminalValuesMap=new collection_1.Map;terminalMap.set(attrName,terminalValuesMap)}this._addTerminal(terminalValuesMap,attrValue,selectable)}else{var parttialMap=matcher._attrValuePartialMap;var partialValuesMap=parttialMap.get(attrName);if(lang_1.isBlank(partialValuesMap)){partialValuesMap=new collection_1.Map;parttialMap.set(attrName,partialValuesMap)}matcher=this._addPartial(partialValuesMap,attrValue)}}}};SelectorMatcher.prototype._addTerminal=function(map,name,selectable){var terminalList=map.get(name);if(lang_1.isBlank(terminalList)){terminalList=[];map.set(name,terminalList)}terminalList.push(selectable)};SelectorMatcher.prototype._addPartial=function(map,name){var matcher=map.get(name);if(lang_1.isBlank(matcher)){matcher=new SelectorMatcher;map.set(name,matcher)}return matcher};SelectorMatcher.prototype.match=function(cssSelector,matchedCallback){var result=false;var element=cssSelector.element;var classNames=cssSelector.classNames;var attrs=cssSelector.attrs;for(var i=0;i<this._listContexts.length;i++){this._listContexts[i].alreadyMatched=false}result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result;result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result;if(lang_1.isPresent(classNames)){for(var index=0;index<classNames.length;index++){var className=classNames[index];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result;result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}}if(lang_1.isPresent(attrs)){for(var index=0;index<attrs.length;){var attrName=attrs[index++];var attrValue=attrs[index++];var terminalValuesMap=this._attrValueMap.get(attrName);if(!lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)){result=this._matchTerminal(terminalValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result}result=this._matchTerminal(terminalValuesMap,attrValue,cssSelector,matchedCallback)||result;var partialValuesMap=this._attrValuePartialMap.get(attrName);if(!lang_1.StringWrapper.equals(attrValue,_EMPTY_ATTR_VALUE)){result=this._matchPartial(partialValuesMap,_EMPTY_ATTR_VALUE,cssSelector,matchedCallback)||result}result=this._matchPartial(partialValuesMap,attrValue,cssSelector,matchedCallback)||result}}return result};SelectorMatcher.prototype._matchTerminal=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name)){return false}var selectables=map.get(name);var starSelectables=map.get("*");if(lang_1.isPresent(starSelectables)){selectables=selectables.concat(starSelectables)}if(lang_1.isBlank(selectables)){return false}var selectable;var result=false;for(var index=0;index<selectables.length;index++){selectable=selectables[index];result=selectable.finalize(cssSelector,matchedCallback)||result}return result};SelectorMatcher.prototype._matchPartial=function(map,name,cssSelector,matchedCallback){if(lang_1.isBlank(map)||lang_1.isBlank(name)){return false}var nestedSelector=map.get(name);if(lang_1.isBlank(nestedSelector)){return false}return nestedSelector.match(cssSelector,matchedCallback)};return SelectorMatcher}();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=function(){function SelectorListContext(selectors){this.selectors=selectors;this.alreadyMatched=false}return SelectorListContext}();exports.SelectorListContext=SelectorListContext;var SelectorContext=function(){function SelectorContext(selector,cbContext,listContext){this.selector=selector;this.cbContext=cbContext;this.listContext=listContext;this.notSelectors=selector.notSelectors}SelectorContext.prototype.finalize=function(cssSelector,callback){var result=true;if(this.notSelectors.length>0&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var notMatcher=SelectorMatcher.createNotMatcher(this.notSelectors);result=!notMatcher.match(cssSelector,null)}if(result&&lang_1.isPresent(callback)&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){if(lang_1.isPresent(this.listContext)){this.listContext.alreadyMatched=true}callback(this.selector,this.cbContext)}return result};return SelectorContext}();exports.SelectorContext=SelectorContext;global.define=__define;return module.exports});System.register("angular2/src/compiler/util",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var CAMEL_CASE_REGEXP=/([A-Z])/g;var DASH_CASE_REGEXP=/-([a-z])/g;var SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g;var DOUBLE_QUOTE_ESCAPE_STRING_RE=/"|\\|\n|\r|\$/g;exports.MODULE_SUFFIX=lang_1.IS_DART?".dart":".js";exports.CONST_VAR=lang_1.IS_DART?"const":"var";function camelCaseToDashCase(input){return lang_1.StringWrapper.replaceAllMapped(input,CAMEL_CASE_REGEXP,function(m){return"-"+m[1].toLowerCase()})}exports.camelCaseToDashCase=camelCaseToDashCase;function dashCaseToCamelCase(input){return lang_1.StringWrapper.replaceAllMapped(input,DASH_CASE_REGEXP,function(m){return m[1].toUpperCase()})}exports.dashCaseToCamelCase=dashCaseToCamelCase;function escapeSingleQuoteString(input){if(lang_1.isBlank(input)){return null}return"'"+escapeString(input,SINGLE_QUOTE_ESCAPE_STRING_RE)+"'"}exports.escapeSingleQuoteString=escapeSingleQuoteString;function escapeDoubleQuoteString(input){if(lang_1.isBlank(input)){return null}return'"'+escapeString(input,DOUBLE_QUOTE_ESCAPE_STRING_RE)+'"'}exports.escapeDoubleQuoteString=escapeDoubleQuoteString;function escapeString(input,re){return lang_1.StringWrapper.replaceAllMapped(input,re,function(match){if(match[0]=="$"){return lang_1.IS_DART?"\\$":"$"}else if(match[0]=="\n"){return"\\n"}else if(match[0]=="\r"){return"\\r"}else{return"\\"+match[0]}})}function codeGenExportVariable(name){if(lang_1.IS_DART){return"const "+name+" = "}else{return"var "+name+" = exports['"+name+"'] = "}}exports.codeGenExportVariable=codeGenExportVariable;function codeGenConstConstructorCall(name){if(lang_1.IS_DART){return"const "+name}else{return"new "+name}}exports.codeGenConstConstructorCall=codeGenConstConstructorCall;function codeGenValueFn(params,value,fnName){if(fnName===void 0){fnName=""}if(lang_1.IS_DART){return codeGenFnHeader(params,fnName)+" => "+value}else{return codeGenFnHeader(params,fnName)+" { return "+value+"; }"}}exports.codeGenValueFn=codeGenValueFn;function codeGenFnHeader(params,fnName){if(fnName===void 0){fnName=""}if(lang_1.IS_DART){return fnName+"("+params.join(",")+")"}else{return"function "+fnName+"("+params.join(",")+")"}}exports.codeGenFnHeader=codeGenFnHeader;function codeGenToString(expr){if(lang_1.IS_DART){return"'${"+expr+"}'"}else{return expr}}exports.codeGenToString=codeGenToString;function splitAtColon(input,defaultValues){var parts=lang_1.StringWrapper.split(input.trim(),/\s*:\s*/g);if(parts.length>1){return parts}else{return defaultValues}}exports.splitAtColon=splitAtColon;var Statement=function(){function Statement(statement){this.statement=statement}return Statement}();exports.Statement=Statement;var Expression=function(){function Expression(expression,isArray){if(isArray===void 0){isArray=false}this.expression=expression;this.isArray=isArray}return Expression}();exports.Expression=Expression;function escapeValue(value){if(value instanceof Expression){return value.expression}else if(lang_1.isString(value)){return escapeSingleQuoteString(value)}else if(lang_1.isBlank(value)){return"null"}else{return""+value}}exports.escapeValue=escapeValue;function codeGenArray(data){return"["+data.map(escapeValue).join(",")+"]"}exports.codeGenArray=codeGenArray;function codeGenFlatArray(values){var result="([";var isFirstArrayEntry=true;var concatFn=lang_1.IS_DART?".addAll":"concat";for(var i=0;i<values.length;i++){var value=values[i];if(value instanceof Expression&&value.isArray){result+="])."+concatFn+"("+value.expression+")."+concatFn+"([";
isFirstArrayEntry=true}else{if(!isFirstArrayEntry){result+=","}isFirstArrayEntry=false;result+=escapeValue(value)}}result+="])";return result}exports.codeGenFlatArray=codeGenFlatArray;function codeGenStringMap(keyValueArray){return"{"+keyValueArray.map(codeGenKeyValue).join(",")+"}"}exports.codeGenStringMap=codeGenStringMap;function codeGenKeyValue(keyValue){return escapeValue(keyValue[0])+":"+escapeValue(keyValue[1])}function addAll(source,target){for(var i=0;i<source.length;i++){target.push(source[i])}}exports.addAll=addAll;function flattenArray(source,target){if(lang_1.isPresent(source)){for(var i=0;i<source.length;i++){var item=source[i];if(lang_1.isArray(item)){flattenArray(item,target)}else{target.push(item)}}}return target}exports.flattenArray=flattenArray;global.define=__define;return module.exports});System.register("angular2/src/core/linker/interfaces",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;(function(LifecycleHooks){LifecycleHooks[LifecycleHooks["OnInit"]=0]="OnInit";LifecycleHooks[LifecycleHooks["OnDestroy"]=1]="OnDestroy";LifecycleHooks[LifecycleHooks["DoCheck"]=2]="DoCheck";LifecycleHooks[LifecycleHooks["OnChanges"]=3]="OnChanges";LifecycleHooks[LifecycleHooks["AfterContentInit"]=4]="AfterContentInit";LifecycleHooks[LifecycleHooks["AfterContentChecked"]=5]="AfterContentChecked";LifecycleHooks[LifecycleHooks["AfterViewInit"]=6]="AfterViewInit";LifecycleHooks[LifecycleHooks["AfterViewChecked"]=7]="AfterViewChecked"})(exports.LifecycleHooks||(exports.LifecycleHooks={}));var LifecycleHooks=exports.LifecycleHooks;exports.LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];global.define=__define;return module.exports});System.register("angular2/src/compiler/template_ast",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var TextAst=function(){function TextAst(value,ngContentIndex,sourceSpan){this.value=value;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan}TextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)};return TextAst}();exports.TextAst=TextAst;var BoundTextAst=function(){function BoundTextAst(value,ngContentIndex,sourceSpan){this.value=value;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan}BoundTextAst.prototype.visit=function(visitor,context){return visitor.visitBoundText(this,context)};return BoundTextAst}();exports.BoundTextAst=BoundTextAst;var AttrAst=function(){function AttrAst(name,value,sourceSpan){this.name=name;this.value=value;this.sourceSpan=sourceSpan}AttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)};return AttrAst}();exports.AttrAst=AttrAst;var BoundElementPropertyAst=function(){function BoundElementPropertyAst(name,type,value,unit,sourceSpan){this.name=name;this.type=type;this.value=value;this.unit=unit;this.sourceSpan=sourceSpan}BoundElementPropertyAst.prototype.visit=function(visitor,context){return visitor.visitElementProperty(this,context)};return BoundElementPropertyAst}();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=function(){function BoundEventAst(name,target,handler,sourceSpan){this.name=name;this.target=target;this.handler=handler;this.sourceSpan=sourceSpan}BoundEventAst.prototype.visit=function(visitor,context){return visitor.visitEvent(this,context)};Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){if(lang_1.isPresent(this.target)){return this.target+":"+this.name}else{return this.name}},enumerable:true,configurable:true});return BoundEventAst}();exports.BoundEventAst=BoundEventAst;var VariableAst=function(){function VariableAst(name,value,sourceSpan){this.name=name;this.value=value;this.sourceSpan=sourceSpan}VariableAst.prototype.visit=function(visitor,context){return visitor.visitVariable(this,context)};return VariableAst}();exports.VariableAst=VariableAst;var ElementAst=function(){function ElementAst(name,attrs,inputs,outputs,exportAsVars,directives,children,ngContentIndex,sourceSpan){this.name=name;this.attrs=attrs;this.inputs=inputs;this.outputs=outputs;this.exportAsVars=exportAsVars;this.directives=directives;this.children=children;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan}ElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)};ElementAst.prototype.isBound=function(){return this.inputs.length>0||this.outputs.length>0||this.exportAsVars.length>0||this.directives.length>0};ElementAst.prototype.getComponent=function(){return this.directives.length>0&&this.directives[0].directive.isComponent?this.directives[0].directive:null};return ElementAst}();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=function(){function EmbeddedTemplateAst(attrs,outputs,vars,directives,children,ngContentIndex,sourceSpan){this.attrs=attrs;this.outputs=outputs;this.vars=vars;this.directives=directives;this.children=children;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan}EmbeddedTemplateAst.prototype.visit=function(visitor,context){return visitor.visitEmbeddedTemplate(this,context)};return EmbeddedTemplateAst}();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=function(){function BoundDirectivePropertyAst(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName;this.templateName=templateName;this.value=value;this.sourceSpan=sourceSpan}BoundDirectivePropertyAst.prototype.visit=function(visitor,context){return visitor.visitDirectiveProperty(this,context)};return BoundDirectivePropertyAst}();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=function(){function DirectiveAst(directive,inputs,hostProperties,hostEvents,exportAsVars,sourceSpan){this.directive=directive;this.inputs=inputs;this.hostProperties=hostProperties;this.hostEvents=hostEvents;this.exportAsVars=exportAsVars;this.sourceSpan=sourceSpan}DirectiveAst.prototype.visit=function(visitor,context){return visitor.visitDirective(this,context)};return DirectiveAst}();exports.DirectiveAst=DirectiveAst;var NgContentAst=function(){function NgContentAst(index,ngContentIndex,sourceSpan){this.index=index;this.ngContentIndex=ngContentIndex;this.sourceSpan=sourceSpan}NgContentAst.prototype.visit=function(visitor,context){return visitor.visitNgContent(this,context)};return NgContentAst}();exports.NgContentAst=NgContentAst;(function(PropertyBindingType){PropertyBindingType[PropertyBindingType["Property"]=0]="Property";PropertyBindingType[PropertyBindingType["Attribute"]=1]="Attribute";PropertyBindingType[PropertyBindingType["Class"]=2]="Class";PropertyBindingType[PropertyBindingType["Style"]=3]="Style"})(exports.PropertyBindingType||(exports.PropertyBindingType={}));var PropertyBindingType=exports.PropertyBindingType;function templateVisitAll(visitor,asts,context){if(context===void 0){context=null}var result=[];asts.forEach(function(ast){var astResult=ast.visit(visitor,context);if(lang_1.isPresent(astResult)){result.push(astResult)}});return result}exports.templateVisitAll=templateVisitAll;global.define=__define;return module.exports});System.register("angular2/src/compiler/source_module",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var MODULE_REGEXP=/#MODULE\[([^\]]*)\]/g;function moduleRef(moduleUrl){return"#MODULE["+moduleUrl+"]"}exports.moduleRef=moduleRef;var SourceModule=function(){function SourceModule(moduleUrl,sourceWithModuleRefs){this.moduleUrl=moduleUrl;this.sourceWithModuleRefs=sourceWithModuleRefs}SourceModule.getSourceWithoutImports=function(sourceWithModuleRefs){return lang_1.StringWrapper.replaceAllMapped(sourceWithModuleRefs,MODULE_REGEXP,function(match){return""})};SourceModule.prototype.getSourceWithImports=function(){var _this=this;var moduleAliases={};var imports=[];var newSource=lang_1.StringWrapper.replaceAllMapped(this.sourceWithModuleRefs,MODULE_REGEXP,function(match){var moduleUrl=match[1];var alias=moduleAliases[moduleUrl];if(lang_1.isBlank(alias)){if(moduleUrl==_this.moduleUrl){alias=""}else{alias="import"+imports.length;imports.push([moduleUrl,alias])}moduleAliases[moduleUrl]=alias}return alias.length>0?alias+".":""});return new SourceWithImports(newSource,imports)};return SourceModule}();exports.SourceModule=SourceModule;var SourceExpression=function(){function SourceExpression(declarations,expression){this.declarations=declarations;this.expression=expression}return SourceExpression}();exports.SourceExpression=SourceExpression;var SourceExpressions=function(){function SourceExpressions(declarations,expressions){this.declarations=declarations;this.expressions=expressions}return SourceExpressions}();exports.SourceExpressions=SourceExpressions;var SourceWithImports=function(){function SourceWithImports(source,imports){this.source=source;this.imports=imports}return SourceWithImports}();exports.SourceWithImports=SourceWithImports;global.define=__define;return module.exports});System.register("angular2/src/compiler/change_definition_factory",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/core/reflection/reflection","angular2/src/core/change_detection/change_detection","angular2/src/compiler/template_ast","angular2/src/core/linker/interfaces"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var reflection_1=require("angular2/src/core/reflection/reflection");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var template_ast_1=require("angular2/src/compiler/template_ast");var interfaces_1=require("angular2/src/core/linker/interfaces");function createChangeDetectorDefinitions(componentType,componentStrategy,genConfig,parsedTemplate){var pvVisitors=[];var visitor=new ProtoViewVisitor(null,pvVisitors,componentStrategy);template_ast_1.templateVisitAll(visitor,parsedTemplate);return createChangeDefinitions(pvVisitors,componentType,genConfig)}exports.createChangeDetectorDefinitions=createChangeDetectorDefinitions;var ProtoViewVisitor=function(){function ProtoViewVisitor(parent,allVisitors,strategy){this.parent=parent;this.allVisitors=allVisitors;this.strategy=strategy;this.nodeCount=0;this.boundElementCount=0;this.variableNames=[];this.bindingRecords=[];this.eventRecords=[];this.directiveRecords=[];this.viewIndex=allVisitors.length;allVisitors.push(this)}ProtoViewVisitor.prototype.visitEmbeddedTemplate=function(ast,context){this.nodeCount++;this.boundElementCount++;template_ast_1.templateVisitAll(this,ast.outputs);for(var i=0;i<ast.directives.length;i++){ast.directives[i].visit(this,i)}var childVisitor=new ProtoViewVisitor(this,this.allVisitors,change_detection_1.ChangeDetectionStrategy.Default);template_ast_1.templateVisitAll(childVisitor,ast.vars);template_ast_1.templateVisitAll(childVisitor,ast.children);return null};ProtoViewVisitor.prototype.visitElement=function(ast,context){this.nodeCount++;if(ast.isBound()){this.boundElementCount++}template_ast_1.templateVisitAll(this,ast.inputs,null);template_ast_1.templateVisitAll(this,ast.outputs);template_ast_1.templateVisitAll(this,ast.exportAsVars);for(var i=0;i<ast.directives.length;i++){ast.directives[i].visit(this,i)}template_ast_1.templateVisitAll(this,ast.children);return null};ProtoViewVisitor.prototype.visitNgContent=function(ast,context){return null};ProtoViewVisitor.prototype.visitVariable=function(ast,context){this.variableNames.push(ast.name);return null};ProtoViewVisitor.prototype.visitEvent=function(ast,directiveRecord){var bindingRecord=lang_1.isPresent(directiveRecord)?change_detection_1.BindingRecord.createForHostEvent(ast.handler,ast.fullName,directiveRecord):change_detection_1.BindingRecord.createForEvent(ast.handler,ast.fullName,this.boundElementCount-1);this.eventRecords.push(bindingRecord);return null};ProtoViewVisitor.prototype.visitElementProperty=function(ast,directiveRecord){var boundElementIndex=this.boundElementCount-1;var dirIndex=lang_1.isPresent(directiveRecord)?directiveRecord.directiveIndex:null;var bindingRecord;if(ast.type===template_ast_1.PropertyBindingType.Property){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostProperty(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementProperty(ast.value,boundElementIndex,ast.name)}else if(ast.type===template_ast_1.PropertyBindingType.Attribute){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostAttribute(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementAttribute(ast.value,boundElementIndex,ast.name)}else if(ast.type===template_ast_1.PropertyBindingType.Class){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostClass(dirIndex,ast.value,ast.name):change_detection_1.BindingRecord.createForElementClass(ast.value,boundElementIndex,ast.name)}else if(ast.type===template_ast_1.PropertyBindingType.Style){bindingRecord=lang_1.isPresent(dirIndex)?change_detection_1.BindingRecord.createForHostStyle(dirIndex,ast.value,ast.name,ast.unit):change_detection_1.BindingRecord.createForElementStyle(ast.value,boundElementIndex,ast.name,ast.unit)}this.bindingRecords.push(bindingRecord);return null};ProtoViewVisitor.prototype.visitAttr=function(ast,context){return null};ProtoViewVisitor.prototype.visitBoundText=function(ast,context){var nodeIndex=this.nodeCount++;this.bindingRecords.push(change_detection_1.BindingRecord.createForTextNode(ast.value,nodeIndex));return null};ProtoViewVisitor.prototype.visitText=function(ast,context){this.nodeCount++;return null};ProtoViewVisitor.prototype.visitDirective=function(ast,directiveIndexAsNumber){var directiveIndex=new change_detection_1.DirectiveIndex(this.boundElementCount-1,directiveIndexAsNumber);var directiveMetadata=ast.directive;var outputsArray=[];collection_1.StringMapWrapper.forEach(ast.directive.outputs,function(eventName,dirProperty){return outputsArray.push([dirProperty,eventName])});var directiveRecord=new change_detection_1.DirectiveRecord({directiveIndex:directiveIndex,callAfterContentInit:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentInit)!==-1,callAfterContentChecked:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterContentChecked)!==-1,callAfterViewInit:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewInit)!==-1,callAfterViewChecked:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.AfterViewChecked)!==-1,callOnChanges:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnChanges)!==-1,callDoCheck:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.DoCheck)!==-1,callOnInit:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnInit)!==-1,callOnDestroy:directiveMetadata.lifecycleHooks.indexOf(interfaces_1.LifecycleHooks.OnDestroy)!==-1,changeDetection:directiveMetadata.changeDetection,outputs:outputsArray});this.directiveRecords.push(directiveRecord);template_ast_1.templateVisitAll(this,ast.inputs,directiveRecord);var bindingRecords=this.bindingRecords;if(directiveRecord.callOnChanges){bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnChanges(directiveRecord))}if(directiveRecord.callOnInit){bindingRecords.push(change_detection_1.BindingRecord.createDirectiveOnInit(directiveRecord))}if(directiveRecord.callDoCheck){bindingRecords.push(change_detection_1.BindingRecord.createDirectiveDoCheck(directiveRecord))}template_ast_1.templateVisitAll(this,ast.hostProperties,directiveRecord);template_ast_1.templateVisitAll(this,ast.hostEvents,directiveRecord);template_ast_1.templateVisitAll(this,ast.exportAsVars);return null};ProtoViewVisitor.prototype.visitDirectiveProperty=function(ast,directiveRecord){var setter=reflection_1.reflector.setter(ast.directiveName);this.bindingRecords.push(change_detection_1.BindingRecord.createForDirective(ast.value,ast.directiveName,setter,directiveRecord));return null};return ProtoViewVisitor}();function createChangeDefinitions(pvVisitors,componentType,genConfig){var pvVariableNames=_collectNestedProtoViewsVariableNames(pvVisitors);return pvVisitors.map(function(pvVisitor){var id=componentType.name+"_"+pvVisitor.viewIndex;return new change_detection_1.ChangeDetectorDefinition(id,pvVisitor.strategy,pvVariableNames[pvVisitor.viewIndex],pvVisitor.bindingRecords,pvVisitor.eventRecords,pvVisitor.directiveRecords,genConfig)})}function _collectNestedProtoViewsVariableNames(pvVisitors){var nestedPvVariableNames=collection_1.ListWrapper.createFixedSize(pvVisitors.length);pvVisitors.forEach(function(pv){var parentVariableNames=lang_1.isPresent(pv.parent)?nestedPvVariableNames[pv.parent.viewIndex]:[];nestedPvVariableNames[pv.viewIndex]=parentVariableNames.concat(pv.variableNames)});return nestedPvVariableNames}global.define=__define;return module.exports});System.register("angular2/src/transform/template_compiler/change_detector_codegen",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var Codegen=function(){function Codegen(moduleAlias){}Codegen.prototype.generate=function(typeName,changeDetectorTypeName,def){throw"Not implemented in JS"};Codegen.prototype.toString=function(){throw"Not implemented in JS"};return Codegen}();exports.Codegen=Codegen;global.define=__define;return module.exports});System.register("angular2/src/compiler/shadow_css",["angular2/src/facade/collection","angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var ShadowCss=function(){function ShadowCss(){this.strictStyling=true}ShadowCss.prototype.shimCssText=function(cssText,selector,hostSelector){if(hostSelector===void 0){hostSelector=""}cssText=stripComments(cssText);cssText=this._insertDirectives(cssText);return this._scopeCssText(cssText,selector,hostSelector)};ShadowCss.prototype._insertDirectives=function(cssText){cssText=this._insertPolyfillDirectivesInCssText(cssText);return this._insertPolyfillRulesInCssText(cssText)};ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentNextSelectorRe,function(m){return m[1]+"{"})};ShadowCss.prototype._insertPolyfillRulesInCssText=function(cssText){return lang_1.StringWrapper.replaceAllMapped(cssText,_cssContentRuleRe,function(m){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[1],"");rule=lang_1.StringWrapper.replace(rule,m[2],"");return m[3]+rule})};ShadowCss.prototype._scopeCssText=function(cssText,scopeSelector,hostSelector){var unscoped=this._extractUnscopedRulesFromCssText(cssText);cssText=this._insertPolyfillHostInCssText(cssText);cssText=this._convertColonHost(cssText);cssText=this._convertColonHostContext(cssText);cssText=this._convertShadowDOMSelectors(cssText);if(lang_1.isPresent(scopeSelector)){cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)}cssText=cssText+"\n"+unscoped;return cssText.trim()};ShadowCss.prototype._extractUnscopedRulesFromCssText=function(cssText){var r="",m;var matcher=lang_1.RegExpWrapper.matcher(_cssContentUnscopedRuleRe,cssText);while(lang_1.isPresent(m=lang_1.RegExpMatcherWrapper.next(matcher))){var rule=m[0];rule=lang_1.StringWrapper.replace(rule,m[2],"");rule=lang_1.StringWrapper.replace(rule,m[1],m[3]);r+=rule+"\n\n"}return r};ShadowCss.prototype._convertColonHost=function(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)};ShadowCss.prototype._convertColonHostContext=function(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)};ShadowCss.prototype._convertColonRule=function(cssText,regExp,partReplacer){return lang_1.StringWrapper.replaceAllMapped(cssText,regExp,function(m){if(lang_1.isPresent(m[2])){var parts=m[2].split(","),r=[];for(var i=0;i<parts.length;i++){var p=parts[i];if(lang_1.isBlank(p))break;p=p.trim();r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}else{return _polyfillHostNoCombinator+m[3]}})};ShadowCss.prototype._colonHostContextPartReplacer=function(host,part,suffix){if(lang_1.StringWrapper.contains(part,_polyfillHost)){return this._colonHostPartReplacer(host,part,suffix)}else{return host+part+suffix+", "+part+" "+host+suffix}};ShadowCss.prototype._colonHostPartReplacer=function(host,part,suffix){return host+lang_1.StringWrapper.replace(part,_polyfillHost,"")+suffix};ShadowCss.prototype._convertShadowDOMSelectors=function(cssText){for(var i=0;i<_shadowDOMSelectorsRe.length;i++){cssText=lang_1.StringWrapper.replaceAll(cssText,_shadowDOMSelectorsRe[i]," ")}return cssText};ShadowCss.prototype._scopeSelectors=function(cssText,scopeSelector,hostSelector){var _this=this;return processRules(cssText,function(rule){var selector=rule.selector;var content=rule.content;if(rule.selector[0]!="@"||rule.selector.startsWith("@page")){selector=_this._scopeSelector(rule.selector,scopeSelector,hostSelector,_this.strictStyling)}else if(rule.selector.startsWith("@media")){content=_this._scopeSelectors(rule.content,scopeSelector,hostSelector)}return new CssRule(selector,content)})};ShadowCss.prototype._scopeSelector=function(selector,scopeSelector,hostSelector,strict){var r=[],parts=selector.split(",");for(var i=0;i<parts.length;i++){var p=parts[i];p=p.trim();if(this._selectorNeedsScoping(p,scopeSelector)){p=strict&&!lang_1.StringWrapper.contains(p,_polyfillHostNoCombinator)?this._applyStrictSelectorScope(p,scopeSelector):this._applySelectorScope(p,scopeSelector,hostSelector)}r.push(p)}return r.join(", ")};ShadowCss.prototype._selectorNeedsScoping=function(selector,scopeSelector){var re=this._makeScopeMatcher(scopeSelector);return!lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(re,selector))};ShadowCss.prototype._makeScopeMatcher=function(scopeSelector){var lre=/\[/g;var rre=/\]/g;scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,lre,"\\[");scopeSelector=lang_1.StringWrapper.replaceAll(scopeSelector,rre,"\\]");return lang_1.RegExpWrapper.create("^("+scopeSelector+")"+_selectorReSuffix,"m")};ShadowCss.prototype._applySelectorScope=function(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)};ShadowCss.prototype._applySimpleSelectorScope=function(selector,scopeSelector,hostSelector){if(lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(_polyfillHostRe,selector))){var replaceBy=this.strictStyling?"["+hostSelector+"]":scopeSelector;selector=lang_1.StringWrapper.replace(selector,_polyfillHostNoCombinator,replaceBy);return lang_1.StringWrapper.replaceAll(selector,_polyfillHostRe,replaceBy+" ")}else{return scopeSelector+" "+selector}};ShadowCss.prototype._applyStrictSelectorScope=function(selector,scopeSelector){var isRe=/\[is=([^\]]*)\]/g;scopeSelector=lang_1.StringWrapper.replaceAllMapped(scopeSelector,isRe,function(m){return m[1]});var splits=[" ",">","+","~"],scoped=selector,attrName="["+scopeSelector+"]";for(var i=0;i<splits.length;i++){var sep=splits[i];var parts=scoped.split(sep);scoped=parts.map(function(p){var t=lang_1.StringWrapper.replaceAll(p.trim(),_polyfillHostRe,"");if(t.length>0&&!collection_1.ListWrapper.contains(splits,t)&&!lang_1.StringWrapper.contains(t,attrName)){var re=/([^:]*)(:*)(.*)/g;var m=lang_1.RegExpWrapper.firstMatch(re,t);if(lang_1.isPresent(m)){p=m[1]+attrName+m[2]+m[3]}}return p}).join(sep)}return scoped};ShadowCss.prototype._insertPolyfillHostInCssText=function(selector){selector=lang_1.StringWrapper.replaceAll(selector,_colonHostContextRe,_polyfillHostContext);selector=lang_1.StringWrapper.replaceAll(selector,_colonHostRe,_polyfillHost);return selector};return ShadowCss}();exports.ShadowCss=ShadowCss;var _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim;var _cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim;var _cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim;var _polyfillHost="-shadowcsshost";var _polyfillHostContext="-shadowcsscontext";var _parenSuffix=")(?:\\(("+"(?:\\([^)(]*\\)|[^)(]*)+?"+")\\))?([^,{]*)";var _cssColonHostRe=lang_1.RegExpWrapper.create("("+_polyfillHost+_parenSuffix,"im");var _cssColonHostContextRe=lang_1.RegExpWrapper.create("("+_polyfillHostContext+_parenSuffix,"im");var _polyfillHostNoCombinator=_polyfillHost+"-no-combinator";var _shadowDOMSelectorsRe=[/>>>/g,/::shadow/g,/::content/g,/\/deep\//g,/\/shadow-deep\//g,/\/shadow\//g];var _selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$";var _polyfillHostRe=lang_1.RegExpWrapper.create(_polyfillHost,"im");var _colonHostRe=/:host/gim;var _colonHostContextRe=/:host-context/gim;var _commentRe=/\/\*[\s\S]*?\*\//g;function stripComments(input){return lang_1.StringWrapper.replaceAllMapped(input,_commentRe,function(_){return""})}var _ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g;var _curlyRe=/([{}])/g;var OPEN_CURLY="{";var CLOSE_CURLY="}";var BLOCK_PLACEHOLDER="%BLOCK%";var CssRule=function(){function CssRule(selector,content){this.selector=selector;this.content=content}return CssRule}();exports.CssRule=CssRule;function processRules(input,ruleCallback){var inputWithEscapedBlocks=escapeBlocks(input);var nextBlockIndex=0;return lang_1.StringWrapper.replaceAllMapped(inputWithEscapedBlocks.escapedString,_ruleRe,function(m){var selector=m[2];var content="";var suffix=m[4];var contentPrefix="";if(lang_1.isPresent(m[4])&&m[4].startsWith("{"+BLOCK_PLACEHOLDER)){content=inputWithEscapedBlocks.blocks[nextBlockIndex++];suffix=m[4].substring(BLOCK_PLACEHOLDER.length+1);contentPrefix="{"}var rule=ruleCallback(new CssRule(selector,content));return""+m[1]+rule.selector+m[3]+contentPrefix+rule.content+suffix})}exports.processRules=processRules;var StringWithEscapedBlocks=function(){function StringWithEscapedBlocks(escapedString,blocks){this.escapedString=escapedString;this.blocks=blocks}return StringWithEscapedBlocks}();function escapeBlocks(input){var inputParts=lang_1.StringWrapper.split(input,_curlyRe);var resultParts=[];var escapedBlocks=[];var bracketCount=0;var currentBlockParts=[];for(var partIndex=0;partIndex<inputParts.length;partIndex++){var part=inputParts[partIndex];if(part==CLOSE_CURLY){bracketCount--}if(bracketCount>0){currentBlockParts.push(part)}else{if(currentBlockParts.length>0){escapedBlocks.push(currentBlockParts.join(""));resultParts.push(BLOCK_PLACEHOLDER);currentBlockParts=[]}resultParts.push(part)}if(part==OPEN_CURLY){bracketCount++}}if(currentBlockParts.length>0){escapedBlocks.push(currentBlockParts.join(""));resultParts.push(BLOCK_PLACEHOLDER)}return new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}global.define=__define;return module.exports});System.register("angular2/src/compiler/style_url_resolver",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var StyleWithImports=function(){function StyleWithImports(style,styleUrls){this.style=style;this.styleUrls=styleUrls}return StyleWithImports}();exports.StyleWithImports=StyleWithImports;function isStyleUrlResolvable(url){if(lang_1.isBlank(url)||url.length===0||url[0]=="/")return false;var schemeMatch=lang_1.RegExpWrapper.firstMatch(_urlWithSchemaRe,url);return lang_1.isBlank(schemeMatch)||schemeMatch[1]=="package"||schemeMatch[1]=="asset"}exports.isStyleUrlResolvable=isStyleUrlResolvable;function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[];var modifiedCssText=lang_1.StringWrapper.replaceAllMapped(cssText,_cssImportRe,function(m){var url=lang_1.isPresent(m[1])?m[1]:m[2];if(!isStyleUrlResolvable(url)){return m[0]}foundUrls.push(resolver.resolve(baseUrl,url));return""});return new StyleWithImports(modifiedCssText,foundUrls)}exports.extractStyleUrls=extractStyleUrls;var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g;var _urlWithSchemaRe=/^([a-zA-Z\-\+\.]+):/g;global.define=__define;return module.exports});System.register("angular2/src/compiler/proto_view_compiler",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/template_ast","angular2/src/compiler/source_module","angular2/src/core/linker/view","angular2/src/core/linker/view_type","angular2/src/core/linker/element","angular2/src/compiler/util","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var template_ast_1=require("angular2/src/compiler/template_ast");var source_module_1=require("angular2/src/compiler/source_module");var view_1=require("angular2/src/core/linker/view");var view_type_1=require("angular2/src/core/linker/view_type");var element_1=require("angular2/src/core/linker/element");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");exports.PROTO_VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({AppProtoView:view_1.AppProtoView,AppProtoElement:element_1.AppProtoElement,ViewType:view_type_1.ViewType});exports.APP_VIEW_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/view"+util_1.MODULE_SUFFIX);exports.VIEW_TYPE_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/view_type"+util_1.MODULE_SUFFIX);exports.APP_EL_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/element"+util_1.MODULE_SUFFIX);exports.METADATA_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/metadata/view"+util_1.MODULE_SUFFIX);var IMPLICIT_TEMPLATE_VAR="$implicit";var CLASS_ATTR="class";var STYLE_ATTR="style";var ProtoViewCompiler=function(){function ProtoViewCompiler(){}ProtoViewCompiler.prototype.compileProtoViewRuntime=function(metadataCache,component,template,pipes){var protoViewFactory=new RuntimeProtoViewFactory(metadataCache,component,pipes);var allProtoViews=[];protoViewFactory.createCompileProtoView(template,[],[],allProtoViews);return new CompileProtoViews([],allProtoViews)};ProtoViewCompiler.prototype.compileProtoViewCodeGen=function(resolvedMetadataCacheExpr,component,template,pipes){var protoViewFactory=new CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes);var allProtoViews=[];var allStatements=[];protoViewFactory.createCompileProtoView(template,[],allStatements,allProtoViews);return new CompileProtoViews(allStatements.map(function(stmt){
return stmt.statement}),allProtoViews)};ProtoViewCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ProtoViewCompiler);return ProtoViewCompiler}();exports.ProtoViewCompiler=ProtoViewCompiler;var CompileProtoViews=function(){function CompileProtoViews(declarations,protoViews){this.declarations=declarations;this.protoViews=protoViews}return CompileProtoViews}();exports.CompileProtoViews=CompileProtoViews;var CompileProtoView=function(){function CompileProtoView(embeddedTemplateIndex,protoElements,protoView){this.embeddedTemplateIndex=embeddedTemplateIndex;this.protoElements=protoElements;this.protoView=protoView}return CompileProtoView}();exports.CompileProtoView=CompileProtoView;var CompileProtoElement=function(){function CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl){this.boundElementIndex=boundElementIndex;this.attrNameAndValues=attrNameAndValues;this.variableNameAndValues=variableNameAndValues;this.renderEvents=renderEvents;this.directives=directives;this.embeddedTemplateIndex=embeddedTemplateIndex;this.appProtoEl=appProtoEl}return CompileProtoElement}();exports.CompileProtoElement=CompileProtoElement;function visitAndReturnContext(visitor,asts,context){template_ast_1.templateVisitAll(visitor,asts,context);return context}var ProtoViewFactory=function(){function ProtoViewFactory(component){this.component=component}ProtoViewFactory.prototype.createCompileProtoView=function(template,templateVariableBindings,targetStatements,targetProtoViews){var embeddedTemplateIndex=targetProtoViews.length;targetProtoViews.push(null);var builder=new ProtoViewBuilderVisitor(this,targetStatements,targetProtoViews);template_ast_1.templateVisitAll(builder,template);var viewType=getViewType(this.component,embeddedTemplateIndex);var appProtoView=this.createAppProtoView(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements);var cpv=new CompileProtoView(embeddedTemplateIndex,builder.protoElements,appProtoView);targetProtoViews[embeddedTemplateIndex]=cpv;return cpv};return ProtoViewFactory}();var CodeGenProtoViewFactory=function(_super){__extends(CodeGenProtoViewFactory,_super);function CodeGenProtoViewFactory(resolvedMetadataCacheExpr,component,pipes){_super.call(this,component);this.resolvedMetadataCacheExpr=resolvedMetadataCacheExpr;this.pipes=pipes;this._nextVarId=0}CodeGenProtoViewFactory.prototype._nextProtoViewVar=function(embeddedTemplateIndex){return"appProtoView"+this._nextVarId++ +"_"+this.component.type.name+embeddedTemplateIndex};CodeGenProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var protoViewVarName=this._nextProtoViewVar(embeddedTemplateIndex);var viewTypeExpr=codeGenViewType(viewType);var pipesExpr=embeddedTemplateIndex===0?codeGenTypesArray(this.pipes.map(function(pipeMeta){return pipeMeta.type})):null;var statement="var "+protoViewVarName+" = "+exports.APP_VIEW_MODULE_REF+"AppProtoView.create("+this.resolvedMetadataCacheExpr.expression+", "+viewTypeExpr+", "+pipesExpr+", "+util_1.codeGenStringMap(templateVariableBindings)+");";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(protoViewVarName)};CodeGenProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var varName="appProtoEl"+this._nextVarId++ +"_"+this.component.type.name;var value=exports.APP_EL_MODULE_REF+"AppProtoElement.create(\n        "+this.resolvedMetadataCacheExpr.expression+",\n        "+boundElementIndex+",\n        "+util_1.codeGenStringMap(attrNameAndValues)+",\n        "+codeGenDirectivesArray(directives)+",\n        "+util_1.codeGenStringMap(variableNameAndValues)+"\n      )";var statement="var "+varName+" = "+value+";";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(varName)};return CodeGenProtoViewFactory}(ProtoViewFactory);var RuntimeProtoViewFactory=function(_super){__extends(RuntimeProtoViewFactory,_super);function RuntimeProtoViewFactory(metadataCache,component,pipes){_super.call(this,component);this.metadataCache=metadataCache;this.pipes=pipes}RuntimeProtoViewFactory.prototype.createAppProtoView=function(embeddedTemplateIndex,viewType,templateVariableBindings,targetStatements){var pipes=embeddedTemplateIndex===0?this.pipes.map(function(pipeMeta){return pipeMeta.type.runtime}):[];var templateVars=keyValueArrayToStringMap(templateVariableBindings);return view_1.AppProtoView.create(this.metadataCache,viewType,pipes,templateVars)};RuntimeProtoViewFactory.prototype.createAppProtoElement=function(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,targetStatements){var attrs=keyValueArrayToStringMap(attrNameAndValues);return element_1.AppProtoElement.create(this.metadataCache,boundElementIndex,attrs,directives.map(function(dirMeta){return dirMeta.type.runtime}),keyValueArrayToStringMap(variableNameAndValues))};return RuntimeProtoViewFactory}(ProtoViewFactory);var ProtoViewBuilderVisitor=function(){function ProtoViewBuilderVisitor(factory,allStatements,allProtoViews){this.factory=factory;this.allStatements=allStatements;this.allProtoViews=allProtoViews;this.protoElements=[];this.boundElementCount=0}ProtoViewBuilderVisitor.prototype._readAttrNameAndValues=function(directives,attrAsts){var attrs=visitAndReturnContext(this,attrAsts,{});directives.forEach(function(directiveMeta){collection_1.StringMapWrapper.forEach(directiveMeta.hostAttributes,function(value,name){var prevValue=attrs[name];attrs[name]=lang_1.isPresent(prevValue)?mergeAttributeValue(name,prevValue,value):value})});return mapToKeyValueArray(attrs)};ProtoViewBuilderVisitor.prototype.visitBoundText=function(ast,context){return null};ProtoViewBuilderVisitor.prototype.visitText=function(ast,context){return null};ProtoViewBuilderVisitor.prototype.visitNgContent=function(ast,context){return null};ProtoViewBuilderVisitor.prototype.visitElement=function(ast,context){var _this=this;var boundElementIndex=null;if(ast.isBound()){boundElementIndex=this.boundElementCount++}var component=ast.getComponent();var variableNameAndValues=[];if(lang_1.isBlank(component)){ast.exportAsVars.forEach(function(varAst){variableNameAndValues.push([varAst.name,null])})}var directives=[];var renderEvents=visitAndReturnContext(this,ast.outputs,new Map);collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,renderEvents,variableNameAndValues,directives))});var renderEventArray=[];renderEvents.forEach(function(eventAst,_){return renderEventArray.push(eventAst)});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs);this._addProtoElement(ast.isBound(),boundElementIndex,attrNameAndValues,variableNameAndValues,renderEventArray,directives,null);template_ast_1.templateVisitAll(this,ast.children);return null};ProtoViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,context){var _this=this;var boundElementIndex=this.boundElementCount++;var directives=[];collection_1.ListWrapper.forEachWithIndex(ast.directives,function(directiveAst,index){directiveAst.visit(_this,new DirectiveContext(index,boundElementIndex,new Map,[],directives))});var attrNameAndValues=this._readAttrNameAndValues(directives,ast.attrs);var templateVariableBindings=ast.vars.map(function(varAst){return[varAst.value.length>0?varAst.value:IMPLICIT_TEMPLATE_VAR,varAst.name]});var nestedProtoView=this.factory.createCompileProtoView(ast.children,templateVariableBindings,this.allStatements,this.allProtoViews);this._addProtoElement(true,boundElementIndex,attrNameAndValues,[],[],directives,nestedProtoView.embeddedTemplateIndex);return null};ProtoViewBuilderVisitor.prototype._addProtoElement=function(isBound,boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex){var appProtoEl=null;if(isBound){appProtoEl=this.factory.createAppProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,directives,this.allStatements)}var compileProtoEl=new CompileProtoElement(boundElementIndex,attrNameAndValues,variableNameAndValues,renderEvents,directives,embeddedTemplateIndex,appProtoEl);this.protoElements.push(compileProtoEl)};ProtoViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null};ProtoViewBuilderVisitor.prototype.visitAttr=function(ast,attrNameAndValues){attrNameAndValues[ast.name]=ast.value;return null};ProtoViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){ctx.targetDirectives.push(ast.directive);template_ast_1.templateVisitAll(this,ast.hostEvents,ctx.hostEventTargetAndNames);ast.exportAsVars.forEach(function(varAst){ctx.targetVariableNameAndValues.push([varAst.name,ctx.index])});return null};ProtoViewBuilderVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){eventTargetAndNames.set(ast.fullName,ast);return null};ProtoViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null};ProtoViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null};return ProtoViewBuilderVisitor}();function mapToKeyValueArray(data){var entryArray=[];collection_1.StringMapWrapper.forEach(data,function(value,name){entryArray.push([name,value])});collection_1.ListWrapper.sort(entryArray,function(entry1,entry2){return lang_1.StringWrapper.compare(entry1[0],entry2[0])});var keyValueArray=[];entryArray.forEach(function(entry){keyValueArray.push([entry[0],entry[1]])});return keyValueArray}function mergeAttributeValue(attrName,attrValue1,attrValue2){if(attrName==CLASS_ATTR||attrName==STYLE_ATTR){return attrValue1+" "+attrValue2}else{return attrValue2}}var DirectiveContext=function(){function DirectiveContext(index,boundElementIndex,hostEventTargetAndNames,targetVariableNameAndValues,targetDirectives){this.index=index;this.boundElementIndex=boundElementIndex;this.hostEventTargetAndNames=hostEventTargetAndNames;this.targetVariableNameAndValues=targetVariableNameAndValues;this.targetDirectives=targetDirectives}return DirectiveContext}();function keyValueArrayToStringMap(keyValueArray){var stringMap={};for(var i=0;i<keyValueArray.length;i++){var entry=keyValueArray[i];stringMap[entry[0]]=entry[1]}return stringMap}function codeGenDirectivesArray(directives){var expressions=directives.map(function(directiveType){return typeRef(directiveType.type)});return"["+expressions.join(",")+"]"}function codeGenTypesArray(types){var expressions=types.map(typeRef);return"["+expressions.join(",")+"]"}function codeGenViewType(value){if(lang_1.IS_DART){return""+exports.VIEW_TYPE_MODULE_REF+value}else{return""+value}}function typeRef(type){return""+source_module_1.moduleRef(type.moduleUrl)+type.name}function getViewType(component,embeddedTemplateIndex){if(embeddedTemplateIndex>0){return view_type_1.ViewType.EMBEDDED}else if(component.type.isHost){return view_type_1.ViewType.HOST}else{return view_type_1.ViewType.COMPONENT}}global.define=__define;return module.exports});System.register("angular2/src/compiler/html_ast",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var HtmlTextAst=function(){function HtmlTextAst(value,sourceSpan){this.value=value;this.sourceSpan=sourceSpan}HtmlTextAst.prototype.visit=function(visitor,context){return visitor.visitText(this,context)};return HtmlTextAst}();exports.HtmlTextAst=HtmlTextAst;var HtmlAttrAst=function(){function HtmlAttrAst(name,value,sourceSpan){this.name=name;this.value=value;this.sourceSpan=sourceSpan}HtmlAttrAst.prototype.visit=function(visitor,context){return visitor.visitAttr(this,context)};return HtmlAttrAst}();exports.HtmlAttrAst=HtmlAttrAst;var HtmlElementAst=function(){function HtmlElementAst(name,attrs,children,sourceSpan){this.name=name;this.attrs=attrs;this.children=children;this.sourceSpan=sourceSpan}HtmlElementAst.prototype.visit=function(visitor,context){return visitor.visitElement(this,context)};return HtmlElementAst}();exports.HtmlElementAst=HtmlElementAst;function htmlVisitAll(visitor,asts,context){if(context===void 0){context=null}var result=[];asts.forEach(function(ast){var astResult=ast.visit(visitor,context);if(lang_1.isPresent(astResult)){result.push(astResult)}});return result}exports.htmlVisitAll=htmlVisitAll;global.define=__define;return module.exports});System.register("angular2/src/compiler/parse_util",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ParseLocation=function(){function ParseLocation(file,offset,line,col){this.file=file;this.offset=offset;this.line=line;this.col=col}ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col};return ParseLocation}();exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){function ParseSourceFile(content,url){this.content=content;this.url=url}return ParseSourceFile}();exports.ParseSourceFile=ParseSourceFile;var ParseError=function(){function ParseError(location,msg){this.location=location;this.msg=msg}ParseError.prototype.toString=function(){var source=this.location.file.content;var ctxStart=this.location.offset;if(ctxStart>source.length-1){ctxStart=source.length-1}var ctxEnd=ctxStart;var ctxLen=0;var ctxLines=0;while(ctxLen<100&&ctxStart>0){ctxStart--;ctxLen++;if(source[ctxStart]=="\n"){if(++ctxLines==3){break}}}ctxLen=0;ctxLines=0;while(ctxLen<100&&ctxEnd<source.length-1){ctxEnd++;ctxLen++;if(source[ctxEnd]=="\n"){if(++ctxLines==3){break}}}var context=source.substring(ctxStart,this.location.offset)+"[ERROR ->]"+source.substring(this.location.offset,ctxEnd+1);return this.msg+' ("'+context+'"): '+this.location};return ParseError}();exports.ParseError=ParseError;var ParseSourceSpan=function(){function ParseSourceSpan(start,end){this.start=start;this.end=end}ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)};return ParseSourceSpan}();exports.ParseSourceSpan=ParseSourceSpan;global.define=__define;return module.exports});System.register("angular2/src/compiler/html_tags",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");exports.NAMED_ENTITIES=lang_1.CONST_EXPR({Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",alefsym:"",Alpha:"",alpha:"",amp:"&",and:"",ang:"",apos:"'",Aring:"",aring:"",asymp:"",Atilde:"",atilde:"",Auml:"",auml:"",bdquo:"",Beta:"",beta:"",brvbar:"",bull:"",cap:"",Ccedil:"",ccedil:"",cedil:"",cent:"",Chi:"",chi:"",circ:"",clubs:"",cong:"",copy:"",crarr:"",cup:"",curren:"",dagger:"",Dagger:"",darr:"",dArr:"",deg:"",Delta:"",delta:"",diams:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",empty:"",emsp:"",ensp:"",Epsilon:"",epsilon:"",equiv:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",exist:"",fnof:"",forall:"",frac12:"",frac14:"",frac34:"",frasl:"",Gamma:"",gamma:"",ge:"",gt:">",harr:"",hArr:"",hearts:"",hellip:"",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",image:"",infin:"","int":"",Iota:"",iota:"",iquest:"",isin:"",Iuml:"",iuml:"",Kappa:"",kappa:"",Lambda:"",lambda:"",lang:"",laquo:"",larr:"",lArr:"",lceil:"",ldquo:"",le:"",lfloor:"",lowast:"",loz:"",lrm:"",lsaquo:"",lsquo:"",lt:"<",macr:"",mdash:"",micro:"",middot:"",minus:"",Mu:"",mu:"",nabla:"",nbsp:"",ndash:"",ne:"",ni:"",not:"",notin:"",nsub:"",Ntilde:"",ntilde:"",Nu:"",nu:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",OElig:"",oelig:"",Ograve:"",ograve:"",oline:"",Omega:"",omega:"",Omicron:"",omicron:"",oplus:"",or:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",otimes:"",Ouml:"",ouml:"",para:"",permil:"",perp:"",Phi:"",phi:"",Pi:"",pi:"",piv:"",plusmn:"",pound:"",prime:"",Prime:"",prod:"",prop:"",Psi:"",psi:"",quot:'"',radic:"",rang:"",raquo:"",rarr:"",rArr:"",rceil:"",rdquo:"",real:"",reg:"",rfloor:"",Rho:"",rho:"",rlm:"",rsaquo:"",rsquo:"",sbquo:"",Scaron:"",scaron:"",sdot:"",sect:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sim:"",spades:"",sub:"",sube:"",sum:"",sup:"",sup1:"",sup2:"",sup3:"",supe:"",szlig:"",Tau:"",tau:"",there4:"",Theta:"",theta:"",thetasym:"",thinsp:"",THORN:"",thorn:"",tilde:"",times:"",trade:"",Uacute:"",uacute:"",uarr:"",uArr:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",upsih:"",Upsilon:"",upsilon:"",Uuml:"",uuml:"",weierp:"",Xi:"",xi:"",Yacute:"",yacute:"",yen:"",yuml:"",Yuml:"",Zeta:"",zeta:"",zwj:"",zwnj:""});(function(HtmlTagContentType){HtmlTagContentType[HtmlTagContentType["RAW_TEXT"]=0]="RAW_TEXT";HtmlTagContentType[HtmlTagContentType["ESCAPABLE_RAW_TEXT"]=1]="ESCAPABLE_RAW_TEXT";HtmlTagContentType[HtmlTagContentType["PARSABLE_DATA"]=2]="PARSABLE_DATA"})(exports.HtmlTagContentType||(exports.HtmlTagContentType={}));var HtmlTagContentType=exports.HtmlTagContentType;var HtmlTagDefinition=function(){function HtmlTagDefinition(_a){var _this=this;var _b=_a===void 0?{}:_a,closedByChildren=_b.closedByChildren,requiredParents=_b.requiredParents,implicitNamespacePrefix=_b.implicitNamespacePrefix,contentType=_b.contentType,closedByParent=_b.closedByParent,isVoid=_b.isVoid,ignoreFirstLf=_b.ignoreFirstLf;this.closedByChildren={};this.closedByParent=false;if(lang_1.isPresent(closedByChildren)&&closedByChildren.length>0){closedByChildren.forEach(function(tagName){return _this.closedByChildren[tagName]=true})}this.isVoid=lang_1.normalizeBool(isVoid);this.closedByParent=lang_1.normalizeBool(closedByParent)||this.isVoid;if(lang_1.isPresent(requiredParents)&&requiredParents.length>0){this.requiredParents={};this.parentToAdd=requiredParents[0];requiredParents.forEach(function(tagName){return _this.requiredParents[tagName]=true})}this.implicitNamespacePrefix=implicitNamespacePrefix;this.contentType=lang_1.isPresent(contentType)?contentType:HtmlTagContentType.PARSABLE_DATA;this.ignoreFirstLf=lang_1.normalizeBool(ignoreFirstLf)}HtmlTagDefinition.prototype.requireExtraParent=function(currentParent){if(lang_1.isBlank(this.requiredParents)){return false}if(lang_1.isBlank(currentParent)){return true}var lcParent=currentParent.toLowerCase();return this.requiredParents[lcParent]!=true&&lcParent!="template"};HtmlTagDefinition.prototype.isClosedByChild=function(name){return this.isVoid||lang_1.normalizeBool(this.closedByChildren[name.toLowerCase()])};return HtmlTagDefinition}();exports.HtmlTagDefinition=HtmlTagDefinition;var TAG_DEFINITIONS={area:new HtmlTagDefinition({isVoid:true}),embed:new HtmlTagDefinition({isVoid:true}),link:new HtmlTagDefinition({isVoid:true}),img:new HtmlTagDefinition({isVoid:true}),input:new HtmlTagDefinition({isVoid:true}),param:new HtmlTagDefinition({isVoid:true}),hr:new HtmlTagDefinition({isVoid:true}),br:new HtmlTagDefinition({isVoid:true}),source:new HtmlTagDefinition({isVoid:true}),track:new HtmlTagDefinition({isVoid:true}),wbr:new HtmlTagDefinition({isVoid:true}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:true}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:true}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:true}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:true}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:true}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:true}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:true}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:true}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:true}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:true}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:true}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:true}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:true}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:true}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:true}),pre:new HtmlTagDefinition({ignoreFirstLf:true}),listing:new HtmlTagDefinition({ignoreFirstLf:true}),style:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:true})};var DEFAULT_TAG_DEFINITION=new HtmlTagDefinition;function getHtmlTagDefinition(tagName){var result=TAG_DEFINITIONS[tagName.toLowerCase()];return lang_1.isPresent(result)?result:DEFAULT_TAG_DEFINITION}exports.getHtmlTagDefinition=getHtmlTagDefinition;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;function splitNsName(elementName){if(elementName[0]!="@"){return[null,elementName]}var match=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,elementName);return[match[1],match[2]]}exports.splitNsName=splitNsName;function getNsPrefix(elementName){return splitNsName(elementName)[0]}exports.getNsPrefix=getNsPrefix;global.define=__define;return module.exports});System.register("angular2/src/compiler/schema/element_schema_registry",[],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var ElementSchemaRegistry=function(){function ElementSchemaRegistry(){}ElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){return true};ElementSchemaRegistry.prototype.getMappedPropName=function(propName){return propName};return ElementSchemaRegistry}();exports.ElementSchemaRegistry=ElementSchemaRegistry;global.define=__define;return module.exports});System.register("angular2/src/compiler/template_preparser",["angular2/src/facade/lang","angular2/src/compiler/html_tags"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var html_tags_1=require("angular2/src/compiler/html_tags");var NG_CONTENT_SELECT_ATTR="select";var NG_CONTENT_ELEMENT="ng-content";var LINK_ELEMENT="link";var LINK_STYLE_REL_ATTR="rel";var LINK_STYLE_HREF_ATTR="href";var LINK_STYLE_REL_VALUE="stylesheet";var STYLE_ELEMENT="style";var SCRIPT_ELEMENT="script";var NG_NON_BINDABLE_ATTR="ngNonBindable";function preparseElement(ast){var selectAttr=null;var hrefAttr=null;var relAttr=null;var nonBindable=false;ast.attrs.forEach(function(attr){var lcAttrName=attr.name.toLowerCase();if(lcAttrName==NG_CONTENT_SELECT_ATTR){selectAttr=attr.value}else if(lcAttrName==LINK_STYLE_HREF_ATTR){hrefAttr=attr.value}else if(lcAttrName==LINK_STYLE_REL_ATTR){relAttr=attr.value}else if(attr.name==NG_NON_BINDABLE_ATTR){nonBindable=true}});selectAttr=normalizeNgContentSelect(selectAttr);var nodeName=ast.name.toLowerCase();var type=PreparsedElementType.OTHER;if(html_tags_1.splitNsName(nodeName)[1]==NG_CONTENT_ELEMENT){type=PreparsedElementType.NG_CONTENT}else if(nodeName==STYLE_ELEMENT){type=PreparsedElementType.STYLE}else if(nodeName==SCRIPT_ELEMENT){type=PreparsedElementType.SCRIPT}else if(nodeName==LINK_ELEMENT&&relAttr==LINK_STYLE_REL_VALUE){type=PreparsedElementType.STYLESHEET}return new PreparsedElement(type,selectAttr,hrefAttr,nonBindable)}exports.preparseElement=preparseElement;(function(PreparsedElementType){PreparsedElementType[PreparsedElementType["NG_CONTENT"]=0]="NG_CONTENT";PreparsedElementType[PreparsedElementType["STYLE"]=1]="STYLE";PreparsedElementType[PreparsedElementType["STYLESHEET"]=2]="STYLESHEET";PreparsedElementType[PreparsedElementType["SCRIPT"]=3]="SCRIPT";PreparsedElementType[PreparsedElementType["OTHER"]=4]="OTHER"})(exports.PreparsedElementType||(exports.PreparsedElementType={}));var PreparsedElementType=exports.PreparsedElementType;var PreparsedElement=function(){function PreparsedElement(type,selectAttr,hrefAttr,nonBindable){this.type=type;this.selectAttr=selectAttr;this.hrefAttr=hrefAttr;this.nonBindable=nonBindable}return PreparsedElement}();exports.PreparsedElement=PreparsedElement;function normalizeNgContentSelect(selectAttr){if(lang_1.isBlank(selectAttr)||selectAttr.length===0){return"*"}return selectAttr}global.define=__define;return module.exports});System.register("angular2/src/compiler/template_normalizer",["angular2/src/compiler/directive_metadata","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/async","angular2/src/compiler/xhr","angular2/src/compiler/url_resolver","angular2/src/compiler/style_url_resolver","angular2/src/core/di","angular2/src/core/metadata/view","angular2/src/compiler/html_ast","angular2/src/compiler/html_parser","angular2/src/compiler/template_preparser"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var directive_metadata_1=require("angular2/src/compiler/directive_metadata");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var async_1=require("angular2/src/facade/async");var xhr_1=require("angular2/src/compiler/xhr");var url_resolver_1=require("angular2/src/compiler/url_resolver");var style_url_resolver_1=require("angular2/src/compiler/style_url_resolver");var di_1=require("angular2/src/core/di");var view_1=require("angular2/src/core/metadata/view");var html_ast_1=require("angular2/src/compiler/html_ast");var html_parser_1=require("angular2/src/compiler/html_parser");var template_preparser_1=require("angular2/src/compiler/template_preparser");var TemplateNormalizer=function(){function TemplateNormalizer(_xhr,_urlResolver,_htmlParser){this._xhr=_xhr;this._urlResolver=_urlResolver;this._htmlParser=_htmlParser}TemplateNormalizer.prototype.normalizeTemplate=function(directiveType,template){var _this=this;if(lang_1.isPresent(template.template)){return async_1.PromiseWrapper.resolve(this.normalizeLoadedTemplate(directiveType,template,template.template,directiveType.moduleUrl))}else if(lang_1.isPresent(template.templateUrl)){var sourceAbsUrl=this._urlResolver.resolve(directiveType.moduleUrl,template.templateUrl);return this._xhr.get(sourceAbsUrl).then(function(templateContent){return _this.normalizeLoadedTemplate(directiveType,template,templateContent,sourceAbsUrl)})}else{throw new exceptions_1.BaseException("No template specified for component "+directiveType.name)}};TemplateNormalizer.prototype.normalizeLoadedTemplate=function(directiveType,templateMeta,template,templateAbsUrl){var _this=this;var rootNodesAndErrors=this._htmlParser.parse(template,directiveType.name);if(rootNodesAndErrors.errors.length>0){var errorString=rootNodesAndErrors.errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}var visitor=new TemplatePreparseVisitor;html_ast_1.htmlVisitAll(visitor,rootNodesAndErrors.rootNodes);var allStyles=templateMeta.styles.concat(visitor.styles);var allStyleAbsUrls=visitor.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(templateAbsUrl,url)}).concat(templateMeta.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(url){return _this._urlResolver.resolve(directiveType.moduleUrl,url)}));var allResolvedStyles=allStyles.map(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,templateAbsUrl,style);styleWithImports.styleUrls.forEach(function(styleUrl){return allStyleAbsUrls.push(styleUrl)});return styleWithImports.style});var encapsulation=templateMeta.encapsulation;if(encapsulation===view_1.ViewEncapsulation.Emulated&&allResolvedStyles.length===0&&allStyleAbsUrls.length===0){encapsulation=view_1.ViewEncapsulation.None}return new directive_metadata_1.CompileTemplateMetadata({encapsulation:encapsulation,template:template,templateUrl:templateAbsUrl,styles:allResolvedStyles,styleUrls:allStyleAbsUrls,ngContentSelectors:visitor.ngContentSelectors})};TemplateNormalizer=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[xhr_1.XHR,url_resolver_1.UrlResolver,html_parser_1.HtmlParser])],TemplateNormalizer);return TemplateNormalizer}();exports.TemplateNormalizer=TemplateNormalizer;var TemplatePreparseVisitor=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[];this.styles=[];this.styleUrls=[];this.ngNonBindableStackCount=0}TemplatePreparseVisitor.prototype.visitElement=function(ast,context){var preparsedElement=template_preparser_1.preparseElement(ast);switch(preparsedElement.type){case template_preparser_1.PreparsedElementType.NG_CONTENT:if(this.ngNonBindableStackCount===0){this.ngContentSelectors.push(preparsedElement.selectAttr)}break;case template_preparser_1.PreparsedElementType.STYLE:var textContent="";ast.children.forEach(function(child){if(child instanceof html_ast_1.HtmlTextAst){textContent+=child.value}});this.styles.push(textContent);break;case template_preparser_1.PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr);break;default:break}if(preparsedElement.nonBindable){this.ngNonBindableStackCount++}html_ast_1.htmlVisitAll(this,ast.children);if(preparsedElement.nonBindable){this.ngNonBindableStackCount--}return null};TemplatePreparseVisitor.prototype.visitAttr=function(ast,context){return null};TemplatePreparseVisitor.prototype.visitText=function(ast,context){return null};return TemplatePreparseVisitor}();global.define=__define;return module.exports});System.register("angular2/src/core/linker/directive_lifecycle_reflector",["angular2/src/facade/lang","angular2/src/core/linker/interfaces"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var interfaces_1=require("angular2/src/core/linker/interfaces");function hasLifecycleHook(lcInterface,token){if(!(token instanceof lang_1.Type))return false;var proto=token.prototype;switch(lcInterface){case interfaces_1.LifecycleHooks.AfterContentInit:return!!proto.ngAfterContentInit;case interfaces_1.LifecycleHooks.AfterContentChecked:return!!proto.ngAfterContentChecked;case interfaces_1.LifecycleHooks.AfterViewInit:return!!proto.ngAfterViewInit;case interfaces_1.LifecycleHooks.AfterViewChecked:return!!proto.ngAfterViewChecked;case interfaces_1.LifecycleHooks.OnChanges:return!!proto.ngOnChanges;case interfaces_1.LifecycleHooks.DoCheck:return!!proto.ngDoCheck;case interfaces_1.LifecycleHooks.OnDestroy:return!!proto.ngOnDestroy;
case interfaces_1.LifecycleHooks.OnInit:return!!proto.ngOnInit;default:return false}}exports.hasLifecycleHook=hasLifecycleHook;global.define=__define;return module.exports});System.register("angular2/src/compiler/schema/dom_element_schema_registry",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/platform/dom/dom_adapter","angular2/src/compiler/html_tags","angular2/src/compiler/schema/element_schema_registry"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var html_tags_1=require("angular2/src/compiler/html_tags");var element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry");var NAMESPACE_URIS=lang_1.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"});var DomElementSchemaRegistry=function(_super){__extends(DomElementSchemaRegistry,_super);function DomElementSchemaRegistry(){_super.apply(this,arguments);this._protoElements=new Map}DomElementSchemaRegistry.prototype._getProtoElement=function(tagName){var element=this._protoElements.get(tagName);if(lang_1.isBlank(element)){var nsAndName=html_tags_1.splitNsName(tagName);element=lang_1.isPresent(nsAndName[0])?dom_adapter_1.DOM.createElementNS(NAMESPACE_URIS[nsAndName[0]],nsAndName[1]):dom_adapter_1.DOM.createElement(nsAndName[1]);this._protoElements.set(tagName,element)}return element};DomElementSchemaRegistry.prototype.hasProperty=function(tagName,propName){if(tagName.indexOf("-")!==-1){return true}else{var elm=this._getProtoElement(tagName);return dom_adapter_1.DOM.hasProperty(elm,propName)}};DomElementSchemaRegistry.prototype.getMappedPropName=function(propName){var mappedPropName=collection_1.StringMapWrapper.get(dom_adapter_1.DOM.attrToPropMap,propName);return lang_1.isPresent(mappedPropName)?mappedPropName:propName};DomElementSchemaRegistry=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],DomElementSchemaRegistry);return DomElementSchemaRegistry}(element_schema_registry_1.ElementSchemaRegistry);exports.DomElementSchemaRegistry=DomElementSchemaRegistry;global.define=__define;return module.exports});System.register("angular2/src/core/angular_entrypoint",["angular2/src/facade/lang"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var AngularEntrypoint=function(){function AngularEntrypoint(name){this.name=name}AngularEntrypoint=__decorate([lang_1.CONST(),__metadata("design:paramtypes",[String])],AngularEntrypoint);return AngularEntrypoint}();exports.AngularEntrypoint=AngularEntrypoint;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/async_pipe",["angular2/src/facade/lang","angular2/src/facade/async","angular2/core","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var ObservableStrategy=function(){function ObservableStrategy(){}ObservableStrategy.prototype.createSubscription=function(async,updateLatestValue){return async_1.ObservableWrapper.subscribe(async,updateLatestValue,function(e){throw e})};ObservableStrategy.prototype.dispose=function(subscription){async_1.ObservableWrapper.dispose(subscription)};ObservableStrategy.prototype.onDestroy=function(subscription){async_1.ObservableWrapper.dispose(subscription)};return ObservableStrategy}();var PromiseStrategy=function(){function PromiseStrategy(){}PromiseStrategy.prototype.createSubscription=function(async,updateLatestValue){return async.then(updateLatestValue)};PromiseStrategy.prototype.dispose=function(subscription){};PromiseStrategy.prototype.onDestroy=function(subscription){};return PromiseStrategy}();var _promiseStrategy=new PromiseStrategy;var _observableStrategy=new ObservableStrategy;var AsyncPipe=function(){function AsyncPipe(_ref){this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null;this._strategy=null;this._ref=_ref}AsyncPipe.prototype.ngOnDestroy=function(){if(lang_1.isPresent(this._subscription)){this._dispose()}};AsyncPipe.prototype.transform=function(obj,args){if(lang_1.isBlank(this._obj)){if(lang_1.isPresent(obj)){this._subscribe(obj)}return this._latestValue}if(obj!==this._obj){this._dispose();return this.transform(obj)}if(this._latestValue===this._latestReturnedValue){return this._latestReturnedValue}else{this._latestReturnedValue=this._latestValue;return core_1.WrappedValue.wrap(this._latestValue)}};AsyncPipe.prototype._subscribe=function(obj){var _this=this;this._obj=obj;this._strategy=this._selectStrategy(obj);this._subscription=this._strategy.createSubscription(obj,function(value){return _this._updateLatestValue(obj,value)})};AsyncPipe.prototype._selectStrategy=function(obj){if(lang_1.isPromise(obj)){return _promiseStrategy}else if(async_1.ObservableWrapper.isObservable(obj)){return _observableStrategy}else{throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(AsyncPipe,obj)}};AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription);this._latestValue=null;this._latestReturnedValue=null;this._subscription=null;this._obj=null};AsyncPipe.prototype._updateLatestValue=function(async,value){if(async===this._obj){this._latestValue=value;this._ref.markForCheck()}};AsyncPipe=__decorate([core_1.Pipe({name:"async",pure:false}),core_1.Injectable(),__metadata("design:paramtypes",[core_1.ChangeDetectorRef])],AsyncPipe);return AsyncPipe}();exports.AsyncPipe=AsyncPipe;global.define=__define;return module.exports});System.register("angular2/src/common/pipes/date_pipe",["angular2/src/facade/lang","angular2/src/facade/intl","angular2/core","angular2/src/facade/collection","angular2/src/common/pipes/invalid_pipe_argument_exception"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var intl_1=require("angular2/src/facade/intl");var core_1=require("angular2/core");var collection_1=require("angular2/src/facade/collection");var invalid_pipe_argument_exception_1=require("angular2/src/common/pipes/invalid_pipe_argument_exception");var defaultLocale="en-US";var DatePipe=function(){function DatePipe(){}DatePipe.prototype.transform=function(value,args){if(lang_1.isBlank(value))return null;if(!this.supports(value)){throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(DatePipe,value)}var pattern=lang_1.isPresent(args)&&args.length>0?args[0]:"mediumDate";if(lang_1.isNumber(value)){value=lang_1.DateWrapper.fromMillis(value)}if(collection_1.StringMapWrapper.contains(DatePipe._ALIASES,pattern)){pattern=collection_1.StringMapWrapper.get(DatePipe._ALIASES,pattern)}return intl_1.DateFormatter.format(value,defaultLocale,pattern)};DatePipe.prototype.supports=function(obj){return lang_1.isDate(obj)||lang_1.isNumber(obj)};DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"};DatePipe=__decorate([lang_1.CONST(),core_1.Pipe({name:"date",pure:true}),core_1.Injectable(),__metadata("design:paramtypes",[])],DatePipe);return DatePipe}();exports.DatePipe=DatePipe;global.define=__define;return module.exports});System.register("angular2/src/common/directives",["angular2/src/common/directives/ng_class","angular2/src/common/directives/ng_for","angular2/src/common/directives/ng_if","angular2/src/common/directives/ng_style","angular2/src/common/directives/ng_switch","angular2/src/common/directives/observable_list_diff","angular2/src/common/directives/core_directives"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}var ng_class_1=require("angular2/src/common/directives/ng_class");exports.NgClass=ng_class_1.NgClass;var ng_for_1=require("angular2/src/common/directives/ng_for");exports.NgFor=ng_for_1.NgFor;var ng_if_1=require("angular2/src/common/directives/ng_if");exports.NgIf=ng_if_1.NgIf;var ng_style_1=require("angular2/src/common/directives/ng_style");exports.NgStyle=ng_style_1.NgStyle;var ng_switch_1=require("angular2/src/common/directives/ng_switch");exports.NgSwitch=ng_switch_1.NgSwitch;exports.NgSwitchWhen=ng_switch_1.NgSwitchWhen;exports.NgSwitchDefault=ng_switch_1.NgSwitchDefault;__export(require("angular2/src/common/directives/observable_list_diff"));var core_directives_1=require("angular2/src/common/directives/core_directives");exports.CORE_DIRECTIVES=core_directives_1.CORE_DIRECTIVES;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/shared",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/common/forms/validators","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/number_value_accessor","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives/normalize_validator"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var validators_1=require("angular2/src/common/forms/validators");var default_value_accessor_1=require("angular2/src/common/forms/directives/default_value_accessor");var number_value_accessor_1=require("angular2/src/common/forms/directives/number_value_accessor");var checkbox_value_accessor_1=require("angular2/src/common/forms/directives/checkbox_value_accessor");var select_control_value_accessor_1=require("angular2/src/common/forms/directives/select_control_value_accessor");var normalize_validator_1=require("angular2/src/common/forms/directives/normalize_validator");function controlPath(name,parent){var p=collection_1.ListWrapper.clone(parent.path);p.push(name);return p}exports.controlPath=controlPath;function setUpControl(control,dir){if(lang_1.isBlank(control))_throwError(dir,"Cannot find control");if(lang_1.isBlank(dir.valueAccessor))_throwError(dir,"No value accessor for");control.validator=validators_1.Validators.compose([control.validator,dir.validator]);control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator]);dir.valueAccessor.writeValue(control.value);dir.valueAccessor.registerOnChange(function(newValue){dir.viewToModelUpdate(newValue);control.updateValue(newValue,{emitModelToViewChange:false});control.markAsDirty()});control.registerOnChange(function(newValue){return dir.valueAccessor.writeValue(newValue)});dir.valueAccessor.registerOnTouched(function(){return control.markAsTouched()})}exports.setUpControl=setUpControl;function setUpControlGroup(control,dir){if(lang_1.isBlank(control))_throwError(dir,"Cannot find control");control.validator=validators_1.Validators.compose([control.validator,dir.validator]);control.asyncValidator=validators_1.Validators.composeAsync([control.asyncValidator,dir.asyncValidator])}exports.setUpControlGroup=setUpControlGroup;function _throwError(dir,message){var path=dir.path.join(" -> ");throw new exceptions_1.BaseException(message+" '"+path+"'")}function composeValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.compose(validators.map(normalize_validator_1.normalizeValidator)):null}exports.composeValidators=composeValidators;function composeAsyncValidators(validators){return lang_1.isPresent(validators)?validators_1.Validators.composeAsync(validators.map(normalize_validator_1.normalizeValidator)):null}exports.composeAsyncValidators=composeAsyncValidators;function isPropertyUpdated(changes,viewModel){if(!collection_1.StringMapWrapper.contains(changes,"model"))return false;var change=changes["model"];if(change.isFirstChange())return true;return!lang_1.looseIdentical(viewModel,change.currentValue)}exports.isPropertyUpdated=isPropertyUpdated;function selectValueAccessor(dir,valueAccessors){if(lang_1.isBlank(valueAccessors))return null;var defaultAccessor;var builtinAccessor;var customAccessor;valueAccessors.forEach(function(v){if(v instanceof default_value_accessor_1.DefaultValueAccessor){defaultAccessor=v}else if(v instanceof checkbox_value_accessor_1.CheckboxControlValueAccessor||v instanceof number_value_accessor_1.NumberValueAccessor||v instanceof select_control_value_accessor_1.SelectControlValueAccessor){if(lang_1.isPresent(builtinAccessor))_throwError(dir,"More than one built-in value accessor matches");builtinAccessor=v}else{if(lang_1.isPresent(customAccessor))_throwError(dir,"More than one custom value accessor matches");customAccessor=v}});if(lang_1.isPresent(customAccessor))return customAccessor;if(lang_1.isPresent(builtinAccessor))return builtinAccessor;if(lang_1.isPresent(defaultAccessor))return defaultAccessor;_throwError(dir,"No valid value accessor for");return null}exports.selectValueAccessor=selectValueAccessor;global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives",["angular2/src/facade/lang","angular2/src/common/forms/directives/ng_control_name","angular2/src/common/forms/directives/ng_form_control","angular2/src/common/forms/directives/ng_model","angular2/src/common/forms/directives/ng_control_group","angular2/src/common/forms/directives/ng_form_model","angular2/src/common/forms/directives/ng_form","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/number_value_accessor","angular2/src/common/forms/directives/ng_control_status","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives/validators","angular2/src/common/forms/directives/ng_control_name","angular2/src/common/forms/directives/ng_form_control","angular2/src/common/forms/directives/ng_model","angular2/src/common/forms/directives/ng_control_group","angular2/src/common/forms/directives/ng_form_model","angular2/src/common/forms/directives/ng_form","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/number_value_accessor","angular2/src/common/forms/directives/ng_control_status","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives/validators","angular2/src/common/forms/directives/ng_control"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var ng_control_name_1=require("angular2/src/common/forms/directives/ng_control_name");var ng_form_control_1=require("angular2/src/common/forms/directives/ng_form_control");var ng_model_1=require("angular2/src/common/forms/directives/ng_model");var ng_control_group_1=require("angular2/src/common/forms/directives/ng_control_group");var ng_form_model_1=require("angular2/src/common/forms/directives/ng_form_model");var ng_form_1=require("angular2/src/common/forms/directives/ng_form");var default_value_accessor_1=require("angular2/src/common/forms/directives/default_value_accessor");var checkbox_value_accessor_1=require("angular2/src/common/forms/directives/checkbox_value_accessor");var number_value_accessor_1=require("angular2/src/common/forms/directives/number_value_accessor");var ng_control_status_1=require("angular2/src/common/forms/directives/ng_control_status");var select_control_value_accessor_1=require("angular2/src/common/forms/directives/select_control_value_accessor");var validators_1=require("angular2/src/common/forms/directives/validators");var ng_control_name_2=require("angular2/src/common/forms/directives/ng_control_name");exports.NgControlName=ng_control_name_2.NgControlName;var ng_form_control_2=require("angular2/src/common/forms/directives/ng_form_control");exports.NgFormControl=ng_form_control_2.NgFormControl;var ng_model_2=require("angular2/src/common/forms/directives/ng_model");exports.NgModel=ng_model_2.NgModel;var ng_control_group_2=require("angular2/src/common/forms/directives/ng_control_group");exports.NgControlGroup=ng_control_group_2.NgControlGroup;var ng_form_model_2=require("angular2/src/common/forms/directives/ng_form_model");exports.NgFormModel=ng_form_model_2.NgFormModel;var ng_form_2=require("angular2/src/common/forms/directives/ng_form");exports.NgForm=ng_form_2.NgForm;var default_value_accessor_2=require("angular2/src/common/forms/directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var checkbox_value_accessor_2=require("angular2/src/common/forms/directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var number_value_accessor_2=require("angular2/src/common/forms/directives/number_value_accessor");exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var ng_control_status_2=require("angular2/src/common/forms/directives/ng_control_status");exports.NgControlStatus=ng_control_status_2.NgControlStatus;var select_control_value_accessor_2=require("angular2/src/common/forms/directives/select_control_value_accessor");exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor;exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption;var validators_2=require("angular2/src/common/forms/directives/validators");exports.RequiredValidator=validators_2.RequiredValidator;exports.MinLengthValidator=validators_2.MinLengthValidator;exports.MaxLengthValidator=validators_2.MaxLengthValidator;var ng_control_1=require("angular2/src/common/forms/directives/ng_control");exports.NgControl=ng_control_1.NgControl;exports.FORM_DIRECTIVES=lang_1.CONST_EXPR([ng_control_name_1.NgControlName,ng_control_group_1.NgControlGroup,ng_form_control_1.NgFormControl,ng_model_1.NgModel,ng_form_model_1.NgFormModel,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator]);global.define=__define;return module.exports});System.register("angular2/src/platform/dom/events/hammer_gestures",["angular2/src/platform/dom/events/hammer_common","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var hammer_common_1=require("angular2/src/platform/dom/events/hammer_common");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var di_1=require("angular2/src/core/di");var HammerGesturesPlugin=function(_super){__extends(HammerGesturesPlugin,_super);function HammerGesturesPlugin(){_super.apply(this,arguments)}HammerGesturesPlugin.prototype.supports=function(eventName){if(!_super.prototype.supports.call(this,eventName))return false;if(!lang_1.isPresent(window["Hammer"])){throw new exceptions_1.BaseException("Hammer.js is not loaded, can not bind "+eventName+" event")}return true};HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var zone=this.manager.getZone();eventName=eventName.toLowerCase();return zone.runOutsideAngular(function(){var mc=new Hammer(element);mc.get("pinch").set({enable:true});mc.get("rotate").set({enable:true});var handler=function(eventObj){zone.run(function(){handler(eventObj)})};mc.on(eventName,handler);return function(){mc.off(eventName,handler)}})};HammerGesturesPlugin=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],HammerGesturesPlugin);return HammerGesturesPlugin}(hammer_common_1.HammerGesturesPluginCommon);exports.HammerGesturesPlugin=HammerGesturesPlugin;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/xhr_impl",["angular2/src/facade/promise","angular2/src/facade/lang","angular2/src/compiler/xhr"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var promise_1=require("angular2/src/facade/promise");var lang_1=require("angular2/src/facade/lang");var xhr_1=require("angular2/src/compiler/xhr");var XHRImpl=function(_super){__extends(XHRImpl,_super);function XHRImpl(){_super.apply(this,arguments)}XHRImpl.prototype.get=function(url){var completer=promise_1.PromiseWrapper.completer();var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="text";xhr.onload=function(){var response=lang_1.isPresent(xhr.response)?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:0}if(200<=status&&status<=300){completer.resolve(response)}else{completer.reject("Failed to load "+url,null)}};xhr.onerror=function(){completer.reject("Failed to load "+url,null)};xhr.send();return completer.promise};return XHRImpl}(xhr_1.XHR);exports.XHRImpl=XHRImpl;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/tools/common_tools",["angular2/src/core/application_ref","angular2/src/facade/lang","angular2/src/facade/browser","angular2/src/platform/dom/dom_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var application_ref_1=require("angular2/src/core/application_ref");var lang_1=require("angular2/src/facade/lang");var browser_1=require("angular2/src/facade/browser");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var AngularTools=function(){function AngularTools(ref){this.profiler=new AngularProfiler(ref)}return AngularTools}();exports.AngularTools=AngularTools;var AngularProfiler=function(){function AngularProfiler(ref){this.appRef=ref.injector.get(application_ref_1.ApplicationRef)}AngularProfiler.prototype.timeChangeDetection=function(config){var record=lang_1.isPresent(config)&&config["record"];var profileName="Change Detection";var isProfilerAvailable=lang_1.isPresent(browser_1.window.console.profile);if(record&&isProfilerAvailable){browser_1.window.console.profile(profileName)}var start=dom_adapter_1.DOM.performanceNow();var numTicks=0;while(numTicks<5||dom_adapter_1.DOM.performanceNow()-start<500){this.appRef.tick();numTicks++}var end=dom_adapter_1.DOM.performanceNow();if(record&&isProfilerAvailable){browser_1.window.console.profileEnd(profileName)}var msPerTick=(end-start)/numTicks;browser_1.window.console.log("ran "+numTicks+" change detection cycles");browser_1.window.console.log(lang_1.NumberWrapper.toFixed(msPerTick,2)+" ms per check")};return AngularProfiler}();exports.AngularProfiler=AngularProfiler;global.define=__define;return module.exports});System.register("angular2/src/compiler/directive_metadata",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/core/change_detection/change_detection","angular2/src/core/metadata/view","angular2/src/compiler/selector","angular2/src/compiler/util","angular2/src/core/linker/interfaces"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var view_1=require("angular2/src/core/metadata/view");var selector_1=require("angular2/src/compiler/selector");var util_1=require("angular2/src/compiler/util");var interfaces_1=require("angular2/src/core/linker/interfaces");var HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g;var CompileMetadataWithType=function(){function CompileMetadataWithType(){}CompileMetadataWithType.fromJson=function(data){return _COMPILE_METADATA_FROM_JSON[data["class"]](data)};Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return exceptions_1.unimplemented()},enumerable:true,configurable:true});return CompileMetadataWithType}();exports.CompileMetadataWithType=CompileMetadataWithType;var CompileTypeMetadata=function(){function CompileTypeMetadata(_a){var _b=_a===void 0?{}:_a,runtime=_b.runtime,name=_b.name,moduleUrl=_b.moduleUrl,isHost=_b.isHost;this.runtime=runtime;this.name=name;this.moduleUrl=moduleUrl;this.isHost=lang_1.normalizeBool(isHost)}CompileTypeMetadata.fromJson=function(data){return new CompileTypeMetadata({name:data["name"],moduleUrl:data["moduleUrl"],isHost:data["isHost"]})};CompileTypeMetadata.prototype.toJson=function(){return{name:this.name,moduleUrl:this.moduleUrl,isHost:this.isHost}};return CompileTypeMetadata}();exports.CompileTypeMetadata=CompileTypeMetadata;var CompileTemplateMetadata=function(){function CompileTemplateMetadata(_a){var _b=_a===void 0?{}:_a,encapsulation=_b.encapsulation,template=_b.template,templateUrl=_b.templateUrl,styles=_b.styles,styleUrls=_b.styleUrls,ngContentSelectors=_b.ngContentSelectors;this.encapsulation=lang_1.isPresent(encapsulation)?encapsulation:view_1.ViewEncapsulation.Emulated;this.template=template;this.templateUrl=templateUrl;this.styles=lang_1.isPresent(styles)?styles:[];this.styleUrls=lang_1.isPresent(styleUrls)?styleUrls:[];this.ngContentSelectors=lang_1.isPresent(ngContentSelectors)?ngContentSelectors:[]}CompileTemplateMetadata.fromJson=function(data){return new CompileTemplateMetadata({encapsulation:lang_1.isPresent(data["encapsulation"])?view_1.VIEW_ENCAPSULATION_VALUES[data["encapsulation"]]:data["encapsulation"],template:data["template"],templateUrl:data["templateUrl"],styles:data["styles"],styleUrls:data["styleUrls"],ngContentSelectors:data["ngContentSelectors"]})};CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:lang_1.isPresent(this.encapsulation)?lang_1.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors}};return CompileTemplateMetadata}();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=function(){function CompileDirectiveMetadata(_a){var _b=_a===void 0?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,hostListeners=_b.hostListeners,hostProperties=_b.hostProperties,hostAttributes=_b.hostAttributes,lifecycleHooks=_b.lifecycleHooks,template=_b.template;this.type=type;this.isComponent=isComponent;this.dynamicLoadable=dynamicLoadable;this.selector=selector;this.exportAs=exportAs;this.changeDetection=changeDetection;this.inputs=inputs;this.outputs=outputs;this.hostListeners=hostListeners;this.hostProperties=hostProperties;this.hostAttributes=hostAttributes;this.lifecycleHooks=lifecycleHooks;this.template=template}CompileDirectiveMetadata.create=function(_a){var _b=_a===void 0?{}:_a,type=_b.type,isComponent=_b.isComponent,dynamicLoadable=_b.dynamicLoadable,selector=_b.selector,exportAs=_b.exportAs,changeDetection=_b.changeDetection,inputs=_b.inputs,outputs=_b.outputs,host=_b.host,lifecycleHooks=_b.lifecycleHooks,template=_b.template;var hostListeners={};var hostProperties={};var hostAttributes={};if(lang_1.isPresent(host)){
collection_1.StringMapWrapper.forEach(host,function(value,key){var matches=lang_1.RegExpWrapper.firstMatch(HOST_REG_EXP,key);if(lang_1.isBlank(matches)){hostAttributes[key]=value}else if(lang_1.isPresent(matches[1])){hostProperties[matches[1]]=value}else if(lang_1.isPresent(matches[2])){hostListeners[matches[2]]=value}})}var inputsMap={};if(lang_1.isPresent(inputs)){inputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]})}var outputsMap={};if(lang_1.isPresent(outputs)){outputs.forEach(function(bindConfig){var parts=util_1.splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]})}return new CompileDirectiveMetadata({type:type,isComponent:lang_1.normalizeBool(isComponent),dynamicLoadable:lang_1.normalizeBool(dynamicLoadable),selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,lifecycleHooks:lang_1.isPresent(lifecycleHooks)?lifecycleHooks:[],template:template})};CompileDirectiveMetadata.fromJson=function(data){return new CompileDirectiveMetadata({isComponent:data["isComponent"],dynamicLoadable:data["dynamicLoadable"],selector:data["selector"],exportAs:data["exportAs"],type:lang_1.isPresent(data["type"])?CompileTypeMetadata.fromJson(data["type"]):data["type"],changeDetection:lang_1.isPresent(data["changeDetection"])?change_detection_1.CHANGE_DETECTION_STRATEGY_VALUES[data["changeDetection"]]:data["changeDetection"],inputs:data["inputs"],outputs:data["outputs"],hostListeners:data["hostListeners"],hostProperties:data["hostProperties"],hostAttributes:data["hostAttributes"],lifecycleHooks:data["lifecycleHooks"].map(function(hookValue){return interfaces_1.LIFECYCLE_HOOKS_VALUES[hookValue]}),template:lang_1.isPresent(data["template"])?CompileTemplateMetadata.fromJson(data["template"]):data["template"]})};CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,dynamicLoadable:this.dynamicLoadable,selector:this.selector,exportAs:this.exportAs,type:lang_1.isPresent(this.type)?this.type.toJson():this.type,changeDetection:lang_1.isPresent(this.changeDetection)?lang_1.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(hook){return lang_1.serializeEnum(hook)}),template:lang_1.isPresent(this.template)?this.template.toJson():this.template}};return CompileDirectiveMetadata}();exports.CompileDirectiveMetadata=CompileDirectiveMetadata;function createHostComponentMeta(componentType,componentSelector){var template=selector_1.CssSelector.parse(componentSelector)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({runtime:Object,name:"Host"+componentType.name,moduleUrl:componentType.moduleUrl,isHost:true}),template:new CompileTemplateMetadata({template:template,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:change_detection_1.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:true,dynamicLoadable:false,selector:"*"})}exports.createHostComponentMeta=createHostComponentMeta;var CompilePipeMetadata=function(){function CompilePipeMetadata(_a){var _b=_a===void 0?{}:_a,type=_b.type,name=_b.name,pure=_b.pure;this.type=type;this.name=name;this.pure=lang_1.normalizeBool(pure)}CompilePipeMetadata.fromJson=function(data){return new CompilePipeMetadata({type:lang_1.isPresent(data["type"])?CompileTypeMetadata.fromJson(data["type"]):data["type"],name:data["name"],pure:data["pure"]})};CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:lang_1.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}};return CompilePipeMetadata}();exports.CompilePipeMetadata=CompilePipeMetadata;var _COMPILE_METADATA_FROM_JSON={Directive:CompileDirectiveMetadata.fromJson,Pipe:CompilePipeMetadata.fromJson};global.define=__define;return module.exports});System.register("angular2/src/compiler/change_detector_compiler",["angular2/src/compiler/source_module","angular2/src/core/change_detection/change_detection_jit_generator","angular2/src/core/change_detection/abstract_change_detector","angular2/src/core/change_detection/change_detection_util","angular2/src/core/change_detection/constants","angular2/src/compiler/change_definition_factory","angular2/src/facade/lang","angular2/src/core/change_detection/change_detection","angular2/src/transform/template_compiler/change_detector_codegen","angular2/src/compiler/util","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var source_module_1=require("angular2/src/compiler/source_module");var change_detection_jit_generator_1=require("angular2/src/core/change_detection/change_detection_jit_generator");var abstract_change_detector_1=require("angular2/src/core/change_detection/abstract_change_detector");var change_detection_util_1=require("angular2/src/core/change_detection/change_detection_util");var constants_1=require("angular2/src/core/change_detection/constants");var change_definition_factory_1=require("angular2/src/compiler/change_definition_factory");var lang_1=require("angular2/src/facade/lang");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var change_detector_codegen_1=require("angular2/src/transform/template_compiler/change_detector_codegen");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");var ABSTRACT_CHANGE_DETECTOR="AbstractChangeDetector";var UTIL="ChangeDetectionUtil";var CHANGE_DETECTOR_STATE="ChangeDetectorState";exports.CHANGE_DETECTION_JIT_IMPORTS=lang_1.CONST_EXPR({AbstractChangeDetector:abstract_change_detector_1.AbstractChangeDetector,ChangeDetectionUtil:change_detection_util_1.ChangeDetectionUtil,ChangeDetectorState:constants_1.ChangeDetectorState});var ABSTRACT_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/abstract_change_detector"+util_1.MODULE_SUFFIX);var UTIL_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/change_detection_util"+util_1.MODULE_SUFFIX);var PREGEN_PROTO_CHANGE_DETECTOR_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/pregen_proto_change_detector"+util_1.MODULE_SUFFIX);var CONSTANTS_MODULE=source_module_1.moduleRef("package:angular2/src/core/change_detection/constants"+util_1.MODULE_SUFFIX);var ChangeDetectionCompiler=function(){function ChangeDetectionCompiler(_genConfig){this._genConfig=_genConfig}ChangeDetectionCompiler.prototype.compileComponentRuntime=function(componentType,strategy,parsedTemplate){var _this=this;var changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate);return changeDetectorDefinitions.map(function(definition){return _this._createChangeDetectorFactory(definition)})};ChangeDetectionCompiler.prototype._createChangeDetectorFactory=function(definition){var proto=new change_detection_1.DynamicProtoChangeDetector(definition);return function(){return proto.instantiate()}};ChangeDetectionCompiler.prototype.compileComponentCodeGen=function(componentType,strategy,parsedTemplate){var changeDetectorDefinitions=change_definition_factory_1.createChangeDetectorDefinitions(componentType,strategy,this._genConfig,parsedTemplate);var factories=[];var index=0;var sourceParts=changeDetectorDefinitions.map(function(definition){var codegen;var sourcePart;if(lang_1.IS_DART){codegen=new change_detector_codegen_1.Codegen(PREGEN_PROTO_CHANGE_DETECTOR_MODULE);var className="_"+definition.id;var typeRef=index===0&&componentType.isHost?"dynamic":""+source_module_1.moduleRef(componentType.moduleUrl)+componentType.name;codegen.generate(typeRef,className,definition);factories.push(className+".newChangeDetector");sourcePart=codegen.toString()}else{codegen=new change_detection_jit_generator_1.ChangeDetectorJITGenerator(definition,""+UTIL_MODULE+UTIL,""+ABSTRACT_CHANGE_DETECTOR_MODULE+ABSTRACT_CHANGE_DETECTOR,""+CONSTANTS_MODULE+CHANGE_DETECTOR_STATE);factories.push("function() { return new "+codegen.typeName+"(); }");sourcePart=codegen.generateSource()}index++;return sourcePart});return new source_module_1.SourceExpressions(sourceParts,factories)};ChangeDetectionCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[change_detection_1.ChangeDetectorGenConfig])],ChangeDetectionCompiler);return ChangeDetectionCompiler}();exports.ChangeDetectionCompiler=ChangeDetectionCompiler;global.define=__define;return module.exports});System.register("angular2/src/compiler/style_compiler",["angular2/src/compiler/source_module","angular2/src/core/metadata/view","angular2/src/compiler/xhr","angular2/src/facade/lang","angular2/src/facade/async","angular2/src/compiler/shadow_css","angular2/src/compiler/url_resolver","angular2/src/compiler/style_url_resolver","angular2/src/compiler/util","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var source_module_1=require("angular2/src/compiler/source_module");var view_1=require("angular2/src/core/metadata/view");var xhr_1=require("angular2/src/compiler/xhr");var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var shadow_css_1=require("angular2/src/compiler/shadow_css");var url_resolver_1=require("angular2/src/compiler/url_resolver");var style_url_resolver_1=require("angular2/src/compiler/style_url_resolver");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");var COMPONENT_VARIABLE="%COMP%";var HOST_ATTR="_nghost-"+COMPONENT_VARIABLE;var CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE;var StyleCompiler=function(){function StyleCompiler(_xhr,_urlResolver){this._xhr=_xhr;this._urlResolver=_urlResolver;this._styleCache=new Map;this._shadowCss=new shadow_css_1.ShadowCss}StyleCompiler.prototype.compileComponentRuntime=function(template){var styles=template.styles;var styleAbsUrls=template.styleUrls;return this._loadStyles(styles,styleAbsUrls,template.encapsulation===view_1.ViewEncapsulation.Emulated)};StyleCompiler.prototype.compileComponentCodeGen=function(template){var shim=template.encapsulation===view_1.ViewEncapsulation.Emulated;return this._styleCodeGen(template.styles,template.styleUrls,shim)};StyleCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){var styleWithImports=style_url_resolver_1.extractStyleUrls(this._urlResolver,stylesheetUrl,cssText);return[this._styleModule(stylesheetUrl,false,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,false)),this._styleModule(stylesheetUrl,true,this._styleCodeGen([styleWithImports.style],styleWithImports.styleUrls,true))]};StyleCompiler.prototype.clearCache=function(){this._styleCache.clear()};StyleCompiler.prototype._loadStyles=function(plainStyles,absUrls,encapsulate){var _this=this;var promises=absUrls.map(function(absUrl){var cacheKey=""+absUrl+(encapsulate?".shim":"");var result=_this._styleCache.get(cacheKey);if(lang_1.isBlank(result)){result=_this._xhr.get(absUrl).then(function(style){var styleWithImports=style_url_resolver_1.extractStyleUrls(_this._urlResolver,absUrl,style);return _this._loadStyles([styleWithImports.style],styleWithImports.styleUrls,encapsulate)});_this._styleCache.set(cacheKey,result)}return result});return async_1.PromiseWrapper.all(promises).then(function(nestedStyles){var result=plainStyles.map(function(plainStyle){return _this._shimIfNeeded(plainStyle,encapsulate)});nestedStyles.forEach(function(styles){return result.push(styles)});return result})};StyleCompiler.prototype._styleCodeGen=function(plainStyles,absUrls,shim){var _this=this;var arrayPrefix=lang_1.IS_DART?"const":"";var styleExpressions=plainStyles.map(function(plainStyle){return util_1.escapeSingleQuoteString(_this._shimIfNeeded(plainStyle,shim))});for(var i=0;i<absUrls.length;i++){var moduleUrl=this._createModuleUrl(absUrls[i],shim);styleExpressions.push(source_module_1.moduleRef(moduleUrl)+"STYLES")}var expressionSource=arrayPrefix+" ["+styleExpressions.join(",")+"]";return new source_module_1.SourceExpression([],expressionSource)};StyleCompiler.prototype._styleModule=function(stylesheetUrl,shim,expression){var moduleSource="\n      "+expression.declarations.join("\n")+"\n      "+util_1.codeGenExportVariable("STYLES")+expression.expression+";\n    ";return new source_module_1.SourceModule(this._createModuleUrl(stylesheetUrl,shim),moduleSource)};StyleCompiler.prototype._shimIfNeeded=function(style,shim){return shim?this._shadowCss.shimCssText(style,CONTENT_ATTR,HOST_ATTR):style};StyleCompiler.prototype._createModuleUrl=function(stylesheetUrl,shim){return shim?stylesheetUrl+".shim"+util_1.MODULE_SUFFIX:""+stylesheetUrl+util_1.MODULE_SUFFIX};StyleCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[xhr_1.XHR,url_resolver_1.UrlResolver])],StyleCompiler);return StyleCompiler}();exports.StyleCompiler=StyleCompiler;global.define=__define;return module.exports});System.register("angular2/src/compiler/view_compiler",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/template_ast","angular2/src/compiler/source_module","angular2/src/core/linker/view","angular2/src/core/linker/view_type","angular2/src/core/linker/element","angular2/src/core/metadata/view","angular2/src/compiler/util","angular2/src/core/di","angular2/src/compiler/proto_view_compiler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var template_ast_1=require("angular2/src/compiler/template_ast");var source_module_1=require("angular2/src/compiler/source_module");var view_1=require("angular2/src/core/linker/view");var view_type_1=require("angular2/src/core/linker/view_type");var element_1=require("angular2/src/core/linker/element");var view_2=require("angular2/src/core/metadata/view");var util_1=require("angular2/src/compiler/util");var di_1=require("angular2/src/core/di");var proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler");exports.VIEW_JIT_IMPORTS=lang_1.CONST_EXPR({AppView:view_1.AppView,AppElement:element_1.AppElement,flattenNestedViewRenderNodes:view_1.flattenNestedViewRenderNodes,checkSlotCount:view_1.checkSlotCount});var ViewCompiler=function(){function ViewCompiler(){}ViewCompiler.prototype.compileComponentRuntime=function(component,template,styles,protoViews,changeDetectorFactories,componentViewFactory){var viewFactory=new RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory);return viewFactory.createViewFactory(template,0,[])};ViewCompiler.prototype.compileComponentCodeGen=function(component,template,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory){var viewFactory=new CodeGenViewFactory(component,styles,protoViews,changeDetectorFactoryExpressions,componentViewFactory);var targetStatements=[];var viewFactoryExpression=viewFactory.createViewFactory(template,0,targetStatements);return new source_module_1.SourceExpression(targetStatements.map(function(stmt){return stmt.statement}),viewFactoryExpression.expression)};ViewCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],ViewCompiler);return ViewCompiler}();exports.ViewCompiler=ViewCompiler;var CodeGenViewFactory=function(){function CodeGenViewFactory(component,styles,protoViews,changeDetectorExpressions,componentViewFactory){this.component=component;this.styles=styles;this.protoViews=protoViews;this.changeDetectorExpressions=changeDetectorExpressions;this.componentViewFactory=componentViewFactory;this._nextVarId=0}CodeGenViewFactory.prototype._nextVar=function(prefix){return""+prefix+this._nextVarId++ +"_"+this.component.type.name};CodeGenViewFactory.prototype._nextRenderVar=function(){return this._nextVar("render")};CodeGenViewFactory.prototype._nextAppVar=function(){return this._nextVar("app")};CodeGenViewFactory.prototype._nextDisposableVar=function(){return"disposable"+this._nextVarId++ +"_"+this.component.type.name};CodeGenViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){var varName=this._nextRenderVar();var statement="var "+varName+" = "+renderer.expression+".createText("+(lang_1.isPresent(parent)?parent.expression:null)+", "+util_1.escapeSingleQuoteString(text)+");";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(varName)};CodeGenViewFactory.prototype.createElement=function(renderer,parentRenderNode,name,rootSelector,targetStatements){var varName=this._nextRenderVar();var valueExpr;if(lang_1.isPresent(rootSelector)){valueExpr=rootSelector.expression+" == null ?\n        "+renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+") :\n        "+renderer.expression+".selectRootElement("+rootSelector.expression+");"}else{valueExpr=renderer.expression+".createElement("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+", "+util_1.escapeSingleQuoteString(name)+")"}var statement="var "+varName+" = "+valueExpr+";";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(varName)};CodeGenViewFactory.prototype.createTemplateAnchor=function(renderer,parentRenderNode,targetStatements){var varName=this._nextRenderVar();var valueExpr=renderer.expression+".createTemplateAnchor("+(lang_1.isPresent(parentRenderNode)?parentRenderNode.expression:null)+");";targetStatements.push(new util_1.Statement("var "+varName+" = "+valueExpr));return new util_1.Expression(varName)};CodeGenViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){var disposableVar=this._nextDisposableVar();var eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listenGlobal("+util_1.escapeValue(eventAst.target)+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");"));return new util_1.Expression(disposableVar)};CodeGenViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){var disposableVar=this._nextDisposableVar();var eventHandlerExpr=codeGenEventHandler(appView,boundElementIndex,eventAst.fullName);targetStatements.push(new util_1.Statement("var "+disposableVar+" = "+renderer.expression+".listen("+renderNode.expression+", "+util_1.escapeValue(eventAst.name)+", "+eventHandlerExpr+");"));return new util_1.Expression(disposableVar)};CodeGenViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".setElementAttribute("+renderNode.expression+", "+util_1.escapeSingleQuoteString(attrName)+", "+util_1.escapeSingleQuoteString(attrValue)+");"))};CodeGenViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){var appVar=this._nextAppVar();var varValue="new "+proto_view_compiler_1.APP_EL_MODULE_REF+"AppElement("+appProtoEl.expression+", "+appView.expression+",\n      "+(lang_1.isPresent(parentAppEl)?parentAppEl.expression:null)+", "+renderNode.expression+", "+(lang_1.isPresent(embeddedViewFactory)?embeddedViewFactory.expression:null)+")";targetStatements.push(new util_1.Statement("var "+appVar+" = "+varValue+";"));return new util_1.Expression(appVar)};CodeGenViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,view,appEl,component,contentNodesByNgContentIndex,targetStatements){var codeGenContentNodes;if(this.component.type.isHost){codeGenContentNodes=view.expression+".projectableNodes"}else{codeGenContentNodes="["+contentNodesByNgContentIndex.map(function(nodes){return util_1.codeGenFlatArray(nodes)}).join(",")+"]"}targetStatements.push(new util_1.Statement(this.componentViewFactory(component)+"("+renderer.expression+", "+viewManager.expression+", "+appEl.expression+", "+codeGenContentNodes+", null, null, null);"))};CodeGenViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return new util_1.Expression(projectableNodes.expression+"["+ngContentIndex+"]",true)};CodeGenViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){targetStatements.push(new util_1.Statement(renderer.expression+".projectNodes("+parent.expression+", "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"flattenNestedViewRenderNodes("+nodes.expression+"));"))};CodeGenViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var compileProtoView=this.protoViews[embeddedTemplateIndex];var isHostView=this.component.type.isHost;var isComponentView=embeddedTemplateIndex===0&&!isHostView;var visitor=new ViewBuilderVisitor(new util_1.Expression("renderer"),new util_1.Expression("viewManager"),new util_1.Expression("projectableNodes"),isHostView?new util_1.Expression("rootSelector"):null,new util_1.Expression("view"),compileProtoView,targetStatements,this);template_ast_1.templateVisitAll(visitor,asts,new ParentElement(isComponentView?new util_1.Expression("parentRenderNode"):null,null,null));var appProtoView=compileProtoView.protoView.expression;var viewFactoryName=codeGenViewFactoryName(this.component,embeddedTemplateIndex);var changeDetectorFactory=this.changeDetectorExpressions.expressions[embeddedTemplateIndex];var factoryArgs=["parentRenderer","viewManager","containerEl","projectableNodes","rootSelector","dynamicallyCreatedProviders","rootInjector"];var initRendererStmts=[];var rendererExpr="parentRenderer";if(embeddedTemplateIndex===0){var renderCompTypeVar=this._nextVar("renderType");targetStatements.push(new util_1.Statement("var "+renderCompTypeVar+" = null;"));var stylesVar=this._nextVar("styles");targetStatements.push(new util_1.Statement(util_1.CONST_VAR+" "+stylesVar+" = "+this.styles.expression+";"));var encapsulation=this.component.template.encapsulation;initRendererStmts.push("if ("+renderCompTypeVar+" == null) {\n        "+renderCompTypeVar+" = viewManager.createRenderComponentType("+codeGenViewEncapsulation(encapsulation)+", "+stylesVar+");\n      }");rendererExpr="parentRenderer.renderComponent("+renderCompTypeVar+")"}var statement="\n"+util_1.codeGenFnHeader(factoryArgs,viewFactoryName)+"{\n  "+initRendererStmts.join("\n")+"\n  var renderer = "+rendererExpr+";\n  var view = new "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"AppView(\n    "+appProtoView+", renderer, viewManager,\n    projectableNodes,\n    containerEl,\n    dynamicallyCreatedProviders, rootInjector,\n    "+changeDetectorFactory+"()\n  );\n  "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"checkSlotCount("+util_1.escapeValue(this.component.type.name)+", "+this.component.template.ngContentSelectors.length+", projectableNodes);\n  "+(isComponentView?"var parentRenderNode = renderer.createViewRoot(view.containerAppElement.nativeElement);":"")+"\n  "+visitor.renderStmts.map(function(stmt){return stmt.statement}).join("\n")+"\n  "+visitor.appStmts.map(function(stmt){return stmt.statement}).join("\n")+"\n\n  view.init("+util_1.codeGenFlatArray(visitor.rootNodesOrAppElements)+", "+util_1.codeGenArray(visitor.renderNodes)+", "+util_1.codeGenArray(visitor.appDisposables)+",\n            "+util_1.codeGenArray(visitor.appElements)+");\n  return view;\n}";targetStatements.push(new util_1.Statement(statement));return new util_1.Expression(viewFactoryName)};return CodeGenViewFactory}();var RuntimeViewFactory=function(){function RuntimeViewFactory(component,styles,protoViews,changeDetectorFactories,componentViewFactory){this.component=component;this.styles=styles;this.protoViews=protoViews;this.changeDetectorFactories=changeDetectorFactories;this.componentViewFactory=componentViewFactory}RuntimeViewFactory.prototype.createText=function(renderer,parent,text,targetStatements){return renderer.createText(parent,text)};RuntimeViewFactory.prototype.createElement=function(renderer,parent,name,rootSelector,targetStatements){var el;if(lang_1.isPresent(rootSelector)){el=renderer.selectRootElement(rootSelector)}else{el=renderer.createElement(parent,name)}return el};RuntimeViewFactory.prototype.createTemplateAnchor=function(renderer,parent,targetStatements){return renderer.createTemplateAnchor(parent)};RuntimeViewFactory.prototype.createGlobalEventListener=function(renderer,appView,boundElementIndex,eventAst,targetStatements){return renderer.listenGlobal(eventAst.target,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex)})};RuntimeViewFactory.prototype.createElementEventListener=function(renderer,appView,boundElementIndex,renderNode,eventAst,targetStatements){return renderer.listen(renderNode,eventAst.name,function(event){return appView.triggerEventHandlers(eventAst.fullName,event,boundElementIndex)})};RuntimeViewFactory.prototype.setElementAttribute=function(renderer,renderNode,attrName,attrValue,targetStatements){renderer.setElementAttribute(renderNode,attrName,attrValue)};RuntimeViewFactory.prototype.createAppElement=function(appProtoEl,appView,renderNode,parentAppEl,embeddedViewFactory,targetStatements){return new element_1.AppElement(appProtoEl,appView,parentAppEl,renderNode,embeddedViewFactory)};RuntimeViewFactory.prototype.createAndSetComponentView=function(renderer,viewManager,appView,appEl,component,contentNodesByNgContentIndex,targetStatements){var flattenedContentNodes;if(this.component.type.isHost){flattenedContentNodes=appView.projectableNodes}else{flattenedContentNodes=collection_1.ListWrapper.createFixedSize(contentNodesByNgContentIndex.length);for(var i=0;i<contentNodesByNgContentIndex.length;i++){flattenedContentNodes[i]=util_1.flattenArray(contentNodesByNgContentIndex[i],[])}}this.componentViewFactory(component)(renderer,viewManager,appEl,flattenedContentNodes)};RuntimeViewFactory.prototype.getProjectedNodes=function(projectableNodes,ngContentIndex){return projectableNodes[ngContentIndex]};RuntimeViewFactory.prototype.appendProjectedNodes=function(renderer,parent,nodes,targetStatements){renderer.projectNodes(parent,view_1.flattenNestedViewRenderNodes(nodes))};RuntimeViewFactory.prototype.createViewFactory=function(asts,embeddedTemplateIndex,targetStatements){var _this=this;var compileProtoView=this.protoViews[embeddedTemplateIndex];var isComponentView=compileProtoView.protoView.type===view_type_1.ViewType.COMPONENT;var renderComponentType=null;return function(parentRenderer,viewManager,containerEl,projectableNodes,rootSelector,dynamicallyCreatedProviders,rootInjector){if(rootSelector===void 0){rootSelector=null}if(dynamicallyCreatedProviders===void 0){dynamicallyCreatedProviders=null}if(rootInjector===void 0){rootInjector=null}view_1.checkSlotCount(_this.component.type.name,_this.component.template.ngContentSelectors.length,projectableNodes);var renderer;if(embeddedTemplateIndex===0){if(lang_1.isBlank(renderComponentType)){renderComponentType=viewManager.createRenderComponentType(_this.component.template.encapsulation,_this.styles)}renderer=parentRenderer.renderComponent(renderComponentType)}else{renderer=parentRenderer}var changeDetector=_this.changeDetectorFactories[embeddedTemplateIndex]();var view=new view_1.AppView(compileProtoView.protoView,renderer,viewManager,projectableNodes,containerEl,dynamicallyCreatedProviders,rootInjector,changeDetector);var visitor=new ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,compileProtoView,[],_this);var parentRenderNode=isComponentView?renderer.createViewRoot(containerEl.nativeElement):null;template_ast_1.templateVisitAll(visitor,asts,new ParentElement(parentRenderNode,null,null));view.init(util_1.flattenArray(visitor.rootNodesOrAppElements,[]),visitor.renderNodes,visitor.appDisposables,visitor.appElements);return view}};return RuntimeViewFactory}();var ParentElement=function(){function ParentElement(renderNode,appEl,component){this.renderNode=renderNode;this.appEl=appEl;this.component=component;if(lang_1.isPresent(component)){this.contentNodesByNgContentIndex=collection_1.ListWrapper.createFixedSize(component.template.ngContentSelectors.length);for(var i=0;i<this.contentNodesByNgContentIndex.length;i++){this.contentNodesByNgContentIndex[i]=[]}}else{this.contentNodesByNgContentIndex=null}}ParentElement.prototype.addContentNode=function(ngContentIndex,nodeExpr){this.contentNodesByNgContentIndex[ngContentIndex].push(nodeExpr)};return ParentElement}();var ViewBuilderVisitor=function(){function ViewBuilderVisitor(renderer,viewManager,projectableNodes,rootSelector,view,protoView,targetStatements,factory){this.renderer=renderer;this.viewManager=viewManager;this.projectableNodes=projectableNodes;this.rootSelector=rootSelector;this.view=view;this.protoView=protoView;this.targetStatements=targetStatements;this.factory=factory;this.renderStmts=[];this.renderNodes=[];this.appStmts=[];this.appElements=[];this.appDisposables=[];this.rootNodesOrAppElements=[];this.elementCount=0}ViewBuilderVisitor.prototype._addRenderNode=function(renderNode,appEl,ngContentIndex,parent){this.renderNodes.push(renderNode);if(lang_1.isPresent(parent.component)){if(lang_1.isPresent(ngContentIndex)){parent.addContentNode(ngContentIndex,lang_1.isPresent(appEl)?appEl:renderNode)}}else if(lang_1.isBlank(parent.renderNode)){this.rootNodesOrAppElements.push(lang_1.isPresent(appEl)?appEl:renderNode)}};ViewBuilderVisitor.prototype._getParentRenderNode=function(ngContentIndex,parent){return lang_1.isPresent(parent.component)&&parent.component.template.encapsulation!==view_2.ViewEncapsulation.Native?null:parent.renderNode;
};ViewBuilderVisitor.prototype.visitBoundText=function(ast,parent){return this._visitText("",ast.ngContentIndex,parent)};ViewBuilderVisitor.prototype.visitText=function(ast,parent){return this._visitText(ast.value,ast.ngContentIndex,parent)};ViewBuilderVisitor.prototype._visitText=function(value,ngContentIndex,parent){var renderNode=this.factory.createText(this.renderer,this._getParentRenderNode(ngContentIndex,parent),value,this.renderStmts);this._addRenderNode(renderNode,null,ngContentIndex,parent);return null};ViewBuilderVisitor.prototype.visitNgContent=function(ast,parent){var nodesExpression=this.factory.getProjectedNodes(this.projectableNodes,ast.index);if(lang_1.isPresent(parent.component)){if(lang_1.isPresent(ast.ngContentIndex)){parent.addContentNode(ast.ngContentIndex,nodesExpression)}}else{if(lang_1.isPresent(parent.renderNode)){this.factory.appendProjectedNodes(this.renderer,parent.renderNode,nodesExpression,this.renderStmts)}else{this.rootNodesOrAppElements.push(nodesExpression)}}return null};ViewBuilderVisitor.prototype.visitElement=function(ast,parent){var _this=this;var renderNode=this.factory.createElement(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),ast.name,this.rootSelector,this.renderStmts);var component=ast.getComponent();var elementIndex=this.elementCount++;var protoEl=this.protoView.protoElements[elementIndex];protoEl.renderEvents.forEach(function(eventAst){var disposable;if(lang_1.isPresent(eventAst.target)){disposable=_this.factory.createGlobalEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,eventAst,_this.renderStmts)}else{disposable=_this.factory.createElementEventListener(_this.renderer,_this.view,protoEl.boundElementIndex,renderNode,eventAst,_this.renderStmts)}_this.appDisposables.push(disposable)});for(var i=0;i<protoEl.attrNameAndValues.length;i++){var attrName=protoEl.attrNameAndValues[i][0];var attrValue=protoEl.attrNameAndValues[i][1];this.factory.setElementAttribute(this.renderer,renderNode,attrName,attrValue,this.renderStmts)}var appEl=null;if(lang_1.isPresent(protoEl.appProtoEl)){appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,null,this.appStmts);this.appElements.push(appEl)}this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent);var newParent=new ParentElement(renderNode,lang_1.isPresent(appEl)?appEl:parent.appEl,component);template_ast_1.templateVisitAll(this,ast.children,newParent);if(lang_1.isPresent(appEl)&&lang_1.isPresent(component)){this.factory.createAndSetComponentView(this.renderer,this.viewManager,this.view,appEl,component,newParent.contentNodesByNgContentIndex,this.appStmts)}return null};ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(ast,parent){var renderNode=this.factory.createTemplateAnchor(this.renderer,this._getParentRenderNode(ast.ngContentIndex,parent),this.renderStmts);var elementIndex=this.elementCount++;var protoEl=this.protoView.protoElements[elementIndex];var embeddedViewFactory=this.factory.createViewFactory(ast.children,protoEl.embeddedTemplateIndex,this.targetStatements);var appEl=this.factory.createAppElement(protoEl.appProtoEl,this.view,renderNode,parent.appEl,embeddedViewFactory,this.appStmts);this._addRenderNode(renderNode,appEl,ast.ngContentIndex,parent);this.appElements.push(appEl);return null};ViewBuilderVisitor.prototype.visitVariable=function(ast,ctx){return null};ViewBuilderVisitor.prototype.visitAttr=function(ast,ctx){return null};ViewBuilderVisitor.prototype.visitDirective=function(ast,ctx){return null};ViewBuilderVisitor.prototype.visitEvent=function(ast,ctx){return null};ViewBuilderVisitor.prototype.visitDirectiveProperty=function(ast,context){return null};ViewBuilderVisitor.prototype.visitElementProperty=function(ast,context){return null};return ViewBuilderVisitor}();function codeGenEventHandler(view,boundElementIndex,eventName){return util_1.codeGenValueFn(["event"],view.expression+".triggerEventHandlers("+util_1.escapeValue(eventName)+", event, "+boundElementIndex+")")}function codeGenViewFactoryName(component,embeddedTemplateIndex){return"viewFactory_"+component.type.name+embeddedTemplateIndex}function codeGenViewEncapsulation(value){if(lang_1.IS_DART){return""+proto_view_compiler_1.METADATA_MODULE_REF+value}else{return""+value}}global.define=__define;return module.exports});System.register("angular2/src/compiler/html_lexer",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/parse_util","angular2/src/compiler/html_tags"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var parse_util_1=require("angular2/src/compiler/parse_util");var html_tags_1=require("angular2/src/compiler/html_tags");(function(HtmlTokenType){HtmlTokenType[HtmlTokenType["TAG_OPEN_START"]=0]="TAG_OPEN_START";HtmlTokenType[HtmlTokenType["TAG_OPEN_END"]=1]="TAG_OPEN_END";HtmlTokenType[HtmlTokenType["TAG_OPEN_END_VOID"]=2]="TAG_OPEN_END_VOID";HtmlTokenType[HtmlTokenType["TAG_CLOSE"]=3]="TAG_CLOSE";HtmlTokenType[HtmlTokenType["TEXT"]=4]="TEXT";HtmlTokenType[HtmlTokenType["ESCAPABLE_RAW_TEXT"]=5]="ESCAPABLE_RAW_TEXT";HtmlTokenType[HtmlTokenType["RAW_TEXT"]=6]="RAW_TEXT";HtmlTokenType[HtmlTokenType["COMMENT_START"]=7]="COMMENT_START";HtmlTokenType[HtmlTokenType["COMMENT_END"]=8]="COMMENT_END";HtmlTokenType[HtmlTokenType["CDATA_START"]=9]="CDATA_START";HtmlTokenType[HtmlTokenType["CDATA_END"]=10]="CDATA_END";HtmlTokenType[HtmlTokenType["ATTR_NAME"]=11]="ATTR_NAME";HtmlTokenType[HtmlTokenType["ATTR_VALUE"]=12]="ATTR_VALUE";HtmlTokenType[HtmlTokenType["DOC_TYPE"]=13]="DOC_TYPE";HtmlTokenType[HtmlTokenType["EOF"]=14]="EOF"})(exports.HtmlTokenType||(exports.HtmlTokenType={}));var HtmlTokenType=exports.HtmlTokenType;var HtmlToken=function(){function HtmlToken(type,parts,sourceSpan){this.type=type;this.parts=parts;this.sourceSpan=sourceSpan}return HtmlToken}();exports.HtmlToken=HtmlToken;var HtmlTokenError=function(_super){__extends(HtmlTokenError,_super);function HtmlTokenError(errorMsg,tokenType,location){_super.call(this,location,errorMsg);this.tokenType=tokenType}return HtmlTokenError}(parse_util_1.ParseError);exports.HtmlTokenError=HtmlTokenError;var HtmlTokenizeResult=function(){function HtmlTokenizeResult(tokens,errors){this.tokens=tokens;this.errors=errors}return HtmlTokenizeResult}();exports.HtmlTokenizeResult=HtmlTokenizeResult;function tokenizeHtml(sourceContent,sourceUrl){return new _HtmlTokenizer(new parse_util_1.ParseSourceFile(sourceContent,sourceUrl)).tokenize()}exports.tokenizeHtml=tokenizeHtml;var $EOF=0;var $TAB=9;var $LF=10;var $FF=12;var $CR=13;var $SPACE=32;var $BANG=33;var $DQ=34;var $HASH=35;var $$=36;var $AMPERSAND=38;var $SQ=39;var $MINUS=45;var $SLASH=47;var $0=48;var $SEMICOLON=59;var $9=57;var $COLON=58;var $LT=60;var $EQ=61;var $GT=62;var $QUESTION=63;var $LBRACKET=91;var $RBRACKET=93;var $A=65;var $F=70;var $X=88;var $Z=90;var $a=97;var $f=102;var $z=122;var $x=120;var $NBSP=160;var CR_OR_CRLF_REGEXP=/\r\n?/g;function unexpectedCharacterErrorMsg(charCode){var char=charCode===$EOF?"EOF":lang_1.StringWrapper.fromCharCode(charCode);return'Unexpected character "'+char+'"'}function unknownEntityErrorMsg(entitySrc){return'Unknown entity "'+entitySrc+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}var ControlFlowError=function(){function ControlFlowError(error){this.error=error}return ControlFlowError}();var _HtmlTokenizer=function(){function _HtmlTokenizer(file){this.file=file;this.peek=-1;this.index=-1;this.line=0;this.column=-1;this.tokens=[];this.errors=[];this.input=file.content;this.length=file.content.length;this._advance()}_HtmlTokenizer.prototype._processCarriageReturns=function(content){return lang_1.StringWrapper.replaceAll(content,CR_OR_CRLF_REGEXP,"\n")};_HtmlTokenizer.prototype.tokenize=function(){while(this.peek!==$EOF){var start=this._getLocation();try{if(this._attemptCharCode($LT)){if(this._attemptCharCode($BANG)){if(this._attemptCharCode($LBRACKET)){this._consumeCdata(start)}else if(this._attemptCharCode($MINUS)){this._consumeComment(start)}else{this._consumeDocType(start)}}else if(this._attemptCharCode($SLASH)){this._consumeTagClose(start)}else{this._consumeTagOpen(start)}}else{this._consumeText()}}catch(e){if(e instanceof ControlFlowError){this.errors.push(e.error)}else{throw e}}}this._beginToken(HtmlTokenType.EOF);this._endToken([]);return new HtmlTokenizeResult(mergeTextTokens(this.tokens),this.errors)};_HtmlTokenizer.prototype._getLocation=function(){return new parse_util_1.ParseLocation(this.file,this.index,this.line,this.column)};_HtmlTokenizer.prototype._beginToken=function(type,start){if(start===void 0){start=null}if(lang_1.isBlank(start)){start=this._getLocation()}this.currentTokenStart=start;this.currentTokenType=type};_HtmlTokenizer.prototype._endToken=function(parts,end){if(end===void 0){end=null}if(lang_1.isBlank(end)){end=this._getLocation()}var token=new HtmlToken(this.currentTokenType,parts,new parse_util_1.ParseSourceSpan(this.currentTokenStart,end));this.tokens.push(token);this.currentTokenStart=null;this.currentTokenType=null;return token};_HtmlTokenizer.prototype._createError=function(msg,position){var error=new HtmlTokenError(msg,this.currentTokenType,position);this.currentTokenStart=null;this.currentTokenType=null;return new ControlFlowError(error)};_HtmlTokenizer.prototype._advance=function(){if(this.index>=this.length){throw this._createError(unexpectedCharacterErrorMsg($EOF),this._getLocation())}if(this.peek===$LF){this.line++;this.column=0}else if(this.peek!==$LF&&this.peek!==$CR){this.column++}this.index++;this.peek=this.index>=this.length?$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)};_HtmlTokenizer.prototype._attemptCharCode=function(charCode){if(this.peek===charCode){this._advance();return true}return false};_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(charCode){if(compareCharCodeCaseInsensitive(this.peek,charCode)){this._advance();return true}return false};_HtmlTokenizer.prototype._requireCharCode=function(charCode){var location=this._getLocation();if(!this._attemptCharCode(charCode)){throw this._createError(unexpectedCharacterErrorMsg(this.peek),location)}};_HtmlTokenizer.prototype._attemptStr=function(chars){for(var i=0;i<chars.length;i++){if(!this._attemptCharCode(lang_1.StringWrapper.charCodeAt(chars,i))){return false}}return true};_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(chars){for(var i=0;i<chars.length;i++){if(!this._attemptCharCodeCaseInsensitive(lang_1.StringWrapper.charCodeAt(chars,i))){return false}}return true};_HtmlTokenizer.prototype._requireStr=function(chars){var location=this._getLocation();if(!this._attemptStr(chars)){throw this._createError(unexpectedCharacterErrorMsg(this.peek),location)}};_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(predicate){while(!predicate(this.peek)){this._advance()}};_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(predicate,len){var start=this._getLocation();this._attemptCharCodeUntilFn(predicate);if(this.index-start.offset<len){throw this._createError(unexpectedCharacterErrorMsg(this.peek),start)}};_HtmlTokenizer.prototype._attemptUntilChar=function(char){while(this.peek!==char){this._advance()}};_HtmlTokenizer.prototype._readChar=function(decodeEntities){if(decodeEntities&&this.peek===$AMPERSAND){return this._decodeEntity()}else{var index=this.index;this._advance();return this.input[index]}};_HtmlTokenizer.prototype._decodeEntity=function(){var start=this._getLocation();this._advance();if(this._attemptCharCode($HASH)){var isHex=this._attemptCharCode($x)||this._attemptCharCode($X);var numberStart=this._getLocation().offset;this._attemptCharCodeUntilFn(isDigitEntityEnd);if(this.peek!=$SEMICOLON){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getLocation())}this._advance();var strNum=this.input.substring(numberStart,this.index-1);try{var charCode=lang_1.NumberWrapper.parseInt(strNum,isHex?16:10);return lang_1.StringWrapper.fromCharCode(charCode)}catch(e){var entity=this.input.substring(start.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(entity),start)}}else{var startPosition=this._savePosition();this._attemptCharCodeUntilFn(isNamedEntityEnd);if(this.peek!=$SEMICOLON){this._restorePosition(startPosition);return"&"}this._advance();var name_1=this.input.substring(start.offset+1,this.index-1);var char=html_tags_1.NAMED_ENTITIES[name_1];if(lang_1.isBlank(char)){throw this._createError(unknownEntityErrorMsg(name_1),start)}return char}};_HtmlTokenizer.prototype._consumeRawText=function(decodeEntities,firstCharOfEnd,attemptEndRest){var tagCloseStart;var textStart=this._getLocation();this._beginToken(decodeEntities?HtmlTokenType.ESCAPABLE_RAW_TEXT:HtmlTokenType.RAW_TEXT,textStart);var parts=[];while(true){tagCloseStart=this._getLocation();if(this._attemptCharCode(firstCharOfEnd)&&attemptEndRest()){break}if(this.index>tagCloseStart.offset){parts.push(this.input.substring(tagCloseStart.offset,this.index))}while(this.peek!==firstCharOfEnd){parts.push(this._readChar(decodeEntities))}}return this._endToken([this._processCarriageReturns(parts.join(""))],tagCloseStart)};_HtmlTokenizer.prototype._consumeComment=function(start){var _this=this;this._beginToken(HtmlTokenType.COMMENT_START,start);this._requireCharCode($MINUS);this._endToken([]);var textToken=this._consumeRawText(false,$MINUS,function(){return _this._attemptStr("->")});this._beginToken(HtmlTokenType.COMMENT_END,textToken.sourceSpan.end);this._endToken([])};_HtmlTokenizer.prototype._consumeCdata=function(start){var _this=this;this._beginToken(HtmlTokenType.CDATA_START,start);this._requireStr("CDATA[");this._endToken([]);var textToken=this._consumeRawText(false,$RBRACKET,function(){return _this._attemptStr("]>")});this._beginToken(HtmlTokenType.CDATA_END,textToken.sourceSpan.end);this._endToken([])};_HtmlTokenizer.prototype._consumeDocType=function(start){this._beginToken(HtmlTokenType.DOC_TYPE,start);this._attemptUntilChar($GT);this._advance();this._endToken([this.input.substring(start.offset+2,this.index-1)])};_HtmlTokenizer.prototype._consumePrefixAndName=function(){var nameOrPrefixStart=this.index;var prefix=null;while(this.peek!==$COLON&&!isPrefixEnd(this.peek)){this._advance()}var nameStart;if(this.peek===$COLON){this._advance();prefix=this.input.substring(nameOrPrefixStart,this.index-1);nameStart=this.index}else{nameStart=nameOrPrefixStart}this._requireCharCodeUntilFn(isNameEnd,this.index===nameStart?1:0);var name=this.input.substring(nameStart,this.index);return[prefix,name]};_HtmlTokenizer.prototype._consumeTagOpen=function(start){var savedPos=this._savePosition();var lowercaseTagName;try{if(!isAsciiLetter(this.peek)){throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getLocation())}var nameStart=this.index;this._consumeTagOpenStart(start);lowercaseTagName=this.input.substring(nameStart,this.index).toLowerCase();this._attemptCharCodeUntilFn(isNotWhitespace);while(this.peek!==$SLASH&&this.peek!==$GT){this._consumeAttributeName();this._attemptCharCodeUntilFn(isNotWhitespace);if(this._attemptCharCode($EQ)){this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeAttributeValue()}this._attemptCharCodeUntilFn(isNotWhitespace)}this._consumeTagOpenEnd()}catch(e){if(e instanceof ControlFlowError){this._restorePosition(savedPos);this._beginToken(HtmlTokenType.TEXT,start);this._endToken(["<"]);return}throw e}var contentTokenType=html_tags_1.getHtmlTagDefinition(lowercaseTagName).contentType;if(contentTokenType===html_tags_1.HtmlTagContentType.RAW_TEXT){this._consumeRawTextWithTagClose(lowercaseTagName,false)}else if(contentTokenType===html_tags_1.HtmlTagContentType.ESCAPABLE_RAW_TEXT){this._consumeRawTextWithTagClose(lowercaseTagName,true)}};_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(lowercaseTagName,decodeEntities){var _this=this;var textToken=this._consumeRawText(decodeEntities,$LT,function(){if(!_this._attemptCharCode($SLASH))return false;_this._attemptCharCodeUntilFn(isNotWhitespace);if(!_this._attemptStrCaseInsensitive(lowercaseTagName))return false;_this._attemptCharCodeUntilFn(isNotWhitespace);if(!_this._attemptCharCode($GT))return false;return true});this._beginToken(HtmlTokenType.TAG_CLOSE,textToken.sourceSpan.end);this._endToken([null,lowercaseTagName])};_HtmlTokenizer.prototype._consumeTagOpenStart=function(start){this._beginToken(HtmlTokenType.TAG_OPEN_START,start);var parts=this._consumePrefixAndName();this._endToken(parts)};_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(HtmlTokenType.ATTR_NAME);var prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)};_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(HtmlTokenType.ATTR_VALUE);var value;if(this.peek===$SQ||this.peek===$DQ){var quoteChar=this.peek;this._advance();var parts=[];while(this.peek!==quoteChar){parts.push(this._readChar(true))}value=parts.join("");this._advance()}else{var valueStart=this.index;this._requireCharCodeUntilFn(isNameEnd,1);value=this.input.substring(valueStart,this.index)}this._endToken([this._processCarriageReturns(value)])};_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var tokenType=this._attemptCharCode($SLASH)?HtmlTokenType.TAG_OPEN_END_VOID:HtmlTokenType.TAG_OPEN_END;this._beginToken(tokenType);this._requireCharCode($GT);this._endToken([])};_HtmlTokenizer.prototype._consumeTagClose=function(start){this._beginToken(HtmlTokenType.TAG_CLOSE,start);this._attemptCharCodeUntilFn(isNotWhitespace);var prefixAndName;prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace);this._requireCharCode($GT);this._endToken(prefixAndName)};_HtmlTokenizer.prototype._consumeText=function(){var start=this._getLocation();this._beginToken(HtmlTokenType.TEXT,start);var parts=[this._readChar(true)];while(!isTextEnd(this.peek)){parts.push(this._readChar(true))}this._endToken([this._processCarriageReturns(parts.join(""))])};_HtmlTokenizer.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]};_HtmlTokenizer.prototype._restorePosition=function(position){this.peek=position[0];this.index=position[1];this.column=position[2];this.line=position[3];var nbTokens=position[4];if(nbTokens<this.tokens.length){this.tokens=collection_1.ListWrapper.slice(this.tokens,0,nbTokens)}};return _HtmlTokenizer}();function isNotWhitespace(code){return!isWhitespace(code)||code===$EOF}function isWhitespace(code){return code>=$TAB&&code<=$SPACE||code===$NBSP}function isNameEnd(code){return isWhitespace(code)||code===$GT||code===$SLASH||code===$SQ||code===$DQ||code===$EQ}function isPrefixEnd(code){return(code<$a||$z<code)&&(code<$A||$Z<code)&&(code<$0||code>$9)}function isDigitEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiHexDigit(code)}function isNamedEntityEnd(code){return code==$SEMICOLON||code==$EOF||!isAsciiLetter(code)}function isTextEnd(code){return code===$LT||code===$EOF}function isAsciiLetter(code){return code>=$a&&code<=$z||code>=$A&&code<=$Z}function isAsciiHexDigit(code){return code>=$a&&code<=$f||code>=$A&&code<=$F||code>=$0&&code<=$9}function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)}function toUpperCaseCharCode(code){return code>=$a&&code<=$z?code-$a+$A:code}function mergeTextTokens(srcTokens){var dstTokens=[];var lastDstToken;for(var i=0;i<srcTokens.length;i++){var token=srcTokens[i];if(lang_1.isPresent(lastDstToken)&&lastDstToken.type==HtmlTokenType.TEXT&&token.type==HtmlTokenType.TEXT){lastDstToken.parts[0]+=token.parts[0];lastDstToken.sourceSpan.end=token.sourceSpan.end}else{lastDstToken=token;dstTokens.push(lastDstToken)}}return dstTokens}global.define=__define;return module.exports});System.register("angular2/src/compiler/runtime_metadata",["angular2/src/core/di","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/compiler/directive_metadata","angular2/src/core/metadata/directives","angular2/src/core/linker/directive_resolver","angular2/src/core/linker/pipe_resolver","angular2/src/core/linker/view_resolver","angular2/src/core/linker/directive_lifecycle_reflector","angular2/src/core/linker/interfaces","angular2/src/core/reflection/reflection","angular2/src/core/di","angular2/src/core/platform_directives_and_pipes","angular2/src/compiler/util","angular2/src/compiler/url_resolver"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var di_1=require("angular2/src/core/di");var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var cpl=require("angular2/src/compiler/directive_metadata");var md=require("angular2/src/core/metadata/directives");var directive_resolver_1=require("angular2/src/core/linker/directive_resolver");var pipe_resolver_1=require("angular2/src/core/linker/pipe_resolver");var view_resolver_1=require("angular2/src/core/linker/view_resolver");var directive_lifecycle_reflector_1=require("angular2/src/core/linker/directive_lifecycle_reflector");var interfaces_1=require("angular2/src/core/linker/interfaces");var reflection_1=require("angular2/src/core/reflection/reflection");var di_2=require("angular2/src/core/di");var platform_directives_and_pipes_1=require("angular2/src/core/platform_directives_and_pipes");var util_1=require("angular2/src/compiler/util");var url_resolver_1=require("angular2/src/compiler/url_resolver");var RuntimeMetadataResolver=function(){function RuntimeMetadataResolver(_directiveResolver,_pipeResolver,_viewResolver,_platformDirectives,_platformPipes){this._directiveResolver=_directiveResolver;this._pipeResolver=_pipeResolver;this._viewResolver=_viewResolver;this._platformDirectives=_platformDirectives;this._platformPipes=_platformPipes;this._directiveCache=new Map;this._pipeCache=new Map}RuntimeMetadataResolver.prototype.getDirectiveMetadata=function(directiveType){var meta=this._directiveCache.get(directiveType);if(lang_1.isBlank(meta)){var dirMeta=this._directiveResolver.resolve(directiveType);var moduleUrl=null;var templateMeta=null;var changeDetectionStrategy=null;if(dirMeta instanceof md.ComponentMetadata){var cmpMeta=dirMeta;moduleUrl=calcModuleUrl(directiveType,cmpMeta);var viewMeta=this._viewResolver.resolve(directiveType);templateMeta=new cpl.CompileTemplateMetadata({encapsulation:viewMeta.encapsulation,template:viewMeta.template,templateUrl:viewMeta.templateUrl,styles:viewMeta.styles,styleUrls:viewMeta.styleUrls});changeDetectionStrategy=cmpMeta.changeDetection}meta=cpl.CompileDirectiveMetadata.create({selector:dirMeta.selector,exportAs:dirMeta.exportAs,isComponent:lang_1.isPresent(templateMeta),dynamicLoadable:true,type:new cpl.CompileTypeMetadata({name:lang_1.stringify(directiveType),moduleUrl:moduleUrl,runtime:directiveType}),template:templateMeta,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs,outputs:dirMeta.outputs,host:dirMeta.host,lifecycleHooks:interfaces_1.LIFECYCLE_HOOKS_VALUES.filter(function(hook){return directive_lifecycle_reflector_1.hasLifecycleHook(hook,directiveType)})});this._directiveCache.set(directiveType,meta)}return meta};RuntimeMetadataResolver.prototype.getPipeMetadata=function(pipeType){var meta=this._pipeCache.get(pipeType);if(lang_1.isBlank(meta)){var pipeMeta=this._pipeResolver.resolve(pipeType);var moduleUrl=reflection_1.reflector.importUri(pipeType);meta=new cpl.CompilePipeMetadata({type:new cpl.CompileTypeMetadata({name:lang_1.stringify(pipeType),moduleUrl:moduleUrl,runtime:pipeType}),name:pipeMeta.name,pure:pipeMeta.pure});this._pipeCache.set(pipeType,meta)}return meta};RuntimeMetadataResolver.prototype.getViewDirectivesMetadata=function(component){var _this=this;var view=this._viewResolver.resolve(component);var directives=flattenDirectives(view,this._platformDirectives);for(var i=0;i<directives.length;i++){if(!isValidType(directives[i])){throw new exceptions_1.BaseException("Unexpected directive value '"+lang_1.stringify(directives[i])+"' on the View of component '"+lang_1.stringify(component)+"'")}}return directives.map(function(type){return _this.getDirectiveMetadata(type)})};RuntimeMetadataResolver.prototype.getViewPipesMetadata=function(component){var _this=this;var view=this._viewResolver.resolve(component);var pipes=flattenPipes(view,this._platformPipes);for(var i=0;i<pipes.length;i++){if(!isValidType(pipes[i])){throw new exceptions_1.BaseException("Unexpected piped value '"+lang_1.stringify(pipes[i])+"' on the View of component '"+lang_1.stringify(component)+"'")}}return pipes.map(function(type){return _this.getPipeMetadata(type)})};RuntimeMetadataResolver=__decorate([di_2.Injectable(),__param(3,di_2.Optional()),__param(3,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_DIRECTIVES)),__param(4,di_2.Optional()),__param(4,di_2.Inject(platform_directives_and_pipes_1.PLATFORM_PIPES)),__metadata("design:paramtypes",[directive_resolver_1.DirectiveResolver,pipe_resolver_1.PipeResolver,view_resolver_1.ViewResolver,Array,Array])],RuntimeMetadataResolver);return RuntimeMetadataResolver}();exports.RuntimeMetadataResolver=RuntimeMetadataResolver;function flattenDirectives(view,platformDirectives){var directives=[];if(lang_1.isPresent(platformDirectives)){flattenArray(platformDirectives,directives)}if(lang_1.isPresent(view.directives)){flattenArray(view.directives,directives)}return directives}function flattenPipes(view,platformPipes){var pipes=[];if(lang_1.isPresent(platformPipes)){flattenArray(platformPipes,pipes)}if(lang_1.isPresent(view.pipes)){flattenArray(view.pipes,pipes)}return pipes}function flattenArray(tree,out){for(var i=0;i<tree.length;i++){var item=di_1.resolveForwardRef(tree[i]);if(lang_1.isArray(item)){flattenArray(item,out)}else{out.push(item)}}}function isValidType(value){return lang_1.isPresent(value)&&value instanceof lang_1.Type}function calcModuleUrl(type,cmpMetadata){var moduleId=cmpMetadata.moduleId;if(lang_1.isPresent(moduleId)){var scheme=url_resolver_1.getUrlScheme(moduleId);return lang_1.isPresent(scheme)&&scheme.length>0?moduleId:"package:"+moduleId+util_1.MODULE_SUFFIX}else{return reflection_1.reflector.importUri(type)}}global.define=__define;return module.exports});System.register("angular2/src/common/pipes",["angular2/src/common/pipes/async_pipe","angular2/src/common/pipes/uppercase_pipe","angular2/src/common/pipes/lowercase_pipe","angular2/src/common/pipes/json_pipe","angular2/src/common/pipes/slice_pipe","angular2/src/common/pipes/date_pipe","angular2/src/common/pipes/number_pipe","angular2/src/facade/lang","angular2/src/common/pipes/async_pipe","angular2/src/common/pipes/date_pipe","angular2/src/common/pipes/json_pipe","angular2/src/common/pipes/slice_pipe","angular2/src/common/pipes/lowercase_pipe","angular2/src/common/pipes/number_pipe","angular2/src/common/pipes/uppercase_pipe"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var async_pipe_1=require("angular2/src/common/pipes/async_pipe");var uppercase_pipe_1=require("angular2/src/common/pipes/uppercase_pipe");var lowercase_pipe_1=require("angular2/src/common/pipes/lowercase_pipe");var json_pipe_1=require("angular2/src/common/pipes/json_pipe");var slice_pipe_1=require("angular2/src/common/pipes/slice_pipe");var date_pipe_1=require("angular2/src/common/pipes/date_pipe");var number_pipe_1=require("angular2/src/common/pipes/number_pipe");var lang_1=require("angular2/src/facade/lang");var async_pipe_2=require("angular2/src/common/pipes/async_pipe");exports.AsyncPipe=async_pipe_2.AsyncPipe;var date_pipe_2=require("angular2/src/common/pipes/date_pipe");exports.DatePipe=date_pipe_2.DatePipe;var json_pipe_2=require("angular2/src/common/pipes/json_pipe");exports.JsonPipe=json_pipe_2.JsonPipe;var slice_pipe_2=require("angular2/src/common/pipes/slice_pipe");exports.SlicePipe=slice_pipe_2.SlicePipe;var lowercase_pipe_2=require("angular2/src/common/pipes/lowercase_pipe");exports.LowerCasePipe=lowercase_pipe_2.LowerCasePipe;var number_pipe_2=require("angular2/src/common/pipes/number_pipe");exports.NumberPipe=number_pipe_2.NumberPipe;exports.DecimalPipe=number_pipe_2.DecimalPipe;exports.PercentPipe=number_pipe_2.PercentPipe;exports.CurrencyPipe=number_pipe_2.CurrencyPipe;var uppercase_pipe_2=require("angular2/src/common/pipes/uppercase_pipe");exports.UpperCasePipe=uppercase_pipe_2.UpperCasePipe;exports.COMMON_PIPES=lang_1.CONST_EXPR([async_pipe_1.AsyncPipe,uppercase_pipe_1.UpperCasePipe,lowercase_pipe_1.LowerCasePipe,json_pipe_1.JsonPipe,slice_pipe_1.SlicePipe,number_pipe_1.DecimalPipe,number_pipe_1.PercentPipe,number_pipe_1.CurrencyPipe,date_pipe_1.DatePipe]);global.define=__define;return module.exports});System.register("angular2/src/common/forms/directives/ng_control_name",["angular2/src/facade/lang","angular2/src/facade/async","angular2/core","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/shared","angular2/src/common/forms/validators"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var lang_1=require("angular2/src/facade/lang");var async_1=require("angular2/src/facade/async");var core_1=require("angular2/core");var control_container_1=require("angular2/src/common/forms/directives/control_container");var ng_control_1=require("angular2/src/common/forms/directives/ng_control");var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");var shared_1=require("angular2/src/common/forms/directives/shared");var validators_1=require("angular2/src/common/forms/validators");var controlNameBinding=lang_1.CONST_EXPR(new core_1.Provider(ng_control_1.NgControl,{useExisting:core_1.forwardRef(function(){return NgControlName})}));var NgControlName=function(_super){__extends(NgControlName,_super);function NgControlName(_parent,_validators,_asyncValidators,valueAccessors){
_super.call(this);this._parent=_parent;this._validators=_validators;this._asyncValidators=_asyncValidators;this.update=new async_1.EventEmitter;this._added=false;this.valueAccessor=shared_1.selectValueAccessor(this,valueAccessors)}NgControlName.prototype.ngOnChanges=function(changes){if(!this._added){this.formDirective.addControl(this);this._added=true}if(shared_1.isPropertyUpdated(changes,this.viewModel)){this.viewModel=this.model;this.formDirective.updateModel(this,this.model)}};NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)};NgControlName.prototype.viewToModelUpdate=function(newValue){this.viewModel=newValue;async_1.ObservableWrapper.callEmit(this.update,newValue)};Object.defineProperty(NgControlName.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:true,configurable:true});Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:true,configurable:true});NgControlName=__decorate([core_1.Directive({selector:"[ngControl]",bindings:[controlNameBinding],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),__param(0,core_1.Host()),__param(0,core_1.SkipSelf()),__param(1,core_1.Optional()),__param(1,core_1.Self()),__param(1,core_1.Inject(validators_1.NG_VALIDATORS)),__param(2,core_1.Optional()),__param(2,core_1.Self()),__param(2,core_1.Inject(validators_1.NG_ASYNC_VALIDATORS)),__param(3,core_1.Optional()),__param(3,core_1.Self()),__param(3,core_1.Inject(control_value_accessor_1.NG_VALUE_ACCESSOR)),__metadata("design:paramtypes",[control_container_1.ControlContainer,Array,Array,Array])],NgControlName);return NgControlName}(ng_control_1.NgControl);exports.NgControlName=NgControlName;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/generic_browser_adapter",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter","angular2/src/platform/browser/xhr_impl"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var xhr_impl_1=require("angular2/src/platform/browser/xhr_impl");var GenericBrowserDomAdapter=function(_super){__extends(GenericBrowserDomAdapter,_super);function GenericBrowserDomAdapter(){var _this=this;_super.call(this);this._animationPrefix=null;this._transitionEnd=null;try{var element=this.createElement("div",this.defaultDoc());if(lang_1.isPresent(this.getStyle(element,"animationName"))){this._animationPrefix=""}else{var domPrefixes=["Webkit","Moz","O","ms"];for(var i=0;i<domPrefixes.length;i++){if(lang_1.isPresent(this.getStyle(element,domPrefixes[i]+"AnimationName"))){this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}}}var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};collection_1.StringMapWrapper.forEach(transEndEventNames,function(value,key){if(lang_1.isPresent(_this.getStyle(element,key))){_this._transitionEnd=value}})}catch(e){this._animationPrefix=null;this._transitionEnd=null}}GenericBrowserDomAdapter.prototype.getXHR=function(){return xhr_impl_1.XHRImpl};GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()};GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=href==null?baseUrl:baseUrl+"/../"+href};GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return true};GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return lang_1.isFunction(this.defaultDoc().body.createShadowRoot)};GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return lang_1.isPresent(this._animationPrefix)?this._animationPrefix:""};GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return lang_1.isPresent(this._transitionEnd)?this._transitionEnd:""};GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return lang_1.isPresent(this._animationPrefix)&&lang_1.isPresent(this._transitionEnd)};return GenericBrowserDomAdapter}(dom_adapter_1.DomAdapter);exports.GenericBrowserDomAdapter=GenericBrowserDomAdapter;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/tools/tools",["angular2/src/facade/lang","angular2/src/platform/browser/tools/common_tools"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var common_tools_1=require("angular2/src/platform/browser/tools/common_tools");var context=lang_1.global;function enableDebugTools(ref){context.ng=new common_tools_1.AngularTools(ref)}exports.enableDebugTools=enableDebugTools;function disableDebugTools(){delete context.ng}exports.disableDebugTools=disableDebugTools;global.define=__define;return module.exports});System.register("angular2/src/compiler/html_parser",["angular2/src/facade/lang","angular2/src/facade/collection","angular2/src/compiler/html_ast","angular2/src/core/di","angular2/src/compiler/html_lexer","angular2/src/compiler/parse_util","angular2/src/compiler/html_tags"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var collection_1=require("angular2/src/facade/collection");var html_ast_1=require("angular2/src/compiler/html_ast");var di_1=require("angular2/src/core/di");var html_lexer_1=require("angular2/src/compiler/html_lexer");var parse_util_1=require("angular2/src/compiler/parse_util");var html_tags_1=require("angular2/src/compiler/html_tags");var HtmlTreeError=function(_super){__extends(HtmlTreeError,_super);function HtmlTreeError(elementName,location,msg){_super.call(this,location,msg);this.elementName=elementName}HtmlTreeError.create=function(elementName,location,msg){return new HtmlTreeError(elementName,location,msg)};return HtmlTreeError}(parse_util_1.ParseError);exports.HtmlTreeError=HtmlTreeError;var HtmlParseTreeResult=function(){function HtmlParseTreeResult(rootNodes,errors){this.rootNodes=rootNodes;this.errors=errors}return HtmlParseTreeResult}();exports.HtmlParseTreeResult=HtmlParseTreeResult;var HtmlParser=function(){function HtmlParser(){}HtmlParser.prototype.parse=function(sourceContent,sourceUrl){var tokensAndErrors=html_lexer_1.tokenizeHtml(sourceContent,sourceUrl);var treeAndErrors=new TreeBuilder(tokensAndErrors.tokens).build();return new HtmlParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))};HtmlParser=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[])],HtmlParser);return HtmlParser}();exports.HtmlParser=HtmlParser;var TreeBuilder=function(){function TreeBuilder(tokens){this.tokens=tokens;this.index=-1;this.rootNodes=[];this.errors=[];this.elementStack=[];this._advance()}TreeBuilder.prototype.build=function(){while(this.peek.type!==html_lexer_1.HtmlTokenType.EOF){if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_START){this._consumeStartTag(this._advance())}else if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_CLOSE){this._consumeEndTag(this._advance())}else if(this.peek.type===html_lexer_1.HtmlTokenType.CDATA_START){this._closeVoidElement();this._consumeCdata(this._advance())}else if(this.peek.type===html_lexer_1.HtmlTokenType.COMMENT_START){this._closeVoidElement();this._consumeComment(this._advance())}else if(this.peek.type===html_lexer_1.HtmlTokenType.TEXT||this.peek.type===html_lexer_1.HtmlTokenType.RAW_TEXT||this.peek.type===html_lexer_1.HtmlTokenType.ESCAPABLE_RAW_TEXT){this._closeVoidElement();this._consumeText(this._advance())}else{this._advance()}}return new HtmlParseTreeResult(this.rootNodes,this.errors)};TreeBuilder.prototype._advance=function(){var prev=this.peek;if(this.index<this.tokens.length-1){this.index++}this.peek=this.tokens[this.index];return prev};TreeBuilder.prototype._advanceIf=function(type){if(this.peek.type===type){return this._advance()}return null};TreeBuilder.prototype._consumeCdata=function(startToken){this._consumeText(this._advance());this._advanceIf(html_lexer_1.HtmlTokenType.CDATA_END)};TreeBuilder.prototype._consumeComment=function(startToken){this._advanceIf(html_lexer_1.HtmlTokenType.RAW_TEXT);this._advanceIf(html_lexer_1.HtmlTokenType.COMMENT_END)};TreeBuilder.prototype._consumeText=function(token){var text=token.parts[0];if(text.length>0&&text[0]=="\n"){var parent_1=this._getParentElement();if(lang_1.isPresent(parent_1)&&parent_1.children.length==0&&html_tags_1.getHtmlTagDefinition(parent_1.name).ignoreFirstLf){text=text.substring(1)}}if(text.length>0){this._addToParent(new html_ast_1.HtmlTextAst(text,token.sourceSpan))}};TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var el=collection_1.ListWrapper.last(this.elementStack);if(html_tags_1.getHtmlTagDefinition(el.name).isVoid){this.elementStack.pop()}}};TreeBuilder.prototype._consumeStartTag=function(startTagToken){var prefix=startTagToken.parts[0];var name=startTagToken.parts[1];var attrs=[];while(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_NAME){attrs.push(this._consumeAttr(this._advance()))}var fullName=getElementFullName(prefix,name,this._getParentElement());var selfClosing=false;if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END_VOID){this._advance();selfClosing=true;if(html_tags_1.getNsPrefix(fullName)==null&&!html_tags_1.getHtmlTagDefinition(fullName).isVoid){this.errors.push(HtmlTreeError.create(fullName,startTagToken.sourceSpan.start,'Only void and foreign elements can be self closed "'+startTagToken.parts[1]+'"'))}}else if(this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END){this._advance();selfClosing=false}var end=this.peek.sourceSpan.start;var el=new html_ast_1.HtmlElementAst(fullName,attrs,[],new parse_util_1.ParseSourceSpan(startTagToken.sourceSpan.start,end));this._pushElement(el);if(selfClosing){this._popElement(fullName)}};TreeBuilder.prototype._pushElement=function(el){if(this.elementStack.length>0){var parentEl=collection_1.ListWrapper.last(this.elementStack);if(html_tags_1.getHtmlTagDefinition(parentEl.name).isClosedByChild(el.name)){this.elementStack.pop()}}var tagDef=html_tags_1.getHtmlTagDefinition(el.name);var parentEl=this._getParentElement();if(tagDef.requireExtraParent(lang_1.isPresent(parentEl)?parentEl.name:null)){var newParent=new html_ast_1.HtmlElementAst(tagDef.parentToAdd,[],[el],el.sourceSpan);this._addToParent(newParent);this.elementStack.push(newParent);this.elementStack.push(el)}else{this._addToParent(el);this.elementStack.push(el)}};TreeBuilder.prototype._consumeEndTag=function(endTagToken){var fullName=getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());if(html_tags_1.getHtmlTagDefinition(fullName).isVoid){this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan.start,'Void elements do not have end tags "'+endTagToken.parts[1]+'"'))}else if(!this._popElement(fullName)){this.errors.push(HtmlTreeError.create(fullName,endTagToken.sourceSpan.start,'Unexpected closing tag "'+endTagToken.parts[1]+'"'))}};TreeBuilder.prototype._popElement=function(fullName){for(var stackIndex=this.elementStack.length-1;stackIndex>=0;stackIndex--){var el=this.elementStack[stackIndex];if(el.name==fullName){collection_1.ListWrapper.splice(this.elementStack,stackIndex,this.elementStack.length-stackIndex);return true}if(!html_tags_1.getHtmlTagDefinition(el.name).closedByParent){return false}}return false};TreeBuilder.prototype._consumeAttr=function(attrName){var fullName=mergeNsAndName(attrName.parts[0],attrName.parts[1]);var end=attrName.sourceSpan.end;var value="";if(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_VALUE){var valueToken=this._advance();value=valueToken.parts[0];end=valueToken.sourceSpan.end}return new html_ast_1.HtmlAttrAst(fullName,value,new parse_util_1.ParseSourceSpan(attrName.sourceSpan.start,end))};TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?collection_1.ListWrapper.last(this.elementStack):null};TreeBuilder.prototype._addToParent=function(node){var parent=this._getParentElement();if(lang_1.isPresent(parent)){parent.children.push(node)}else{this.rootNodes.push(node)}};return TreeBuilder}();function mergeNsAndName(prefix,localName){return lang_1.isPresent(prefix)?"@"+prefix+":"+localName:localName}function getElementFullName(prefix,localName,parentElement){if(lang_1.isBlank(prefix)){prefix=html_tags_1.getHtmlTagDefinition(localName).implicitNamespacePrefix;if(lang_1.isBlank(prefix)&&lang_1.isPresent(parentElement)){prefix=html_tags_1.getNsPrefix(parentElement.name)}}return mergeNsAndName(prefix,localName)}global.define=__define;return module.exports});System.register("angular2/src/common/forms",["angular2/src/common/forms/model","angular2/src/common/forms/directives/abstract_control_directive","angular2/src/common/forms/directives/control_container","angular2/src/common/forms/directives/ng_control_name","angular2/src/common/forms/directives/ng_form_control","angular2/src/common/forms/directives/ng_model","angular2/src/common/forms/directives/ng_control","angular2/src/common/forms/directives/ng_control_group","angular2/src/common/forms/directives/ng_form_model","angular2/src/common/forms/directives/ng_form","angular2/src/common/forms/directives/control_value_accessor","angular2/src/common/forms/directives/default_value_accessor","angular2/src/common/forms/directives/ng_control_status","angular2/src/common/forms/directives/checkbox_value_accessor","angular2/src/common/forms/directives/select_control_value_accessor","angular2/src/common/forms/directives","angular2/src/common/forms/validators","angular2/src/common/forms/directives/validators","angular2/src/common/forms/form_builder"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var model_1=require("angular2/src/common/forms/model");exports.AbstractControl=model_1.AbstractControl;exports.Control=model_1.Control;exports.ControlGroup=model_1.ControlGroup;exports.ControlArray=model_1.ControlArray;var abstract_control_directive_1=require("angular2/src/common/forms/directives/abstract_control_directive");exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var control_container_1=require("angular2/src/common/forms/directives/control_container");exports.ControlContainer=control_container_1.ControlContainer;var ng_control_name_1=require("angular2/src/common/forms/directives/ng_control_name");exports.NgControlName=ng_control_name_1.NgControlName;var ng_form_control_1=require("angular2/src/common/forms/directives/ng_form_control");exports.NgFormControl=ng_form_control_1.NgFormControl;var ng_model_1=require("angular2/src/common/forms/directives/ng_model");exports.NgModel=ng_model_1.NgModel;var ng_control_1=require("angular2/src/common/forms/directives/ng_control");exports.NgControl=ng_control_1.NgControl;var ng_control_group_1=require("angular2/src/common/forms/directives/ng_control_group");exports.NgControlGroup=ng_control_group_1.NgControlGroup;var ng_form_model_1=require("angular2/src/common/forms/directives/ng_form_model");exports.NgFormModel=ng_form_model_1.NgFormModel;var ng_form_1=require("angular2/src/common/forms/directives/ng_form");exports.NgForm=ng_form_1.NgForm;var control_value_accessor_1=require("angular2/src/common/forms/directives/control_value_accessor");exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=require("angular2/src/common/forms/directives/default_value_accessor");exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_status_1=require("angular2/src/common/forms/directives/ng_control_status");exports.NgControlStatus=ng_control_status_1.NgControlStatus;var checkbox_value_accessor_1=require("angular2/src/common/forms/directives/checkbox_value_accessor");exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var select_control_value_accessor_1=require("angular2/src/common/forms/directives/select_control_value_accessor");exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption;exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;var directives_1=require("angular2/src/common/forms/directives");exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES;var validators_1=require("angular2/src/common/forms/validators");exports.NG_VALIDATORS=validators_1.NG_VALIDATORS;exports.NG_ASYNC_VALIDATORS=validators_1.NG_ASYNC_VALIDATORS;exports.Validators=validators_1.Validators;var validators_2=require("angular2/src/common/forms/directives/validators");exports.RequiredValidator=validators_2.RequiredValidator;exports.MinLengthValidator=validators_2.MinLengthValidator;exports.MaxLengthValidator=validators_2.MaxLengthValidator;var form_builder_1=require("angular2/src/common/forms/form_builder");exports.FormBuilder=form_builder_1.FormBuilder;exports.FORM_PROVIDERS=form_builder_1.FORM_PROVIDERS;exports.FORM_BINDINGS=form_builder_1.FORM_BINDINGS;global.define=__define;return module.exports});System.register("angular2/src/platform/browser/browser_adapter",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/platform/dom/dom_adapter","angular2/src/platform/browser/generic_browser_adapter"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var generic_browser_adapter_1=require("angular2/src/platform/browser/generic_browser_adapter");var _attrToPropMap={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};var DOM_KEY_LOCATION_NUMPAD=3;var _keyMap={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"};var _chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};var BrowserDomAdapter=function(_super){__extends(BrowserDomAdapter,_super);function BrowserDomAdapter(){_super.apply(this,arguments)}BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")};BrowserDomAdapter.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new BrowserDomAdapter)};BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element};BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value};BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]};BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,args)};BrowserDomAdapter.prototype.logError=function(error){if(window.console.error){window.console.error(error)}else{window.console.log(error)}};BrowserDomAdapter.prototype.log=function(error){window.console.log(error)};BrowserDomAdapter.prototype.logGroup=function(error){if(window.console.group){window.console.group(error);this.logError(error)}else{window.console.log(error)}};BrowserDomAdapter.prototype.logGroupEnd=function(){if(window.console.groupEnd){window.console.groupEnd()}};Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:true,configurable:true});BrowserDomAdapter.prototype.query=function(selector){return document.querySelector(selector)};BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)};BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)};BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,false)};BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){el.addEventListener(evt,listener,false);return function(){el.removeEventListener(evt,listener,false)}};BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)};BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=document.createEvent("MouseEvent");evt.initEvent(eventType,true,true);return evt};BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=document.createEvent("Event");evt.initEvent(eventType,true,true);return evt};BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault();evt.returnValue=false};BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||lang_1.isPresent(evt.returnValue)&&!evt.returnValue};BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML};BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML};BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName};BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue};BrowserDomAdapter.prototype.type=function(node){return node.type};BrowserDomAdapter.prototype.content=function(node){if(this.hasProperty(node,"content")){return node.content}else{return node}};BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild};BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling};BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode};BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes};BrowserDomAdapter.prototype.childNodesAsList=function(el){var childNodes=el.childNodes;var res=collection_1.ListWrapper.createFixedSize(childNodes.length);for(var i=0;i<childNodes.length;i++){res[i]=childNodes[i]}return res};BrowserDomAdapter.prototype.clearNodes=function(el){while(el.firstChild){el.removeChild(el.firstChild)}};BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)};BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)};BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)};BrowserDomAdapter.prototype.remove=function(node){if(node.parentNode){node.parentNode.removeChild(node)}return node};BrowserDomAdapter.prototype.insertBefore=function(el,node){el.parentNode.insertBefore(node,el)};BrowserDomAdapter.prototype.insertAllBefore=function(el,nodes){nodes.forEach(function(n){return el.parentNode.insertBefore(n,el)})};BrowserDomAdapter.prototype.insertAfter=function(el,node){el.parentNode.insertBefore(node,el.nextSibling)};BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value};BrowserDomAdapter.prototype.getText=function(el){return el.textContent};BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value};BrowserDomAdapter.prototype.getValue=function(el){return el.value};BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value};BrowserDomAdapter.prototype.getChecked=function(el){return el.checked};BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value};BrowserDomAdapter.prototype.createComment=function(text){return document.createComment(text)};BrowserDomAdapter.prototype.createTemplate=function(html){var t=document.createElement("template");t.innerHTML=html;return t};BrowserDomAdapter.prototype.createElement=function(tagName,doc){if(doc===void 0){doc=document}return doc.createElement(tagName)};BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){if(doc===void 0){doc=document}return doc.createElementNS(ns,tagName)};BrowserDomAdapter.prototype.createTextNode=function(text,doc){if(doc===void 0){doc=document}return doc.createTextNode(text)};BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){if(doc===void 0){doc=document}var el=doc.createElement("SCRIPT");el.setAttribute(attrName,attrValue);return el};BrowserDomAdapter.prototype.createStyleElement=function(css,doc){if(doc===void 0){doc=document}var style=doc.createElement("style");this.appendChild(style,this.createTextNode(css));return style};BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()};BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot};BrowserDomAdapter.prototype.getHost=function(el){return el.host};BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(true)};BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)};BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)};BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)};BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)};BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)};BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)};BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue};BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=null};BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]};BrowserDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){if(styleValue===void 0){styleValue=null}var value=this.getStyle(element,styleName)||"";return styleValue?value==styleValue:value.length>0};BrowserDomAdapter.prototype.tagName=function(element){return element.tagName};BrowserDomAdapter.prototype.attributeMap=function(element){var res=new Map;var elAttrs=element.attributes;for(var i=0;i<elAttrs.length;i++){var attrib=elAttrs[i];res.set(attrib.name,attrib.value)}return res};BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)};BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)};BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)};BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)};BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)};BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el};BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")};BrowserDomAdapter.prototype.defaultDoc=function(){return document};BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}};BrowserDomAdapter.prototype.getTitle=function(){return document.title};BrowserDomAdapter.prototype.setTitle=function(newTitle){document.title=newTitle||""};BrowserDomAdapter.prototype.elementMatches=function(n,selector){var matches=false;if(n instanceof HTMLElement){if(n.matches){matches=n.matches(selector)}else if(n.msMatchesSelector){matches=n.msMatchesSelector(selector)}else if(n.webkitMatchesSelector){matches=n.webkitMatchesSelector(selector)}}return matches};BrowserDomAdapter.prototype.isTemplateElement=function(el){return el instanceof HTMLElement&&el.nodeName=="TEMPLATE"};BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE};BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE};BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE};BrowserDomAdapter.prototype.hasShadowRoot=function(node){return node instanceof HTMLElement&&lang_1.isPresent(node.shadowRoot)};BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment};BrowserDomAdapter.prototype.importIntoDoc=function(node){var toImport=node;if(this.isTemplateElement(node)){toImport=this.content(node)}return document.importNode(toImport,true)};BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)};BrowserDomAdapter.prototype.getHref=function(el){return el.href};BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(lang_1.isBlank(key)){key=event.keyIdentifier;if(lang_1.isBlank(key)){return"Unidentified"}if(key.startsWith("U+")){key=String.fromCharCode(parseInt(key.substring(2),16));if(event.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(key)){key=_chromeNumKeyPadMap[key]}}}if(_keyMap.hasOwnProperty(key)){key=_keyMap[key]}return key};BrowserDomAdapter.prototype.getGlobalEventTarget=function(target){if(target=="window"){return window}else if(target=="document"){return document}else if(target=="body"){return document.body}};BrowserDomAdapter.prototype.getHistory=function(){return window.history};BrowserDomAdapter.prototype.getLocation=function(){return window.location};BrowserDomAdapter.prototype.getBaseHref=function(){var href=getBaseElementHref();if(lang_1.isBlank(href)){return null}return relativePath(href)};BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null};BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent};BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)};BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)};BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)};BrowserDomAdapter.prototype.setGlobalVar=function(path,value){lang_1.setValueOnPath(lang_1.global,path,value)};BrowserDomAdapter.prototype.requestAnimationFrame=function(callback){return window.requestAnimationFrame(callback)};BrowserDomAdapter.prototype.cancelAnimationFrame=function(id){window.cancelAnimationFrame(id)};BrowserDomAdapter.prototype.performanceNow=function(){
if(lang_1.isPresent(window.performance)&&lang_1.isPresent(window.performance.now)){return window.performance.now()}else{return lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now())}};return BrowserDomAdapter}(generic_browser_adapter_1.GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var baseElement=null;function getBaseElementHref(){if(lang_1.isBlank(baseElement)){baseElement=document.querySelector("base");if(lang_1.isBlank(baseElement)){return null}}return baseElement.getAttribute("href")}var urlParsingNode=null;function relativePath(url){if(lang_1.isBlank(urlParsingNode)){urlParsingNode=document.createElement("a")}urlParsingNode.setAttribute("href",url);return urlParsingNode.pathname.charAt(0)==="/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}global.define=__define;return module.exports});System.register("angular2/src/compiler/template_parser",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/core","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/change_detection/change_detection","angular2/src/compiler/html_parser","angular2/src/compiler/html_tags","angular2/src/compiler/parse_util","angular2/src/core/change_detection/parser/ast","angular2/src/compiler/template_ast","angular2/src/compiler/selector","angular2/src/compiler/schema/element_schema_registry","angular2/src/compiler/template_preparser","angular2/src/compiler/style_url_resolver","angular2/src/compiler/html_ast","angular2/src/compiler/util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var __param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};var collection_1=require("angular2/src/facade/collection");var lang_1=require("angular2/src/facade/lang");var core_1=require("angular2/core");var lang_2=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var html_parser_1=require("angular2/src/compiler/html_parser");var html_tags_1=require("angular2/src/compiler/html_tags");var parse_util_1=require("angular2/src/compiler/parse_util");var ast_1=require("angular2/src/core/change_detection/parser/ast");var template_ast_1=require("angular2/src/compiler/template_ast");var selector_1=require("angular2/src/compiler/selector");var element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry");var template_preparser_1=require("angular2/src/compiler/template_preparser");var style_url_resolver_1=require("angular2/src/compiler/style_url_resolver");var html_ast_1=require("angular2/src/compiler/html_ast");var util_1=require("angular2/src/compiler/util");var BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g;var TEMPLATE_ELEMENT="template";var TEMPLATE_ATTR="template";var TEMPLATE_ATTR_PREFIX="*";var CLASS_ATTR="class";var PROPERTY_PARTS_SEPARATOR=".";var ATTRIBUTE_PREFIX="attr";var CLASS_PREFIX="class";var STYLE_PREFIX="style";var TEXT_CSS_SELECTOR=selector_1.CssSelector.parse("*")[0];exports.TEMPLATE_TRANSFORMS=lang_2.CONST_EXPR(new core_1.OpaqueToken("TemplateTransforms"));var TemplateParseError=function(_super){__extends(TemplateParseError,_super);function TemplateParseError(message,location){_super.call(this,location,message)}return TemplateParseError}(parse_util_1.ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParser=function(){function TemplateParser(_exprParser,_schemaRegistry,_htmlParser,transforms){this._exprParser=_exprParser;this._schemaRegistry=_schemaRegistry;this._htmlParser=_htmlParser;this.transforms=transforms}TemplateParser.prototype.parse=function(template,directives,pipes,templateUrl){var parseVisitor=new TemplateParseVisitor(directives,pipes,this._exprParser,this._schemaRegistry);var htmlAstWithErrors=this._htmlParser.parse(template,templateUrl);var result=html_ast_1.htmlVisitAll(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_COMPONENT);var errors=htmlAstWithErrors.errors.concat(parseVisitor.errors);if(errors.length>0){var errorString=errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+errorString)}if(lang_1.isPresent(this.transforms)){this.transforms.forEach(function(transform){result=template_ast_1.templateVisitAll(transform,result)})}return result};TemplateParser=__decorate([core_1.Injectable(),__param(3,core_1.Optional()),__param(3,core_1.Inject(exports.TEMPLATE_TRANSFORMS)),__metadata("design:paramtypes",[change_detection_1.Parser,element_schema_registry_1.ElementSchemaRegistry,html_parser_1.HtmlParser,Array])],TemplateParser);return TemplateParser}();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=function(){function TemplateParseVisitor(directives,pipes,_exprParser,_schemaRegistry){var _this=this;this._exprParser=_exprParser;this._schemaRegistry=_schemaRegistry;this.errors=[];this.directivesIndex=new Map;this.ngContentCount=0;this.selectorMatcher=new selector_1.SelectorMatcher;collection_1.ListWrapper.forEachWithIndex(directives,function(directive,index){var selector=selector_1.CssSelector.parse(directive.selector);_this.selectorMatcher.addSelectables(selector,directive);_this.directivesIndex.set(directive,index)});this.pipesByName=new Map;pipes.forEach(function(pipe){return _this.pipesByName.set(pipe.name,pipe)})}TemplateParseVisitor.prototype._reportError=function(message,sourceSpan){this.errors.push(new TemplateParseError(message,sourceSpan.start))};TemplateParseVisitor.prototype._parseInterpolation=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseInterpolation(value,sourceInfo);this._checkPipes(ast,sourceSpan);return ast}catch(e){this._reportError(""+e,sourceSpan);return this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}};TemplateParseVisitor.prototype._parseAction=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseAction(value,sourceInfo);this._checkPipes(ast,sourceSpan);return ast}catch(e){this._reportError(""+e,sourceSpan);return this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}};TemplateParseVisitor.prototype._parseBinding=function(value,sourceSpan){var sourceInfo=sourceSpan.start.toString();try{var ast=this._exprParser.parseBinding(value,sourceInfo);this._checkPipes(ast,sourceSpan);return ast}catch(e){this._reportError(""+e,sourceSpan);return this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo)}};TemplateParseVisitor.prototype._parseTemplateBindings=function(value,sourceSpan){var _this=this;var sourceInfo=sourceSpan.start.toString();try{var bindings=this._exprParser.parseTemplateBindings(value,sourceInfo);bindings.forEach(function(binding){if(lang_1.isPresent(binding.expression)){_this._checkPipes(binding.expression,sourceSpan)}});return bindings}catch(e){this._reportError(""+e,sourceSpan);return[]}};TemplateParseVisitor.prototype._checkPipes=function(ast,sourceSpan){var _this=this;if(lang_1.isPresent(ast)){var collector=new PipeCollector;ast.visit(collector);collector.pipes.forEach(function(pipeName){if(!_this.pipesByName.has(pipeName)){_this._reportError("The pipe '"+pipeName+"' could not be found",sourceSpan)}})}};TemplateParseVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR);var expr=this._parseInterpolation(ast.value,ast.sourceSpan);if(lang_1.isPresent(expr)){return new template_ast_1.BoundTextAst(expr,ngContentIndex,ast.sourceSpan)}else{return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)}};TemplateParseVisitor.prototype.visitAttr=function(ast,contex){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)};TemplateParseVisitor.prototype.visitElement=function(element,component){var _this=this;var nodeName=element.name;var preparsedElement=template_preparser_1.preparseElement(element);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE){return null}if(preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET&&style_url_resolver_1.isStyleUrlResolvable(preparsedElement.hrefAttr)){return null}var matchableAttrs=[];var elementOrDirectiveProps=[];var vars=[];var events=[];var templateElementOrDirectiveProps=[];var templateVars=[];var templateMatchableAttrs=[];var hasInlineTemplates=false;var attrs=[];element.attrs.forEach(function(attr){var hasBinding=_this._parseAttr(attr,matchableAttrs,elementOrDirectiveProps,events,vars);var hasTemplateBinding=_this._parseInlineTemplateBinding(attr,templateMatchableAttrs,templateElementOrDirectiveProps,templateVars);if(!hasBinding&&!hasTemplateBinding){attrs.push(_this.visitAttr(attr,null));matchableAttrs.push([attr.name,attr.value])}if(hasTemplateBinding){hasInlineTemplates=true}});var lcElName=html_tags_1.splitNsName(nodeName.toLowerCase())[1];var isTemplateElement=lcElName==TEMPLATE_ELEMENT;var elementCssSelector=createElementCssSelector(nodeName,matchableAttrs);var directives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,elementCssSelector),elementOrDirectiveProps,isTemplateElement?[]:vars,element.sourceSpan);var elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,directives);var children=html_ast_1.htmlVisitAll(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,Component.create(directives));var elementNgContentIndex=hasInlineTemplates?null:component.findNgContentIndex(elementCssSelector);var parsedElement;if(preparsedElement.type===template_preparser_1.PreparsedElementType.NG_CONTENT){if(lang_1.isPresent(element.children)&&element.children.length>0){this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",element.sourceSpan)}parsedElement=new template_ast_1.NgContentAst(this.ngContentCount++,elementNgContentIndex,element.sourceSpan)}else if(isTemplateElement){this._assertAllEventsPublishedByDirectives(directives,events);this._assertNoComponentsNorElementBindingsOnTemplate(directives,elementProps,element.sourceSpan);parsedElement=new template_ast_1.EmbeddedTemplateAst(attrs,events,vars,directives,children,elementNgContentIndex,element.sourceSpan)}else{this._assertOnlyOneComponent(directives,element.sourceSpan);var elementExportAsVars=vars.filter(function(varAst){return varAst.value.length===0});parsedElement=new template_ast_1.ElementAst(nodeName,attrs,elementProps,events,elementExportAsVars,directives,children,elementNgContentIndex,element.sourceSpan)}if(hasInlineTemplates){var templateCssSelector=createElementCssSelector(TEMPLATE_ELEMENT,templateMatchableAttrs);var templateDirectives=this._createDirectiveAsts(element.name,this._parseDirectives(this.selectorMatcher,templateCssSelector),templateElementOrDirectiveProps,[],element.sourceSpan);var templateElementProps=this._createElementPropertyAsts(element.name,templateElementOrDirectiveProps,templateDirectives);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectives,templateElementProps,element.sourceSpan);parsedElement=new template_ast_1.EmbeddedTemplateAst([],[],templateVars,templateDirectives,[parsedElement],component.findNgContentIndex(templateCssSelector),element.sourceSpan)}return parsedElement};TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(attr,targetMatchableAttrs,targetProps,targetVars){var templateBindingsSource=null;if(attr.name==TEMPLATE_ATTR){templateBindingsSource=attr.value}else if(attr.name.startsWith(TEMPLATE_ATTR_PREFIX)){var key=attr.name.substring(TEMPLATE_ATTR_PREFIX.length);templateBindingsSource=attr.value.length==0?key:key+" "+attr.value}if(lang_1.isPresent(templateBindingsSource)){var bindings=this._parseTemplateBindings(templateBindingsSource,attr.sourceSpan);for(var i=0;i<bindings.length;i++){var binding=bindings[i];if(binding.keyIsVar){targetVars.push(new template_ast_1.VariableAst(binding.key,binding.name,attr.sourceSpan));targetMatchableAttrs.push([binding.key,binding.name])}else if(lang_1.isPresent(binding.expression)){this._parsePropertyAst(binding.key,binding.expression,attr.sourceSpan,targetMatchableAttrs,targetProps)}else{targetMatchableAttrs.push([binding.key,""]);this._parseLiteralAttr(binding.key,null,attr.sourceSpan,targetProps)}}return true}return false};TemplateParseVisitor.prototype._parseAttr=function(attr,targetMatchableAttrs,targetProps,targetEvents,targetVars){var attrName=this._normalizeAttributeName(attr.name);var attrValue=attr.value;var bindParts=lang_1.RegExpWrapper.firstMatch(BIND_NAME_REGEXP,attrName);var hasBinding=false;if(lang_1.isPresent(bindParts)){hasBinding=true;if(lang_1.isPresent(bindParts[1])){this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps)}else if(lang_1.isPresent(bindParts[2])){var identifier=bindParts[5];this._parseVariable(identifier,attrValue,attr.sourceSpan,targetVars)}else if(lang_1.isPresent(bindParts[3])){this._parseEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)}else if(lang_1.isPresent(bindParts[4])){this._parseProperty(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);this._parseAssignmentEvent(bindParts[5],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)}else if(lang_1.isPresent(bindParts[6])){this._parseProperty(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps);this._parseAssignmentEvent(bindParts[6],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)}else if(lang_1.isPresent(bindParts[7])){this._parseProperty(bindParts[7],attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps)}else if(lang_1.isPresent(bindParts[8])){this._parseEvent(bindParts[8],attrValue,attr.sourceSpan,targetMatchableAttrs,targetEvents)}}else{hasBinding=this._parsePropertyInterpolation(attrName,attrValue,attr.sourceSpan,targetMatchableAttrs,targetProps)}if(!hasBinding){this._parseLiteralAttr(attrName,attrValue,attr.sourceSpan,targetProps)}return hasBinding};TemplateParseVisitor.prototype._normalizeAttributeName=function(attrName){return attrName.toLowerCase().startsWith("data-")?attrName.substring(5):attrName};TemplateParseVisitor.prototype._parseVariable=function(identifier,value,sourceSpan,targetVars){if(identifier.indexOf("-")>-1){this._reportError('"-" is not allowed in variable names',sourceSpan)}targetVars.push(new template_ast_1.VariableAst(identifier,value,sourceSpan))};TemplateParseVisitor.prototype._parseProperty=function(name,expression,sourceSpan,targetMatchableAttrs,targetProps){this._parsePropertyAst(name,this._parseBinding(expression,sourceSpan),sourceSpan,targetMatchableAttrs,targetProps)};TemplateParseVisitor.prototype._parsePropertyInterpolation=function(name,value,sourceSpan,targetMatchableAttrs,targetProps){var expr=this._parseInterpolation(value,sourceSpan);if(lang_1.isPresent(expr)){this._parsePropertyAst(name,expr,sourceSpan,targetMatchableAttrs,targetProps);return true}return false};TemplateParseVisitor.prototype._parsePropertyAst=function(name,ast,sourceSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]);targetProps.push(new BoundElementOrDirectiveProperty(name,ast,false,sourceSpan))};TemplateParseVisitor.prototype._parseAssignmentEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){this._parseEvent(name+"Change",expression+"=$event",sourceSpan,targetMatchableAttrs,targetEvents)};TemplateParseVisitor.prototype._parseEvent=function(name,expression,sourceSpan,targetMatchableAttrs,targetEvents){var parts=util_1.splitAtColon(name,[null,name]);var target=parts[0];var eventName=parts[1];targetEvents.push(new template_ast_1.BoundEventAst(eventName,target,this._parseAction(expression,sourceSpan),sourceSpan))};TemplateParseVisitor.prototype._parseLiteralAttr=function(name,value,sourceSpan,targetProps){targetProps.push(new BoundElementOrDirectiveProperty(name,this._exprParser.wrapLiteralPrimitive(value,""),true,sourceSpan))};TemplateParseVisitor.prototype._parseDirectives=function(selectorMatcher,elementCssSelector){var _this=this;var directives=[];selectorMatcher.match(elementCssSelector,function(selector,directive){directives.push(directive)});collection_1.ListWrapper.sort(directives,function(dir1,dir2){var dir1Comp=dir1.isComponent;var dir2Comp=dir2.isComponent;if(dir1Comp&&!dir2Comp){return-1}else if(!dir1Comp&&dir2Comp){return 1}else{return _this.directivesIndex.get(dir1)-_this.directivesIndex.get(dir2)}});return directives};TemplateParseVisitor.prototype._createDirectiveAsts=function(elementName,directives,props,possibleExportAsVars,sourceSpan){var _this=this;var matchedVariables=new Set;var directiveAsts=directives.map(function(directive){var hostProperties=[];var hostEvents=[];var directiveProperties=[];_this._createDirectiveHostPropertyAsts(elementName,directive.hostProperties,sourceSpan,hostProperties);_this._createDirectiveHostEventAsts(directive.hostListeners,sourceSpan,hostEvents);_this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties);var exportAsVars=[];possibleExportAsVars.forEach(function(varAst){if(varAst.value.length===0&&directive.isComponent||directive.exportAs==varAst.value){exportAsVars.push(varAst);matchedVariables.add(varAst.name)}});return new template_ast_1.DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,exportAsVars,sourceSpan)});possibleExportAsVars.forEach(function(varAst){if(varAst.value.length>0&&!collection_1.SetWrapper.has(matchedVariables,varAst.name)){_this._reportError('There is no directive with "exportAs" set to "'+varAst.value+'"',varAst.sourceSpan)}});return directiveAsts};TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(elementName,hostProps,sourceSpan,targetPropertyAsts){var _this=this;if(lang_1.isPresent(hostProps)){collection_1.StringMapWrapper.forEach(hostProps,function(expression,propName){var exprAst=_this._parseBinding(expression,sourceSpan);targetPropertyAsts.push(_this._createElementPropertyAst(elementName,propName,exprAst,sourceSpan))})}};TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(hostListeners,sourceSpan,targetEventAsts){var _this=this;if(lang_1.isPresent(hostListeners)){collection_1.StringMapWrapper.forEach(hostListeners,function(expression,propName){_this._parseEvent(propName,expression,sourceSpan,[],targetEventAsts)})}};TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(directiveProperties,boundProps,targetBoundDirectiveProps){if(lang_1.isPresent(directiveProperties)){var boundPropsByName=new Map;boundProps.forEach(function(boundProp){var prevValue=boundPropsByName.get(boundProp.name);if(lang_1.isBlank(prevValue)||prevValue.isLiteral){boundPropsByName.set(boundProp.name,boundProp)}});collection_1.StringMapWrapper.forEach(directiveProperties,function(elProp,dirProp){var boundProp=boundPropsByName.get(elProp);if(lang_1.isPresent(boundProp)){targetBoundDirectiveProps.push(new template_ast_1.BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan))}})}};TemplateParseVisitor.prototype._createElementPropertyAsts=function(elementName,props,directives){var _this=this;var boundElementProps=[];var boundDirectivePropsIndex=new Map;directives.forEach(function(directive){directive.inputs.forEach(function(prop){boundDirectivePropsIndex.set(prop.templateName,prop)})});props.forEach(function(prop){if(!prop.isLiteral&&lang_1.isBlank(boundDirectivePropsIndex.get(prop.name))){boundElementProps.push(_this._createElementPropertyAst(elementName,prop.name,prop.expression,prop.sourceSpan))}});return boundElementProps};TemplateParseVisitor.prototype._createElementPropertyAst=function(elementName,name,ast,sourceSpan){var unit=null;var bindingType;var boundPropertyName;var parts=name.split(PROPERTY_PARTS_SEPARATOR);if(parts.length===1){boundPropertyName=this._schemaRegistry.getMappedPropName(parts[0]);bindingType=template_ast_1.PropertyBindingType.Property;if(!this._schemaRegistry.hasProperty(elementName,boundPropertyName)){this._reportError("Can't bind to '"+boundPropertyName+"' since it isn't a known native property",sourceSpan)}}else{if(parts[0]==ATTRIBUTE_PREFIX){boundPropertyName=parts[1];bindingType=template_ast_1.PropertyBindingType.Attribute}else if(parts[0]==CLASS_PREFIX){boundPropertyName=parts[1];bindingType=template_ast_1.PropertyBindingType.Class}else if(parts[0]==STYLE_PREFIX){unit=parts.length>2?parts[2]:null;boundPropertyName=parts[1];bindingType=template_ast_1.PropertyBindingType.Style}else{this._reportError("Invalid property name '"+name+"'",sourceSpan);bindingType=null}}return new template_ast_1.BoundElementPropertyAst(boundPropertyName,bindingType,ast,unit,sourceSpan)};TemplateParseVisitor.prototype._findComponentDirectiveNames=function(directives){var componentTypeNames=[];directives.forEach(function(directive){var typeName=directive.directive.type.name;if(directive.directive.isComponent){componentTypeNames.push(typeName)}});return componentTypeNames};TemplateParseVisitor.prototype._assertOnlyOneComponent=function(directives,sourceSpan){var componentTypeNames=this._findComponentDirectiveNames(directives);if(componentTypeNames.length>1){this._reportError("More than one component: "+componentTypeNames.join(","),sourceSpan)}};TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(directives,elementProps,sourceSpan){var _this=this;var componentTypeNames=this._findComponentDirectiveNames(directives);if(componentTypeNames.length>0){this._reportError("Components on an embedded template: "+componentTypeNames.join(","),sourceSpan)}elementProps.forEach(function(prop){_this._reportError("Property binding "+prop.name+" not used by any directive on an embedded template",sourceSpan)})};TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(directives,events){var _this=this;var allDirectiveEvents=new Set;directives.forEach(function(directive){collection_1.StringMapWrapper.forEach(directive.directive.outputs,function(eventName,_){allDirectiveEvents.add(eventName)})});events.forEach(function(event){if(lang_1.isPresent(event.target)||!collection_1.SetWrapper.has(allDirectiveEvents,event.name)){_this._reportError("Event binding "+event.fullName+" not emitted by any directive on an embedded template",event.sourceSpan)}})};return TemplateParseVisitor}();var NonBindableVisitor=function(){function NonBindableVisitor(){}NonBindableVisitor.prototype.visitElement=function(ast,component){var preparsedElement=template_preparser_1.preparseElement(ast);if(preparsedElement.type===template_preparser_1.PreparsedElementType.SCRIPT||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLE||preparsedElement.type===template_preparser_1.PreparsedElementType.STYLESHEET){return null}var attrNameAndValues=ast.attrs.map(function(attrAst){return[attrAst.name,attrAst.value]});var selector=createElementCssSelector(ast.name,attrNameAndValues);var ngContentIndex=component.findNgContentIndex(selector);var children=html_ast_1.htmlVisitAll(this,ast.children,EMPTY_COMPONENT);return new template_ast_1.ElementAst(ast.name,html_ast_1.htmlVisitAll(this,ast.attrs),[],[],[],[],children,ngContentIndex,ast.sourceSpan)};NonBindableVisitor.prototype.visitAttr=function(ast,context){return new template_ast_1.AttrAst(ast.name,ast.value,ast.sourceSpan)};NonBindableVisitor.prototype.visitText=function(ast,component){var ngContentIndex=component.findNgContentIndex(TEXT_CSS_SELECTOR);return new template_ast_1.TextAst(ast.value,ngContentIndex,ast.sourceSpan)};return NonBindableVisitor}();var BoundElementOrDirectiveProperty=function(){function BoundElementOrDirectiveProperty(name,expression,isLiteral,sourceSpan){this.name=name;this.expression=expression;this.isLiteral=isLiteral;this.sourceSpan=sourceSpan}return BoundElementOrDirectiveProperty}();function splitClasses(classAttrValue){return lang_1.StringWrapper.split(classAttrValue.trim(),/\s+/g)}exports.splitClasses=splitClasses;var Component=function(){function Component(ngContentIndexMatcher,wildcardNgContentIndex){this.ngContentIndexMatcher=ngContentIndexMatcher;this.wildcardNgContentIndex=wildcardNgContentIndex}Component.create=function(directives){if(directives.length===0||!directives[0].directive.isComponent){return EMPTY_COMPONENT}var matcher=new selector_1.SelectorMatcher;var ngContentSelectors=directives[0].directive.template.ngContentSelectors;var wildcardNgContentIndex=null;for(var i=0;i<ngContentSelectors.length;i++){var selector=ngContentSelectors[i];if(lang_1.StringWrapper.equals(selector,"*")){wildcardNgContentIndex=i}else{matcher.addSelectables(selector_1.CssSelector.parse(ngContentSelectors[i]),i)}}return new Component(matcher,wildcardNgContentIndex)};Component.prototype.findNgContentIndex=function(selector){var ngContentIndices=[];this.ngContentIndexMatcher.match(selector,function(selector,ngContentIndex){ngContentIndices.push(ngContentIndex)});collection_1.ListWrapper.sort(ngContentIndices);if(lang_1.isPresent(this.wildcardNgContentIndex)){ngContentIndices.push(this.wildcardNgContentIndex)}return ngContentIndices.length>0?ngContentIndices[0]:null};return Component}();function createElementCssSelector(elementName,matchableAttrs){var cssSelector=new selector_1.CssSelector;var elNameNoNs=html_tags_1.splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(var i=0;i<matchableAttrs.length;i++){var attrName=matchableAttrs[i][0];var attrNameNoNs=html_tags_1.splitNsName(attrName)[1];var attrValue=matchableAttrs[i][1];cssSelector.addAttribute(attrNameNoNs,attrValue);if(attrName.toLowerCase()==CLASS_ATTR){var classes=splitClasses(attrValue);classes.forEach(function(className){return cssSelector.addClassName(className)})}}return cssSelector}var EMPTY_COMPONENT=new Component(new selector_1.SelectorMatcher,null);var NON_BINDABLE_VISITOR=new NonBindableVisitor;var PipeCollector=function(_super){__extends(PipeCollector,_super);function PipeCollector(){_super.apply(this,arguments);this.pipes=new Set}PipeCollector.prototype.visitPipe=function(ast){this.pipes.add(ast.name);ast.exp.visit(this);this.visitAll(ast.args);return null};return PipeCollector}(ast_1.RecursiveAstVisitor);exports.PipeCollector=PipeCollector;global.define=__define;return module.exports});System.register("angular2/common",["angular2/src/common/pipes","angular2/src/common/directives","angular2/src/common/forms","angular2/src/common/common_directives"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}__export(require("angular2/src/common/pipes"));__export(require("angular2/src/common/directives"));__export(require("angular2/src/common/forms"));__export(require("angular2/src/common/common_directives"));global.define=__define;return module.exports});System.register("angular2/src/compiler/template_compiler",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/facade/async","angular2/src/compiler/directive_metadata","angular2/src/compiler/template_ast","angular2/src/core/di","angular2/src/compiler/source_module","angular2/src/compiler/change_detector_compiler","angular2/src/compiler/style_compiler","angular2/src/compiler/view_compiler","angular2/src/compiler/proto_view_compiler","angular2/src/compiler/template_parser","angular2/src/compiler/template_normalizer","angular2/src/compiler/runtime_metadata","angular2/src/core/linker/view","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/resolved_metadata_cache","angular2/src/compiler/util"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var lang_1=require("angular2/src/facade/lang");var exceptions_1=require("angular2/src/facade/exceptions");var collection_1=require("angular2/src/facade/collection");var async_1=require("angular2/src/facade/async");var directive_metadata_1=require("angular2/src/compiler/directive_metadata");var template_ast_1=require("angular2/src/compiler/template_ast");var di_1=require("angular2/src/core/di");var source_module_1=require("angular2/src/compiler/source_module");var change_detector_compiler_1=require("angular2/src/compiler/change_detector_compiler");var style_compiler_1=require("angular2/src/compiler/style_compiler");var view_compiler_1=require("angular2/src/compiler/view_compiler");var proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler");var template_parser_1=require("angular2/src/compiler/template_parser");var template_normalizer_1=require("angular2/src/compiler/template_normalizer");var runtime_metadata_1=require("angular2/src/compiler/runtime_metadata");var view_1=require("angular2/src/core/linker/view");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var resolved_metadata_cache_1=require("angular2/src/core/linker/resolved_metadata_cache");var util_1=require("angular2/src/compiler/util");exports.METADATA_CACHE_MODULE_REF=source_module_1.moduleRef("package:angular2/src/core/linker/resolved_metadata_cache"+util_1.MODULE_SUFFIX);var TemplateCompiler=function(){function TemplateCompiler(_runtimeMetadataResolver,_templateNormalizer,_templateParser,_styleCompiler,_cdCompiler,_protoViewCompiler,_viewCompiler,_resolvedMetadataCache,_genConfig){this._runtimeMetadataResolver=_runtimeMetadataResolver;this._templateNormalizer=_templateNormalizer;this._templateParser=_templateParser;this._styleCompiler=_styleCompiler;this._cdCompiler=_cdCompiler;this._protoViewCompiler=_protoViewCompiler;this._viewCompiler=_viewCompiler;this._resolvedMetadataCache=_resolvedMetadataCache;this._genConfig=_genConfig;this._hostCacheKeys=new Map;this._compiledTemplateCache=new Map;this._compiledTemplateDone=new Map}TemplateCompiler.prototype.normalizeDirectiveMetadata=function(directive){if(!directive.isComponent){return async_1.PromiseWrapper.resolve(directive)}return this._templateNormalizer.normalizeTemplate(directive.type,directive.template).then(function(normalizedTemplate){return new directive_metadata_1.CompileDirectiveMetadata({type:directive.type,isComponent:directive.isComponent,dynamicLoadable:directive.dynamicLoadable,selector:directive.selector,exportAs:directive.exportAs,changeDetection:directive.changeDetection,inputs:directive.inputs,
outputs:directive.outputs,hostListeners:directive.hostListeners,hostProperties:directive.hostProperties,hostAttributes:directive.hostAttributes,lifecycleHooks:directive.lifecycleHooks,template:normalizedTemplate})})};TemplateCompiler.prototype.compileHostComponentRuntime=function(type){var compMeta=this._runtimeMetadataResolver.getDirectiveMetadata(type);var hostCacheKey=this._hostCacheKeys.get(type);if(lang_1.isBlank(hostCacheKey)){hostCacheKey=new Object;this._hostCacheKeys.set(type,hostCacheKey);assertComponent(compMeta);var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);this._compileComponentRuntime(hostCacheKey,hostMeta,[compMeta],[],[])}return this._compiledTemplateDone.get(hostCacheKey).then(function(compiledTemplate){return new view_1.HostViewFactory(compMeta.selector,compiledTemplate.viewFactory)})};TemplateCompiler.prototype.clearCache=function(){this._styleCompiler.clearCache();this._compiledTemplateCache.clear();this._compiledTemplateDone.clear();this._hostCacheKeys.clear()};TemplateCompiler.prototype.compileTemplatesCodeGen=function(components){var _this=this;if(components.length===0){throw new exceptions_1.BaseException("No components given")}var declarations=[];components.forEach(function(componentWithDirs){var compMeta=componentWithDirs.component;assertComponent(compMeta);_this._compileComponentCodeGen(compMeta,componentWithDirs.directives,componentWithDirs.pipes,declarations);if(compMeta.dynamicLoadable){var hostMeta=directive_metadata_1.createHostComponentMeta(compMeta.type,compMeta.selector);var viewFactoryExpression=_this._compileComponentCodeGen(hostMeta,[compMeta],[],declarations);var constructionKeyword=lang_1.IS_DART?"const":"new";var compiledTemplateExpr=constructionKeyword+" "+proto_view_compiler_1.APP_VIEW_MODULE_REF+"HostViewFactory('"+compMeta.selector+"',"+viewFactoryExpression+")";var varName=codeGenHostViewFactoryName(compMeta.type);declarations.push(""+util_1.codeGenExportVariable(varName)+compiledTemplateExpr+";")}});var moduleUrl=components[0].component.type.moduleUrl;return new source_module_1.SourceModule(""+templateModuleUrl(moduleUrl),declarations.join("\n"))};TemplateCompiler.prototype.compileStylesheetCodeGen=function(stylesheetUrl,cssText){return this._styleCompiler.compileStylesheetCodeGen(stylesheetUrl,cssText)};TemplateCompiler.prototype._compileComponentRuntime=function(cacheKey,compMeta,viewDirectives,pipes,compilingComponentsPath){var _this=this;var uniqViewDirectives=removeDuplicates(viewDirectives);var uniqViewPipes=removeDuplicates(pipes);var compiledTemplate=this._compiledTemplateCache.get(cacheKey);var done=this._compiledTemplateDone.get(cacheKey);if(lang_1.isBlank(compiledTemplate)){compiledTemplate=new CompiledTemplate;this._compiledTemplateCache.set(cacheKey,compiledTemplate);done=async_1.PromiseWrapper.all([this._styleCompiler.compileComponentRuntime(compMeta.template)].concat(uniqViewDirectives.map(function(dirMeta){return _this.normalizeDirectiveMetadata(dirMeta)}))).then(function(stylesAndNormalizedViewDirMetas){var normalizedViewDirMetas=stylesAndNormalizedViewDirMetas.slice(1);var styles=stylesAndNormalizedViewDirMetas[0];var parsedTemplate=_this._templateParser.parse(compMeta.template.template,normalizedViewDirMetas,uniqViewPipes,compMeta.type.name);var childPromises=[];var usedDirectives=DirectiveCollector.findUsedDirectives(parsedTemplate);usedDirectives.components.forEach(function(component){return _this._compileNestedComponentRuntime(component,compilingComponentsPath,childPromises)});return async_1.PromiseWrapper.all(childPromises).then(function(_){var filteredPipes=filterPipes(parsedTemplate,uniqViewPipes);compiledTemplate.init(_this._createViewFactoryRuntime(compMeta,parsedTemplate,usedDirectives.directives,styles,filteredPipes));return compiledTemplate})});this._compiledTemplateDone.set(cacheKey,done)}return compiledTemplate};TemplateCompiler.prototype._compileNestedComponentRuntime=function(childComponentDir,parentCompilingComponentsPath,childPromises){var compilingComponentsPath=collection_1.ListWrapper.clone(parentCompilingComponentsPath);var childCacheKey=childComponentDir.type.runtime;var childViewDirectives=this._runtimeMetadataResolver.getViewDirectivesMetadata(childComponentDir.type.runtime);var childViewPipes=this._runtimeMetadataResolver.getViewPipesMetadata(childComponentDir.type.runtime);var childIsRecursive=collection_1.ListWrapper.contains(compilingComponentsPath,childCacheKey);compilingComponentsPath.push(childCacheKey);this._compileComponentRuntime(childCacheKey,childComponentDir,childViewDirectives,childViewPipes,compilingComponentsPath);if(!childIsRecursive){childPromises.push(this._compiledTemplateDone.get(childCacheKey))}};TemplateCompiler.prototype._createViewFactoryRuntime=function(compMeta,parsedTemplate,directives,styles,pipes){var _this=this;if(lang_1.IS_DART||!this._genConfig.useJit){var changeDetectorFactories=this._cdCompiler.compileComponentRuntime(compMeta.type,compMeta.changeDetection,parsedTemplate);var protoViews=this._protoViewCompiler.compileProtoViewRuntime(this._resolvedMetadataCache,compMeta,parsedTemplate,pipes);return this._viewCompiler.compileComponentRuntime(compMeta,parsedTemplate,styles,protoViews.protoViews,changeDetectorFactories,function(compMeta){return _this._getNestedComponentViewFactory(compMeta)})}else{var declarations=[];var viewFactoryExpr=this._createViewFactoryCodeGen("resolvedMetadataCache",compMeta,new source_module_1.SourceExpression([],"styles"),parsedTemplate,pipes,declarations);var vars={exports:{},styles:styles,resolvedMetadataCache:this._resolvedMetadataCache};directives.forEach(function(dirMeta){vars[dirMeta.type.name]=dirMeta.type.runtime;if(dirMeta.isComponent&&dirMeta.type.runtime!==compMeta.type.runtime){vars["viewFactory_"+dirMeta.type.name+"0"]=_this._getNestedComponentViewFactory(dirMeta)}});pipes.forEach(function(pipeMeta){return vars[pipeMeta.type.name]=pipeMeta.type.runtime});var declarationsWithoutImports=source_module_1.SourceModule.getSourceWithoutImports(declarations.join("\n"));return lang_1.evalExpression("viewFactory_"+compMeta.type.name,viewFactoryExpr,declarationsWithoutImports,mergeStringMaps([vars,change_detector_compiler_1.CHANGE_DETECTION_JIT_IMPORTS,proto_view_compiler_1.PROTO_VIEW_JIT_IMPORTS,view_compiler_1.VIEW_JIT_IMPORTS]))}};TemplateCompiler.prototype._getNestedComponentViewFactory=function(compMeta){return this._compiledTemplateCache.get(compMeta.type.runtime).viewFactory};TemplateCompiler.prototype._compileComponentCodeGen=function(compMeta,directives,pipes,targetDeclarations){var uniqueDirectives=removeDuplicates(directives);var uniqPipes=removeDuplicates(pipes);var styleExpr=this._styleCompiler.compileComponentCodeGen(compMeta.template);var parsedTemplate=this._templateParser.parse(compMeta.template.template,uniqueDirectives,uniqPipes,compMeta.type.name);var filteredPipes=filterPipes(parsedTemplate,uniqPipes);return this._createViewFactoryCodeGen(exports.METADATA_CACHE_MODULE_REF+"CODEGEN_RESOLVED_METADATA_CACHE",compMeta,styleExpr,parsedTemplate,filteredPipes,targetDeclarations)};TemplateCompiler.prototype._createViewFactoryCodeGen=function(resolvedMetadataCacheExpr,compMeta,styleExpr,parsedTemplate,pipes,targetDeclarations){var changeDetectorsExprs=this._cdCompiler.compileComponentCodeGen(compMeta.type,compMeta.changeDetection,parsedTemplate);var protoViewExprs=this._protoViewCompiler.compileProtoViewCodeGen(new util_1.Expression(resolvedMetadataCacheExpr),compMeta,parsedTemplate,pipes);var viewFactoryExpr=this._viewCompiler.compileComponentCodeGen(compMeta,parsedTemplate,styleExpr,protoViewExprs.protoViews,changeDetectorsExprs,codeGenComponentViewFactoryName);util_1.addAll(changeDetectorsExprs.declarations,targetDeclarations);util_1.addAll(protoViewExprs.declarations,targetDeclarations);util_1.addAll(viewFactoryExpr.declarations,targetDeclarations);return viewFactoryExpr.expression};TemplateCompiler=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[runtime_metadata_1.RuntimeMetadataResolver,template_normalizer_1.TemplateNormalizer,template_parser_1.TemplateParser,style_compiler_1.StyleCompiler,change_detector_compiler_1.ChangeDetectionCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,resolved_metadata_cache_1.ResolvedMetadataCache,change_detection_1.ChangeDetectorGenConfig])],TemplateCompiler);return TemplateCompiler}();exports.TemplateCompiler=TemplateCompiler;var NormalizedComponentWithViewDirectives=function(){function NormalizedComponentWithViewDirectives(component,directives,pipes){this.component=component;this.directives=directives;this.pipes=pipes}return NormalizedComponentWithViewDirectives}();exports.NormalizedComponentWithViewDirectives=NormalizedComponentWithViewDirectives;var CompiledTemplate=function(){function CompiledTemplate(){this.viewFactory=null}CompiledTemplate.prototype.init=function(viewFactory){this.viewFactory=viewFactory};return CompiledTemplate}();function assertComponent(meta){if(!meta.isComponent){throw new exceptions_1.BaseException("Could not compile '"+meta.type.name+"' because it is not a component.")}}function templateModuleUrl(moduleUrl){var urlWithoutSuffix=moduleUrl.substring(0,moduleUrl.length-util_1.MODULE_SUFFIX.length);return urlWithoutSuffix+".template"+util_1.MODULE_SUFFIX}function codeGenHostViewFactoryName(type){return"hostViewFactory_"+type.name}function codeGenComponentViewFactoryName(nestedCompType){return source_module_1.moduleRef(templateModuleUrl(nestedCompType.type.moduleUrl))+"viewFactory_"+nestedCompType.type.name+"0"}function mergeStringMaps(maps){var result={};maps.forEach(function(map){collection_1.StringMapWrapper.forEach(map,function(value,key){result[key]=value})});return result}function removeDuplicates(items){var res=[];items.forEach(function(item){var hasMatch=res.filter(function(r){return r.type.name==item.type.name&&r.type.moduleUrl==item.type.moduleUrl&&r.type.runtime==item.type.runtime}).length>0;if(!hasMatch){res.push(item)}});return res}var DirectiveCollector=function(){function DirectiveCollector(){this.directives=[];this.components=[]}DirectiveCollector.findUsedDirectives=function(parsedTemplate){var collector=new DirectiveCollector;template_ast_1.templateVisitAll(collector,parsedTemplate);return collector};DirectiveCollector.prototype.visitBoundText=function(ast,context){return null};DirectiveCollector.prototype.visitText=function(ast,context){return null};DirectiveCollector.prototype.visitNgContent=function(ast,context){return null};DirectiveCollector.prototype.visitElement=function(ast,context){template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null};DirectiveCollector.prototype.visitEmbeddedTemplate=function(ast,context){template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null};DirectiveCollector.prototype.visitVariable=function(ast,ctx){return null};DirectiveCollector.prototype.visitAttr=function(ast,attrNameAndValues){return null};DirectiveCollector.prototype.visitDirective=function(ast,ctx){if(ast.directive.isComponent){this.components.push(ast.directive)}this.directives.push(ast.directive);return null};DirectiveCollector.prototype.visitEvent=function(ast,eventTargetAndNames){return null};DirectiveCollector.prototype.visitDirectiveProperty=function(ast,context){return null};DirectiveCollector.prototype.visitElementProperty=function(ast,context){return null};return DirectiveCollector}();function filterPipes(template,allPipes){var visitor=new PipeVisitor;template_ast_1.templateVisitAll(visitor,template);return allPipes.filter(function(pipeMeta){return collection_1.SetWrapper.has(visitor.collector.pipes,pipeMeta.name)})}var PipeVisitor=function(){function PipeVisitor(){this.collector=new template_parser_1.PipeCollector}PipeVisitor.prototype.visitBoundText=function(ast,context){ast.value.visit(this.collector);return null};PipeVisitor.prototype.visitText=function(ast,context){return null};PipeVisitor.prototype.visitNgContent=function(ast,context){return null};PipeVisitor.prototype.visitElement=function(ast,context){template_ast_1.templateVisitAll(this,ast.inputs);template_ast_1.templateVisitAll(this,ast.outputs);template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null};PipeVisitor.prototype.visitEmbeddedTemplate=function(ast,context){template_ast_1.templateVisitAll(this,ast.outputs);template_ast_1.templateVisitAll(this,ast.directives);template_ast_1.templateVisitAll(this,ast.children);return null};PipeVisitor.prototype.visitVariable=function(ast,ctx){return null};PipeVisitor.prototype.visitAttr=function(ast,attrNameAndValues){return null};PipeVisitor.prototype.visitDirective=function(ast,ctx){template_ast_1.templateVisitAll(this,ast.inputs);template_ast_1.templateVisitAll(this,ast.hostEvents);template_ast_1.templateVisitAll(this,ast.hostProperties);return null};PipeVisitor.prototype.visitEvent=function(ast,eventTargetAndNames){ast.handler.visit(this.collector);return null};PipeVisitor.prototype.visitDirectiveProperty=function(ast,context){ast.value.visit(this.collector);return null};PipeVisitor.prototype.visitElementProperty=function(ast,context){ast.value.visit(this.collector);return null};return PipeVisitor}();global.define=__define;return module.exports});System.register("angular2/src/compiler/runtime_compiler",["angular2/src/core/linker/compiler","angular2/src/core/linker/view_ref","angular2/src/compiler/template_compiler","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __metadata=this&&this.__metadata||function(k,v){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var compiler_1=require("angular2/src/core/linker/compiler");var view_ref_1=require("angular2/src/core/linker/view_ref");var template_compiler_1=require("angular2/src/compiler/template_compiler");var di_1=require("angular2/src/core/di");var RuntimeCompiler=function(_super){__extends(RuntimeCompiler,_super);function RuntimeCompiler(){_super.apply(this,arguments)}return RuntimeCompiler}(compiler_1.Compiler);exports.RuntimeCompiler=RuntimeCompiler;var RuntimeCompiler_=function(_super){__extends(RuntimeCompiler_,_super);function RuntimeCompiler_(_templateCompiler){_super.call(this);this._templateCompiler=_templateCompiler}RuntimeCompiler_.prototype.compileInHost=function(componentType){return this._templateCompiler.compileHostComponentRuntime(componentType).then(function(hostViewFactory){return new view_ref_1.HostViewFactoryRef_(hostViewFactory)})};RuntimeCompiler_.prototype.clearCache=function(){_super.prototype.clearCache.call(this);this._templateCompiler.clearCache()};RuntimeCompiler_=__decorate([di_1.Injectable(),__metadata("design:paramtypes",[template_compiler_1.TemplateCompiler])],RuntimeCompiler_);return RuntimeCompiler_}(compiler_1.Compiler_);exports.RuntimeCompiler_=RuntimeCompiler_;global.define=__define;return module.exports});System.register("angular2/src/compiler/compiler",["angular2/src/compiler/runtime_compiler","angular2/src/compiler/template_compiler","angular2/src/compiler/directive_metadata","angular2/src/compiler/source_module","angular2/src/core/platform_directives_and_pipes","angular2/src/compiler/template_ast","angular2/src/compiler/template_parser","angular2/src/facade/lang","angular2/src/core/di","angular2/src/compiler/template_parser","angular2/src/compiler/html_parser","angular2/src/compiler/template_normalizer","angular2/src/compiler/runtime_metadata","angular2/src/compiler/change_detector_compiler","angular2/src/compiler/style_compiler","angular2/src/compiler/view_compiler","angular2/src/compiler/proto_view_compiler","angular2/src/compiler/template_compiler","angular2/src/core/change_detection/change_detection","angular2/src/core/linker/compiler","angular2/src/compiler/runtime_compiler","angular2/src/compiler/schema/element_schema_registry","angular2/src/compiler/schema/dom_element_schema_registry","angular2/src/compiler/url_resolver","angular2/src/core/change_detection/change_detection"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}var runtime_compiler_1=require("angular2/src/compiler/runtime_compiler");var template_compiler_1=require("angular2/src/compiler/template_compiler");exports.TemplateCompiler=template_compiler_1.TemplateCompiler;var directive_metadata_1=require("angular2/src/compiler/directive_metadata");exports.CompileDirectiveMetadata=directive_metadata_1.CompileDirectiveMetadata;exports.CompileTypeMetadata=directive_metadata_1.CompileTypeMetadata;exports.CompileTemplateMetadata=directive_metadata_1.CompileTemplateMetadata;var source_module_1=require("angular2/src/compiler/source_module");exports.SourceModule=source_module_1.SourceModule;exports.SourceWithImports=source_module_1.SourceWithImports;var platform_directives_and_pipes_1=require("angular2/src/core/platform_directives_and_pipes");exports.PLATFORM_DIRECTIVES=platform_directives_and_pipes_1.PLATFORM_DIRECTIVES;exports.PLATFORM_PIPES=platform_directives_and_pipes_1.PLATFORM_PIPES;__export(require("angular2/src/compiler/template_ast"));var template_parser_1=require("angular2/src/compiler/template_parser");exports.TEMPLATE_TRANSFORMS=template_parser_1.TEMPLATE_TRANSFORMS;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var template_parser_2=require("angular2/src/compiler/template_parser");var html_parser_1=require("angular2/src/compiler/html_parser");var template_normalizer_1=require("angular2/src/compiler/template_normalizer");var runtime_metadata_1=require("angular2/src/compiler/runtime_metadata");var change_detector_compiler_1=require("angular2/src/compiler/change_detector_compiler");var style_compiler_1=require("angular2/src/compiler/style_compiler");var view_compiler_1=require("angular2/src/compiler/view_compiler");var proto_view_compiler_1=require("angular2/src/compiler/proto_view_compiler");var template_compiler_2=require("angular2/src/compiler/template_compiler");var change_detection_1=require("angular2/src/core/change_detection/change_detection");var compiler_1=require("angular2/src/core/linker/compiler");var runtime_compiler_2=require("angular2/src/compiler/runtime_compiler");var element_schema_registry_1=require("angular2/src/compiler/schema/element_schema_registry");var dom_element_schema_registry_1=require("angular2/src/compiler/schema/dom_element_schema_registry");var url_resolver_1=require("angular2/src/compiler/url_resolver");var change_detection_2=require("angular2/src/core/change_detection/change_detection");function _createChangeDetectorGenConfig(){return new change_detection_1.ChangeDetectorGenConfig(lang_1.assertionsEnabled(),false,true)}exports.COMPILER_PROVIDERS=lang_1.CONST_EXPR([change_detection_2.Lexer,change_detection_2.Parser,html_parser_1.HtmlParser,template_parser_2.TemplateParser,template_normalizer_1.TemplateNormalizer,runtime_metadata_1.RuntimeMetadataResolver,url_resolver_1.DEFAULT_PACKAGE_URL_PROVIDER,style_compiler_1.StyleCompiler,proto_view_compiler_1.ProtoViewCompiler,view_compiler_1.ViewCompiler,change_detector_compiler_1.ChangeDetectionCompiler,new di_1.Provider(change_detection_1.ChangeDetectorGenConfig,{useFactory:_createChangeDetectorGenConfig,deps:[]}),template_compiler_2.TemplateCompiler,new di_1.Provider(runtime_compiler_2.RuntimeCompiler,{useClass:runtime_compiler_1.RuntimeCompiler_}),new di_1.Provider(compiler_1.Compiler,{useExisting:runtime_compiler_2.RuntimeCompiler}),dom_element_schema_registry_1.DomElementSchemaRegistry,new di_1.Provider(element_schema_registry_1.ElementSchemaRegistry,{useExisting:dom_element_schema_registry_1.DomElementSchemaRegistry}),url_resolver_1.UrlResolver]);global.define=__define;return module.exports});System.register("angular2/compiler",["angular2/src/compiler/url_resolver","angular2/src/compiler/xhr","angular2/src/compiler/compiler"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}__export(require("angular2/src/compiler/url_resolver"));__export(require("angular2/src/compiler/xhr"));__export(require("angular2/src/compiler/compiler"));global.define=__define;return module.exports});System.register("angular2/src/platform/browser_common",["angular2/src/facade/lang","angular2/src/core/di","angular2/core","angular2/common","angular2/src/core/testability/testability","angular2/src/platform/dom/dom_adapter","angular2/src/platform/dom/events/dom_events","angular2/src/platform/dom/events/key_events","angular2/src/platform/dom/events/hammer_gestures","angular2/src/platform/dom/dom_tokens","angular2/src/platform/dom/dom_renderer","angular2/src/platform/dom/shared_styles_host","angular2/src/platform/dom/shared_styles_host","angular2/src/animate/browser_details","angular2/src/animate/animation_builder","angular2/src/platform/browser/browser_adapter","angular2/src/platform/browser/testability","angular2/src/core/profile/wtf_init","angular2/src/platform/dom/events/event_manager","angular2/platform/common_dom","angular2/src/platform/dom/dom_tokens","angular2/src/platform/browser/title","angular2/platform/common_dom","angular2/src/platform/browser/browser_adapter","angular2/src/platform/browser/tools/tools"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var lang_1=require("angular2/src/facade/lang");var di_1=require("angular2/src/core/di");var core_1=require("angular2/core");var common_1=require("angular2/common");var testability_1=require("angular2/src/core/testability/testability");var dom_adapter_1=require("angular2/src/platform/dom/dom_adapter");var dom_events_1=require("angular2/src/platform/dom/events/dom_events");var key_events_1=require("angular2/src/platform/dom/events/key_events");var hammer_gestures_1=require("angular2/src/platform/dom/events/hammer_gestures");var dom_tokens_1=require("angular2/src/platform/dom/dom_tokens");var dom_renderer_1=require("angular2/src/platform/dom/dom_renderer");var shared_styles_host_1=require("angular2/src/platform/dom/shared_styles_host");var shared_styles_host_2=require("angular2/src/platform/dom/shared_styles_host");var browser_details_1=require("angular2/src/animate/browser_details");var animation_builder_1=require("angular2/src/animate/animation_builder");var browser_adapter_1=require("angular2/src/platform/browser/browser_adapter");var testability_2=require("angular2/src/platform/browser/testability");var wtf_init_1=require("angular2/src/core/profile/wtf_init");var event_manager_1=require("angular2/src/platform/dom/events/event_manager");var common_dom_1=require("angular2/platform/common_dom");var dom_tokens_2=require("angular2/src/platform/dom/dom_tokens");exports.DOCUMENT=dom_tokens_2.DOCUMENT;var title_1=require("angular2/src/platform/browser/title");exports.Title=title_1.Title;var common_dom_2=require("angular2/platform/common_dom");exports.ELEMENT_PROBE_PROVIDERS=common_dom_2.ELEMENT_PROBE_PROVIDERS;exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=common_dom_2.ELEMENT_PROBE_PROVIDERS_PROD_MODE;exports.inspectNativeElement=common_dom_2.inspectNativeElement;exports.By=common_dom_2.By;var browser_adapter_2=require("angular2/src/platform/browser/browser_adapter");exports.BrowserDomAdapter=browser_adapter_2.BrowserDomAdapter;var tools_1=require("angular2/src/platform/browser/tools/tools");exports.enableDebugTools=tools_1.enableDebugTools;exports.disableDebugTools=tools_1.disableDebugTools;exports.BROWSER_PROVIDERS=lang_1.CONST_EXPR([core_1.PLATFORM_COMMON_PROVIDERS,new di_1.Provider(core_1.PLATFORM_INITIALIZER,{useValue:initDomAdapter,multi:true})]);function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.DOM,!lang_1.IS_DART)}function _document(){return dom_adapter_1.DOM.defaultDoc()}exports.BROWSER_APP_COMMON_PROVIDERS=lang_1.CONST_EXPR([core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,new di_1.Provider(core_1.PLATFORM_PIPES,{useValue:common_1.COMMON_PIPES,multi:true}),new di_1.Provider(core_1.PLATFORM_DIRECTIVES,{useValue:common_1.COMMON_DIRECTIVES,multi:true}),new di_1.Provider(core_1.ExceptionHandler,{useFactory:_exceptionHandler,deps:[]}),new di_1.Provider(dom_tokens_1.DOCUMENT,{useFactory:_document,deps:[]}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:dom_events_1.DomEventsPlugin,multi:true}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:key_events_1.KeyEventsPlugin,multi:true}),new di_1.Provider(event_manager_1.EVENT_MANAGER_PLUGINS,{useClass:hammer_gestures_1.HammerGesturesPlugin,multi:true}),new di_1.Provider(dom_renderer_1.DomRootRenderer,{useClass:dom_renderer_1.DomRootRenderer_}),new di_1.Provider(core_1.RootRenderer,{useExisting:dom_renderer_1.DomRootRenderer}),new di_1.Provider(shared_styles_host_2.SharedStylesHost,{useExisting:shared_styles_host_1.DomSharedStylesHost}),shared_styles_host_1.DomSharedStylesHost,testability_1.Testability,browser_details_1.BrowserDetails,animation_builder_1.AnimationBuilder,event_manager_1.EventManager,common_dom_1.ELEMENT_PROBE_PROVIDERS]);function initDomAdapter(){browser_adapter_1.BrowserDomAdapter.makeCurrent();wtf_init_1.wtfInit();testability_2.BrowserGetTestability.init()}exports.initDomAdapter=initDomAdapter;global.define=__define;return module.exports});System.register("angular2/platform/browser",["angular2/src/core/angular_entrypoint","angular2/src/platform/browser_common","angular2/src/facade/lang","angular2/src/platform/browser_common","angular2/compiler","angular2/core","angular2/src/core/reflection/reflection_capabilities","angular2/src/platform/browser/xhr_impl","angular2/compiler","angular2/src/core/di"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var angular_entrypoint_1=require("angular2/src/core/angular_entrypoint");exports.AngularEntrypoint=angular_entrypoint_1.AngularEntrypoint;var browser_common_1=require("angular2/src/platform/browser_common");exports.BROWSER_PROVIDERS=browser_common_1.BROWSER_PROVIDERS;exports.ELEMENT_PROBE_PROVIDERS=browser_common_1.ELEMENT_PROBE_PROVIDERS;exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=browser_common_1.ELEMENT_PROBE_PROVIDERS_PROD_MODE;exports.inspectNativeElement=browser_common_1.inspectNativeElement;exports.BrowserDomAdapter=browser_common_1.BrowserDomAdapter;exports.By=browser_common_1.By;exports.Title=browser_common_1.Title;exports.DOCUMENT=browser_common_1.DOCUMENT;exports.enableDebugTools=browser_common_1.enableDebugTools;exports.disableDebugTools=browser_common_1.disableDebugTools;var lang_1=require("angular2/src/facade/lang");var browser_common_2=require("angular2/src/platform/browser_common");var compiler_1=require("angular2/compiler");var core_1=require("angular2/core");var reflection_capabilities_1=require("angular2/src/core/reflection/reflection_capabilities");var xhr_impl_1=require("angular2/src/platform/browser/xhr_impl");var compiler_2=require("angular2/compiler");var di_1=require("angular2/src/core/di");exports.BROWSER_APP_PROVIDERS=lang_1.CONST_EXPR([browser_common_2.BROWSER_APP_COMMON_PROVIDERS,compiler_1.COMPILER_PROVIDERS,new di_1.Provider(compiler_2.XHR,{useClass:xhr_impl_1.XHRImpl})]);function bootstrap(appComponentType,customProviders){core_1.reflector.reflectionCapabilities=new reflection_capabilities_1.ReflectionCapabilities;var appProviders=lang_1.isPresent(customProviders)?[exports.BROWSER_APP_PROVIDERS,customProviders]:exports.BROWSER_APP_PROVIDERS;return core_1.platform(browser_common_2.BROWSER_PROVIDERS).application(appProviders).bootstrap(appComponentType)}exports.bootstrap=bootstrap;global.define=__define;return module.exports});System.register("angular2/instrumentation",["angular2/src/core/profile/profile"],true,function(require,exports,module){var global=System.global,__define=global.define;global.define=undefined;var profile_1=require("angular2/src/core/profile/profile");exports.wtfCreateScope=profile_1.wtfCreateScope;exports.wtfLeave=profile_1.wtfLeave;exports.wtfStartTimeRange=profile_1.wtfStartTimeRange;exports.wtfEndTimeRange=profile_1.wtfEndTimeRange;global.define=__define;return module.exports});"format register";System.register("angular2/src/http/interfaces",[],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=function(){function e(){}return e}();t.ConnectionBackend=a;var o=function(){function e(){}return e}();return t.Connection=o,n.define=s,r.exports}),System.register("angular2/src/http/headers",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=e("angular2/src/facade/lang"),o=e("angular2/src/facade/exceptions"),i=e("angular2/src/facade/collection"),c=function(){function e(t){var r=this;return t instanceof e?void(this._headersMap=t._headersMap):(this._headersMap=new i.Map,void(a.isBlank(t)||i.StringMapWrapper.forEach(t,function(e,t){r._headersMap.set(t,i.isListLikeIterable(e)?e:[e])})))}return e.fromResponseHeaderString=function(t){return t.trim().split("\n").map(function(e){return e.split(":")}).map(function(e){var t=e[0],r=e.slice(1);return[t.trim(),r.join(":").trim()]}).reduce(function(e,t){var r=t[0],n=t[1];return!e.set(r,n)&&e},new e)},e.prototype.append=function(e,t){var r=this._headersMap.get(e),n=i.isListLikeIterable(r)?r:[];n.push(t),this._headersMap.set(e,n)},e.prototype["delete"]=function(e){this._headersMap["delete"](e)},e.prototype.forEach=function(e){this._headersMap.forEach(e)},e.prototype.get=function(e){return i.ListWrapper.first(this._headersMap.get(e))},e.prototype.has=function(e){return this._headersMap.has(e)},e.prototype.keys=function(){return i.MapWrapper.keys(this._headersMap)},e.prototype.set=function(e,t){var r=[];if(i.isListLikeIterable(t)){var n=t.join(",");r.push(n)}else r.push(t);this._headersMap.set(e,r)},e.prototype.values=function(){return i.MapWrapper.values(this._headersMap)},e.prototype.toJSON=function(){return a.Json.stringify(this.values())},e.prototype.getAll=function(e){var t=this._headersMap.get(e);return i.isListLikeIterable(t)?t:[]},e.prototype.entries=function(){throw new o.BaseException('"entries" method is not implemented on Headers class')},e}();return t.Headers=c,n.define=s,r.exports}),System.register("angular2/src/http/enums",[],!0,function(e,t,r){var n=System.global,s=n.define;return n.define=void 0,function(e){e[e.Get=0]="Get",e[e.Post=1]="Post",e[e.Put=2]="Put",e[e.Delete=3]="Delete",e[e.Options=4]="Options",e[e.Head=5]="Head",e[e.Patch=6]="Patch"}(t.RequestMethod||(t.RequestMethod={})),t.RequestMethod,!function(e){e[e.Unsent=0]="Unsent",e[e.Open=1]="Open",e[e.HeadersReceived=2]="HeadersReceived",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Cancelled=5]="Cancelled"}(t.ReadyState||(t.ReadyState={})),t.ReadyState,!function(e){e[e.Basic=0]="Basic",e[e.Cors=1]="Cors",e[e.Default=2]="Default",e[e.Error=3]="Error",e[e.Opaque=4]="Opaque"}(t.ResponseType||(t.ResponseType={})),t.ResponseType,n.define=s,
r.exports}),System.register("angular2/src/http/url_search_params",["angular2/src/facade/lang","angular2/src/facade/collection"],!0,function(e,t,r){function n(e){void 0===e&&(e="");var t=new i.Map;if(e.length>0){var r=e.split("&");r.forEach(function(e){var r=e.split("="),n=r[0],s=r[1],a=o.isPresent(t.get(n))?t.get(n):[];a.push(s),t.set(n,a)})}return t}var s=System.global,a=s.define;s.define=void 0;var o=e("angular2/src/facade/lang"),i=e("angular2/src/facade/collection"),c=function(){function e(e){void 0===e&&(e=""),this.rawParams=e,this.paramsMap=n(e)}return e.prototype.clone=function(){var t=new e;return t.appendAll(this),t},e.prototype.has=function(e){return this.paramsMap.has(e)},e.prototype.get=function(e){var t=this.paramsMap.get(e);return i.isListLikeIterable(t)?i.ListWrapper.first(t):null},e.prototype.getAll=function(e){var t=this.paramsMap.get(e);return o.isPresent(t)?t:[]},e.prototype.set=function(e,t){var r=this.paramsMap.get(e),n=o.isPresent(r)?r:[];i.ListWrapper.clear(n),n.push(t),this.paramsMap.set(e,n)},e.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){var n=t.paramsMap.get(r),s=o.isPresent(n)?n:[];i.ListWrapper.clear(s),s.push(e[0]),t.paramsMap.set(r,s)})},e.prototype.append=function(e,t){var r=this.paramsMap.get(e),n=o.isPresent(r)?r:[];n.push(t),this.paramsMap.set(e,n)},e.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){for(var n=t.paramsMap.get(r),s=o.isPresent(n)?n:[],a=0;a<e.length;++a)s.push(e[a]);t.paramsMap.set(r,s)})},e.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){var n=t.paramsMap.get(r),s=o.isPresent(n)?n:[];i.ListWrapper.clear(s);for(var a=0;a<e.length;++a)s.push(e[a]);t.paramsMap.set(r,s)})},e.prototype.toString=function(){var e=[];return this.paramsMap.forEach(function(t,r){t.forEach(function(t){return e.push(r+"="+t)})}),e.join("&")},e.prototype["delete"]=function(e){this.paramsMap["delete"](e)},e}();return t.URLSearchParams=c,s.define=a,r.exports}),System.register("angular2/src/http/static_response",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/http/http_utils"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=e("angular2/src/facade/lang"),o=e("angular2/src/facade/exceptions"),i=e("angular2/src/http/http_utils"),c=function(){function e(e){this._body=e.body,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}return e.prototype.blob=function(){throw new o.BaseException('"blob()" method not implemented on Response superclass')},e.prototype.json=function(){var e;return i.isJsObject(this._body)?e=this._body:a.isString(this._body)&&(e=a.Json.parse(this._body)),e},e.prototype.text=function(){return this._body.toString()},e.prototype.arrayBuffer=function(){throw new o.BaseException('"arrayBuffer()" method not implemented on Response superclass')},e}();return t.Response=c,n.define=s,r.exports}),System.register("angular2/src/http/base_response_options",["angular2/core","angular2/src/facade/lang","angular2/src/http/headers","angular2/src/http/enums"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},c=e("angular2/core"),u=e("angular2/src/facade/lang"),p=e("angular2/src/http/headers"),l=e("angular2/src/http/enums"),d=function(){function e(e){var t=void 0===e?{}:e,r=t.body,n=t.status,s=t.headers,a=t.statusText,o=t.type,i=t.url;this.body=u.isPresent(r)?r:null,this.status=u.isPresent(n)?n:null,this.headers=u.isPresent(s)?s:null,this.statusText=u.isPresent(a)?a:null,this.type=u.isPresent(o)?o:null,this.url=u.isPresent(i)?i:null}return e.prototype.merge=function(t){return new e({body:u.isPresent(t)&&u.isPresent(t.body)?t.body:this.body,status:u.isPresent(t)&&u.isPresent(t.status)?t.status:this.status,headers:u.isPresent(t)&&u.isPresent(t.headers)?t.headers:this.headers,statusText:u.isPresent(t)&&u.isPresent(t.statusText)?t.statusText:this.statusText,type:u.isPresent(t)&&u.isPresent(t.type)?t.type:this.type,url:u.isPresent(t)&&u.isPresent(t.url)?t.url:this.url})},e}();t.ResponseOptions=d;var h=function(e){function t(){e.call(this,{status:200,statusText:"Ok",type:l.ResponseType.Default,headers:new p.Headers})}return a(t,e),t=o([c.Injectable(),i("design:paramtypes",[])],t)}(d);return t.BaseResponseOptions=h,n.define=s,r.exports}),System.register("angular2/src/http/backends/browser_xhr",["angular2/core"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=e("angular2/core"),c=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e=a([i.Injectable(),o("design:paramtypes",[])],e)}();return t.BrowserXhr=c,n.define=s,r.exports}),System.register("angular2/src/http/backends/browser_jsonp",["angular2/core","angular2/src/facade/lang"],!0,function(e,t,r){function n(){return null===l&&(l=u.global[t.JSONP_HOME]={}),l}var s=System.global,a=s.define;s.define=void 0;var o=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},c=e("angular2/core"),u=e("angular2/src/facade/lang"),p=0;t.JSONP_HOME="__ng_jsonp__";var l=null,d=function(){function e(){}return e.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},e.prototype.nextRequestID=function(){return"__req"+p++},e.prototype.requestCallback=function(e){return t.JSONP_HOME+"."+e+".finished"},e.prototype.exposeConnection=function(e,t){var r=n();r[e]=t},e.prototype.removeConnection=function(e){var t=n();t[e]=null},e.prototype.send=function(e){document.body.appendChild(e)},e.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},e=o([c.Injectable(),i("design:paramtypes",[])],e)}();return t.BrowserJsonp=d,s.define=a,r.exports}),System.register("angular2/src/http/http_utils",["angular2/src/facade/lang","angular2/src/http/enums","angular2/src/facade/exceptions","angular2/src/facade/lang"],!0,function(e,t,r){function n(e){if(i.isString(e)){var t=e;if(e=e.replace(/(\w)(\w*)/g,function(e,t,r){return t.toUpperCase()+r.toLowerCase()}),e=c.RequestMethod[e],"number"!=typeof e)throw u.makeTypeError('Invalid request method. The method "'+t+'" is not supported.')}return e}function s(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}var a=System.global,o=a.define;a.define=void 0;var i=e("angular2/src/facade/lang"),c=e("angular2/src/http/enums"),u=e("angular2/src/facade/exceptions");t.normalizeMethodName=n,t.isSuccess=function(e){return e>=200&&300>e},t.getResponseURL=s;var p=e("angular2/src/facade/lang");return t.isJsObject=p.isJsObject,a.define=o,r.exports}),System.register("angular2/src/http/base_request_options",["angular2/src/facade/lang","angular2/src/http/headers","angular2/src/http/enums","angular2/core","angular2/src/http/url_search_params","angular2/src/http/http_utils"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},c=e("angular2/src/facade/lang"),u=e("angular2/src/http/headers"),p=e("angular2/src/http/enums"),l=e("angular2/core"),d=e("angular2/src/http/url_search_params"),h=e("angular2/src/http/http_utils"),f=function(){function e(e){var t=void 0===e?{}:e,r=t.method,n=t.headers,s=t.body,a=t.url,o=t.search;this.method=c.isPresent(r)?h.normalizeMethodName(r):null,this.headers=c.isPresent(n)?n:null,this.body=c.isPresent(s)?s:null,this.url=c.isPresent(a)?a:null,this.search=c.isPresent(o)?c.isString(o)?new d.URLSearchParams(o):o:null}return e.prototype.merge=function(t){return new e({method:c.isPresent(t)&&c.isPresent(t.method)?t.method:this.method,headers:c.isPresent(t)&&c.isPresent(t.headers)?t.headers:this.headers,body:c.isPresent(t)&&c.isPresent(t.body)?t.body:this.body,url:c.isPresent(t)&&c.isPresent(t.url)?t.url:this.url,search:c.isPresent(t)&&c.isPresent(t.search)?c.isString(t.search)?new d.URLSearchParams(t.search):t.search.clone():this.search})},e}();t.RequestOptions=f;var g=function(e){function t(){e.call(this,{method:p.RequestMethod.Get,headers:new u.Headers})}return a(t,e),t=o([l.Injectable(),i("design:paramtypes",[])],t)}(f);return t.BaseRequestOptions=g,n.define=s,r.exports}),System.register("angular2/src/http/backends/xhr_backend",["angular2/src/http/enums","angular2/src/http/static_response","angular2/src/http/headers","angular2/src/http/base_response_options","angular2/core","angular2/src/http/backends/browser_xhr","angular2/src/facade/lang","rxjs/Observable","angular2/src/http/http_utils"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},i=e("angular2/src/http/enums"),c=e("angular2/src/http/static_response"),u=e("angular2/src/http/headers"),p=e("angular2/src/http/base_response_options"),l=e("angular2/core"),d=e("angular2/src/http/backends/browser_xhr"),h=e("angular2/src/facade/lang"),f=e("rxjs/Observable"),g=e("angular2/src/http/http_utils"),y=function(){function e(e,t,r){var n=this;this.request=e,this.response=new f.Observable(function(s){var a=t.build();a.open(i.RequestMethod[e.method].toUpperCase(),e.url);var o=function(){var e=h.isPresent(a.response)?a.response:a.responseText,t=u.Headers.fromResponseHeaderString(a.getAllResponseHeaders()),n=g.getResponseURL(a),o=1223===a.status?204:a.status;0===o&&(o=e?200:0);var i=new p.ResponseOptions({body:e,status:o,headers:t,url:n});h.isPresent(r)&&(i=r.merge(i));var l=new c.Response(i);return g.isSuccess(o)?(s.next(l),void s.complete()):void s.error(l)},l=function(e){var t=new p.ResponseOptions({body:e,type:i.ResponseType.Error});h.isPresent(r)&&(t=r.merge(t)),s.error(new c.Response(t))};return h.isPresent(e.headers)&&e.headers.forEach(function(e,t){return a.setRequestHeader(t,e.join(","))}),a.addEventListener("load",o),a.addEventListener("error",l),a.send(n.request.text()),function(){a.removeEventListener("load",o),a.removeEventListener("error",l),a.abort()}})}return e}();t.XHRConnection=y;var b=function(){function e(e,t){this._browserXHR=e,this._baseResponseOptions=t}return e.prototype.createConnection=function(e){return new y(e,this._browserXHR,this._baseResponseOptions)},e=a([l.Injectable(),o("design:paramtypes",[d.BrowserXhr,p.ResponseOptions])],e)}();return t.XHRBackend=b,n.define=s,r.exports}),System.register("angular2/src/http/backends/jsonp_backend",["angular2/src/http/interfaces","angular2/src/http/enums","angular2/src/http/static_response","angular2/src/http/base_response_options","angular2/core","angular2/src/http/backends/browser_jsonp","angular2/src/facade/exceptions","angular2/src/facade/lang","rxjs/Observable"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},c=e("angular2/src/http/interfaces"),u=e("angular2/src/http/enums"),p=e("angular2/src/http/static_response"),l=e("angular2/src/http/base_response_options"),d=e("angular2/core"),h=e("angular2/src/http/backends/browser_jsonp"),f=e("angular2/src/facade/exceptions"),g=e("angular2/src/facade/lang"),y=e("rxjs/Observable"),b="JSONP injected script did not invoke callback.",_="JSONP requests must use GET request method.",m=function(){function e(){}return e}();t.JSONPConnection=m;var R=function(e){function t(t,r,n){var s=this;if(e.call(this),this._dom=r,this.baseResponseOptions=n,this._finished=!1,t.method!==u.RequestMethod.Get)throw f.makeTypeError(_);this.request=t,this.response=new y.Observable(function(e){s.readyState=u.ReadyState.Loading;var a=s._id=r.nextRequestID();r.exposeConnection(a,s);var o=r.requestCallback(s._id),i=t.url;i.indexOf("=JSONP_CALLBACK&")>-1?i=g.StringWrapper.replace(i,"=JSONP_CALLBACK&","="+o+"&"):i.lastIndexOf("=JSONP_CALLBACK")===i.length-"=JSONP_CALLBACK".length&&(i=i.substring(0,i.length-"=JSONP_CALLBACK".length)+("="+o));var c=s._script=r.build(i),d=function(t){if(s.readyState!==u.ReadyState.Cancelled){if(s.readyState=u.ReadyState.Done,r.cleanup(c),!s._finished){var a=new l.ResponseOptions({body:b,type:u.ResponseType.Error,url:i});return g.isPresent(n)&&(a=n.merge(a)),void e.error(new p.Response(a))}var o=new l.ResponseOptions({body:s._responseData,url:i});g.isPresent(s.baseResponseOptions)&&(o=s.baseResponseOptions.merge(o)),e.next(new p.Response(o)),e.complete()}},h=function(t){if(s.readyState!==u.ReadyState.Cancelled){s.readyState=u.ReadyState.Done,r.cleanup(c);var a=new l.ResponseOptions({body:t.message,type:u.ResponseType.Error});g.isPresent(n)&&(a=n.merge(a)),e.error(new p.Response(a))}};return c.addEventListener("load",d),c.addEventListener("error",h),r.send(c),function(){s.readyState=u.ReadyState.Cancelled,c.removeEventListener("load",d),c.removeEventListener("error",h),g.isPresent(c)&&s._dom.cleanup(c)}})}return a(t,e),t.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==u.ReadyState.Cancelled&&(this._responseData=e)},t}(m);t.JSONPConnection_=R;var v=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(c.ConnectionBackend);t.JSONPBackend=v;var O=function(e){function t(t,r){e.call(this),this._browserJSONP=t,this._baseResponseOptions=r}return a(t,e),t.prototype.createConnection=function(e){return new R(e,this._browserJSONP,this._baseResponseOptions)},t=o([d.Injectable(),i("design:paramtypes",[h.BrowserJsonp,l.ResponseOptions])],t)}(v);return t.JSONPBackend_=O,n.define=s,r.exports}),System.register("angular2/src/http/static_request",["angular2/src/http/headers","angular2/src/http/http_utils","angular2/src/facade/lang"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=e("angular2/src/http/headers"),o=e("angular2/src/http/http_utils"),i=e("angular2/src/facade/lang"),c=function(){function e(e){var t=e.url;if(this.url=e.url,i.isPresent(e.search)){var r=e.search.toString();if(r.length>0){var n="?";i.StringWrapper.contains(this.url,"?")&&(n="&"==this.url[this.url.length-1]?"":"&"),this.url=t+n+r}}this._body=e.body,this.method=o.normalizeMethodName(e.method),this.headers=new a.Headers(e.headers)}return e.prototype.text=function(){return i.isPresent(this._body)?this._body.toString():""},e}();return t.Request=c,n.define=s,r.exports}),System.register("angular2/src/http/http",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/core","angular2/src/http/interfaces","angular2/src/http/static_request","angular2/src/http/base_request_options","angular2/src/http/enums"],!0,function(e,t,r){function n(e,t){return e.createConnection(t).response}function s(e,t,r,n){var s=e;return p.isPresent(t)?s.merge(new g.RequestOptions({method:t.method||r,url:t.url||n,search:t.search,headers:t.headers,body:t.body})):p.isPresent(r)?s.merge(new g.RequestOptions({method:r,url:n})):s.merge(new g.RequestOptions({url:n}))}var a=System.global,o=a.define;a.define=void 0;var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},c=this&&this.__decorate||function(e,t,r,n){var s,a=arguments.length,o=3>a?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(3>a?s(o):a>3?s(t,r,o):s(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},u=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},p=e("angular2/src/facade/lang"),l=e("angular2/src/facade/exceptions"),d=e("angular2/core"),h=e("angular2/src/http/interfaces"),f=e("angular2/src/http/static_request"),g=e("angular2/src/http/base_request_options"),y=e("angular2/src/http/enums"),b=function(){function e(e,t){this._backend=e,this._defaultOptions=t}return e.prototype.request=function(e,t){var r;if(p.isString(e))r=n(this._backend,new f.Request(s(this._defaultOptions,t,y.RequestMethod.Get,e)));else{if(!(e instanceof f.Request))throw l.makeTypeError("First argument must be a url string or Request instance.");r=n(this._backend,e)}return r},e.prototype.get=function(e,t){return n(this._backend,new f.Request(s(this._defaultOptions,t,y.RequestMethod.Get,e)))},e.prototype.post=function(e,t,r){return n(this._backend,new f.Request(s(this._defaultOptions.merge(new g.RequestOptions({body:t})),r,y.RequestMethod.Post,e)))},e.prototype.put=function(e,t,r){return n(this._backend,new f.Request(s(this._defaultOptions.merge(new g.RequestOptions({body:t})),r,y.RequestMethod.Put,e)))},e.prototype["delete"]=function(e,t){return n(this._backend,new f.Request(s(this._defaultOptions,t,y.RequestMethod.Delete,e)))},e.prototype.patch=function(e,t,r){return n(this._backend,new f.Request(s(this._defaultOptions.merge(new g.RequestOptions({body:t})),r,y.RequestMethod.Patch,e)))},e.prototype.head=function(e,t){return n(this._backend,new f.Request(s(this._defaultOptions,t,y.RequestMethod.Head,e)))},e=c([d.Injectable(),u("design:paramtypes",[h.ConnectionBackend,g.RequestOptions])],e)}();t.Http=b;var _=function(e){function t(t,r){e.call(this,t,r)}return i(t,e),t.prototype.request=function(e,t){var r;if(p.isString(e)&&(e=new f.Request(s(this._defaultOptions,t,y.RequestMethod.Get,e))),!(e instanceof f.Request))throw l.makeTypeError("First argument must be a url string or Request instance.");return e.method!==y.RequestMethod.Get&&l.makeTypeError("JSONP requests must use GET request method."),r=n(this._backend,e)},t=c([d.Injectable(),u("design:paramtypes",[h.ConnectionBackend,g.RequestOptions])],t)}(b);return t.Jsonp=_,a.define=o,r.exports}),System.register("angular2/http",["angular2/core","angular2/src/http/http","angular2/src/http/backends/xhr_backend","angular2/src/http/backends/jsonp_backend","angular2/src/http/backends/browser_xhr","angular2/src/http/backends/browser_jsonp","angular2/src/http/base_request_options","angular2/src/http/base_response_options","angular2/src/http/static_request","angular2/src/http/static_response","angular2/src/http/interfaces","angular2/src/http/backends/browser_xhr","angular2/src/http/base_request_options","angular2/src/http/base_response_options","angular2/src/http/backends/xhr_backend","angular2/src/http/backends/jsonp_backend","angular2/src/http/http","angular2/src/http/headers","angular2/src/http/enums","angular2/src/http/url_search_params"],!0,function(e,t,r){var n=System.global,s=n.define;n.define=void 0;var a=e("angular2/core"),o=e("angular2/src/http/http"),i=e("angular2/src/http/backends/xhr_backend"),c=e("angular2/src/http/backends/jsonp_backend"),u=e("angular2/src/http/backends/browser_xhr"),p=e("angular2/src/http/backends/browser_jsonp"),l=e("angular2/src/http/base_request_options"),d=e("angular2/src/http/base_response_options"),h=e("angular2/src/http/static_request");t.Request=h.Request;var f=e("angular2/src/http/static_response");t.Response=f.Response;var g=e("angular2/src/http/interfaces");t.Connection=g.Connection,t.ConnectionBackend=g.ConnectionBackend;var y=e("angular2/src/http/backends/browser_xhr");t.BrowserXhr=y.BrowserXhr;var b=e("angular2/src/http/base_request_options");t.BaseRequestOptions=b.BaseRequestOptions,t.RequestOptions=b.RequestOptions;var _=e("angular2/src/http/base_response_options");t.BaseResponseOptions=_.BaseResponseOptions,t.ResponseOptions=_.ResponseOptions;var m=e("angular2/src/http/backends/xhr_backend");t.XHRBackend=m.XHRBackend,t.XHRConnection=m.XHRConnection;var R=e("angular2/src/http/backends/jsonp_backend");t.JSONPBackend=R.JSONPBackend,t.JSONPConnection=R.JSONPConnection;var v=e("angular2/src/http/http");t.Http=v.Http,t.Jsonp=v.Jsonp;var O=e("angular2/src/http/headers");t.Headers=O.Headers;var P=e("angular2/src/http/enums");t.ResponseType=P.ResponseType,t.ReadyState=P.ReadyState,t.RequestMethod=P.RequestMethod;var S=e("angular2/src/http/url_search_params");return t.URLSearchParams=S.URLSearchParams,t.HTTP_PROVIDERS=[a.provide(o.Http,{useFactory:function(e,t){return new o.Http(e,t)},deps:[i.XHRBackend,l.RequestOptions]}),u.BrowserXhr,a.provide(l.RequestOptions,{useClass:l.BaseRequestOptions}),a.provide(d.ResponseOptions,{useClass:d.BaseResponseOptions}),i.XHRBackend],t.HTTP_BINDINGS=t.HTTP_PROVIDERS,t.JSONP_PROVIDERS=[a.provide(o.Jsonp,{useFactory:function(e,t){return new o.Jsonp(e,t)},deps:[c.JSONPBackend,l.RequestOptions]}),p.BrowserJsonp,a.provide(l.RequestOptions,{useClass:l.BaseRequestOptions}),a.provide(d.ResponseOptions,{useClass:d.BaseResponseOptions}),a.provide(c.JSONPBackend,{useClass:c.JSONPBackend_})],t.JSON_BINDINGS=t.JSONP_PROVIDERS,n.define=s,r.exports});"format register";System.register("angular2/src/router/router_link_transform",["angular2/compiler","angular2/src/core/change_detection/parser/ast","angular2/src/facade/exceptions","angular2/core","angular2/src/core/change_detection/parser/parser"],!0,function(t,e,r){function n(t,e){var r=new y(t,e.trim()).tokenize();return new v(r).generate()}var o=System.global,a=o.define;o.define=void 0;var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},u=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=t("angular2/compiler"),l=t("angular2/src/core/change_detection/parser/ast"),p=t("angular2/src/facade/exceptions"),f=t("angular2/core"),h=t("angular2/src/core/change_detection/parser/parser"),g=function(){function t(t){this.value=t}return t}(),m=function(){function t(){}return t}(),d=function(){function t(){}return t}(),_=function(){function t(t){this.ast=t}return t}(),y=function(){function t(t,e){this.parser=t,this.exp=e,this.index=0}return t.prototype.tokenize=function(){for(var t=[];this.index<this.exp.length;)t.push(this._parseToken());return t},t.prototype._parseToken=function(){var t=this.exp[this.index];return"["==t?(this.index++,new m):"]"==t?(this.index++,new d):"("==t?this._parseParams():"/"==t&&0!==this.index?(this.index++,this._parseFixedPart()):this._parseFixedPart()},t.prototype._parseParams=function(){for(var t=this.index;this.index<this.exp.length;++this.index){var e=this.exp[this.index];if(")"==e){var r=this.exp.substring(t+1,this.index);return this.index++,new _(this.parser.parseBinding("{"+r+"}",null).ast)}}throw new p.BaseException("Cannot find ')'")},t.prototype._parseFixedPart=function(){for(var t=this.index,e=!1;this.index<this.exp.length;++this.index){var r=this.exp[this.index];if("("==r||"["==r||"]"==r||"/"==r&&e)break;"."!=r&&"/"!=r&&(e=!0)}var n=this.exp.substring(t,this.index);if(t===this.index||!e||n.startsWith("//"))throw new p.BaseException("Invalid router link");return new g(n)},t}(),v=function(){function t(t){this.tokens=t,this.index=0}return t.prototype.generate=function(){return this._genAuxiliary()},t.prototype._genAuxiliary=function(){for(var t=[];this.index<this.tokens.length;this.index++){var e=this.tokens[this.index];if(e instanceof g)t.push(new l.LiteralPrimitive(e.value));else if(e instanceof _)t.push(e.ast);else{if(e instanceof d)break;e instanceof m&&(this.index++,t.push(this._genAuxiliary()))}}return new l.LiteralArray(t)},t}(),R=function(t){function e(e){t.call(this),this.parser=e}return i(e,t),e.prototype.visitQuote=function(e){return"route"==e.prefix?n(this.parser,e.uninterpretedExpression):t.prototype.visitQuote.call(this,e)},e}(l.AstTransformer);e.parseRouterLinkExpression=n;var P=function(){function t(t){this.astTransformer=new R(t)}return t.prototype.visitNgContent=function(t,e){return t},t.prototype.visitEmbeddedTemplate=function(t,e){return t},t.prototype.visitElement=function(t,e){var r=this,n=t.children.map(function(t){return t.visit(r,e)}),o=t.inputs.map(function(t){return t.visit(r,e)}),a=t.directives.map(function(t){return t.visit(r,e)});return new c.ElementAst(t.name,t.attrs,o,t.outputs,t.exportAsVars,a,n,t.ngContentIndex,t.sourceSpan)},t.prototype.visitVariable=function(t,e){return t},t.prototype.visitEvent=function(t,e){return t},t.prototype.visitElementProperty=function(t,e){return t},t.prototype.visitAttr=function(t,e){return t},t.prototype.visitBoundText=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitDirective=function(t,e){var r=this,n=t.inputs.map(function(t){return t.visit(r,e)});return new c.DirectiveAst(t.directive,n,t.hostProperties,t.hostEvents,t.exportAsVars,t.sourceSpan)},t.prototype.visitDirectiveProperty=function(t,e){var r=t.value.visit(this.astTransformer);return new c.BoundDirectivePropertyAst(t.directiveName,t.templateName,r,t.sourceSpan)},t=s([f.Injectable(),u("design:paramtypes",[h.Parser])],t)}();return e.RouterLinkTransform=P,o.define=a,r.exports}),System.register("angular2/router/router_link_dsl",["angular2/compiler","angular2/core","angular2/src/router/router_link_transform","angular2/src/facade/lang","angular2/src/router/router_link_transform"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/compiler"),i=t("angular2/core"),s=t("angular2/src/router/router_link_transform"),u=t("angular2/src/facade/lang"),c=t("angular2/src/router/router_link_transform");return e.RouterLinkTransform=c.RouterLinkTransform,e.ROUTER_LINK_DSL_PROVIDER=u.CONST_EXPR(new i.Provider(a.TEMPLATE_TRANSFORMS,{useClass:s.RouterLinkTransform,multi:!0})),n.define=o,r.exports}),System.register("angular2/src/router/route_config_impl",["angular2/src/facade/lang"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=t("angular2/src/facade/lang"),u=function(){function t(t){this.configs=t}return t=a([s.CONST(),i("design:paramtypes",[Array])],t)}();e.RouteConfig=u;var c=function(){function t(t){var e=t.path,r=t.component,n=t.name,o=t.data,a=t.useAsDefault;this.aux=null,this.loader=null,this.redirectTo=null,this.path=e,this.component=r,this.name=n,this.data=o,this.useAsDefault=a}return t=a([s.CONST(),i("design:paramtypes",[Object])],t)}();e.Route=c;var l=function(){function t(t){var e=t.path,r=t.component,n=t.name;this.data=null,this.aux=null,this.loader=null,this.redirectTo=null,this.useAsDefault=!1,this.path=e,this.component=r,this.name=n}return t=a([s.CONST(),i("design:paramtypes",[Object])],t)}();e.AuxRoute=l;var p=function(){function t(t){var e=t.path,r=t.loader,n=t.name,o=t.data,a=t.useAsDefault;this.aux=null,this.path=e,this.loader=r,this.name=n,this.data=o,this.useAsDefault=a}return t=a([s.CONST(),i("design:paramtypes",[Object])],t)}();e.AsyncRoute=p;var f=function(){function t(t){var e=t.path,r=t.redirectTo;this.name=null,this.loader=null,this.data=null,this.aux=null,this.useAsDefault=!1,this.path=e,this.redirectTo=r}return t=a([s.CONST(),i("design:paramtypes",[Object])],t)}();return e.Redirect=f,n.define=o,r.exports}),System.register("angular2/src/router/instruction",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/async"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("angular2/src/facade/collection"),s=t("angular2/src/facade/lang"),u=t("angular2/src/facade/async"),c=function(){function t(t){this.params=t}return t.prototype.get=function(t){return s.normalizeBlank(i.StringMapWrapper.get(this.params,t))},t}();e.RouteParams=c;var l=function(){function t(t){void 0===t&&(t=s.CONST_EXPR({})),this.data=t}return t.prototype.get=function(t){return s.normalizeBlank(i.StringMapWrapper.get(this.data,t))},t}();e.RouteData=l,e.BLANK_ROUTE_DATA=new l;var p=function(){function t(t,e,r){this.component=t,this.child=e,this.auxInstruction=r}return Object.defineProperty(t.prototype,"urlPath",{get:function(){return s.isPresent(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return s.isPresent(this.component)?this.component.urlParams:[];
},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){var t="";return s.isPresent(this.component)&&(t+=this.component.specificity),s.isPresent(this.child)&&(t+=this.child.specificity),t},enumerable:!0,configurable:!0}),t.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},t.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(s.isPresent(this.child)?this.child._toNonRootUrl():"")},t.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},t.prototype.replaceChild=function(t){return new f(this.component,t,this.auxInstruction)},t.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(s.isPresent(this.child)?this.child._toNonRootUrl():"")},t.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(s.isPresent(this.child)?this.child._toLinkUrl():"")},t.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(s.isPresent(this.child)?this.child._toLinkUrl():"")},t.prototype._stringifyPathMatrixAuxPrefixed=function(){var t=this._stringifyPathMatrixAux();return t.length>0&&(t="/"+t),t},t.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},t.prototype._stringifyPathMatrixAux=function(){return s.isBlank(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},t.prototype._stringifyAux=function(){var t=[];return i.StringMapWrapper.forEach(this.auxInstruction,function(e,r){t.push(e._stringifyPathMatrixAux())}),t.length>0?"("+t.join("//")+")":""},t}();e.Instruction=p;var f=function(t){function e(e,r,n){t.call(this,e,r,n)}return a(e,t),e.prototype.resolveComponent=function(){return u.PromiseWrapper.resolve(this.component)},e}(p);e.ResolvedInstruction=f;var h=function(t){function e(e,r){t.call(this,e,r,{})}return a(e,t),e.prototype.resolveComponent=function(){return u.PromiseWrapper.resolve(this.component)},e.prototype.toLinkUrl=function(){return""},e.prototype._toLinkUrl=function(){return""},e}(p);e.DefaultInstruction=h;var g=function(t){function e(e,r,n){void 0===r&&(r=""),void 0===n&&(n=s.CONST_EXPR([])),t.call(this,null,null,{}),this._resolver=e,this._urlPath=r,this._urlParams=n}return a(e,t),Object.defineProperty(e.prototype,"urlPath",{get:function(){return s.isPresent(this.component)?this.component.urlPath:s.isPresent(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlParams",{get:function(){return s.isPresent(this.component)?this.component.urlParams:s.isPresent(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),e.prototype.resolveComponent=function(){var t=this;return s.isPresent(this.component)?u.PromiseWrapper.resolve(this.component):this._resolver().then(function(e){return t.child=e.child,t.component=e.component})},e}(p);e.UnresolvedInstruction=g;var m=function(t){function e(e,r,n,o){t.call(this,e,r,n),this._specificity=o}return a(e,t),Object.defineProperty(e.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),e}(f);e.RedirectInstruction=m;var d=function(){function t(t,r,n,o,a,i,u){void 0===u&&(u=null),this.urlPath=t,this.urlParams=r,this.componentType=o,this.terminal=a,this.specificity=i,this.params=u,this.reuse=!1,this.routeData=s.isPresent(n)?n:e.BLANK_ROUTE_DATA}return t}();return e.ComponentInstruction=d,n.define=o,r.exports}),System.register("angular2/src/router/url_parser",["angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions"],!0,function(t,e,r){function n(t){for(var e=new f(t[t.length-1]),r=t.length-2;r>=0;r-=1)e=new f(t[r],e);return e}function o(t){var e=l.RegExpWrapper.firstMatch(g,t);return l.isPresent(e)?e[0]:""}function a(t){var e=[];return l.isPresent(t)&&c.StringMapWrapper.forEach(t,function(t,r){1==t?e.push(r):e.push(r+"="+t)}),e}var i=System.global,s=i.define;i.define=void 0;var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=t("angular2/src/facade/collection"),l=t("angular2/src/facade/lang"),p=t("angular2/src/facade/exceptions"),f=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=l.CONST_EXPR([])),void 0===n&&(n=null),this.path=t,this.child=e,this.auxiliary=r,this.params=n}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){return l.isBlank(this.params)?"":";"+a(this.params).join(";")},t.prototype._childString=function(){return l.isPresent(this.child)?"/"+this.child.toString():""},t}();e.Url=f;var h=function(t){function e(e,r,n,o){void 0===r&&(r=null),void 0===n&&(n=l.CONST_EXPR([])),void 0===o&&(o=null),t.call(this,e,r,n,o)}return u(e,t),e.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},e.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},e.prototype._queryParamsToString=function(){return l.isBlank(this.params)?"":"?"+a(this.params).join("&")},e}(f);e.RootUrl=h,e.pathSegmentsToUrl=n;var g=l.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&#]+"),m=function(){function t(){}return t.prototype.peekStartsWith=function(t){return this._remaining.startsWith(t)},t.prototype.capture=function(t){if(!this._remaining.startsWith(t))throw new p.BaseException('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return this._remaining=t,""==t||"/"==t?new f(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=o(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var r=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment());var n=null;return this.peekStartsWith("?")&&(n=this.parseQueryParams()),new h(t,r,e,n)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=o(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var r=[];this.peekStartsWith("(")&&(r=this.parseAuxiliaryRoutes());var n=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment()),new f(t,n,r,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseParam(t);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=o(this._remaining);if(!l.isBlank(e)){this.capture(e);var r=!0;if(this.peekStartsWith("=")){this.capture("=");var n=o(this._remaining);l.isPresent(n)&&(r=n,this.capture(r))}t[e]=r}},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();return e.UrlParser=m,e.parser=new m,e.serializeParams=a,i.define=s,r.exports}),System.register("angular2/src/router/async_route_handler",["angular2/src/facade/lang","angular2/src/router/instruction"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/src/facade/lang"),i=t("angular2/src/router/instruction"),s=function(){function t(t,e){void 0===e&&(e=null),this._loader=t,this._resolvedComponent=null,this.data=a.isPresent(e)?new i.RouteData(e):i.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){var t=this;return a.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})},t}();return e.AsyncRouteHandler=s,n.define=o,r.exports}),System.register("angular2/src/router/sync_route_handler",["angular2/src/facade/async","angular2/src/facade/lang","angular2/src/router/instruction"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/src/facade/async"),i=t("angular2/src/facade/lang"),s=t("angular2/src/router/instruction"),u=function(){function t(t,e){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=a.PromiseWrapper.resolve(t),this.data=i.isPresent(e)?new s.RouteData(e):s.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();return e.SyncRouteHandler=u,n.define=o,r.exports}),System.register("angular2/src/router/route_config_decorator",["angular2/src/router/route_config_impl","angular2/src/core/util/decorators","angular2/src/router/route_config_impl"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/src/router/route_config_impl"),i=t("angular2/src/core/util/decorators"),s=t("angular2/src/router/route_config_impl");return e.Route=s.Route,e.Redirect=s.Redirect,e.AuxRoute=s.AuxRoute,e.AsyncRoute=s.AsyncRoute,e.RouteConfig=i.makeDecorator(a.RouteConfig),n.define=o,r.exports}),System.register("angular2/src/router/location_strategy",["angular2/src/facade/lang","angular2/core"],!0,function(t,e,r){function n(t){return t.length>0&&"?"!=t.substring(0,1)?"?"+t:t}function o(t,e){if(0==t.length)return e;if(0==e.length)return t;var r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e}var a=System.global,i=a.define;a.define=void 0;var s=t("angular2/src/facade/lang"),u=t("angular2/core"),c=function(){function t(){}return t}();return e.LocationStrategy=c,e.APP_BASE_HREF=s.CONST_EXPR(new u.OpaqueToken("appBaseHref")),e.normalizeQueryParams=n,e.joinWithSlash=o,a.define=i,r.exports}),System.register("angular2/src/router/lifecycle_annotations_impl",["angular2/src/facade/lang"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=t("angular2/src/facade/lang"),u=function(){function t(t){this.name=t}return t=a([s.CONST(),i("design:paramtypes",[String])],t)}();e.RouteLifecycleHook=u;var c=function(){function t(t){this.fn=t}return t=a([s.CONST(),i("design:paramtypes",[Function])],t)}();return e.CanActivate=c,e.routerCanReuse=s.CONST_EXPR(new u("routerCanReuse")),e.routerCanDeactivate=s.CONST_EXPR(new u("routerCanDeactivate")),e.routerOnActivate=s.CONST_EXPR(new u("routerOnActivate")),e.routerOnReuse=s.CONST_EXPR(new u("routerOnReuse")),e.routerOnDeactivate=s.CONST_EXPR(new u("routerOnDeactivate")),n.define=o,r.exports}),System.register("angular2/src/router/lifecycle_annotations",["angular2/src/core/util/decorators","angular2/src/router/lifecycle_annotations_impl","angular2/src/router/lifecycle_annotations_impl"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/src/core/util/decorators"),i=t("angular2/src/router/lifecycle_annotations_impl"),s=t("angular2/src/router/lifecycle_annotations_impl");return e.routerCanReuse=s.routerCanReuse,e.routerCanDeactivate=s.routerCanDeactivate,e.routerOnActivate=s.routerOnActivate,e.routerOnReuse=s.routerOnReuse,e.routerOnDeactivate=s.routerOnDeactivate,e.CanActivate=a.makeDecorator(i.CanActivate),n.define=o,r.exports}),System.register("angular2/src/router/router_link",["angular2/core","angular2/src/facade/lang","angular2/src/router/router","angular2/src/router/location"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=t("angular2/core"),u=t("angular2/src/facade/lang"),c=t("angular2/src/router/router"),l=t("angular2/src/router/location"),p=function(){function t(t,e){var r=this;this._router=t,this._location=e,this._router.subscribe(function(t){return r._updateLink()})}return t.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var t=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(t)},Object.defineProperty(t.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"routeParams",{set:function(t){this._routeParams=t,this._updateLink()},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){return u.isString(this.target)&&"_self"!=this.target?!0:(this._router.navigateByInstruction(this._navigationInstruction),!1)},t=a([s.Directive({selector:"[routerLink]",inputs:["routeParams: routerLink","target: target"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),i("design:paramtypes",[c.Router,l.Location])],t)}();return e.RouterLink=p,n.define=o,r.exports}),System.register("angular2/src/router/platform_location",[],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=function(){function t(){}return t}();return e.PlatformLocation=a,n.define=o,r.exports}),System.register("angular2/src/router/hash_location_strategy",["angular2/core","angular2/src/router/location_strategy","angular2/src/facade/lang","angular2/src/router/platform_location"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},s=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},u=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},c=t("angular2/core"),l=t("angular2/src/router/location_strategy"),p=t("angular2/src/facade/lang"),f=t("angular2/src/router/platform_location"),h=function(t){function e(e,r){t.call(this),this._platformLocation=e,this._baseHref="",p.isPresent(r)&&(this._baseHref=r)}return a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(){var t=this._platformLocation.hash;return(t.length>0?t.substring(1):t)+l.normalizeQueryParams(this._platformLocation.search)},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,r,n){var o=this.prepareExternalUrl(r+l.normalizeQueryParams(n));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,r,n){var o=this.prepareExternalUrl(r+l.normalizeQueryParams(n));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e=i([c.Injectable(),u(1,c.Optional()),u(1,c.Inject(l.APP_BASE_HREF)),s("design:paramtypes",[f.PlatformLocation,String])],e)}(l.LocationStrategy);return e.HashLocationStrategy=h,n.define=o,r.exports}),System.register("angular2/src/router/path_location_strategy",["angular2/core","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/router/location_strategy","angular2/src/router/platform_location"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},s=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},u=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},c=t("angular2/core"),l=t("angular2/src/facade/lang"),p=t("angular2/src/facade/exceptions"),f=t("angular2/src/router/location_strategy"),h=t("angular2/src/router/platform_location"),g=function(t){function e(e,r){if(t.call(this),this._platformLocation=e,l.isBlank(r)&&(r=this._platformLocation.getBaseHrefFromDOM()),l.isBlank(r))throw new p.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}return a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return f.joinWithSlash(this._baseHref,t)},e.prototype.path=function(){return this._platformLocation.pathname+f.normalizeQueryParams(this._platformLocation.search)},e.prototype.pushState=function(t,e,r,n){var o=this.prepareExternalUrl(r+f.normalizeQueryParams(n));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,r,n){var o=this.prepareExternalUrl(r+f.normalizeQueryParams(n));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e=i([c.Injectable(),u(1,c.Optional()),u(1,c.Inject(f.APP_BASE_HREF)),s("design:paramtypes",[h.PlatformLocation,String])],e)}(f.LocationStrategy);return e.PathLocationStrategy=g,n.define=o,r.exports}),System.register("angular2/src/router/route_definition",[],!0,function(t,e,r){var n=System.global,o=n.define;return n.define=void 0,n.define=o,r.exports}),System.register("angular2/src/router/router_providers_common",["angular2/src/router/location_strategy","angular2/src/router/path_location_strategy","angular2/src/router/router","angular2/src/router/route_registry","angular2/src/router/location","angular2/src/facade/lang","angular2/core","angular2/src/facade/exceptions"],!0,function(t,e,r){function n(t,e,r,n){var o=new c.RootRouter(t,e,r);return n.registerDisposeListener(function(){return o.dispose()}),o}function o(t){if(0==t.componentTypes.length)throw new g.BaseException("Bootstrap at least one component before injecting Router.");return t.componentTypes[0]}var a=System.global,i=a.define;a.define=void 0;var s=t("angular2/src/router/location_strategy"),u=t("angular2/src/router/path_location_strategy"),c=t("angular2/src/router/router"),l=t("angular2/src/router/route_registry"),p=t("angular2/src/router/location"),f=t("angular2/src/facade/lang"),h=t("angular2/core"),g=t("angular2/src/facade/exceptions");return e.ROUTER_PROVIDERS_COMMON=f.CONST_EXPR([l.RouteRegistry,f.CONST_EXPR(new h.Provider(s.LocationStrategy,{useClass:u.PathLocationStrategy})),p.Location,f.CONST_EXPR(new h.Provider(c.Router,{useFactory:n,deps:f.CONST_EXPR([l.RouteRegistry,p.Location,l.ROUTER_PRIMARY_COMPONENT,h.ApplicationRef])})),f.CONST_EXPR(new h.Provider(l.ROUTER_PRIMARY_COMPONENT,{useFactory:o,deps:f.CONST_EXPR([h.ApplicationRef])}))]),a.define=i,r.exports}),System.register("angular2/src/router/path_recognizer",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/router/url_parser"],!0,function(t,e,r){function n(t){return l.isBlank(t)?null:t.toString()}function o(t){t.startsWith("/")&&(t=t.substring(1));var e=i(t),r=[],n="";0==e.length&&(n+="2");for(var o=e.length-1,a=0;o>=a;a++){var s,u=e[a];if(l.isPresent(s=l.RegExpWrapper.firstMatch(v,u)))r.push(new _(s[1])),n+="1";else if(l.isPresent(s=l.RegExpWrapper.firstMatch(R,u)))r.push(new y(s[1])),n+="0";else if("..."==u){if(o>a)throw new p.BaseException('Unexpected "..." before the end of the path for "'+t+'".');r.push(new m)}else r.push(new d(u)),n+="2"}return{segments:r,specificity:n}}function a(t){return t.map(function(t){return t instanceof y?"*":t instanceof m?"...":t instanceof _?":":t instanceof d?t.path:void 0}).join("/")}function i(t){return t.split("/")}function s(t){if(l.StringWrapper.contains(t,"#"))throw new p.BaseException('Path "'+t+'" should not include "#". Use "HashLocationStrategy" instead.');var e=l.RegExpWrapper.firstMatch(P,t);if(l.isPresent(e))throw new p.BaseException('Path "'+t+'" contains "'+e[0]+'" which is not allowed in a route config.')}var u=System.global,c=u.define;u.define=void 0;var l=t("angular2/src/facade/lang"),p=t("angular2/src/facade/exceptions"),f=t("angular2/src/facade/collection"),h=t("angular2/src/router/url_parser"),g=function(){function t(t){var e=this;this.map={},this.keys={},l.isPresent(t)&&f.StringMapWrapper.forEach(t,function(t,r){e.map[r]=l.isPresent(t)?t.toString():null,e.keys[r]=!0})}return t.prototype.get=function(t){return f.StringMapWrapper["delete"](this.keys,t),this.map[t]},t.prototype.getUnused=function(){var t=this,e={},r=f.StringMapWrapper.keys(this.keys);return r.forEach(function(r){return e[r]=f.StringMapWrapper.get(t.map,r)}),e},t}(),m=function(){function t(){this.name=""}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),d=function(){function t(t){this.path=t,this.name=""}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),_=function(){function t(t){this.name=t}return t.prototype.match=function(t){return t.length>0},t.prototype.generate=function(t){if(!f.StringMapWrapper.contains(t.map,this.name))throw new p.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return n(t.get(this.name))},t}(),y=function(){function t(t){this.name=t}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return n(t.get(this.name))},t}(),v=/^:([^\/]+)$/g,R=/^\*([^\/]+)$/g,P=l.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),x=function(){function t(t){this.path=t,this.terminal=!0,s(t);var e=o(t);this._segments=e.segments,this.specificity=e.specificity,this.hash=a(this._segments);var r=this._segments[this._segments.length-1];this.terminal=!(r instanceof m)}return t.prototype.recognize=function(t){for(var e,r=t,n={},o=[],a=0;a<this._segments.length;a+=1){var i=this._segments[a];if(e=r,i instanceof m)break;if(l.isPresent(e)){if(o.push(e.path),i instanceof y){n[i.name]=e.toString(),r=null;break}if(i instanceof _)n[i.name]=e.path;else if(!i.match(e.path))return null;r=e.child}else if(!i.match(""))return null}if(this.terminal&&l.isPresent(r))return null;var s,u,c,p=o.join("/");if(l.isPresent(e)){var g=t instanceof h.RootUrl?t:e;c=l.isPresent(g.params)?f.StringMapWrapper.merge(g.params,n):n,u=h.serializeParams(g.params),s=e.auxiliary}else c=n,s=[],u=[];return{urlPath:p,urlParams:u,allParams:c,auxiliary:s,nextSegment:r}},t.prototype.generate=function(t){for(var e=new g(t),r=[],n=0;n<this._segments.length;n++){var o=this._segments[n];o instanceof m||r.push(o.generate(e))}var a=r.join("/"),i=e.getUnused(),s=h.serializeParams(i);return{urlPath:a,urlParams:s}},t}();return e.PathRecognizer=x,u.define=c,r.exports}),System.register("angular2/src/router/component_recognizer",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/collection","angular2/src/facade/async","angular2/src/router/route_recognizer","angular2/src/router/route_config_impl","angular2/src/router/async_route_handler","angular2/src/router/sync_route_handler"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/src/facade/lang"),i=t("angular2/src/facade/exceptions"),s=t("angular2/src/facade/collection"),u=t("angular2/src/facade/async"),c=t("angular2/src/router/route_recognizer"),l=t("angular2/src/router/route_config_impl"),p=t("angular2/src/router/async_route_handler"),f=t("angular2/src/router/sync_route_handler"),h=function(){function t(){this.names=new s.Map,this.auxNames=new s.Map,this.auxRoutes=new s.Map,this.matchers=[],this.defaultRoute=null}return t.prototype.config=function(t){var e;if(a.isPresent(t.name)&&t.name[0].toUpperCase()!=t.name[0]){var r=t.name[0].toUpperCase()+t.name.substring(1);throw new i.BaseException('Route "'+t.path+'" with name "'+t.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+r+'".')}if(t instanceof l.AuxRoute){e=new f.SyncRouteHandler(t.component,t.data);var n=t.path.startsWith("/")?t.path.substring(1):t.path,o=new c.RouteRecognizer(t.path,e);return this.auxRoutes.set(n,o),a.isPresent(t.name)&&this.auxNames.set(t.name,o),o.terminal}var s=!1;if(t instanceof l.Redirect){var u=new c.RedirectRecognizer(t.path,t.redirectTo);return this._assertNoHashCollision(u.hash,t.path),this.matchers.push(u),!0}t instanceof l.Route?(e=new f.SyncRouteHandler(t.component,t.data),s=a.isPresent(t.useAsDefault)&&t.useAsDefault):t instanceof l.AsyncRoute&&(e=new p.AsyncRouteHandler(t.loader,t.data),s=a.isPresent(t.useAsDefault)&&t.useAsDefault);var o=new c.RouteRecognizer(t.path,e);if(this._assertNoHashCollision(o.hash,t.path),s){if(a.isPresent(this.defaultRoute))throw new i.BaseException("Only one route can be default");this.defaultRoute=o}return this.matchers.push(o),a.isPresent(t.name)&&this.names.set(t.name,o),o.terminal},t.prototype._assertNoHashCollision=function(t,e){this.matchers.forEach(function(r){if(t==r.hash)throw new i.BaseException("Configuration '"+e+"' conflicts with existing route '"+r.path+"'")})},t.prototype.recognize=function(t){var e=[];return this.matchers.forEach(function(r){var n=r.recognize(t);a.isPresent(n)&&e.push(n)}),0==e.length&&a.isPresent(t)&&t.auxiliary.length>0?[u.PromiseWrapper.resolve(new c.PathMatch(null,null,t.auxiliary))]:e},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRoutes.get(t.path);return a.isPresent(e)?[e.recognize(t)]:[u.PromiseWrapper.resolve(null)]},t.prototype.hasRoute=function(t){return this.names.has(t)},t.prototype.componentLoaded=function(t){return this.hasRoute(t)&&a.isPresent(this.names.get(t).handler.componentType)},t.prototype.loadComponent=function(t){return this.names.get(t).handler.resolveComponentType()},t.prototype.generate=function(t,e){var r=this.names.get(t);return a.isBlank(r)?null:r.generate(e)},t.prototype.generateAuxiliary=function(t,e){var r=this.auxNames.get(t);return a.isBlank(r)?null:r.generate(e)},t}();return e.ComponentRecognizer=h,n.define=o,r.exports}),System.register("angular2/src/router/route_config_nomalizer",["angular2/src/router/route_config_decorator","angular2/src/facade/lang","angular2/src/facade/exceptions"],!0,function(t,e,r){function n(t,e){if(t instanceof u.AsyncRoute){var r=o(t.loader,e);return new u.AsyncRoute({path:t.path,loader:r,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t instanceof u.Route||t instanceof u.Redirect||t instanceof u.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new l.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.as&&t.name)throw new l.BaseException('Route config should contain exactly one "as" or "name" property.');if(t.as&&(t.name=t.as),t.loader){var r=o(t.loader,e);return new u.AsyncRoute({path:t.path,loader:r,name:t.name,useAsDefault:t.useAsDefault})}if(t.aux)return new u.AuxRoute({path:t.aux,component:t.component,name:t.name});if(t.component){if("object"==typeof t.component){var n=t.component;if("constructor"==n.type)return new u.Route({path:t.path,component:n.constructor,name:t.name,data:t.data,useAsDefault:t.useAsDefault});if("loader"==n.type)return new u.AsyncRoute({path:t.path,loader:n.loader,name:t.name,useAsDefault:t.useAsDefault});throw new l.BaseException('Invalid component type "'+n.type+'". Valid types are "constructor" and "loader".')}return new u.Route(t)}return t.redirectTo?new u.Redirect({path:t.path,redirectTo:t.redirectTo}):t}function o(t,e){return function(){return t().then(function(t){return e.configFromComponent(t),t})}}function a(t,e){if(!c.isType(t))throw new l.BaseException('Component for route "'+e+'" is not defined, or is not a class.')}var i=System.global,s=i.define;i.define=void 0;var u=t("angular2/src/router/route_config_decorator"),c=t("angular2/src/facade/lang"),l=t("angular2/src/facade/exceptions");return e.normalizeRouteConfig=n,e.assertComponentExists=a,i.define=s,r.exports}),System.register("angular2/src/router/location",["angular2/src/router/location_strategy","angular2/src/facade/async","angular2/core"],!0,function(t,e,r){function n(t,e){return t.length>0&&e.startsWith(t)?e.substring(t.length):e}function o(t){return/\/index.html$/g.test(t)?t.substring(0,t.length-11):t}function a(t){return/\/$/g.test(t)&&(t=t.substring(0,t.length-1)),t}var i=System.global,s=i.define;i.define=void 0;var u=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},c=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},l=t("angular2/src/router/location_strategy"),p=t("angular2/src/facade/async"),f=t("angular2/core"),h=function(){function t(t){var e=this;this.platformStrategy=t,this._subject=new p.EventEmitter;var r=this.platformStrategy.getBaseHref();this._baseHref=a(o(r)),this.platformStrategy.onPopState(function(t){p.ObservableWrapper.callEmit(e._subject,{url:e.path(),pop:!0,type:t.type})})}return t.prototype.path=function(){return this.normalize(this.platformStrategy.path())},t.prototype.normalize=function(t){return a(n(this._baseHref,o(t)))},t.prototype.prepareExternalUrl=function(t){return t.length>0&&!t.startsWith("/")&&(t="/"+t),this.platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this.platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this.platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this.platformStrategy.forward()},t.prototype.back=function(){this.platformStrategy.back()},t.prototype.subscribe=function(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=null),p.ObservableWrapper.subscribe(this._subject,t,e,r)},t=u([f.Injectable(),c("design:paramtypes",[l.LocationStrategy])],t);
}();return e.Location=h,i.define=s,r.exports}),System.register("angular2/src/router/route_lifecycle_reflector",["angular2/src/facade/lang","angular2/src/router/lifecycle_annotations_impl","angular2/src/core/reflection/reflection"],!0,function(t,e,r){function n(t,e){return e instanceof s.Type?t.name in e.prototype:!1}function o(t){for(var e=c.reflector.annotations(t),r=0;r<e.length;r+=1){var n=e[r];if(n instanceof u.CanActivate)return n.fn}return null}var a=System.global,i=a.define;a.define=void 0;var s=t("angular2/src/facade/lang"),u=t("angular2/src/router/lifecycle_annotations_impl"),c=t("angular2/src/core/reflection/reflection");return e.hasLifecycleHook=n,e.getCanActivateHook=o,a.define=i,r.exports}),System.register("angular2/src/router/router_outlet",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/core","angular2/src/router/router","angular2/src/router/instruction","angular2/src/router/lifecycle_annotations","angular2/src/router/route_lifecycle_reflector"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},u=t("angular2/src/facade/async"),c=t("angular2/src/facade/collection"),l=t("angular2/src/facade/lang"),p=t("angular2/src/facade/exceptions"),f=t("angular2/core"),h=t("angular2/src/router/router"),g=t("angular2/src/router/instruction"),m=t("angular2/src/router/lifecycle_annotations"),d=t("angular2/src/router/route_lifecycle_reflector"),_=u.PromiseWrapper.resolve(!0),y=function(){function t(t,e,r,n){this._elementRef=t,this._loader=e,this._parentRouter=r,this.name=null,this._componentRef=null,this._currentInstruction=null,l.isPresent(n)?(this.name=n,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return t.prototype.activate=function(t){var e=this,r=this._currentInstruction;this._currentInstruction=t;var n=t.componentType,o=this._parentRouter.childRouter(n),a=f.Injector.resolve([f.provide(g.RouteData,{useValue:t.routeData}),f.provide(g.RouteParams,{useValue:new g.RouteParams(t.params)}),f.provide(h.Router,{useValue:o})]);return this._loader.loadNextToLocation(n,this._elementRef,a).then(function(o){return e._componentRef=o,d.hasLifecycleHook(m.routerOnActivate,n)?e._componentRef.instance.routerOnActivate(t,r):void 0})},t.prototype.reuse=function(t){var e=this._currentInstruction;if(this._currentInstruction=t,l.isBlank(this._componentRef))throw new p.BaseException("Cannot reuse an outlet that does not contain a component.");return u.PromiseWrapper.resolve(d.hasLifecycleHook(m.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.instance.routerOnReuse(t,e):!0)},t.prototype.deactivate=function(t){var e=this,r=_;return l.isPresent(this._componentRef)&&l.isPresent(this._currentInstruction)&&d.hasLifecycleHook(m.routerOnDeactivate,this._currentInstruction.componentType)&&(r=u.PromiseWrapper.resolve(this._componentRef.instance.routerOnDeactivate(t,this._currentInstruction))),r.then(function(t){l.isPresent(e._componentRef)&&(e._componentRef.dispose(),e._componentRef=null)})},t.prototype.routerCanDeactivate=function(t){return l.isBlank(this._currentInstruction)?_:d.hasLifecycleHook(m.routerCanDeactivate,this._currentInstruction.componentType)?u.PromiseWrapper.resolve(this._componentRef.instance.routerCanDeactivate(t,this._currentInstruction)):_},t.prototype.routerCanReuse=function(t){var e;return e=l.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=t.componentType?!1:d.hasLifecycleHook(m.routerCanReuse,this._currentInstruction.componentType)?this._componentRef.instance.routerCanReuse(t,this._currentInstruction):t==this._currentInstruction||l.isPresent(t.params)&&l.isPresent(this._currentInstruction.params)&&c.StringMapWrapper.equals(t.params,this._currentInstruction.params),u.PromiseWrapper.resolve(e)},t=a([f.Directive({selector:"router-outlet"}),s(3,f.Attribute("name")),i("design:paramtypes",[f.ElementRef,f.DynamicComponentLoader,h.Router,String])],t)}();return e.RouterOutlet=y,n.define=o,r.exports}),System.register("angular2/src/router/browser_platform_location",["angular2/core","angular2/src/router/platform_location","angular2/src/platform/dom/dom_adapter"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},s=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},u=t("angular2/core"),c=t("angular2/src/router/platform_location"),l=t("angular2/src/platform/dom/dom_adapter"),p=function(t){function e(){t.call(this),this._init()}return a(e,t),e.prototype._init=function(){this._location=l.DOM.getLocation(),this._history=l.DOM.getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return l.DOM.getBaseHref()},e.prototype.onPopState=function(t){l.DOM.getGlobalEventTarget("window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){l.DOM.getGlobalEventTarget("window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,r){this._history.pushState(t,e,r)},e.prototype.replaceState=function(t,e,r){this._history.replaceState(t,e,r)},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e=i([u.Injectable(),s("design:paramtypes",[])],e)}(c.PlatformLocation);return e.BrowserPlatformLocation=p,n.define=o,r.exports}),System.register("angular2/src/router/route_recognizer",["angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/facade/promise","angular2/src/facade/collection","angular2/src/router/instruction","angular2/src/router/path_recognizer"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("angular2/src/facade/lang"),s=t("angular2/src/facade/exceptions"),u=t("angular2/src/facade/promise"),c=t("angular2/src/facade/collection"),l=t("angular2/src/router/instruction"),p=t("angular2/src/router/path_recognizer"),f=function(){function t(){}return t}();e.RouteMatch=f;var h=function(t){function e(e,r,n){t.call(this),this.instruction=e,this.remaining=r,this.remainingAux=n}return a(e,t),e}(f);e.PathMatch=h;var g=function(t){function e(e,r){t.call(this),this.redirectTo=e,this.specificity=r}return a(e,t),e}(f);e.RedirectMatch=g;var m=function(){function t(t,e){this.path=t,this.redirectTo=e,this._pathRecognizer=new p.PathRecognizer(t),this.hash=this._pathRecognizer.hash}return t.prototype.recognize=function(t){var e=null;return i.isPresent(this._pathRecognizer.recognize(t))&&(e=new g(this.redirectTo,this._pathRecognizer.specificity)),u.PromiseWrapper.resolve(e)},t.prototype.generate=function(t){throw new s.BaseException("Tried to generate a redirect.")},t}();e.RedirectRecognizer=m;var d=function(){function t(t,e){this.path=t,this.handler=e,this.terminal=!0,this._cache=new c.Map,this._pathRecognizer=new p.PathRecognizer(t),this.specificity=this._pathRecognizer.specificity,this.hash=this._pathRecognizer.hash,this.terminal=this._pathRecognizer.terminal}return t.prototype.recognize=function(t){var e=this,r=this._pathRecognizer.recognize(t);return i.isBlank(r)?null:this.handler.resolveComponentType().then(function(t){var n=e._getInstruction(r.urlPath,r.urlParams,r.allParams);return new h(n,r.nextSegment,r.auxiliary)})},t.prototype.generate=function(t){var e=this._pathRecognizer.generate(t),r=e.urlPath,n=e.urlParams;return this._getInstruction(r,n,t)},t.prototype.generateComponentPathValues=function(t){return this._pathRecognizer.generate(t)},t.prototype._getInstruction=function(t,e,r){if(i.isBlank(this.handler.componentType))throw new s.BaseException("Tried to get instruction before the type was loaded.");var n=t+"?"+e.join("?");if(this._cache.has(n))return this._cache.get(n);var o=new l.ComponentInstruction(t,e,this.handler.data,this.handler.componentType,this.terminal,this.specificity,r);return this._cache.set(n,o),o},t}();return e.RouteRecognizer=d,n.define=o,r.exports}),System.register("angular2/src/router/router_providers",["angular2/router","angular2/core","angular2/src/facade/lang","angular2/src/router/browser_platform_location","angular2/src/router/platform_location"],!0,function(t,e,r){var n=System.global,o=n.define;n.define=void 0;var a=t("angular2/router"),i=t("angular2/core"),s=t("angular2/src/facade/lang"),u=t("angular2/src/router/browser_platform_location"),c=t("angular2/src/router/platform_location");return e.ROUTER_PROVIDERS=s.CONST_EXPR([a.ROUTER_PROVIDERS_COMMON,s.CONST_EXPR(new i.Provider(c.PlatformLocation,{useClass:u.BrowserPlatformLocation}))]),e.ROUTER_BINDINGS=e.ROUTER_PROVIDERS,n.define=o,r.exports}),System.register("angular2/src/router/route_registry",["angular2/src/facade/collection","angular2/src/facade/async","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/src/core/reflection/reflection","angular2/core","angular2/src/router/route_config_impl","angular2/src/router/route_recognizer","angular2/src/router/component_recognizer","angular2/src/router/instruction","angular2/src/router/route_config_nomalizer","angular2/src/router/url_parser"],!0,function(t,e,r){function n(t){return t.reduce(function(t,e){if(g.isString(e)){var r=e;return t.concat(r.split("/"))}return t.push(e),t},[])}function o(t){if(t=t.filter(function(t){return g.isPresent(t)}),0==t.length)return null;if(1==t.length)return t[0];var e=t[0],r=t.slice(1);return r.reduce(function(t,e){return-1==a(e.specificity,t.specificity)?e:t},e)}function a(t,e){for(var r=g.Math.min(t.length,e.length),n=0;r>n;n+=1){var o=g.StringWrapper.charCodeAt(t,n),a=g.StringWrapper.charCodeAt(e,n),i=a-o;if(0!=i)return i}return t.length-e.length}function i(t,e){if(g.isType(t)){var r=d.reflector.annotations(t);if(g.isPresent(r))for(var n=0;n<r.length;n++){var o=r[n];if(o instanceof y.RouteConfig)throw new m.BaseException('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}var s=System.global,u=s.define;s.define=void 0;var c=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},l=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},p=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},f=t("angular2/src/facade/collection"),h=t("angular2/src/facade/async"),g=t("angular2/src/facade/lang"),m=t("angular2/src/facade/exceptions"),d=t("angular2/src/core/reflection/reflection"),_=t("angular2/core"),y=t("angular2/src/router/route_config_impl"),v=t("angular2/src/router/route_recognizer"),R=t("angular2/src/router/component_recognizer"),P=t("angular2/src/router/instruction"),x=t("angular2/src/router/route_config_nomalizer"),S=t("angular2/src/router/url_parser"),b=h.PromiseWrapper.resolve(null);e.ROUTER_PRIMARY_COMPONENT=g.CONST_EXPR(new _.OpaqueToken("RouterPrimaryComponent"));var O=function(){function t(t){this._rootComponent=t,this._rules=new f.Map}return t.prototype.config=function(t,e){e=x.normalizeRouteConfig(e,this),e instanceof y.Route?x.assertComponentExists(e.component,e.path):e instanceof y.AuxRoute&&x.assertComponentExists(e.component,e.path);var r=this._rules.get(t);g.isBlank(r)&&(r=new R.ComponentRecognizer,this._rules.set(t,r));var n=r.config(e);e instanceof y.Route&&(n?i(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(t){var e=this;if(g.isType(t)&&!this._rules.has(t)){var r=d.reflector.annotations(t);if(g.isPresent(r))for(var n=0;n<r.length;n++){var o=r[n];if(o instanceof y.RouteConfig){var a=o.configs;a.forEach(function(r){return e.config(t,r)})}}}},t.prototype.recognize=function(t,e){var r=S.parser.parse(t);return this._recognize(r,[])},t.prototype._recognize=function(t,e,r){var n=this;void 0===r&&(r=!1);var a=f.ListWrapper.last(e),i=g.isPresent(a)?a.component.componentType:this._rootComponent,s=this._rules.get(i);if(g.isBlank(s))return b;var u=r?s.recognizeAuxiliary(t):s.recognize(t),c=u.map(function(t){return t.then(function(t){if(t instanceof v.PathMatch){var r=e.length>0?[f.ListWrapper.last(e)]:[],o=n._auxRoutesToUnresolved(t.remainingAux,r),a=new P.ResolvedInstruction(t.instruction,null,o);if(g.isBlank(t.instruction)||t.instruction.terminal)return a;var i=e.concat([a]);return n._recognize(t.remaining,i).then(function(t){return g.isBlank(t)?null:t instanceof P.RedirectInstruction?t:(a.child=t,a)})}if(t instanceof v.RedirectMatch){var a=n.generate(t.redirectTo,e.concat([null]));return new P.RedirectInstruction(a.component,a.child,a.auxInstruction,t.specificity)}})});return!g.isBlank(t)&&""!=t.path||0!=u.length?h.PromiseWrapper.all(c).then(o):h.PromiseWrapper.resolve(this.generateDefault(i))},t.prototype._auxRoutesToUnresolved=function(t,e){var r=this,n={};return t.forEach(function(t){n[t.path]=new P.UnresolvedInstruction(function(){return r._recognize(t,e,!0)})}),n},t.prototype.generate=function(t,e,r){void 0===r&&(r=!1);var o,a=n(t);if(""==f.ListWrapper.first(a))a.shift(),o=f.ListWrapper.first(e),e=[];else if(o=e.length>0?e.pop():null,"."==f.ListWrapper.first(a))a.shift();else if(".."==f.ListWrapper.first(a))for(;".."==f.ListWrapper.first(a);){if(e.length<=0)throw new m.BaseException('Link "'+f.ListWrapper.toJSON(t)+'" has too many "../" segments.');o=e.pop(),a=f.ListWrapper.slice(a,1)}else{var i=f.ListWrapper.first(a),s=this._rootComponent,u=null;if(e.length>1){var c=e[e.length-1],l=e[e.length-2];s=c.component.componentType,u=l.component.componentType}else 1==e.length&&(s=e[0].component.componentType,u=this._rootComponent);var p=this.hasRoute(i,s),h=g.isPresent(u)&&this.hasRoute(i,u);if(h&&p){var d='Link "'+f.ListWrapper.toJSON(t)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new m.BaseException(d)}h&&(o=e.pop())}if(""==a[a.length-1]&&a.pop(),a.length>0&&""==a[0]&&a.shift(),a.length<1){var d='Link "'+f.ListWrapper.toJSON(t)+'" must include a route name.';throw new m.BaseException(d)}for(var _=this._generate(a,e,o,r,t),y=e.length-1;y>=0;y--){var v=e[y];if(g.isBlank(v))break;_=v.replaceChild(_)}return _},t.prototype._generate=function(t,e,r,n,o){var a=this;void 0===n&&(n=!1);var i=this._rootComponent,s=null,u={},c=f.ListWrapper.last(e);if(g.isPresent(c)&&g.isPresent(c.component)&&(i=c.component.componentType),0==t.length){var l=this.generateDefault(i);if(g.isBlank(l))throw new m.BaseException('Link "'+f.ListWrapper.toJSON(o)+'" does not resolve to a terminal instruction.');return l}g.isPresent(r)&&!n&&(u=f.StringMapWrapper.merge(r.auxInstruction,u),s=r.component);var p=this._rules.get(i);if(g.isBlank(p))throw new m.BaseException('Component "'+g.getTypeNameForDebugging(i)+'" has no route config.');var h=0,d={};if(h<t.length&&g.isString(t[h])){var _=t[h];if(""==_||"."==_||".."==_)throw new m.BaseException('"'+_+'/" is only allowed at the beginning of a link DSL.');if(h+=1,h<t.length){var y=t[h];g.isStringMap(y)&&!g.isArray(y)&&(d=y,h+=1)}var v=(n?p.auxNames:p.names).get(_);if(g.isBlank(v))throw new m.BaseException('Component "'+g.getTypeNameForDebugging(i)+'" has no route named "'+_+'".');if(g.isBlank(v.handler.componentType)){var R=v.generateComponentPathValues(d);return new P.UnresolvedInstruction(function(){return v.handler.resolveComponentType().then(function(i){return a._generate(t,e,r,n,o)})},R.urlPath,R.urlParams)}s=n?p.generateAuxiliary(_,d):p.generate(_,d)}for(;h<t.length&&g.isArray(t[h]);){var x=[c],S=this._generate(t[h],x,null,!0,o);u[S.component.urlPath]=S,h+=1}var b=new P.ResolvedInstruction(s,null,u);if(g.isPresent(s)&&g.isPresent(s.componentType)){var O=null;if(s.terminal)h>=t.length;else{var w=e.concat([b]),E=t.slice(h);O=this._generate(E,w,null,!1,o)}b.child=O}return b},t.prototype.hasRoute=function(t,e){var r=this._rules.get(e);return g.isBlank(r)?!1:r.hasRoute(t)},t.prototype.generateDefault=function(t){var e=this;if(g.isBlank(t))return null;var r=this._rules.get(t);if(g.isBlank(r)||g.isBlank(r.defaultRoute))return null;var n=null;if(g.isPresent(r.defaultRoute.handler.componentType)){var o=r.defaultRoute.generate({});return r.defaultRoute.terminal||(n=this.generateDefault(r.defaultRoute.handler.componentType)),new P.DefaultInstruction(o,n)}return new P.UnresolvedInstruction(function(){return r.defaultRoute.handler.resolveComponentType().then(function(r){return e.generateDefault(t)})})},t=c([_.Injectable(),p(0,_.Inject(e.ROUTER_PRIMARY_COMPONENT)),l("design:paramtypes",[g.Type])],t)}();return e.RouteRegistry=O,s.define=u,r.exports}),System.register("angular2/src/router/router",["angular2/src/facade/async","angular2/src/facade/collection","angular2/src/facade/lang","angular2/src/facade/exceptions","angular2/core","angular2/src/router/route_registry","angular2/src/router/location","angular2/src/router/route_lifecycle_reflector"],!0,function(t,e,r){function n(t,e){var r=y;return f.isBlank(t.component)?r:(f.isPresent(t.child)&&(r=n(t.child,f.isPresent(e)?e.child:null)),r.then(function(r){if(0==r)return!1;if(t.component.reuse)return!0;var n=_.getCanActivateHook(t.component.componentType);return f.isPresent(n)?n(t.component,f.isPresent(e)?e.component:null):!0}))}var o=System.global,a=o.define;o.define=void 0;var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=this&&this.__decorate||function(t,e,r,n){var o,a=arguments.length,i=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(3>a?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i},u=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},c=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}},l=t("angular2/src/facade/async"),p=t("angular2/src/facade/collection"),f=t("angular2/src/facade/lang"),h=t("angular2/src/facade/exceptions"),g=t("angular2/core"),m=t("angular2/src/router/route_registry"),d=t("angular2/src/router/location"),_=t("angular2/src/router/route_lifecycle_reflector"),y=l.PromiseWrapper.resolve(!0),v=l.PromiseWrapper.resolve(!1),R=function(){function t(t,e,r){this.registry=t,this.parent=e,this.hostComponent=r,this.navigating=!1,this._currentInstruction=null,this._currentNavigation=y,this._outlet=null,this._auxRouters=new p.Map,this._subject=new l.EventEmitter}return t.prototype.childRouter=function(t){return this._childRouter=new x(this,t)},t.prototype.auxRouter=function(t){return new x(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(f.isPresent(t.name))throw new h.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");return this._outlet=t,f.isPresent(this._currentInstruction)?this.commit(this._currentInstruction,!1):y},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(f.isBlank(e))throw new h.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var r=this.auxRouter(this.hostComponent);this._auxRouters.set(e,r),r._outlet=t;var n;return f.isPresent(this._currentInstruction)&&f.isPresent(n=this._currentInstruction.auxInstruction[e])?r.commit(n):y},t.prototype.isRouteActive=function(t){for(var e=this;f.isPresent(e.parent)&&f.isPresent(t.child);)e=e.parent,t=t.child;return f.isPresent(this._currentInstruction)&&this._currentInstruction.component==t.component},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(t,e){var r=this;return void 0===e&&(e=!1),this._currentNavigation=this._currentNavigation.then(function(n){return r.lastNavigationAttempt=t,r._startNavigating(),r._afterPromiseFinishNavigating(r.recognize(t).then(function(t){return f.isBlank(t)?!1:r._navigate(t,e)}))})},t.prototype.navigateByInstruction=function(t,e){var r=this;return void 0===e&&(e=!1),f.isBlank(t)?v:this._currentNavigation=this._currentNavigation.then(function(n){return r._startNavigating(),r._afterPromiseFinishNavigating(r._navigate(t,e))})},t.prototype._navigate=function(t,e){var r=this;return this._settleInstruction(t).then(function(e){return r._routerCanReuse(t)}).then(function(e){return r._canActivate(t)}).then(function(n){return n?r._routerCanDeactivate(t).then(function(n){return n?r.commit(t,e).then(function(e){return r._emitNavigationFinish(t.toRootUrl()),!0}):void 0}):!1})},t.prototype._settleInstruction=function(t){var e=this;return t.resolveComponent().then(function(r){var n=[];return f.isPresent(t.component)&&(t.component.reuse=!1),f.isPresent(t.child)&&n.push(e._settleInstruction(t.child)),p.StringMapWrapper.forEach(t.auxInstruction,function(t,r){n.push(e._settleInstruction(t))}),l.PromiseWrapper.all(n)})},t.prototype._emitNavigationFinish=function(t){l.ObservableWrapper.callEmit(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return l.PromiseWrapper.catchError(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._routerCanReuse=function(t){var e=this;return f.isBlank(this._outlet)?v:f.isBlank(t.component)?y:this._outlet.routerCanReuse(t.component).then(function(r){return t.component.reuse=r,r&&f.isPresent(e._childRouter)&&f.isPresent(t.child)?e._childRouter._routerCanReuse(t.child):void 0})},t.prototype._canActivate=function(t){return n(t,this._currentInstruction)},t.prototype._routerCanDeactivate=function(t){var e=this;if(f.isBlank(this._outlet))return y;var r,n=null,o=!1,a=null;return f.isPresent(t)&&(n=t.child,a=t.component,o=f.isBlank(t.component)||t.component.reuse),r=o?y:this._outlet.routerCanDeactivate(a),r.then(function(t){return 0==t?!1:f.isPresent(e._childRouter)?e._childRouter._routerCanDeactivate(n):!0})},t.prototype.commit=function(t,e){var r=this;void 0===e&&(e=!1),this._currentInstruction=t;var n=y;if(f.isPresent(this._outlet)&&f.isPresent(t.component)){var o=t.component;n=o.reuse?this._outlet.reuse(o):this.deactivate(t).then(function(t){return r._outlet.activate(o)}),f.isPresent(t.child)&&(n=n.then(function(e){return f.isPresent(r._childRouter)?r._childRouter.commit(t.child):void 0}))}var a=[];return this._auxRouters.forEach(function(e,r){f.isPresent(t.auxInstruction[r])&&a.push(e.commit(t.auxInstruction[r]))}),n.then(function(t){return l.PromiseWrapper.all(a)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t){return l.ObservableWrapper.subscribe(this._subject,t)},t.prototype.deactivate=function(t){var e=this,r=null,n=null;f.isPresent(t)&&(r=t.child,n=t.component);var o=y;return f.isPresent(this._childRouter)&&(o=this._childRouter.deactivate(r)),f.isPresent(this._outlet)&&(o=o.then(function(t){return e._outlet.deactivate(n)})),o},t.prototype.recognize=function(t){var e=this._getAncestorInstructions();return this.registry.recognize(t,e)},t.prototype._getAncestorInstructions=function(){for(var t=[this._currentInstruction],e=this;f.isPresent(e=e.parent);)t.unshift(e._currentInstruction);return t},t.prototype.renavigate=function(){return f.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},t.prototype.generate=function(t){var e=this._getAncestorInstructions();return this.registry.generate(t,e)},t}();e.Router=R;var P=function(t){function e(e,r,n){var o=this;t.call(this,e,null,n),this._location=r,this._locationSub=this._location.subscribe(function(t){o.recognize(t.url).then(function(e){o.navigateByInstruction(e,f.isPresent(t.pop)).then(function(r){if(!f.isPresent(t.pop)||"hashchange"==t.type){var n=e.toUrlPath(),a=e.toUrlQuery();n.length>0&&(n="/"+n),"hashchange"==t.type?e.toRootUrl()!=o._location.path()&&o._location.replaceState(n,a):o._location.go(n,a)}})})}),this.registry.configFromComponent(n),this.navigateByUrl(r.path())}return i(e,t),e.prototype.commit=function(e,r){var n=this;void 0===r&&(r=!1);var o=e.toUrlPath(),a=e.toUrlQuery();o.length>0&&(o="/"+o);var i=t.prototype.commit.call(this,e);return r||(i=i.then(function(t){n._location.go(o,a)})),i},e.prototype.dispose=function(){f.isPresent(this._locationSub)&&(l.ObservableWrapper.dispose(this._locationSub),this._locationSub=null)},e=s([g.Injectable(),c(2,g.Inject(m.ROUTER_PRIMARY_COMPONENT)),u("design:paramtypes",[m.RouteRegistry,d.Location,f.Type])],e)}(R);e.RootRouter=P;var x=function(t){function e(e,r){t.call(this,e.registry,e,r),this.parent=e}return i(e,t),e.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},e.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},e}(R);return o.define=a,r.exports}),System.register("angular2/router",["angular2/src/router/router","angular2/src/router/router_outlet","angular2/src/router/router_link","angular2/src/router/instruction","angular2/src/router/platform_location","angular2/src/router/route_registry","angular2/src/router/location_strategy","angular2/src/router/hash_location_strategy","angular2/src/router/path_location_strategy","angular2/src/router/location","angular2/src/router/route_config_decorator","angular2/src/router/route_definition","angular2/src/router/lifecycle_annotations","angular2/src/router/instruction","angular2/core","angular2/src/router/router_providers_common","angular2/src/router/router_providers","angular2/src/router/router_outlet","angular2/src/router/router_link","angular2/src/facade/lang"],!0,function(t,e,r){function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}var o=System.global,a=o.define;o.define=void 0;var i=t("angular2/src/router/router");e.Router=i.Router;var s=t("angular2/src/router/router_outlet");e.RouterOutlet=s.RouterOutlet;var u=t("angular2/src/router/router_link");e.RouterLink=u.RouterLink;var c=t("angular2/src/router/instruction");e.RouteParams=c.RouteParams,e.RouteData=c.RouteData;var l=t("angular2/src/router/platform_location");e.PlatformLocation=l.PlatformLocation;var p=t("angular2/src/router/route_registry");e.RouteRegistry=p.RouteRegistry,e.ROUTER_PRIMARY_COMPONENT=p.ROUTER_PRIMARY_COMPONENT;var f=t("angular2/src/router/location_strategy");e.LocationStrategy=f.LocationStrategy,e.APP_BASE_HREF=f.APP_BASE_HREF;var h=t("angular2/src/router/hash_location_strategy");e.HashLocationStrategy=h.HashLocationStrategy;var g=t("angular2/src/router/path_location_strategy");e.PathLocationStrategy=g.PathLocationStrategy;var m=t("angular2/src/router/location");e.Location=m.Location,n(t("angular2/src/router/route_config_decorator")),n(t("angular2/src/router/route_definition"));var d=t("angular2/src/router/lifecycle_annotations");e.CanActivate=d.CanActivate;var _=t("angular2/src/router/instruction");e.Instruction=_.Instruction,e.ComponentInstruction=_.ComponentInstruction;var y=t("angular2/core");e.OpaqueToken=y.OpaqueToken;var v=t("angular2/src/router/router_providers_common");e.ROUTER_PROVIDERS_COMMON=v.ROUTER_PROVIDERS_COMMON;var R=t("angular2/src/router/router_providers");e.ROUTER_PROVIDERS=R.ROUTER_PROVIDERS,e.ROUTER_BINDINGS=R.ROUTER_BINDINGS;var P=t("angular2/src/router/router_outlet"),x=t("angular2/src/router/router_link"),S=t("angular2/src/facade/lang");return e.ROUTER_DIRECTIVES=S.CONST_EXPR([P.RouterOutlet,x.RouterLink]),o.define=a,r.exports});